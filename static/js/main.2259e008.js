/*! For license information please see main.2259e008.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},6998:function(e,t,n){"use strict";var r=n(2458),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,a,s,u,l,c=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),s=document.createRange(),u=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),u.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(h){n&&console.error("unable to copy using execCommand: ",h),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(s):u.removeAllRanges()),l&&document.body.removeChild(l),a()}return c}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=f(n,m);try{l(t,m,y)}catch(x){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case v:case u:return e;default:return t}}case i:return t}}}function k(e){return w(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return k(e)||w(e)===c},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(9102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),f=!n&&!c&&!h&&u(e),d=n||c||h||f,p=d?r(e.length,String):[],v=p.length;for(var g in e)!t&&!l.call(e,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),u=n(3629),l=n(5174),c=n(9102),h="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,m){var y=u(e),x=u(t),b=y?f:s(e),w=x?f:s(t),k=(b=b==h?d:b)==d,E=(w=w==h?d:w)==d,_=b==w;if(_&&l(e)){if(!l(t))return!1;y=!0,k=!1}if(_&&!k)return m||(m=new r),y||c(e)?i(e,t,n,v,g,m):o(e,t,b,n,v,g,m);if(!(1&n)){var T=k&&p.call(e,"__wrapped__"),A=E&&p.call(t,"__wrapped__");if(T||A){var S=T?e.value():e,C=A?t.value():t;return m||(m=new r),g(S,C,n,v,m)}}return!!_&&(m||(m=new r),a(e,t,n,v,g,m))}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,h=t.length;if(c!=h&&!(l&&h>c))return!1;var f=u.get(e),d=u.get(t);if(f&&d)return f==t&&d==e;var p=-1,v=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var m=e[p],y=t[p];if(a)var x=l?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==x){if(x)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(m===e||s(m,e,n,a,u)))return g.push(t)}))){v=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),u=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,h,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var v=f.get(e);if(v)return v==t;r|=2,f.set(e,t);var g=a(d(e),d(t),r,l,h,f);return f.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var h=c;h--;){var f=l[h];if(!(u?f in t:i.call(t,f)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++h<c;){var m=e[f=l[h]],y=t[f];if(o)var x=u?o(y,m,f,t,e,s):o(m,y,f,e,t,s);if(!(void 0===x?m===y||a(m,y,n,o,s):x)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",v=l(r),g=l(i),m=l(o),y=l(a),x=l(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=c||o&&b(o.resolve())!=h||a&&b(new a)!=f||s&&b(new s)!=d)&&(b=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case g:return c;case m:return h;case y:return f;case x:return d}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,h,f,d,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=l;return u=l=void 0,p=t,h=e.apply(r,n)}function x(e){return p=e,f=setTimeout(w,t),v?y(e):h}function b(e){var n=e-d;return void 0===d||n>=t||n<0||g&&e-p>=c}function w(){var e=i();if(b(e))return k(e);f=setTimeout(w,function(e){var n=t-(e-d);return g?s(n,c-(e-p)):n}(e))}function k(e){return f=void 0,m&&u?y(e):(u=l=void 0,h)}function E(){var e=i(),n=b(e);if(u=arguments,l=this,d=e,n){if(void 0===f)return x(d);if(g)return clearTimeout(f),f=setTimeout(w,t),y(d)}return void 0===f&&(f=setTimeout(w,t)),h}return t=o(t)||0,r(n)&&(v=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=d=l=f=void 0},E.flush=function(){return void 0===f?h:k(i())},E}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,h=128,f=256,d=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",f]],y="[object Arguments]",x="[object Array]",b="[object Boolean]",w="[object Date]",k="[object Error]",E="[object Function]",_="[object GeneratorFunction]",T="[object Map]",A="[object Number]",S="[object Object]",C="[object Promise]",I="[object RegExp]",P="[object Set]",O="[object String]",R="[object Symbol]",M="[object WeakMap]",D="[object ArrayBuffer]",L="[object DataView]",N="[object Float32Array]",F="[object Float64Array]",B="[object Int8Array]",U="[object Int16Array]",z="[object Int32Array]",V="[object Uint8Array]",j="[object Uint8ClampedArray]",Y="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,$=RegExp(q.source),Q=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,xe=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Oe="[\\ud800-\\udfff]",Re="["+Ie+"]",Me="["+_e+"]",De="\\d+",Le="[\\u2700-\\u27bf]",Ne="["+Ae+"]",Fe="[^\\ud800-\\udfff"+Ie+De+Te+Ae+Se+"]",Be="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+Se+"]",Ye="(?:"+Ne+"|"+Fe+")",We="(?:"+je+"|"+Fe+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",He="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Me+"|"+Be+")"+"?",qe="[\\ufe0e\\ufe0f]?",Ke=qe+Xe+("(?:\\u200d(?:"+[Ue,ze,Ve].join("|")+")"+qe+Xe+")*"),$e="(?:"+[Le,ze,Ve].join("|")+")"+Ke,Qe="(?:"+[Ue+Me+"?",Me,ze,Ve,Oe].join("|")+")",Je=RegExp(Pe,"g"),Ze=RegExp(Me,"g"),et=RegExp(Be+"(?="+Be+")|"+Qe+Ke,"g"),tt=RegExp([je+"?"+Ne+"+"+Ge+"(?="+[Re,je,"$"].join("|")+")",We+"+"+He+"(?="+[Re,je+Ye,"$"].join("|")+")",je+"?"+Ye+"+"+Ge,je+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,$e].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+_e+Ce+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[N]=at[F]=at[B]=at[U]=at[z]=at[V]=at[j]=at[Y]=at[W]=!0,at[y]=at[x]=at[D]=at[b]=at[L]=at[w]=at[k]=at[E]=at[T]=at[A]=at[S]=at[I]=at[P]=at[O]=at[M]=!1;var st={};st[y]=st[x]=st[D]=st[L]=st[b]=st[w]=st[N]=st[F]=st[B]=st[U]=st[z]=st[T]=st[A]=st[S]=st[I]=st[P]=st[O]=st[R]=st[V]=st[j]=st[Y]=st[W]=!0,st[k]=st[E]=st[M]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,dt=ht||ft||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,gt=vt&&vt.exports===pt,mt=gt&&ht.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),xt=yt&&yt.isArrayBuffer,bt=yt&&yt.isDate,wt=yt&&yt.isMap,kt=yt&&yt.isRegExp,Et=yt&&yt.isSet,_t=yt&&yt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Lt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Gt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Yt,n)}function jt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Yt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?qt(e,t)/n:v}function Gt(e){return function(t){return null==t?i:t[e]}}function Ht(e){return function(t){return null==e?i:e[t]}}function Xt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function $t(e){return e?e.slice(0,vn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function Jt(e,t){return Mt(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Ht({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Bt(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?dt:mn.defaults(dt.Object(),t,mn.pick(dt,it))).Array,r=t.Date,se=t.Error,_e=t.Function,Te=t.Math,Ae=t.Object,Se=t.RegExp,Ce=t.String,Ie=t.TypeError,Pe=n.prototype,Oe=_e.prototype,Re=Ae.prototype,Me=t["__core-js_shared__"],De=Oe.toString,Le=Re.hasOwnProperty,Ne=0,Fe=function(){var e=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Be=Re.toString,Ue=De.call(Ae),ze=dt._,Ve=Se("^"+De.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=gt?t.Buffer:i,Ye=t.Symbol,We=t.Uint8Array,Ge=je?je.allocUnsafe:i,He=ln(Ae.getPrototypeOf,Ae),Xe=Ae.create,qe=Re.propertyIsEnumerable,Ke=Pe.splice,$e=Ye?Ye.isConcatSpreadable:i,Qe=Ye?Ye.iterator:i,et=Ye?Ye.toStringTag:i,nt=function(){try{var e=fo(Ae,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ht=r&&r.now!==dt.Date.now&&r.now,ft=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Te.ceil,vt=Te.floor,mt=Ae.getOwnPropertySymbols,yt=je?je.isBuffer:i,Bt=t.isFinite,Ht=Pe.join,yn=ln(Ae.keys,Ae),xn=Te.max,bn=Te.min,wn=r.now,kn=t.parseInt,En=Te.random,_n=Pe.reverse,Tn=fo(t,"DataView"),An=fo(t,"Map"),Sn=fo(t,"Promise"),Cn=fo(t,"Set"),In=fo(t,"WeakMap"),Pn=fo(Ae,"create"),On=In&&new In,Rn={},Mn=zo(Tn),Dn=zo(An),Ln=zo(Sn),Nn=zo(Cn),Fn=zo(In),Bn=Ye?Ye.prototype:i,Un=Bn?Bn.valueOf:i,zn=Bn?Bn.toString:i;function Vn(e){if(rs(e)&&!Ha(e)&&!(e instanceof Gn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Vo(e)}return new Wn(e)}var jn=function(){function e(){}return function(t){if(!ns(t))return{};if(Xe)return Xe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Yn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Xn(e);this.size=t.size}function Qn(e,t){var n=Ha(e),r=!n&&Ga(e),i=!n&&!r&&$a(e),o=!n&&!r&&!i&&hs(e),a=n||r||i||o,s=a?Kt(e.length,Ce):[],u=s.length;for(var l in e)!t&&!Le.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||s.push(l);return s}function Jn(e){var t=e.length;return t?e[Kr(0,t-1)]:i}function Zn(e,t){return Fo(Pi(e),ur(t,0,e.length))}function er(e){return Fo(Pi(e))}function tr(e,t,n){(n!==i&&!ja(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&ja(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(ja(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Oi(t,Ms(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Cs(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var h=Ha(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Pi(e,s)}else{var f=go(e),d=f==E||f==_;if($a(e))return _i(e,u);if(f==S||f==y||d&&!o){if(s=l||d?{}:yo(e),!u)return l?function(e,t){return Oi(e,vo(e),t)}(e,function(e,t){return e&&Oi(t,Ds(t),e)}(s,e)):function(e,t){return Oi(e,po(e),t)}(e,or(s,e))}else{if(!st[f])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return Ti(e);case b:case w:return new r(+e);case L:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case F:case B:case U:case z:case V:case j:case Y:case W:return Ai(e,n);case T:return new r;case A:case O:return new r(e);case I:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new r;case R:return i=e,Un?Ae(Un.call(i)):{}}var i}(e,f,u)}}a||(a=new $n);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,a))}));var v=h?i:(c?l?oo:io:l?Ds:Ms)(e);return St(v||e,(function(r,i){v&&(r=e[i=r]),nr(s,i,lr(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ae(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function hr(e,t,n){if("function"!=typeof e)throw new Ie(o);return Mo((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,o=Ot,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Mt(t,Qt(n))),r?(o=Rt,a=!1):t.length>=200&&(o=Zt,a=!1,t=new Kn(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(t[f]===h)continue e;u.push(c)}else o(t,h,r)||u.push(c)}return u}Vn.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Vn}},Vn.prototype=Yn.prototype,Vn.prototype.constructor=Vn,Wn.prototype=jn(Yn.prototype),Wn.prototype.constructor=Wn,Gn.prototype=jn(Yn.prototype),Gn.prototype.constructor=Gn,Hn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===i?a:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Xn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Xn.prototype.has=function(e){return rr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(An||Xn),string:new Hn}},qn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return co(this,e).get(e)},qn.prototype.has=function(e){return co(this,e).has(e)},qn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,a),this},Kn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Xn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!An||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var dr=Di(wr),pr=Di(kr,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!cs(s):n(s,u)))var u=s,l=a}return l}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=xo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var xr=Li(),br=Li(!0);function wr(e,t){return e&&xr(e,t,Ms)}function kr(e,t){return e&&br(e,t,Ms)}function Er(e,t){return Pt(t,(function(t){return Za(e[t])}))}function _r(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function Tr(e,t,n){var r=t(e);return Ha(e)?r:Dt(r,n(e))}function Ar(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ae(e)?function(e){var t=Le.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=Be.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Be.call(e)}(e)}function Sr(e,t){return e>t}function Cr(e,t){return null!=e&&Le.call(e,t)}function Ir(e,t){return null!=e&&t in Ae(e)}function Pr(e,t,r){for(var o=r?Rt:Ot,a=e[0].length,s=e.length,u=s,l=n(s),c=1/0,h=[];u--;){var f=e[u];u&&t&&(f=Mt(f,Qt(t))),c=bn(f.length,c),l[u]=!r&&(t||a>=120&&f.length>=120)?new Kn(u&&f):i}f=e[0];var d=-1,p=l[0];e:for(;++d<a&&h.length<c;){var v=f[d],g=t?t(v):v;if(v=r||0!==v?v:0,!(p?Zt(p,g):o(h,g,r))){for(u=s;--u;){var m=l[u];if(!(m?Zt(m,g):o(e[u],g,r)))continue e}p&&p.push(g),h.push(v)}}return h}function Or(e,t,n){var r=null==(e=Io(e,t=bi(t,e)))?e:e[Uo(Jo(t))];return null==r?i:Tt(r,e,n)}function Rr(e){return rs(e)&&Ar(e)==y}function Mr(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Ha(e),u=Ha(t),l=s?x:go(e),c=u?x:go(t),h=(l=l==y?S:l)==S,f=(c=c==y?S:c)==S,d=l==c;if(d&&$a(e)){if(!$a(t))return!1;s=!0,h=!1}if(d&&!h)return a||(a=new $n),s||hs(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case b:case w:case A:return ja(+e,+t);case k:return e.name==t.name&&e.message==t.message;case I:case O:return e==t+"";case T:var s=un;case P:var u=1&r;if(s||(s=hn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,l,n,r,o,a);if(!(1&n)){var p=h&&Le.call(e,"__wrapped__"),v=f&&Le.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,m=v?t.value():t;return a||(a=new $n),o(g,m,n,r,a)}}if(!d)return!1;return a||(a=new $n),function(e,t,n,r,o,a){var s=1&n,u=io(e),l=u.length,c=io(t).length;if(l!=c&&!s)return!1;var h=l;for(;h--;){var f=u[h];if(!(s?f in t:Le.call(t,f)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);var g=s;for(;++h<l;){var m=e[f=u[h]],y=t[f];if(r)var x=s?r(y,m,f,t,e,a):r(m,y,f,e,t,a);if(!(x===i?m===y||o(m,y,n,r,a):x)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,n,r,o,a)}(e,t,n,r,Mr,o))}function Dr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ae(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=n[o])[0],c=e[l],h=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var f=new $n;if(r)var d=r(c,h,l,e,t,f);if(!(d===i?Mr(h,c,3,r,f):d))return!1}}return!0}function Lr(e){return!(!ns(e)||(t=e,Fe&&Fe in t))&&(Za(e)?Ve:ye).test(zo(e));var t}function Nr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Ha(e)?jr(e[0],e[1]):Vr(e):pu(e)}function Fr(e){if(!To(e))return yn(e);var t=[];for(var n in Ae(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=To(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function zr(e,t){var r=-1,i=qa(e)?n(e.length):[];return dr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Vr(e){var t=ho(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function jr(e,t){return ko(e)&&Ao(t)?So(Uo(e),t):function(n){var r=Cs(n,e);return r===i&&r===t?Is(n,e):Mr(t,r,3)}}function Yr(e,t,n,r,o){e!==t&&xr(t,(function(a,s){if(o||(o=new $n),ns(a))!function(e,t,n,r,o,a,s){var u=Oo(e,n),l=Oo(t,n),c=s.get(l);if(c)return void tr(e,n,c);var h=a?a(u,l,n+"",e,t,s):i,f=h===i;if(f){var d=Ha(l),p=!d&&$a(l),v=!d&&!p&&hs(l);h=l,d||p||v?Ha(u)?h=u:Ka(u)?h=Pi(u):p?(f=!1,h=_i(l,!0)):v?(f=!1,h=Ai(l,!0)):h=[]:as(l)||Ga(l)?(h=u,Ga(u)?h=xs(u):ns(u)&&!Za(u)||(h=yo(l))):f=!1}f&&(s.set(l,h),o(h,l,r,a,s),s.delete(l));tr(e,n,h)}(e,t,s,n,Yr,r,o);else{var u=r?r(Oo(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Ds)}function Wr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function Gr(e,t,n){t=t.length?Mt(t,(function(e){return Ha(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Mt(t,Qt(lo()));var i=zr(e,(function(e,n,i){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Si(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=_r(e,a);n(s,a)&&ei(o,bi(a,e),s)}return o}function Xr(e,t,n,r){var i=r?jt:Vt,o=-1,a=t.length,s=e;for(e===t&&(t=Pi(t)),n&&(s=Mt(e,Qt(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Kr(e,t){return e+vt(En()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Do(Co(e,t,ou),e+"")}function Jr(e){return Jn(js(e))}function Zr(e,t){var n=js(e);return Fo(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=Uo(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var h=u[l];(c=r?r(h,l,u):i)===i&&(c=ns(h)?h:bo(t[o+1])?[]:{})}nr(u,l,c),u=u[l]}return e}var ti=On?function(e,t){return On.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return Fo(js(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,l=cs(t),c=t===i;o<a;){var h=vt((o+a)/2),f=n(e[h]),d=f!==i,p=null===f,v=f===f,g=cs(f);if(s)var m=r||v;else m=c?v&&(r||d):u?v&&d&&(r||!p):l?v&&d&&!p&&(r||!g):!p&&!g&&(r?f<=t:f<t);m?o=h+1:a=h}return bn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!ja(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(e){return"number"==typeof e?e:cs(e)?v:+e}function ci(e){if("string"==typeof e)return e;if(Ha(e))return Mt(e,ci)+"";if(cs(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function hi(e,t,n){var r=-1,i=Ot,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Rt;else if(o>=200){var l=t?null:$i(e);if(l)return hn(l);a=!1,i=Zt,u=new Kn}else u=t?[]:s;e:for(;++r<o;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function fi(e,t){return null==(e=Io(e,t=bi(t,e)))||delete e[Uo(Jo(t))]}function di(e,t,n,r){return ei(e,t,n(_r(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?hi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=fr(a[o]||s,e[u],t,r));return hi(yr(a,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function yi(e){return Ka(e)?e:[]}function xi(e){return"function"==typeof e?e:ou}function bi(e,t){return Ha(e)?e:ko(e,t)?[e]:Bo(bs(e))}var wi=Qr;function ki(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Ei=ut||function(e){return dt.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ai(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=cs(e),s=t!==i,u=null===t,l=t===t,c=cs(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&e<t||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}function Ci(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,l=t.length,c=xn(a-s,0),h=n(l+c),f=!i;++u<l;)h[u]=t[u];for(;++o<s;)(f||o<a)&&(h[r[o]]=e[o]);for(;c--;)h[u++]=e[o++];return h}function Ii(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,l=-1,c=t.length,h=xn(a-u,0),f=n(h+c),d=!i;++o<h;)f[o]=e[o];for(var p=o;++l<c;)f[p+l]=t[l];for(;++s<u;)(d||o<a)&&(f[p+r[s]]=e[o++]);return f}function Pi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):i;l===i&&(l=e[u]),o?ar(n,u,l):nr(n,u,l)}return n}function Ri(e,t){return function(n,r){var i=Ha(n)?At:ir,o=t?t():{};return i(n,e,lo(r,2),o)}}function Mi(e){return Qr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ae(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ae(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Ae(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Ni(e){return function(t){var n=sn(t=bs(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?ki(n,1).join(""):t.slice(1);return r[e]()+o}}function Fi(e){return function(t){return Lt(Zs(Gs(t).replace(Je,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Ui(e){return function(t,n,r){var o=Ae(t);if(!qa(t)){var a=lo(n,3);t=Ms(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function zi(e){return ro((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ie(o);if(a&&!u&&"wrapper"==so(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var l=so(s=t[r]),c="wrapper"==l?ao(s):i;u=c&&Eo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==s.length&&Eo(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ha(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Vi(e,t,r,o,a,s,u,l,c,f){var d=t&h,p=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Bi(e);return function i(){for(var h=arguments.length,x=n(h),b=h;b--;)x[b]=arguments[b];if(g)var w=uo(i),k=nn(x,w);if(o&&(x=Ci(x,o,a,g)),s&&(x=Ii(x,s,u,g)),h-=k,g&&h<f){var E=cn(x,w);return qi(e,t,Vi,i.placeholder,r,x,E,l,c,f-h)}var _=p?r:this,T=v?_[e]:e;return h=x.length,l?x=Po(x,l):m&&h>1&&x.reverse(),d&&c<h&&(x.length=c),this&&this!==dt&&this instanceof i&&(T=y||Bi(T)),T.apply(_,x)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Yi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Wi(e){return ro((function(t){return t=Mt(t,Qt(lo())),Qr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Gi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,pt(e/dn(t)));return sn(t)?ki(pn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=vs(t),r===i?(r=t,t=0):r=vs(r),function(e,t,r,i){for(var o=-1,a=xn(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:vs(o),e)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function qi(e,t,n,r,o,a,s,u,h,f){var d=8&t;t|=d?l:c,4&(t&=~(d?c:l))||(t&=-4);var p=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,u,h,f],v=n.apply(i,p);return Eo(e)&&Ro(v,p),v.placeholder=r,Lo(v,e,t)}function Ki(e){var t=Te[e];return function(e,n){if(e=ys(e),(n=null==n?0:bn(gs(n),292))&&Bt(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $i=Cn&&1/hn(new Cn([,-0]))[1]==d?function(e){return new Cn(e)}:cu;function Qi(e){return function(t){var n=go(t);return n==T?un(t):n==P?fn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,a,d,p,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Ie(o);var y=a?a.length:0;if(y||(t&=-97,a=d=i),v=v===i?v:xn(gs(v),0),g=g===i?g:gs(g),y-=d?d.length:0,t&c){var x=a,b=d;a=d=i}var w=m?i:ao(e),k=[e,t,r,a,d,x,b,p,v,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==h&&8==n||r==h&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ci(l,u,t[4]):u,e[4]=l?cn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ii(l,u,t[6]):u,e[6]=l?cn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&h&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(k,w),e=k[0],t=k[1],r=k[2],a=k[3],d=k[4],!(g=k[9]=k[9]===i?m?0:e.length:xn(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==u?function(e,t,r){var o=Bi(e);return function a(){for(var s=arguments.length,u=n(s),l=s,c=uo(a);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:cn(u,c);return(s-=h.length)<r?qi(e,t,Vi,a.placeholder,i,u,h,i,i,r-s):Tt(this&&this!==dt&&this instanceof a?o:e,this,u)}}(e,t,g):t!=l&&33!=t||d.length?Vi.apply(i,k):function(e,t,r,i){var o=1&t,a=Bi(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==dt&&this instanceof t?a:e;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return Tt(f,o?r:this,h)}}(e,t,r,a);else var E=function(e,t,n){var r=1&t,i=Bi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Lo((w?ti:Ro)(E,k),e,t)}function Zi(e,t,n,r){return e===i||ja(e,Re[n])&&!Le.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Yr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),h=a.get(t);if(c&&h)return c==t&&h==e;var f=-1,d=!0,p=2&n?new Kn:i;for(a.set(e,t),a.set(t,e);++f<u;){var v=e[f],g=t[f];if(r)var m=s?r(g,v,f,t,e,a):r(v,g,f,e,t,a);if(m!==i){if(m)continue;d=!1;break}if(p){if(!Ft(t,(function(e,t){if(!Zt(p,t)&&(v===e||o(v,e,n,r,a)))return p.push(t)}))){d=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ro(e){return Do(Co(e,i,Xo),e+"")}function io(e){return Tr(e,Ms,po)}function oo(e){return Tr(e,Ds,vo)}var ao=On?function(e){return On.get(e)}:cu;function so(e){for(var t=e.name+"",n=Rn[t],r=Le.call(Rn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Le.call(Vn,"placeholder")?Vn:e).placeholder}function lo(){var e=Vn.iteratee||au;return e=e===au?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ho(e){for(var t=Ms(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ao(i)]}return t}function fo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var po=mt?function(e){return null==e?[]:(e=Ae(e),Pt(mt(e),(function(t){return qe.call(e,t)})))}:mu,vo=mt?function(e){for(var t=[];e;)Dt(t,po(e)),e=He(e);return t}:mu,go=Ar;function mo(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&bo(a,i)&&(Ha(e)||Ga(e))}function yo(e){return"function"!=typeof e.constructor||To(e)?{}:jn(He(e))}function xo(e){return Ha(e)||Ga(e)||!!($e&&e&&e[$e])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&bo(t,n.length):"string"==r&&t in n)&&ja(n[t],e)}function ko(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ae(t))}function Eo(e){var t=so(e),n=Vn[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Tn&&go(new Tn(new ArrayBuffer(1)))!=L||An&&go(new An)!=T||Sn&&go(Sn.resolve())!=C||Cn&&go(new Cn)!=P||In&&go(new In)!=M)&&(go=function(e){var t=Ar(e),n=t==S?e.constructor:i,r=n?zo(n):"";if(r)switch(r){case Mn:return L;case Dn:return T;case Ln:return C;case Nn:return P;case Fn:return M}return t});var _o=Me?Za:yu;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Ao(e){return e===e&&!ns(e)}function So(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ae(n)))}}function Co(e,t,r){return t=xn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=xn(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Tt(e,this,u)}}function Io(e,t){return t.length<2?e:_r(e,ii(t,0,-1))}function Po(e,t){for(var n=e.length,r=bn(t.length,n),o=Pi(e);r--;){var a=t[r];e[r]=bo(a,n)?o[a]:i}return e}function Oo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ro=No(ti),Mo=ft||function(e,t){return dt.setTimeout(e,t)},Do=No(ni);function Lo(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return St(m,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function No(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Fo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Kr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Bo=function(e){var t=Na(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Uo(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zo(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof Gn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=Qr((function(e,t){return Ka(e)?fr(e,yr(t,1,Ka,!0)):[]})),Yo=Qr((function(e,t){var n=Jo(t);return Ka(n)&&(n=i),Ka(e)?fr(e,yr(t,1,Ka,!0),lo(n,2)):[]})),Wo=Qr((function(e,t){var n=Jo(t);return Ka(n)&&(n=i),Ka(e)?fr(e,yr(t,1,Ka,!0),i,n):[]}));function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=xn(r+i,0)),zt(e,lo(t,3),i)}function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?xn(r+o,0):bn(o,r-1)),zt(e,lo(t,3),o,!0)}function Xo(e){return(null==e?0:e.length)?yr(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Ko=Qr((function(e){var t=Mt(e,yi);return t.length&&t[0]===e[0]?Pr(t):[]})),$o=Qr((function(e){var t=Jo(e),n=Mt(e,yi);return t===Jo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Pr(n,lo(t,2)):[]})),Qo=Qr((function(e){var t=Jo(e),n=Mt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Zo=Qr(ea);function ea(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return qr(e,Mt(t,(function(e){return bo(e,n)?+e:e})).sort(Si)),r}));function na(e){return null==e?e:_n.call(e)}var ra=Qr((function(e){return hi(yr(e,1,Ka,!0))})),ia=Qr((function(e){var t=Jo(e);return Ka(t)&&(t=i),hi(yr(e,1,Ka,!0),lo(t,2))})),oa=Qr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,hi(yr(e,1,Ka,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Ka(e))return t=xn(e.length,t),!0})),Kt(t,(function(t){return Mt(e,Gt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Mt(n,(function(e){return Tt(t,i,e)}))}var ua=Qr((function(e,t){return Ka(e)?fr(e,t):[]})),la=Qr((function(e){return gi(Pt(e,Ka))})),ca=Qr((function(e){var t=Jo(e);return Ka(t)&&(t=i),gi(Pt(e,Ka),lo(t,2))})),ha=Qr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,gi(Pt(e,Ka),i,t)})),fa=Qr(aa);var da=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Vn(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ga=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Ri((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Ui(Go),xa=Ui(Ho);function ba(e,t){return(Ha(e)?St:dr)(e,lo(t,3))}function wa(e,t){return(Ha(e)?Ct:pr)(e,lo(t,3))}var ka=Ri((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ea=Qr((function(e,t,r){var i=-1,o="function"==typeof t,a=qa(e)?n(e.length):[];return dr(e,(function(e){a[++i]=o?Tt(t,e,r):Or(e,t,r)})),a})),_a=Ri((function(e,t,n){ar(e,n,t)}));function Ta(e,t){return(Ha(e)?Mt:zr)(e,lo(t,3))}var Aa=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Sa=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,yr(t,1),[])})),Ca=ht||function(){return dt.Date.now()};function Ia(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,h,i,i,i,i,t)}function Pa(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Oa=Qr((function(e,t,n){var r=1;if(n.length){var i=cn(n,uo(Oa));r|=l}return Ji(e,r,t,n,i)})),Ra=Qr((function(e,t,n){var r=3;if(n.length){var i=cn(n,uo(Ra));r|=l}return Ji(t,r,e,n,i)}));function Ma(e,t,n){var r,a,s,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ie(o);function v(t){var n=r,o=a;return r=a=i,h=t,u=e.apply(o,n)}function g(e){return h=e,l=Mo(y,t),f?v(e):u}function m(e){var n=e-c;return c===i||n>=t||n<0||d&&e-h>=s}function y(){var e=Ca();if(m(e))return x(e);l=Mo(y,function(e){var n=t-(e-c);return d?bn(n,s-(e-h)):n}(e))}function x(e){return l=i,p&&r?v(e):(r=a=i,u)}function b(){var e=Ca(),n=m(e);if(r=arguments,a=this,c=e,n){if(l===i)return g(c);if(d)return Ei(l),l=Mo(y,t),v(c)}return l===i&&(l=Mo(y,t)),u}return t=ys(t)||0,ns(n)&&(f=!!n.leading,s=(d="maxWait"in n)?xn(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&Ei(l),h=0,r=c=a=l=i},b.flush=function(){return l===i?u:x(Ca())},b}var Da=Qr((function(e,t){return hr(e,1,t)})),La=Qr((function(e,t,n){return hr(e,ys(t)||0,n)}));function Na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Na.Cache||qn),n}function Fa(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=qn;var Ba=wi((function(e,t){var n=(t=1==t.length&&Ha(t[0])?Mt(t[0],Qt(lo())):Mt(yr(t,1),Qt(lo()))).length;return Qr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Ua=Qr((function(e,t){var n=cn(t,uo(Ua));return Ji(e,l,i,t,n)})),za=Qr((function(e,t){var n=cn(t,uo(za));return Ji(e,c,i,t,n)})),Va=ro((function(e,t){return Ji(e,f,i,i,i,t)}));function ja(e,t){return e===t||e!==e&&t!==t}var Ya=Xi(Sr),Wa=Xi((function(e,t){return e>=t})),Ga=Rr(function(){return arguments}())?Rr:function(e){return rs(e)&&Le.call(e,"callee")&&!qe.call(e,"callee")},Ha=n.isArray,Xa=xt?Qt(xt):function(e){return rs(e)&&Ar(e)==D};function qa(e){return null!=e&&ts(e.length)&&!Za(e)}function Ka(e){return rs(e)&&qa(e)}var $a=yt||yu,Qa=bt?Qt(bt):function(e){return rs(e)&&Ar(e)==w};function Ja(e){if(!rs(e))return!1;var t=Ar(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Za(e){if(!ns(e))return!1;var t=Ar(e);return t==E||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==gs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=wt?Qt(wt):function(e){return rs(e)&&go(e)==T};function os(e){return"number"==typeof e||rs(e)&&Ar(e)==A}function as(e){if(!rs(e)||Ar(e)!=S)return!1;var t=He(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ue}var ss=kt?Qt(kt):function(e){return rs(e)&&Ar(e)==I};var us=Et?Qt(Et):function(e){return rs(e)&&go(e)==P};function ls(e){return"string"==typeof e||!Ha(e)&&rs(e)&&Ar(e)==O}function cs(e){return"symbol"==typeof e||rs(e)&&Ar(e)==R}var hs=_t?Qt(_t):function(e){return rs(e)&&ts(e.length)&&!!at[Ar(e)]};var fs=Xi(Ur),ds=Xi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(qa(e))return ls(e)?pn(e):Pi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=go(e);return(t==T?un:t==P?hn:js)(e)}function vs(e){return e?(e=ys(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function gs(e){var t=vs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?ur(gs(e),0,g):0}function ys(e){if("number"==typeof e)return e;if(cs(e))return v;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var n=me.test(e);return n||xe.test(e)?ct(e.slice(2),n?2:8):ge.test(e)?v:+e}function xs(e){return Oi(e,Ds(e))}function bs(e){return null==e?"":ci(e)}var ws=Mi((function(e,t){if(To(t)||qa(t))Oi(t,Ms(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),ks=Mi((function(e,t){Oi(t,Ds(t),e)})),Es=Mi((function(e,t,n,r){Oi(t,Ds(t),e,r)})),_s=Mi((function(e,t,n,r){Oi(t,Ms(t),e,r)})),Ts=ro(sr);var As=Qr((function(e,t){e=Ae(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ds(a),u=-1,l=s.length;++u<l;){var c=s[u],h=e[c];(h===i||ja(h,Re[c])&&!Le.call(e,c))&&(e[c]=a[c])}return e})),Ss=Qr((function(e){return e.push(i,eo),Tt(Ns,i,e)}));function Cs(e,t,n){var r=null==e?i:_r(e,t);return r===i?n:r}function Is(e,t){return null!=e&&mo(e,t,Ir)}var Ps=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),e[t]=n}),nu(ou)),Os=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Be.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Rs=Qr(Or);function Ms(e){return qa(e)?Qn(e):Fr(e)}function Ds(e){return qa(e)?Qn(e,!0):Br(e)}var Ls=Mi((function(e,t,n){Yr(e,t,n)})),Ns=Mi((function(e,t,n,r){Yr(e,t,n,r)})),Fs=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Oi(e,oo(e),n),r&&(n=lr(n,7,to));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Bs=ro((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Is(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Mt(oo(e),(function(e){return[e]}));return t=lo(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var zs=Qi(Ms),Vs=Qi(Ds);function js(e){return null==e?[]:Jt(e,Ms(e))}var Ys=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Js(bs(e).toLowerCase())}function Gs(e){return(e=bs(e))&&e.replace(we,rn).replace(Ze,"")}var Hs=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Xs=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qs=Ni("toLowerCase");var Ks=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var $s=Fi((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Qs=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=Ni("toUpperCase");function Zs(e,t,n){return e=bs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var eu=Qr((function(e,t){try{return Tt(e,i,t)}catch(n){return Ja(n)?n:new se(n)}})),tu=ro((function(e,t){return St(t,(function(t){t=Uo(t),ar(e,t,Oa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=zi(),iu=zi(!0);function ou(e){return e}function au(e){return Nr("function"==typeof e?e:lr(e,1))}var su=Qr((function(e,t){return function(n){return Or(n,e,t)}})),uu=Qr((function(e,t){return function(n){return Or(e,n,t)}}));function lu(e,t,n){var r=Ms(t),i=Er(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Er(t,Ms(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Za(e);return St(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Pi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function cu(){}var hu=Wi(Mt),fu=Wi(It),du=Wi(Ft);function pu(e){return ko(e)?Gt(Uo(e)):function(e){return function(t){return _r(t,e)}}(e)}var vu=Hi(),gu=Hi(!0);function mu(){return[]}function yu(){return!1}var xu=Yi((function(e,t){return e+t}),0),bu=Ki("ceil"),wu=Yi((function(e,t){return e/t}),1),ku=Ki("floor");var Eu=Yi((function(e,t){return e*t}),1),_u=Ki("round"),Tu=Yi((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Ia,Vn.assign=ws,Vn.assignIn=ks,Vn.assignInWith=Es,Vn.assignWith=_s,Vn.at=Ts,Vn.before=Pa,Vn.bind=Oa,Vn.bindAll=tu,Vn.bindKey=Ra,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},Vn.chain=pa,Vn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:xn(gs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(pt(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Ha(r)?Pi(r):[r],yr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=Ms(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Vn.constant=nu,Vn.countBy=ma,Vn.create=function(e,t){var n=jn(e);return null==t?n:or(n,t)},Vn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Vn.curryRight=function e(t,n,r){var o=Ji(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Vn.debounce=Ma,Vn.defaults=As,Vn.defaultsDeep=Ss,Vn.defer=Da,Vn.delay=La,Vn.difference=jo,Vn.differenceBy=Yo,Vn.differenceWith=Wo,Vn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},Vn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!0):[]},Vn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Vn.filter=function(e,t){return(Ha(e)?Pt:mr)(e,lo(t,3))},Vn.flatMap=function(e,t){return yr(Ta(e,t),1)},Vn.flatMapDeep=function(e,t){return yr(Ta(e,t),d)},Vn.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),yr(Ta(e,t),n)},Vn.flatten=Xo,Vn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,d):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:gs(t)):[]},Vn.flip=function(e){return Ji(e,512)},Vn.flow=ru,Vn.flowRight=iu,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:Er(e,Ms(e))},Vn.functionsIn=function(e){return null==e?[]:Er(e,Ds(e))},Vn.groupBy=ka,Vn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Vn.intersection=Ko,Vn.intersectionBy=$o,Vn.intersectionWith=Qo,Vn.invert=Ps,Vn.invertBy=Os,Vn.invokeMap=Ea,Vn.iteratee=au,Vn.keyBy=_a,Vn.keys=Ms,Vn.keysIn=Ds,Vn.map=Ta,Vn.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Vr(lr(e,1))},Vn.matchesProperty=function(e,t){return jr(e,lr(t,1))},Vn.memoize=Na,Vn.merge=Ls,Vn.mergeWith=Ns,Vn.method=su,Vn.methodOf=uu,Vn.mixin=lu,Vn.negate=Fa,Vn.nthArg=function(e){return e=gs(e),Qr((function(t){return Wr(t,e)}))},Vn.omit=Fs,Vn.omitBy=function(e,t){return Us(e,Fa(lo(t)))},Vn.once=function(e){return Pa(2,e)},Vn.orderBy=function(e,t,n,r){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(n=r?i:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Vn.over=hu,Vn.overArgs=Ba,Vn.overEvery=fu,Vn.overSome=du,Vn.partial=Ua,Vn.partialRight=za,Vn.partition=Aa,Vn.pick=Bs,Vn.pickBy=Us,Vn.property=pu,Vn.propertyOf=function(e){return function(t){return null==e?i:_r(e,t)}},Vn.pull=Zo,Vn.pullAll=ea,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,lo(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,i,n):e},Vn.pullAt=ta,Vn.range=vu,Vn.rangeRight=gu,Vn.rearg=Va,Vn.reject=function(e,t){return(Ha(e)?Pt:mr)(e,Fa(lo(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return qr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return Qr(e,t=t===i?t:gs(t))},Vn.reverse=na,Vn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gs(t),(Ha(e)?Zn:Zr)(e,t)},Vn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Vn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Vn.shuffle=function(e){return(Ha(e)?er:ri)(e)},Vn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),ii(e,t,n)):[]},Vn.sortBy=Sa,Vn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=ci(t))&&sn(e)?ki(pn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:xn(gs(t),0),Qr((function(n){var r=n[t],i=ki(n,0,t);return r&&Dt(i,r),Tt(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?pi(e,lo(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?pi(e,lo(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ma(e,t,{leading:r,maxWait:t,trailing:i})},Vn.thru=va,Vn.toArray=ps,Vn.toPairs=zs,Vn.toPairsIn=Vs,Vn.toPath=function(e){return Ha(e)?Mt(e,Uo):cs(e)?[e]:Pi(Bo(bs(e)))},Vn.toPlainObject=xs,Vn.transform=function(e,t,n){var r=Ha(e),i=r||$a(e)||hs(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Za(o)?jn(He(e)):{}}return(i?St:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Ia(e,1)},Vn.union=ra,Vn.unionBy=ia,Vn.unionWith=oa,Vn.uniq=function(e){return e&&e.length?hi(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?hi(e,lo(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?hi(e,i,t):[]},Vn.unset=function(e,t){return null==e||fi(e,t)},Vn.unzip=aa,Vn.unzipWith=sa,Vn.update=function(e,t,n){return null==e?e:di(e,t,xi(n))},Vn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,xi(n),r)},Vn.values=js,Vn.valuesIn=function(e){return null==e?[]:Jt(e,Ds(e))},Vn.without=ua,Vn.words=Zs,Vn.wrap=function(e,t){return Ua(xi(t),e)},Vn.xor=la,Vn.xorBy=ca,Vn.xorWith=ha,Vn.zip=fa,Vn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Vn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Vn.zipWith=da,Vn.entries=zs,Vn.entriesIn=Vs,Vn.extend=ks,Vn.extendWith=Es,lu(Vn,Vn),Vn.add=xu,Vn.attempt=eu,Vn.camelCase=Ys,Vn.capitalize=Ws,Vn.ceil=bu,Vn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Vn.clone=function(e){return lr(e,4)},Vn.cloneDeep=function(e){return lr(e,5)},Vn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Vn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Vn.conformsTo=function(e,t){return null==t||cr(e,t,Ms(t))},Vn.deburr=Gs,Vn.defaultTo=function(e,t){return null==e||e!==e?t:e},Vn.divide=wu,Vn.endsWith=function(e,t,n){e=bs(e),t=ci(t);var r=e.length,o=n=n===i?r:ur(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Vn.eq=ja,Vn.escape=function(e){return(e=bs(e))&&Q.test(e)?e.replace(K,on):e},Vn.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Vn.every=function(e,t,n){var r=Ha(e)?It:vr;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Vn.find=ya,Vn.findIndex=Go,Vn.findKey=function(e,t){return Ut(e,lo(t,3),wr)},Vn.findLast=xa,Vn.findLastIndex=Ho,Vn.findLastKey=function(e,t){return Ut(e,lo(t,3),kr)},Vn.floor=ku,Vn.forEach=ba,Vn.forEachRight=wa,Vn.forIn=function(e,t){return null==e?e:xr(e,lo(t,3),Ds)},Vn.forInRight=function(e,t){return null==e?e:br(e,lo(t,3),Ds)},Vn.forOwn=function(e,t){return e&&wr(e,lo(t,3))},Vn.forOwnRight=function(e,t){return e&&kr(e,lo(t,3))},Vn.get=Cs,Vn.gt=Ya,Vn.gte=Wa,Vn.has=function(e,t){return null!=e&&mo(e,t,Cr)},Vn.hasIn=Is,Vn.head=qo,Vn.identity=ou,Vn.includes=function(e,t,n,r){e=qa(e)?e:js(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=xn(i+n,0)),ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=xn(r+i,0)),Vt(e,t,i)},Vn.inRange=function(e,t,n){return t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n){return e>=bn(t,n)&&e<xn(t,n)}(e=ys(e),t,n)},Vn.invoke=Rs,Vn.isArguments=Ga,Vn.isArray=Ha,Vn.isArrayBuffer=Xa,Vn.isArrayLike=qa,Vn.isArrayLikeObject=Ka,Vn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Ar(e)==b},Vn.isBuffer=$a,Vn.isDate=Qa,Vn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||$a(e)||hs(e)||Ga(e)))return!e.length;var t=go(e);if(t==T||t==P)return!e.size;if(To(e))return!Fr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return Mr(e,t)},Vn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Mr(e,t,i,n):!!r},Vn.isError=Ja,Vn.isFinite=function(e){return"number"==typeof e&&Bt(e)},Vn.isFunction=Za,Vn.isInteger=es,Vn.isLength=ts,Vn.isMap=is,Vn.isMatch=function(e,t){return e===t||Dr(e,t,ho(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,ho(t),n)},Vn.isNaN=function(e){return os(e)&&e!=+e},Vn.isNative=function(e){if(_o(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=os,Vn.isObject=ns,Vn.isObjectLike=rs,Vn.isPlainObject=as,Vn.isRegExp=ss,Vn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Vn.isSet=us,Vn.isString=ls,Vn.isSymbol=cs,Vn.isTypedArray=hs,Vn.isUndefined=function(e){return e===i},Vn.isWeakMap=function(e){return rs(e)&&go(e)==M},Vn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Ar(e)},Vn.join=function(e,t){return null==e?"":Ht.call(e,t)},Vn.kebabCase=Hs,Vn.last=Jo,Vn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?xn(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):zt(e,Yt,o,!0)},Vn.lowerCase=Xs,Vn.lowerFirst=qs,Vn.lt=fs,Vn.lte=ds,Vn.max=function(e){return e&&e.length?gr(e,ou,Sr):i},Vn.maxBy=function(e,t){return e&&e.length?gr(e,lo(t,2),Sr):i},Vn.mean=function(e){return Wt(e,ou)},Vn.meanBy=function(e,t){return Wt(e,lo(t,2))},Vn.min=function(e){return e&&e.length?gr(e,ou,Ur):i},Vn.minBy=function(e,t){return e&&e.length?gr(e,lo(t,2),Ur):i},Vn.stubArray=mu,Vn.stubFalse=yu,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Eu,Vn.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):i},Vn.noConflict=function(){return dt._===this&&(dt._=ze),this},Vn.noop=cu,Vn.now=Ca,Vn.pad=function(e,t,n){e=bs(e);var r=(t=gs(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(vt(i),n)+e+Gi(pt(i),n)},Vn.padEnd=function(e,t,n){e=bs(e);var r=(t=gs(t))?dn(e):0;return t&&r<t?e+Gi(t-r,n):e},Vn.padStart=function(e,t,n){e=bs(e);var r=(t=gs(t))?dn(e):0;return t&&r<t?Gi(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(bs(e).replace(ae,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vs(e),t===i?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=En();return bn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Kr(e,t)},Vn.reduce=function(e,t,n){var r=Ha(e)?Lt:Xt,i=arguments.length<3;return r(e,lo(t,4),n,i,dr)},Vn.reduceRight=function(e,t,n){var r=Ha(e)?Nt:Xt,i=arguments.length<3;return r(e,lo(t,4),n,i,pr)},Vn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gs(t),$r(bs(e),t)},Vn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Uo(t[r])];a===i&&(r=o,a=n),e=Za(a)?a.call(e):a}return e},Vn.round=_u,Vn.runInContext=e,Vn.sample=function(e){return(Ha(e)?Jn:Jr)(e)},Vn.size=function(e){if(null==e)return 0;if(qa(e))return ls(e)?dn(e):e.length;var t=go(e);return t==T||t==P?e.size:Fr(e).length},Vn.snakeCase=Ks,Vn.some=function(e,t,n){var r=Ha(e)?Ft:oi;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Vn.sortedIndex=function(e,t){return ai(e,t)},Vn.sortedIndexBy=function(e,t,n){return si(e,t,lo(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&ja(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return si(e,t,lo(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(ja(e[n],t))return n}return-1},Vn.startCase=$s,Vn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:ur(gs(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Vn.subtract=Tu,Vn.sum=function(e){return e&&e.length?qt(e,ou):0},Vn.sumBy=function(e,t){return e&&e.length?qt(e,lo(t,2)):0},Vn.template=function(e,t,n){var r=Vn.templateSettings;n&&wo(e,t,n)&&(t=i),e=bs(e),t=Es({},t,r,Zi);var o,a,s=Es({},t.imports,r.imports,Zi),u=Ms(s),l=Jt(s,u),c=0,h=t.interpolate||ke,f="__p += '",d=Se((t.escape||ke).source+"|"+h.source+"|"+(h===ee?pe:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),f+=e.slice(c,u).replace(Ee,an),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(fe.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(G,""):f).replace(H,"$1").replace(X,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=eu((function(){return _e(u,p+"return "+f).apply(i,l)}));if(g.source=f,Ja(g))throw g;return g},Vn.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=g,r=bn(e,g);t=lo(t),e-=g;for(var i=Kt(r,t);++n<e;)t(n);return i},Vn.toFinite=vs,Vn.toInteger=gs,Vn.toLength=ms,Vn.toLower=function(e){return bs(e).toLowerCase()},Vn.toNumber=ys,Vn.toSafeInteger=function(e){return e?ur(gs(e),-9007199254740991,p):0===e?e:0},Vn.toString=bs,Vn.toUpper=function(e){return bs(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=bs(e))&&(n||t===i))return $t(e);if(!e||!(t=ci(t)))return e;var r=pn(e),o=pn(t);return ki(r,en(r,o),tn(r,o)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=ci(t)))return e;var r=pn(e);return ki(r,0,tn(r,pn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=pn(e);return ki(r,en(r,pn(t))).join("")},Vn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?gs(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=bs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-dn(r);if(u<1)return r;var l=s?ki(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),ss(o)){if(e.slice(u).search(o)){var c,h=l;for(o.global||(o=Se(o.source,bs(ve.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(e.indexOf(ci(o),u)!=u){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+r},Vn.unescape=function(e){return(e=bs(e))&&$.test(e)?e.replace(q,gn):e},Vn.uniqueId=function(e){var t=++Ne;return bs(e)+t},Vn.upperCase=Qs,Vn.upperFirst=Js,Vn.each=ba,Vn.eachRight=wa,Vn.first=qo,lu(Vn,function(){var e={};return wr(Vn,(function(t,n){Le.call(Vn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Vn.VERSION="4.17.21",St(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),St(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===i?1:xn(gs(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),St(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),St(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),St(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(ou)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Or(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Fa(lo(e)))},Gn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(g)},wr(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Vn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Vn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Gn,l=s[0],c=u||Ha(t),h=function(e){var t=o.apply(Vn,Dt([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=a&&!f,v=u&&!d;if(!a&&c){t=v?t:new Gn(this);var g=e.apply(t,s);return g.__actions__.push({func:va,args:[h],thisArg:i}),new Wn(g,f)}return p&&v?e.apply(this,s):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),St(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ha(i)?i:[],e)}return this[n]((function(n){return t.apply(Ha(n)?n:[],e)}))}})),wr(Gn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Le.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[Vi(i,2).name]=[{name:"wrapper",func:i}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=xn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=bn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return vi(e,this.__actions__);var p=[];e:for(;u--&&f<d;){for(var v=-1,g=e[l+=t];++v<h;){var m=c[v],y=m.iteratee,x=m.type,b=y(g);if(2==x)g=b;else if(!b){if(1==x)continue e;break e}}p[f++]=g}return p},Vn.prototype.at=ga,Vn.prototype.chain=function(){return pa(this)},Vn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof Yn;){var r=Vo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:va,args:[na],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(na)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Qe&&(Vn.prototype[Qe]=function(){return this}),Vn}();dt._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},2582:function(e,t,n){var r=n(821),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},7744:function(e,t,n){var r,i=n(8416).default;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1528)}([function(e,t){function n(e,t,n){var r=n?e[t]:Object.getOwnPropertyDescriptor(e,t);return!n&&r.value&&"object"===typeof r.value&&(r=r.value),!(!r||!function(e){return!!e.get&&"function"===typeof e.get||!!e.set&&"function"===typeof e.set}(r))&&("undefined"===typeof r.enumerable&&(r.enumerable=!0),"undefined"===typeof r.configurable&&(r.configurable=!0),r)}function r(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&(n.value&&"object"===typeof n.value&&(n=n.value),!1===n.configurable)}function i(e,t,i,o){for(var s in t)if(t.hasOwnProperty(s)){var u=n(t,s,i);if(!1!==u){if(r((o||e).prototype,s)){if(a.ignoreFinals)continue;throw new Error("cannot override final property '"+s+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(e.prototype,s,u)}else e.prototype[s]=t[s]}}function o(e,t){if(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)i(e,t[n].prototype||t[n])}}function a(e){var t,n;if(e||(e={}),e.initialize){if("function"!==typeof e.initialize)throw new Error("initialize must be a function");t=e.initialize,delete e.initialize}else if(e.Extends){var r=e.Extends;t=function(){r.apply(this,arguments)}}else t=function(){};e.Extends?(t.prototype=Object.create(e.Extends.prototype),t.prototype.constructor=t,n=e.Extends,delete e.Extends):t.prototype.constructor=t;var a=null;return e.Mixins&&(a=e.Mixins,delete e.Mixins),o(t,a),i(t,e,!0,n),t}a.extend=i,a.mixin=o,a.ignoreFinals=!1,e.exports=a},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,n){var r=typeof e;return e&&"number"!==r&&"string"!==r&&e.hasOwnProperty(t)&&void 0!==e[t]?e[t]:n}},function(e,t,n){var r=n(0),i=n(124),o=new r({initialize:function(e,t){this.x=0,this.y=0,"object"===typeof e?(this.x=e.x||0,this.y=e.y||0):(void 0===t&&(t=e),this.x=e||0,this.y=t||0)},clone:function(){return new o(this.x,this.y)},copy:function(e){return this.x=e.x||0,this.y=e.y||0,this},setFromObject:function(e){return this.x=e.x||0,this.y=e.y||0,this},set:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setTo:function(e,t){return this.set(e,t)},setToPolar:function(e,t){return null==t&&(t=1),this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this},equals:function(e){return this.x===e.x&&this.y===e.y},fuzzyEquals:function(e,t){return i(this.x,e.x,t)&&i(this.y,e.y,t)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},setAngle:function(e){return this.setToPolar(e,this.length())},add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},distanceSq:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},length:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)},setLength:function(e){return this.normalize().scale(e)},lengthSq:function(){var e=this.x,t=this.y;return e*e+t*t},normalize:function(){var e=this.x,t=this.y,n=e*e+t*t;return n>0&&(n=1/Math.sqrt(n),this.x=e*n,this.y=t*n),this},normalizeRightHand:function(){var e=this.x;return this.x=-1*this.y,this.y=e,this},normalizeLeftHand:function(){var e=this.x;return this.x=this.y,this.y=-1*e,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lerp:function(e,t){void 0===t&&(t=0);var n=this.x,r=this.y;return this.x=n+t*(e.x-n),this.y=r+t*(e.y-r),this},transformMat3:function(e){var t=this.x,n=this.y,r=e.val;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},transformMat4:function(e){var t=this.x,n=this.y,r=e.val;return this.x=r[0]*t+r[4]*n+r[12],this.y=r[1]*t+r[5]*n+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(e){var t=this.length();return t&&t>e&&this.scale(e/t),this},reflect:function(e){return e=e.clone().normalize(),this.subtract(e.scale(2*this.dot(e)))},mirror:function(e){return this.reflect(e).negate()},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t*this.x-n*this.y,n*this.x+t*this.y)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),e.exports=o},function(e,t,n){var r=n(0),i=n(56),o=new r({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.type=i.POINT,this.x=e,this.y=t},setTo:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this}});e.exports=o},function(e,t,n){var r=n(0),i=n(24),o=n(20),a=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(e){return(e.renderCanvas||e.renderWebGL)&&this.displayList.add(e),e.preUpdate&&this.updateList.add(e),e},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(e,t){a.prototype.hasOwnProperty(e)||(a.prototype[e]=t)},a.remove=function(e){a.prototype.hasOwnProperty(e)&&delete a.prototype[e]},i.register("GameObjectFactory",a,"add"),e.exports=a},function(e,t){e.exports=function(e,t,n){if(e&&"number"!==typeof e){if(e.hasOwnProperty(t))return e[t];if(-1!==t.indexOf(".")){for(var r=t.split("."),i=e,o=n,a=0;a<r.length;a++){if(!i.hasOwnProperty(r[a])){o=n;break}o=i[r[a]],i=i[r[a]]}return o}return n}return n}},function(e,t){e.exports=function(e){if("object"!==typeof e||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0}},function(e,t){var n={},r={install:function(e){for(var t in n)e[t]=n[t]},register:function(e,t){n[e]=t},destroy:function(){n={}}};e.exports=r},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},function(e,t,n){var r=n(0),i=n(57),o=n(171),a=n(306),s=n(56),u=n(47),l=n(174),c=new r({initialize:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.type=s.RECTANGLE,this.x=e,this.y=t,this.width=n,this.height=r},contains:function(e,t){return i(this,e,t)},getPoint:function(e,t){return o(this,e,t)},getPoints:function(e,t,n){return a(this,e,t,n)},getRandomPoint:function(e){return l(this,e)},setTo:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(e){return void 0===e&&(e=new u),e.setTo(this.x,this.y,this.right,this.y),e},getLineB:function(e){return void 0===e&&(e=new u),e.setTo(this.right,this.y,this.right,this.bottom),e},getLineC:function(e){return void 0===e&&(e=new u),e.setTo(this.right,this.bottom,this.x,this.bottom),e},getLineD:function(e){return void 0===e&&(e=new u),e.setTo(this.x,this.bottom,this.x,this.y),e},left:{get:function(){return this.x},set:function(e){e>=this.right?this.width=0:this.width=this.right-e,this.x=e}},right:{get:function(){return this.x+this.width},set:function(e){e<=this.x?this.width=0:this.width=e-this.x}},top:{get:function(){return this.y},set:function(e){e>=this.bottom?this.height=0:this.height=this.bottom-e,this.y=e}},bottom:{get:function(){return this.y+this.height},set:function(e){e<=this.y?this.height=0:this.height=e-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=c},function(e,t,n){e.exports={Alpha:n(607),AlphaSingle:n(303),BlendMode:n(304),ComputedSize:n(608),Crop:n(609),Depth:n(305),Flip:n(610),GetBounds:n(611),Mask:n(309),Origin:n(632),PathFollower:n(633),Pipeline:n(167),ScrollFactor:n(312),Size:n(634),Texture:n(635),TextureCrop:n(636),Tint:n(637),ToJSON:n(176),Transform:n(313),TransformMatrix:n(25),Visible:n(314)}},function(e,t){function n(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}e.exports={getTintFromFloats:function(e,t,n,r){return((255&(255*r|0))<<24|(255&(255*e|0))<<16|(255&(255*t|0))<<8|255&(255*n|0))>>>0},getTintAppendFloatAlpha:function(e,t){return((255&(255*t|0))<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,t){return((255&(255*t|0))<<24|(255&(0|e))<<16|(255&(e>>8|0))<<8|255&(e>>16|0))>>>0},getFloatsFromUintRGB:function(e){return[(255&(e>>16|0))/255,(255&(e>>8|0))/255,(255&(0|e))/255]},checkShaderMax:function(e,t){t&&-1!==t||(t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));for(var r=e.createShader(e.FRAGMENT_SHADER),i=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");;){var o=i.replace(/%forloop%/gi,n(t));if(e.shaderSource(r,o),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t},parseFragmentShaderMaxTextures:function(e,t){if(!e)return"";for(var n="",r=0;r<t;r++)r>0&&(n+="\n\telse "),r<t-1&&(n+="if (outTexId < "+r+".5)"),n+="\n\t{",n+="\n\t\ttexture = texture2D(uMainSampler["+r+"], outTexCoord);",n+="\n\t}";return(e=e.replace(/%count%/gi,t.toString())).replace(/%forloop%/gi,n)}}},function(e,t,n){var r=n(193),i=n(6);e.exports=function(e,t,n){var o=i(e,t,null);if(null===o)return n;if(Array.isArray(o))return r.RND.pick(o);if("object"===typeof o){if(o.hasOwnProperty("randInt"))return r.RND.integerInRange(o.randInt[0],o.randInt[1]);if(o.hasOwnProperty("randFloat"))return r.RND.realInRange(o.randFloat[0],o.randFloat[1])}else if("function"===typeof o)return o(t);return o}},function(e,t){var n={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};e.exports=n},function(e,t,n){var r=n(0),i=n(176),o=n(101),a=n(9),s=n(75),u=n(20),l=new r({Extends:a,initialize:function(e,t){a.call(this),this.scene=e,this.displayList=null,this.type=t,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),e.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(e,t){return this.data||(this.data=new o(this)),this.data.set(e,t),this},incData:function(e,t){return this.data||(this.data=new o(this)),this.data.inc(e,t),this},toggleData:function(e){return this.data||(this.data=new o(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new o(this)),this.data.get(e)},setInteractive:function(e,t,n){return this.scene.sys.input.enable(this,e,t,n),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return i(this)},willRender:function(e){return!(l.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,n=[];t&&(n.unshift(t.getIndex(e)),e=t,t.parentContainer);)t=t.parentContainer;return this.displayList?n.unshift(this.displayList.getIndex(e)):n.unshift(this.scene.sys.displayList.getIndex(e)),n},addToDisplayList:function(e){return void 0===e&&(e=this.scene.sys.displayList),this.displayList&&this.displayList!==e&&this.removeFromDisplayList(),e.exists(this)||(this.displayList=e,e.add(this,!0),e.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),e.events.emit(u.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var e=this.displayList||this.scene.sys.displayList;return e.exists(this)&&(e.remove(this,!0),e.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),e.events.emit(u.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(e){this.scene&&!this.ignoreDestroy&&(void 0===e&&(e=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,e),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});l.RENDER_MASK=15,e.exports=l},function(e,t,n){var r=n(0),i=n(24),o=n(20),a=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(e,t){a.prototype.hasOwnProperty(e)||(a.prototype[e]=t)},a.remove=function(e){a.prototype.hasOwnProperty(e)&&delete a.prototype[e]},i.register("GameObjectCreator",a,"make"),e.exports=a},function(e,t,n){var r=n(7);e.exports=function e(){var t,n,i,o,a,s,u=arguments[0]||{},l=1,c=arguments.length,h=!1;for("boolean"===typeof u&&(h=u,u=arguments[1]||{},l=2),c===l&&(u=this,--l);l<c;l++)if(null!=(t=arguments[l]))for(n in t)i=u[n],u!==(o=t[n])&&(h&&o&&(r(o)||(a=Array.isArray(o)))?(a?(a=!1,s=i&&Array.isArray(i)?i:[]):s=i&&r(i)?i:{},u[n]=e(h,s,o)):void 0!==o&&(u[n]=o));return u}},function(e,t){e.exports=function(e,t,n){return Math.max(t,Math.min(n,e))}},function(e,t,n){var r=n(25),i=new r,o=new r,a=new r,s={camera:i,sprite:o,calc:a};e.exports=function(e,t,n){var r=i,u=o,l=a;return u.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),r.copyFrom(t.matrix),n?(r.multiplyWithOffset(n,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),u.e=e.x,u.f=e.y):(u.e-=t.scrollX*e.scrollFactorX,u.f-=t.scrollY*e.scrollFactorY),r.multiply(u,l),s}},function(e,t,n){e.exports={ADDED_TO_SCENE:n(656),BOOT:n(657),CREATE:n(658),DESTROY:n(659),PAUSE:n(660),POST_UPDATE:n(661),PRE_RENDER:n(662),PRE_UPDATE:n(663),READY:n(664),REMOVED_FROM_SCENE:n(665),RENDER:n(666),RESUME:n(667),SHUTDOWN:n(668),SLEEP:n(669),START:n(670),TRANSITION_COMPLETE:n(671),TRANSITION_INIT:n(672),TRANSITION_OUT:n(673),TRANSITION_START:n(674),TRANSITION_WAKE:n(675),UPDATE:n(676),WAKE:n(677)}},function(e,t){e.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(e,t,n){e.exports={BLUR:n(612),BOOT:n(613),CONTEXT_LOST:n(614),CONTEXT_RESTORED:n(615),DESTROY:n(616),FOCUS:n(617),HIDDEN:n(618),PAUSE:n(619),POST_RENDER:n(620),POST_STEP:n(621),PRE_RENDER:n(622),PRE_STEP:n(623),READY:n(624),RESUME:n(625),STEP:n(626),VISIBLE:n(627)}},function(e,t,n){var r=n(0),i=n(21),o=n(95),a=n(2),s=n(155),u=n(240),l=n(517),c=n(156),h=new r({initialize:function(e,t){this.loader=e,this.cache=a(t,"cache",!1),this.type=a(t,"type",!1),this.key=a(t,"key",!1);var n=this.key;if(e.prefix&&""!==e.prefix&&(this.key=e.prefix+n),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var r=a(t,"url");void 0===r?r=e.path+n+"."+a(t,"extension",""):"string"!==typeof r||r.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)||(r=e.path+r),this.url=r,this.src="",this.xhrSettings=c(a(t,"responseType",void 0)),a(t,"xhrSettings",!1)&&(this.xhrSettings=u(this.xhrSettings,a(t,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"===typeof this.url?i.FILE_POPULATED:i.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(t,"config",{}),this.multiFile,this.linkFile},setLink:function(e){this.linkFile=e,e.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===i.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=i.FILE_LOADING,this.src=s(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=l(this,this.loader.xhr))},onLoad:function(e,t){var n=e.responseURL&&(0===e.responseURL.indexOf("file://")||0===e.responseURL.indexOf("capacitor://"))&&0===t.target.status,r=!(t.target&&200!==t.target.status)||n;4===e.readyState&&e.status>=400&&e.status<=599&&(r=!1),this.state=i.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,r)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(e){e.lengthComputable&&(this.bytesLoaded=e.loaded,this.bytesTotal=e.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=i.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=i.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=i.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(e){void 0===e&&(e=this.data);var t=this.key,n=this.type;this.loader.emit(o.FILE_COMPLETE,t,n,e),this.loader.emit(o.FILE_KEY_COMPLETE+n+"-"+t,t,n,e),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});h.createObjectURL=function(e,t,n){if("function"===typeof URL)e.src=URL.createObjectURL(t);else{var r=new FileReader;r.onload=function(){e.removeAttribute("crossOrigin"),e.src="data:"+(t.type||n)+";base64,"+r.result.split(",")[1]},r.onerror=e.onerror,r.readAsDataURL(t)}},h.revokeObjectURL=function(e){"function"===typeof URL&&URL.revokeObjectURL(e.src)},e.exports=h},function(e,t){var n={},r={},i={register:function(e,t,r,i){void 0===i&&(i=!1),n[e]={plugin:t,mapping:r,custom:i}},registerCustom:function(e,t,n,i){r[e]={plugin:t,mapping:n,data:i}},hasCore:function(e){return n.hasOwnProperty(e)},hasCustom:function(e){return r.hasOwnProperty(e)},getCore:function(e){return n[e]},getCustom:function(e){return r[e]},getCustomClass:function(e){return r.hasOwnProperty(e)?r[e].plugin:null},remove:function(e){n.hasOwnProperty(e)&&delete n[e]},removeCustom:function(e){r.hasOwnProperty(e)&&delete r[e]},destroyCorePlugins:function(){for(var e in n)n.hasOwnProperty(e)&&delete n[e]},destroyCustomPlugins:function(){for(var e in r)r.hasOwnProperty(e)&&delete r[e]}};e.exports=i},function(e,t,n){var r=n(0),i=n(14),o=n(3),a=new r({initialize:function(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.matrix=new Float32Array([e,t,n,r,i,o,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(e){this.matrix[0]=e}},b:{get:function(){return this.matrix[1]},set:function(e){this.matrix[1]=e}},c:{get:function(){return this.matrix[2]},set:function(e){this.matrix[2]=e}},d:{get:function(){return this.matrix[3]},set:function(e){this.matrix[3]=e}},e:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},f:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},tx:{get:function(){return this.matrix[4]},set:function(e){this.matrix[4]=e}},ty:{get:function(){return this.matrix[5]},set:function(e){this.matrix[5]=e}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var e=this.matrix,t=e[0],n=e[1],r=e[2],o=e[3];return t||n?n>0?Math.acos(t/this.scaleX):-Math.acos(t/this.scaleX):r||o?i.TAU-(o>0?Math.acos(-r/this.scaleY):-Math.acos(r/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var e=this.matrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},translate:function(e,t){var n=this.matrix;return n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this},scale:function(e,t){var n=this.matrix;return n[0]*=e,n[1]*=e,n[2]*=t,n[3]*=t,this},rotate:function(e){var t=Math.sin(e),n=Math.cos(e),r=this.matrix,i=r[0],o=r[1],a=r[2],s=r[3];return r[0]=i*n+a*t,r[1]=o*n+s*t,r[2]=i*-t+a*n,r[3]=o*-t+s*n,this},multiply:function(e,t){var n=this.matrix,r=e.matrix,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=r[0],h=r[1],f=r[2],d=r[3],p=r[4],v=r[5],g=void 0===t?this:t;return g.a=c*i+h*a,g.b=c*o+h*s,g.c=f*i+d*a,g.d=f*o+d*s,g.e=p*i+v*a+u,g.f=p*o+v*s+l,g},multiplyWithOffset:function(e,t,n){var r=this.matrix,i=e.matrix,o=r[0],a=r[1],s=r[2],u=r[3],l=t*o+n*s+r[4],c=t*a+n*u+r[5],h=i[0],f=i[1],d=i[2],p=i[3],v=i[4],g=i[5];return r[0]=h*o+f*s,r[1]=h*a+f*u,r[2]=d*o+p*s,r[3]=d*a+p*u,r[4]=v*o+g*s+l,r[5]=v*a+g*u+c,this},transform:function(e,t,n,r,i,o){var a=this.matrix,s=a[0],u=a[1],l=a[2],c=a[3],h=a[4],f=a[5];return a[0]=e*s+t*l,a[1]=e*u+t*c,a[2]=n*s+r*l,a[3]=n*u+r*c,a[4]=i*s+o*l+h,a[5]=i*u+o*c+f,this},transformPoint:function(e,t,n){void 0===n&&(n={x:0,y:0});var r=this.matrix,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5];return n.x=e*i+t*a+u,n.y=e*o+t*s+l,n},invert:function(){var e=this.matrix,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=t*i-n*r;return e[0]=i/s,e[1]=-n/s,e[2]=-r/s,e[3]=t/s,e[4]=(r*a-i*o)/s,e[5]=-(t*a-n*o)/s,this},copyFrom:function(e){var t=this.matrix;return t[0]=e.a,t[1]=e.b,t[2]=e.c,t[3]=e.d,t[4]=e.e,t[5]=e.f,this},copyFromArray:function(e){var t=this.matrix;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},copyToContext:function(e){var t=this.matrix;return e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e},setToContext:function(e){var t=this.matrix;return e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e},copyToArray:function(e){var t=this.matrix;return void 0===e?e=[t[0],t[1],t[2],t[3],t[4],t[5]]:(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]),e},setTransform:function(e,t,n,r,i,o){var a=this.matrix;return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=i,a[5]=o,this},decomposeMatrix:function(){var e=this.decomposedMatrix,t=this.matrix,n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-r*i;if(e.translateX=t[4],e.translateY=t[5],n||r){var s=Math.sqrt(n*n+r*r);e.rotation=r>0?Math.acos(n/s):-Math.acos(n/s),e.scaleX=s,e.scaleY=a/s}else if(i||o){var u=Math.sqrt(i*i+o*o);e.rotation=.5*Math.PI-(o>0?Math.acos(-i/u):-Math.acos(i/u)),e.scaleX=a/u,e.scaleY=u}else e.rotation=0,e.scaleX=0,e.scaleY=0;return e},applyITRS:function(e,t,n,r,i){var o=this.matrix,a=Math.sin(n),s=Math.cos(n);return o[4]=e,o[5]=t,o[0]=s*r,o[1]=a*r,o[2]=-a*i,o[3]=s*i,this},applyInverse:function(e,t,n){void 0===n&&(n=new o);var r=this.matrix,i=r[0],a=r[1],s=r[2],u=r[3],l=r[4],c=r[5],h=1/(i*u+s*-a);return n.x=u*h*e+-s*h*t+(c*s-l*u)*h,n.y=i*h*t+-a*h*e+(-c*i+l*a)*h,n},getX:function(e,t){return e*this.a+t*this.c+this.e},getY:function(e,t){return e*this.b+t*this.d+this.f},getXRound:function(e,t,n){var r=this.getX(e,t);return n&&(r=Math.round(r)),r},getYRound:function(e,t,n){var r=this.getY(e,t);return n&&(r=Math.round(r)),r},getCSSMatrix:function(){var e=this.matrix;return"matrix("+e[0]+","+e[1]+","+e[2]+","+e[3]+","+e[4]+","+e[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});e.exports=a},function(e,t,n){var r=n(2);e.exports=function(e,t,n,i,o,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=a.width),void 0===i&&(i=a.height),o||(o={});var s=r(o,"isNotEmpty",!1),u=r(o,"isColliding",!1),l=r(o,"hasInterestingFace",!1);e<0&&(n+=e,e=0),t<0&&(i+=t,t=0),e+n>a.width&&(n=Math.max(a.width-e,0)),t+i>a.height&&(i=Math.max(a.height-t,0));for(var c=[],h=t;h<t+i;h++)for(var f=e;f<e+n;f++){var d=a.data[h][f];if(null!==d){if(s&&-1===d.index)continue;if(u&&!d.collides)continue;if(l&&!d.hasInterestingFace)continue;c.push(d)}}return c}},function(e,t){e.exports=function(e,t,n,r,i,o){var a;void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=1);var s=0,u=e.length;if(1===o)for(a=i;a<u;a++)e[a][t]=n+s*r,s++;else for(a=i;a>=0;a--)e[a][t]=n+s*r,s++;return e}},function(e,t,n){var r=n(35),i=n(13);e.exports=function(e,t,n){t.x=i(n,"x",0),t.y=i(n,"y",0),t.depth=i(n,"depth",0),t.flipX=i(n,"flipX",!1),t.flipY=i(n,"flipY",!1);var o=i(n,"scale",null);"number"===typeof o?t.setScale(o):null!==o&&(t.scaleX=i(o,"x",1),t.scaleY=i(o,"y",1));var a=i(n,"scrollFactor",null);"number"===typeof a?t.setScrollFactor(a):null!==a&&(t.scrollFactorX=i(a,"x",1),t.scrollFactorY=i(a,"y",1)),t.rotation=i(n,"rotation",0);var s=i(n,"angle",null);null!==s&&(t.angle=s),t.alpha=i(n,"alpha",1);var u=i(n,"origin",null);if("number"===typeof u)t.setOrigin(u);else if(null!==u){var l=i(u,"x",.5),c=i(u,"y",.5);t.setOrigin(l,c)}return t.blendMode=i(n,"blendMode",r.NORMAL),t.visible=i(n,"visible",!0),i(n,"add",!0)&&e.sys.displayList.add(t),t.preUpdate&&e.sys.updateList.add(t),t}},function(e,t){e.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(e,t,n){var r=n(19);e.exports=function(e,t,n,i,o){var a=i.alpha*n.alpha;if(a<=0)return!1;var s=r(n,i,o).calc;return t.globalCompositeOperation=e.blendModes[n.blendMode],t.globalAlpha=a,t.save(),s.setToContext(t),t.imageSmoothingEnabled=!(!e.antialias||n.frame&&n.frame.source.scaleMode),!0}},function(e,t,n){var r=n(33),i=n(192),o=[],a=!1;e.exports=function(){var e=function(e,n,s,u,l){var c;void 0===n&&(n=1),void 0===s&&(s=1),void 0===u&&(u=r.CANVAS),void 0===l&&(l=!1);var h=t(u);return null===h?(h={parent:e,canvas:document.createElement("canvas"),type:u},u===r.CANVAS&&o.push(h),c=h.canvas):(h.parent=e,c=h.canvas),l&&(h.parent=c),c.width=n,c.height=s,a&&u===r.CANVAS&&i.disable(c.getContext("2d")),c},t=function(e){if(void 0===e&&(e=r.CANVAS),e===r.WEBGL)return null;for(var t=0;t<o.length;t++){var n=o[t];if(!n.parent&&n.type===e)return n}return null},n=function(){var e=0;return o.forEach((function(t){t.parent&&e++})),e};return{create2D:function(t,n,i){return e(t,n,i,r.CANVAS)},create:e,createWebGL:function(t,n,i){return e(t,n,i,r.WEBGL)},disableSmoothing:function(){a=!0},enableSmoothing:function(){a=!1},first:t,free:function(){return o.length-n()},pool:o,remove:function(e){var t=e instanceof HTMLCanvasElement;o.forEach((function(n){(t&&n.canvas===e||!t&&n.parent===e)&&(n.parent=null,n.canvas.width=1,n.canvas.height=1)}))},total:n}}()},function(e,t){var n={};e.exports=n,function(){n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n.extend=function(e,t){var r,i;"boolean"===typeof t?(r=2,i=t):(r=1,i=!0);for(var o=r;o<arguments.length;o++){var a=arguments[o];if(a)for(var s in a)i&&a[s]&&a[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=a[s]:(e[s]=e[s]||{},n.extend(e[s],i,a[s])):e[s]=a[s]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},n.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}for(var i in e)t.push(e[i]);return t},n.get=function(e,t,n,r){t=t.split(".").slice(n,r);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},n.set=function(e,t,r,i,o){var a=t.split(".").slice(i,o);return n.get(e,t,0,-1)[a[a.length-1]]=r,r},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(n.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(e){return"undefined"!==typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isFunction=function(e){return"function"===typeof e},n.isPlainObject=function(e){return"object"===typeof e&&e.constructor===Object},n.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},n.clamp=function(e,t,n){return e<t?t:e>n?n:e},n.sign=function(e){return e<0?-1:1},n.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-n._nowStartTime},n.random=function(t,n){return n="undefined"!==typeof n?n:1,(t="undefined"!==typeof t?t:0)+e()*(n-t)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.nextId=function(){return n._nextId++},n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.map=function(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},n.topologicalSort=function(e){var t=[],r=[],i=[];for(var o in e)r[o]||i[o]||n._topologicalSort(o,r,i,e,t);return t},n._topologicalSort=function(e,t,r,i,o){var a=i[e]||[];r[e]=!0;for(var s=0;s<a.length;s+=1){var u=a[s];r[u]||t[u]||n._topologicalSort(u,t,r,i,o)}r[e]=!1,t[e]=!0,o.push(e)},n.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var r=function(){for(var t,n=new Array(arguments.length),r=0,i=arguments.length;r<i;r++)n[r]=arguments[r];for(r=0;r<e.length;r+=1){var o=e[r].apply(t,n);"undefined"!==typeof o&&(t=o)}return t};return r._chained=e,r},n.chainPathBefore=function(e,t,r){return n.set(e,t,n.chain(r,n.get(e,t)))},n.chainPathAfter=function(e,t,r){return n.set(e,t,n.chain(n.get(e,t),r))}}()},function(e,t,n){var r={VERSION:"3.55.2",BlendModes:n(35),ScaleModes:n(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};e.exports=r},function(e,t,n){var r=n(0),i=n(11),o=n(15),a=n(47),s=new r({Extends:o,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Transform,i.Visible],initialize:function(e,t,n){void 0===t&&(t="Shape"),o.call(this,e,t),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.isFilled=!1:(this.fillColor=e,this.fillAlpha=t,this.isFilled=!0),this},setStrokeStyle:function(e,t,n){return void 0===n&&(n=1),void 0===e?this.isStroked=!1:(this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=n,this.isStroked=!0),this},setClosePath:function(e){return this.closePath=e,this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}}});e.exports=s},function(e,t){e.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(e,t,n){var r=n(14);e.exports=function(e){return e*r.DEG_TO_RAD}},function(e,t,n){e.exports={DESTROY:n(743),FADE_IN_COMPLETE:n(744),FADE_IN_START:n(745),FADE_OUT_COMPLETE:n(746),FADE_OUT_START:n(747),FLASH_COMPLETE:n(748),FLASH_START:n(749),FOLLOW_UPDATE:n(750),PAN_COMPLETE:n(751),PAN_START:n(752),POST_RENDER:n(753),PRE_RENDER:n(754),ROTATE_COMPLETE:n(755),ROTATE_START:n(756),SHAKE_COMPLETE:n(757),SHAKE_START:n(758),ZOOM_COMPLETE:n(759),ZOOM_START:n(760)}},function(e,t,n){var r=n(0),i=n(103),o=n(328),a=n(188),s=n(329),u=new r({initialize:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(e,t,n,r)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(e,t,n,r,i){return void 0===r&&(r=255),void 0===i&&(i=!0),this._locked=!0,this.red=e,this.green=t,this.blue=n,this.alpha=r,this._locked=!1,this.update(i)},setGLTo:function(e,t,n,r){return void 0===r&&(r=1),this._locked=!0,this.redGL=e,this.greenGL=t,this.blueGL=n,this.alphaGL=r,this._locked=!1,this.update(!0)},setFromRGB:function(e){return this._locked=!0,this.red=e.r,this.green=e.g,this.blue=e.b,e.hasOwnProperty("a")&&(this.alpha=e.a),this._locked=!1,this.update(!0)},setFromHSV:function(e,t,n){return a(e,t,n,this)},update:function(e){if(void 0===e&&(e=!1),this._locked)return this;var t=this.r,n=this.g,r=this.b,a=this.a;return this._color=i(t,n,r),this._color32=o(t,n,r,a),this._rgba="rgba("+t+","+n+","+r+","+a/255+")",e&&s(t,n,r,this),this},updateHSV:function(){var e=this.r,t=this.g,n=this.b;return s(e,t,n,this),this},clone:function(){return new u(this.r,this.g,this.b,this.a)},gray:function(e){return this.setTo(e,e,e)},random:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var n=Math.floor(e+Math.random()*(t-e)),r=Math.floor(e+Math.random()*(t-e)),i=Math.floor(e+Math.random()*(t-e));return this.setTo(n,r,i)},randomGray:function(e,t){void 0===e&&(e=0),void 0===t&&(t=255);var n=Math.floor(e+Math.random()*(t-e));return this.setTo(n,n,n)},saturate:function(e){return this.s+=e/100,this},desaturate:function(e){return this.s-=e/100,this},lighten:function(e){return this.v+=e/100,this},darken:function(e){return this.v-=e/100,this},brighten:function(e){var t=this.r,n=this.g,r=this.b;return t=Math.max(0,Math.min(255,t-Math.round(-e/100*255))),n=Math.max(0,Math.min(255,n-Math.round(-e/100*255))),r=Math.max(0,Math.min(255,r-Math.round(-e/100*255))),this.setTo(t,n,r)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(e){this.gl[0]=Math.min(Math.abs(e),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(e){this.gl[1]=Math.min(Math.abs(e),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(e){this.gl[2]=Math.min(Math.abs(e),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(e){this.gl[3]=Math.min(Math.abs(e),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(e){e=Math.floor(Math.abs(e)),this.r=Math.min(e,255),this.gl[0]=e/255,this.update(!0)}},green:{get:function(){return this.g},set:function(e){e=Math.floor(Math.abs(e)),this.g=Math.min(e,255),this.gl[1]=e/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(e){e=Math.floor(Math.abs(e)),this.b=Math.min(e,255),this.gl[2]=e/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(e){e=Math.floor(Math.abs(e)),this.a=Math.min(e,255),this.gl[3]=e/255,this.update()}},h:{get:function(){return this._h},set:function(e){this._h=e,a(e,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(e){this._s=e,a(this._h,e,this._v,this)}},v:{get:function(){return this._v},set:function(e){this._v=e,a(this._h,this._s,e,this)}}});e.exports=u},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n){this.x=0,this.y=0,this.z=0,"object"===typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clone:function(){return new r(this.x,this.y,this.z)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this},set:function(e,t,n){return"object"===typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):(this.x=e||0,this.y=t||0,this.z=n||0),this},setFromMatrixPosition:function(e){return this.fromArray(e.val,12)},setFromMatrixColumn:function(e,t){return this.fromArray(e.val,4*t)},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addScale:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this},scale:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z||0;return Math.sqrt(t*t+n*n+r*r)},distanceSq:function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z||0;return t*t+n*n+r*r},length:function(){var e=this.x,t=this.y,n=this.z;return Math.sqrt(e*e+t*t+n*n)},lengthSq:function(){var e=this.x,t=this.y,n=this.z;return e*e+t*t+n*n},normalize:function(){var e=this.x,t=this.y,n=this.z,r=e*e+t*t+n*n;return r>0&&(r=1/Math.sqrt(r),this.x=e*r,this.y=t*r,this.z=n*r),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},cross:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z;return this.x=n*a-r*o,this.y=r*i-t*a,this.z=t*o-n*i,this},lerp:function(e,t){void 0===t&&(t=0);var n=this.x,r=this.y,i=this.z;return this.x=n+t*(e.x-n),this.y=r+t*(e.y-r),this.z=i+t*(e.z-i),this},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.val;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.val,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},transformMat3:function(e){var t=this.x,n=this.y,r=this.z,i=e.val;return this.x=t*i[0]+n*i[3]+r*i[6],this.y=t*i[1]+n*i[4]+r*i[7],this.z=t*i[2]+n*i[5]+r*i[8],this},transformMat4:function(e){var t=this.x,n=this.y,r=this.z,i=e.val;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12],this.y=i[1]*t+i[5]*n+i[9]*r+i[13],this.z=i[2]*t+i[6]*n+i[10]*r+i[14],this},transformCoordinates:function(e){var t=this.x,n=this.y,r=this.z,i=e.val,o=t*i[0]+n*i[4]+r*i[8]+i[12],a=t*i[1]+n*i[5]+r*i[9]+i[13],s=t*i[2]+n*i[6]+r*i[10]+i[14],u=t*i[3]+n*i[7]+r*i[11]+i[15];return this.x=o/u,this.y=a/u,this.z=s/u,this},transformQuat:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,l=s*n+a*t-i*r,c=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+l*-a-c*-o,this.y=l*s+h*-o+c*-i-u*-a,this.z=c*s+h*-a+u*-o-l*-i,this},project:function(e){var t=this.x,n=this.y,r=this.z,i=e.val,o=i[0],a=i[1],s=i[2],u=i[3],l=i[4],c=i[5],h=i[6],f=i[7],d=i[8],p=i[9],v=i[10],g=i[11],m=i[12],y=i[13],x=i[14],b=1/(t*u+n*f+r*g+i[15]);return this.x=(t*o+n*l+r*d+m)*b,this.y=(t*a+n*c+r*p+y)*b,this.z=(t*s+n*h+r*v+x)*b,this},projectViewMatrix:function(e,t){return this.applyMatrix4(e).applyMatrix4(t)},unprojectViewMatrix:function(e,t){return this.applyMatrix4(e).applyMatrix4(t)},unproject:function(e,t){var n=e.x,r=e.y,i=e.z,o=e.w,a=this.x-n,s=o-this.y-1-r,u=this.z;return this.x=2*a/i-1,this.y=2*s/o-1,this.z=2*u-1,this.project(t)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});r.ZERO=new r,r.RIGHT=new r(1,0,0),r.LEFT=new r(-1,0,0),r.UP=new r(0,-1,0),r.DOWN=new r(0,1,0),r.FORWARD=new r(0,0,1),r.BACK=new r(0,0,-1),r.ONE=new r(1,1,1),e.exports=r},function(e,t){e.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(e,t,n){var r={};e.exports=r;var i=n(64),o=n(83),a=n(165),s=n(32),u=n(84),l=n(271);!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(t){var n={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!t.hasOwnProperty("position")&&t.hasOwnProperty("vertices")?t.position=i.centre(t.vertices):t.hasOwnProperty("vertices")||(n.vertices=i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var r=s.extend(n,t);return e(r,t),r.setOnCollideWith=function(e,t){return t?this.onCollideWith[e.id]=t:delete this.onCollideWith[e.id],this},r},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(e,t){t=t||{},r.set(e,{bounds:e.bounds||u.create(e.vertices),positionPrev:e.positionPrev||o.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e});var n=e.bounds;if(i.rotate(e.vertices,e.angle,e.position),l.rotate(e.axes,e.angle),u.update(n,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia}),1===e.parts.length){var a=e.centerOfMass,s=e.centerOffset,c=n.max.x-n.min.x,h=n.max.y-n.min.y;a.x=-(n.min.x-e.position.x)/c,a.y=-(n.min.y-e.position.y)/h,s.x=c*a.x,s.y=h*a.y}};r.set=function(e,t,n){var i;for(i in"string"===typeof t&&(i=t,(t={})[i]=n),t)if(Object.prototype.hasOwnProperty.call(t,i))switch(n=t[i],i){case"isStatic":r.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":r.setMass(e,n);break;case"density":r.setDensity(e,n);break;case"inertia":r.setInertia(e,n);break;case"vertices":r.setVertices(e,n);break;case"position":r.setPosition(e,n);break;case"angle":r.setAngle(e,n);break;case"velocity":r.setVelocity(e,n);break;case"angularVelocity":r.setAngularVelocity(e,n);break;case"parts":r.setParts(e,n);break;case"centre":r.setCentre(e,n);break;default:e[i]=n}},r.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var r=e.parts[n];r.isStatic=t,t?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,r._original=null)}},r.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=l.fromVertices(e.vertices),e.area=i.area(e.vertices),r.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),r.setInertia(e,r._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),u.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,n){var o;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,o=0;o<t.length;o++){var a=t[o];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(n="undefined"===typeof n||n){var s=[];for(o=0;o<t.length;o++)s=s.concat(t[o].vertices);i.clockwiseSort(s);var l=i.hull(s),c=i.centre(l);r.setVertices(e,l),i.translate(e.vertices,c)}var h=r._totalProperties(e),f=h.centre.x,d=h.centre.y,p=e.bounds,v=e.centerOfMass,g=e.centerOffset;u.update(p,e.vertices,e.velocity),v.x=-(p.min.x-f)/(p.max.x-p.min.x),v.y=-(p.min.y-d)/(p.max.y-p.min.y),g.x=f,g.y=d,e.area=h.area,e.parent=e,e.position.x=f,e.position.y=d,e.positionPrev.x=f,e.positionPrev.y=d,r.setMass(e,h.mass),r.setInertia(e,h.inertia),r.setPosition(e,h.centre)}},r.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},r.setPosition=function(e,t){var n=o.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var r=0;r<e.parts.length;r++){var a=e.parts[r];a.position.x+=n.x,a.position.y+=n.y,i.translate(a.vertices,n),u.update(a.bounds,a.vertices,e.velocity)}},r.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var r=0;r<e.parts.length;r++){var a=e.parts[r];a.angle+=n,i.rotate(a.vertices,n,e.position),l.rotate(a.axes,n),u.update(a.bounds,a.vertices,e.velocity),r>0&&o.rotateAbout(a.position,n,e.position,a.position)}},r.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=o.magnitude(e.velocity)},r.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},r.translate=function(e,t){r.setPosition(e,o.add(e.position,t))},r.rotate=function(e,t,n){if(n){var i=Math.cos(t),o=Math.sin(t),a=e.position.x-n.x,s=e.position.y-n.y;r.setPosition(e,{x:n.x+(a*i-s*o),y:n.y+(a*o+s*i)}),r.setAngle(e,e.angle+t)}else r.setAngle(e,e.angle+t)},r.scale=function(e,t,n,o){var a=0,s=0;o=o||e.position;for(var c=0;c<e.parts.length;c++){var h=e.parts[c];h.scale.x=t,h.scale.y=n,i.scale(h.vertices,t,n,o),h.axes=l.fromVertices(h.vertices),h.area=i.area(h.vertices),r.setMass(h,e.density*h.area),i.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),r.setInertia(h,r._inertiaScale*i.inertia(h.vertices,h.mass)),i.translate(h.vertices,{x:h.position.x,y:h.position.y}),c>0&&(a+=h.area,s+=h.inertia),h.position.x=o.x+(h.position.x-o.x)*t,h.position.y=o.y+(h.position.y-o.y)*n,u.update(h.bounds,h.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(r.setMass(e,e.density*a),r.setInertia(e,s))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},r.update=function(e,t,n,r){var a=Math.pow(t*n*e.timeScale,2),s=1-e.frictionAir*n*e.timeScale,c=e.position.x-e.positionPrev.x,h=e.position.y-e.positionPrev.y;e.velocity.x=c*s*r+e.force.x/e.mass*a,e.velocity.y=h*s*r+e.force.y/e.mass*a,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*s*r+e.torque/e.inertia*a,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=o.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var f=0;f<e.parts.length;f++){var d=e.parts[f];i.translate(d.vertices,e.velocity),f>0&&(d.position.x+=e.velocity.x,d.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(d.vertices,e.angularVelocity,e.position),l.rotate(d.axes,e.angularVelocity),f>0&&o.rotateAbout(d.position,e.angularVelocity,e.position,d.position)),u.update(d.bounds,d.vertices,e.velocity)}},r.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var r=t.x-e.position.x,i=t.y-e.position.y;e.torque+=r*n.y-i*n.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var r=e.parts[n],i=r.mass!==1/0?r.mass:1;t.mass+=i,t.area+=r.area,t.inertia+=r.inertia,t.centre=o.add(t.centre,o.mult(r.position,i))}return t.centre=o.div(t.centre,t.mass),t}}()},function(e,t){e.exports=function(e){return e.y+e.height-e.height*e.originY}},function(e,t){e.exports=function(e){return e.x-e.width*e.originX}},function(e,t){e.exports=function(e){return e.x+e.width-e.width*e.originX}},function(e,t){e.exports=function(e){return e.y-e.height*e.originY}},function(e,t){e.exports=function(e,t,n,r,i,o){var a;void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=1);var s=0,u=e.length;if(1===o)for(a=i;a<u;a++)e[a][t]+=n+s*r,s++;else for(a=i;a>=0;a--)e[a][t]+=n+s*r,s++;return e}},function(e,t,n){var r=n(0),i=n(307),o=n(172),a=n(56),s=n(173),u=n(3),l=new r({initialize:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.type=a.LINE,this.x1=e,this.y1=t,this.x2=n,this.y2=r},getPoint:function(e,t){return i(this,e,t)},getPoints:function(e,t,n){return o(this,e,t,n)},getRandomPoint:function(e){return s(this,e)},setTo:function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x1=e,this.y1=t,this.x2=n,this.y2=r,this},getPointA:function(e){return void 0===e&&(e=new u),e.set(this.x1,this.y1),e},getPointB:function(e){return void 0===e&&(e=new u),e.set(this.x2,this.y2),e},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(e){this.x1<=this.x2?this.x1=e:this.x2=e}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(e){this.x1>this.x2?this.x1=e:this.x2=e}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(e){this.y1<=this.y2?this.y1=e:this.y2=e}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(e){this.y1>this.y2?this.y1=e:this.y2=e}}});e.exports=l},function(e,t){e.exports=function(e,t,n,r){var i=n||t.fillColor,o=r||t.fillAlpha,a=(16711680&i)>>>16,s=(65280&i)>>>8,u=255&i;e.fillStyle="rgba("+a+","+s+","+u+","+o+")"}},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r){var i=[];r.forEach((function(e){e&&i.push(e)})),this.loader=e,this.type=t,this.key=n,this.multiKeyIndex=e.multiKeyIndex++,this.files=i,this.complete=!1,this.pending=i.length,this.failed=0,this.config={},this.baseURL=e.baseURL,this.path=e.path,this.prefix=e.prefix;for(var o=0;o<i.length;o++)i[o].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(e){return this.files.push(e),e.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(e){-1!==this.files.indexOf(e)&&this.pending--},onFileFailed:function(e){-1!==this.files.indexOf(e)&&this.failed++}});e.exports=r},function(e,t){e.exports=function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}},function(e,t,n){e.exports={BOOT:n(922),DESTROY:n(923),DRAG_END:n(924),DRAG_ENTER:n(925),DRAG:n(926),DRAG_LEAVE:n(927),DRAG_OVER:n(928),DRAG_START:n(929),DROP:n(930),GAME_OUT:n(931),GAME_OVER:n(932),GAMEOBJECT_DOWN:n(933),GAMEOBJECT_DRAG_END:n(934),GAMEOBJECT_DRAG_ENTER:n(935),GAMEOBJECT_DRAG:n(936),GAMEOBJECT_DRAG_LEAVE:n(937),GAMEOBJECT_DRAG_OVER:n(938),GAMEOBJECT_DRAG_START:n(939),GAMEOBJECT_DROP:n(940),GAMEOBJECT_MOVE:n(941),GAMEOBJECT_OUT:n(942),GAMEOBJECT_OVER:n(943),GAMEOBJECT_POINTER_DOWN:n(944),GAMEOBJECT_POINTER_MOVE:n(945),GAMEOBJECT_POINTER_OUT:n(946),GAMEOBJECT_POINTER_OVER:n(947),GAMEOBJECT_POINTER_UP:n(948),GAMEOBJECT_POINTER_WHEEL:n(949),GAMEOBJECT_UP:n(950),GAMEOBJECT_WHEEL:n(951),MANAGER_BOOT:n(952),MANAGER_PROCESS:n(953),MANAGER_UPDATE:n(954),POINTER_DOWN:n(955),POINTER_DOWN_OUTSIDE:n(956),POINTER_MOVE:n(957),POINTER_OUT:n(958),POINTER_OVER:n(959),POINTER_UP:n(960),POINTER_UP_OUTSIDE:n(961),POINTER_WHEEL:n(962),POINTERLOCK_CHANGE:n(963),PRE_UPDATE:n(964),SHUTDOWN:n(965),START:n(966),UPDATE:n(967)}},function(e,t){e.exports=function(e,t){return e.y=t+e.height*e.originY,e}},function(e,t){e.exports=function(e,t){return e.x=t+e.width*e.originX,e}},function(e,t){e.exports=function(e,t){return e.x=t-e.width+e.width*e.originX,e}},function(e,t){e.exports=function(e,t){return e.y=t-e.height+e.height*e.originY,e}},function(e,t){e.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(e,t){e.exports=function(e,t,n){return!(e.width<=0||e.height<=0)&&e.x<=t&&e.x+e.width>=t&&e.y<=n&&e.y+e.height>=n}},function(e,t,n){var r=n(0),i=n(175),o=n(9),a=n(374),s=n(2),u=n(69),l=n(91),c=n(141),h=n(12),f=n(375),d=new r({Extends:o,initialize:function(e){o.call(this);var t=e.game,n=t.renderer,r=n.gl;this.name=s(e,"name","WebGLPipeline"),this.game=t,this.renderer=n,this.manager,this.gl=r,this.view=t.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=s(e,"topology",r.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=s(e,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=e,this.glReset=!1},boot:function(){var e,t=this.gl,n=this.config,r=this.renderer;this.isPostFX||(this.projectionMatrix=(new u).identity());var i=this.renderTargets,o=s(n,"renderTarget",!1);"boolean"===typeof o&&o&&(o=1);var h=r.width,f=r.height;if("number"===typeof o)for(e=0;e<o;e++)i.push(new c(r,h,f,1,0,!0));else if(Array.isArray(o))for(e=0;e<o.length;e++){var d=s(o[e],"scale",1),p=s(o[e],"minFilter",0),v=s(o[e],"autoClear",1);i.push(new c(r,h,f,d,p,v))}i.length&&(this.currentRenderTarget=i[0]),this.setShadersFromConfig(n);var g=this.shaders,m=0;for(e=0;e<g.length;e++)g[e].vertexSize>m&&(m=g[e].vertexSize);var y=s(n,"batchSize",r.config.batchSize);this.vertexCapacity=6*y;var x=new ArrayBuffer(this.vertexCapacity*m);this.vertexData=x,this.bytes=new Uint8Array(x),this.vertexViewF32=new Float32Array(x),this.vertexViewU32=new Uint32Array(x);var b=s(n,"vertices",null);for(b?(this.vertexViewF32.set(b),this.vertexBuffer=r.createVertexBuffer(x,t.STATIC_DRAW)):this.vertexBuffer=r.createVertexBuffer(x.byteLength,t.DYNAMIC_DRAW),this.setVertexBuffer(),e=g.length-1;e>=0;e--)g[e].rebind();this.hasBooted=!0,r.on(l.RESIZE,this.resize,this),r.on(l.PRE_RENDER,this.onPreRender,this),r.on(l.RENDER,this.onRender,this),r.on(l.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(e,t){var n=this.renderer;return e===this.currentShader&&n.currentProgram===this.currentShader.program||(this.flush(),n.resetTextures(),this.setVertexBuffer()&&!t&&(t=!0),e.bind(t,!1),this.currentShader=e),this},getShaderByName:function(e){for(var t=this.shaders,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},setShadersFromConfig:function(e){var t,n=this.shaders,r=this.renderer;for(t=0;t<n.length;t++)n[t].destroy();var o="vertShader",a="fragShader",u="attributes",l=s(e,o,null),c=h.parseFragmentShaderMaxTextures(s(e,a,null),r.maxTextures),d=s(e,u,null),p=s(e,"shaders",[]),v=p.length;if(0===v)l&&c&&(this.shaders=[new f(this,"default",l,c,i(d))]);else{var g=[];for(t=0;t<v;t++){var m=p[t],y=s(m,"name","default"),x=s(m,o,l),b=h.parseFragmentShaderMaxTextures(s(m,a,c),r.maxTextures),w=s(m,u,d);x&&b&&g.push(new f(this,y,x,b,i(w)))}this.shaders=g}return 0===this.shaders.length?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(e,t){return void 0===t&&(t=e.frame),this.currentUnit=this.renderer.setTextureSource(t.source),this.currentUnit},shouldFlush:function(e){return void 0===e&&(e=0),this.vertexCount+e>this.vertexCapacity},resize:function(e,t){e===this.width&&t===this.height||this.flush(),this.width=e,this.height=t;for(var n=this.renderTargets,r=0;r<n.length;r++)n[r].resize(e,t);return this.setProjectionMatrix(e,t),this.emit(a.RESIZE,e,t,this),this.onResize(e,t),this},setProjectionMatrix:function(e,t){var n=this.projectionMatrix;if(!n)return this;this.projectionWidth=e,this.projectionHeight=t,n.ortho(0,e,t,0,-1e3,1e3);for(var r=this.shaders,i="uProjectionMatrix",o=0;o<r.length;o++){var a=r[o];a.hasUniform(i)&&(a.resetUniform(i),a.setMatrix4fv(i,!1,n.val,a))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var e=this.renderer.projectionWidth,t=this.renderer.projectionHeight;this.projectionWidth===e&&this.projectionHeight===t||this.setProjectionMatrix(e,t)}},bind:function(e){if(void 0===e&&(e=this.currentShader),this.glReset)return this.rebind(e);var t=this.setVertexBuffer();return e.bind(t),this.currentShader=e,this.emit(a.BIND,this,e),this.onActive(e),this},rebind:function(e){this.setVertexBuffer();for(var t=this.shaders,n=t.length-1;n>=0;n--){var r=t[n].rebind();e&&r!==e||(this.currentShader=r)}return this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var e=this.gl,t=this.vertexBuffer;return e.getParameter(e.ARRAY_BUFFER_BINDING)!==t&&(e.bindBuffer(e.ARRAY_BUFFER,t),!0)},preBatch:function(e){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(e),this},postBatch:function(e){return this.onDraw(this.currentRenderTarget),this.onPostBatch(e),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(e){if(void 0===e&&(e=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,e),this.onBeforeFlush(e);var t=this.gl,n=this.vertexCount,r=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),n===this.vertexCapacity?t.bufferData(t.ARRAY_BUFFER,this.vertexData,t.DYNAMIC_DRAW):t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,n*r)),t.drawArrays(this.topology,0,n)),this.vertexCount=0,this.emit(a.AFTER_FLUSH,this,e),this.onAfterFlush(e)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(e,t,n,r,i,o,a){var s=this.vertexViewF32,u=this.vertexViewU32,l=this.vertexCount*this.currentShader.vertexComponentCount-1;s[++l]=e,s[++l]=t,s[++l]=n,s[++l]=r,s[++l]=i,s[++l]=o,u[++l]=a,this.vertexCount++},batchQuad:function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,x){void 0===x&&(x=this.currentUnit);var b=!1;return this.shouldFlush(6)&&(this.flush(),b=!0,x=this.setTexture2D(y)),this.batchVert(t,n,l,c,x,m,d),this.batchVert(r,i,l,f,x,m,v),this.batchVert(o,a,h,f,x,m,g),this.batchVert(t,n,l,c,x,m,d),this.batchVert(o,a,h,f,x,m,g),this.batchVert(s,u,h,c,x,m,p),this.onBatch(e),b},batchTri:function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v,g){void 0===g&&(g=this.currentUnit);var m=!1;return this.shouldFlush(3)&&(this.flush(),m=!0,g=this.setTexture2D(v)),this.batchVert(t,n,s,u,g,p,h),this.batchVert(r,i,s,c,g,p,f),this.batchVert(o,a,l,c,g,p,d),this.onBatch(e),m},drawFillRect:function(e,t,n,r,i,o,a,s){void 0===a&&(a=this.renderer.whiteTexture.glTexture),void 0===s&&(s=!0),e=Math.floor(e),t=Math.floor(t);var u=Math.floor(e+n),l=Math.floor(t+r),c=this.setTexture2D(a),f=h.getTintAppendFloatAlphaAndSwap(i,o),d=0,p=1;s&&(d=1,p=0),this.batchQuad(null,e,t,e,l,u,l,u,t,0,d,1,p,f,f,f,f,0,a,c)},setTexture2D:function(e){return void 0===e&&(e=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(e),this.currentUnit},bindTexture:function(e,t){void 0===t&&(t=0);var n=this.gl;return n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),this},bindRenderTarget:function(e,t){return this.bindTexture(e.texture,t)},setTime:function(e){return this.set1f(e,this.game.loop.getDuration()),this},set1f:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set1f(e,t),this},set2f:function(e,t,n,r){return void 0===r&&(r=this.currentShader),r.set2f(e,t,n),this},set3f:function(e,t,n,r,i){return void 0===i&&(i=this.currentShader),i.set3f(e,t,n,r),this},set4f:function(e,t,n,r,i,o){return void 0===o&&(o=this.currentShader),o.set4f(e,t,n,r,i),this},set1fv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set1fv(e,t),this},set2fv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set2fv(e,t),this},set3fv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set3fv(e,t),this},set4fv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set4fv(e,t),this},set1iv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set1iv(e,t),this},set2iv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set2iv(e,t),this},set3iv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set3iv(e,t),this},set4iv:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set4iv(e,t),this},set1i:function(e,t,n){return void 0===n&&(n=this.currentShader),n.set1i(e,t),this},set2i:function(e,t,n,r){return void 0===r&&(r=this.currentShader),r.set2i(e,t,n),this},set3i:function(e,t,n,r,i){return void 0===i&&(i=this.currentShader),i.set3i(e,t,n,r),this},set4i:function(e,t,n,r,i,o){return void 0===o&&(o=this.currentShader),o.set4i(e,t,n,r,i),this},setMatrix2fv:function(e,t,n,r){return void 0===r&&(r=this.currentShader),r.setMatrix2fv(e,t,n),this},setMatrix3fv:function(e,t,n,r){return void 0===r&&(r=this.currentShader),r.setMatrix3fv(e,t,n),this},setMatrix4fv:function(e,t,n,r){return void 0===r&&(r=this.currentShader),r.setMatrix4fv(e,t,n),this},destroy:function(){var e;this.emit(a.DESTROY,this);var t=this.shaders;for(e=0;e<t.length;e++)t[e].destroy();var n=this.renderTargets;for(e=0;e<n.length;e++)n[e].destroy();this.gl.deleteBuffer(this.vertexBuffer);var r=this.renderer;return r.off(l.RESIZE,this.resize,this),r.off(l.PRE_RENDER,this.onPreRender,this),r.off(l.RENDER,this.onRender,this),r.off(l.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});e.exports=d},function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,u,l,c,d,p,g=t&&t.length,m=g?t[0]*n:e.length,y=i(e,0,m,n,!0),x=[];if(!y||y.next===y.prev)return x;if(g&&(y=function(e,t,n,r){var a,s,u,l=[];for(a=0,s=t.length;a<s;a++)(u=i(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r,!1))===u.next&&(u.steiner=!0),l.push(v(u));for(l.sort(h),a=0;a<l.length;a++)f(l[a],n),n=o(n,n.next);return n}(e,t,y,n)),e.length>80*n){r=u=e[0],s=l=e[1];for(var b=n;b<m;b+=n)(c=e[b])<r&&(r=c),(d=e[b+1])<s&&(s=d),c>u&&(u=c),d>l&&(l=d);p=0!==(p=Math.max(u-r,l-s))?1/p:0}return a(y,x,n,r,s,p),x}function i(e,t,n,r,i){var o,a;if(i===C(e,t,n,r)>0)for(o=t;o<n;o+=r)a=T(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=T(o,e[o],e[o+1],a);return a&&x(a,a.next)&&(A(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!x(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(A(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,h,f){if(e){!f&&h&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=p(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,h);for(var d,v,g=e;e.prev!==e.next;)if(d=e.prev,v=e.next,h?u(e,r,i,h):s(e))t.push(d.i/n),t.push(e.i/n),t.push(v.i/n),A(e),e=v.next,g=v.next;else if((e=v)===g){f?1===f?a(e=l(o(e),t,n),t,n,r,i,h,2):2===f&&c(e,t,n,r,i,h):a(o(e),t,n,r,i,h,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(y(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(g(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,n,r){var i=e.prev,o=e,a=e.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=p(s,u,t,n,r),f=p(l,c,t,n,r),d=e.prevZ,v=e.nextZ;d&&d.z>=h&&v&&v.z<=f;){if(d!==e.prev&&d!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,v!==e.prev&&v!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&y(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;v&&v.z<=f;){if(v!==e.prev&&v!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function l(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!x(i,a)&&b(i,r,r.next,a)&&E(i,a)&&E(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),A(r),A(r.next),r=e=a),r=r.next}while(r!==e);return o(r)}function c(e,t,n,r,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&m(u,l)){var c=_(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,t,n,r,i,s),void a(c,t,n,r,i,s)}l=l.next}u=u.next}while(u!==e)}function h(e,t){return e.x-t.x}function f(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,h=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&g(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),E(r,e)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&d(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(e,t),t){var n=_(t,e);o(t,t.next),o(n,n.next)}}function d(e,t){return y(e.prev,e,t.prev)<0&&y(t.next,e,e.next)<0}function p(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function v(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function g(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&b(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(E(e,t)&&E(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||x(e,t)&&y(e.prev,e,e.next)>0&&y(t.prev,t,t.next)>0)}function y(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,n,r){var i=k(y(e,t,n)),o=k(y(e,t,r)),a=k(y(n,r,e)),s=k(y(n,r,t));return i!==o&&a!==s||!(0!==i||!w(e,n,t))||!(0!==o||!w(e,r,t))||!(0!==a||!w(n,e,r))||!(0!==s||!w(n,t,r))}function w(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function k(e){return e>0?1:e<0?-1:0}function E(e,t){return y(e.prev,e,e.next)<0?y(e,t,e.next)>=0&&y(e,e.prev,t)>=0:y(e,t,e.prev)<0||y(e,e.next,t)<0}function _(e,t){var n=new S(e.i,e.x,e.y),r=new S(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function T(e,t,n,r){var i=new S(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(C(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(C(e,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n},e.exports=r},function(e,t){e.exports=function(e,t,n,r){var i=n||t.strokeColor,o=r||t.strokeAlpha,a=(16711680&i)>>>16,s=(65280&i)>>>8,u=255&i;e.strokeStyle="rgba("+a+","+s+","+u+","+o+")",e.lineWidth=t.lineWidth}},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(6),l=n(7),c=new r({Extends:o,initialize:function(e,t,n,r,a){var c="json";if(l(t)){var h=t;t=s(h,"key"),n=s(h,"url"),r=s(h,"xhrSettings"),c=s(h,"extension",c),a=s(h,"dataKey",a)}var f={type:"json",cache:e.cacheManager.json,extension:c,responseType:"text",key:t,url:n,xhrSettings:r,config:a};o.call(this,e,f),l(n)&&(this.data=a?u(n,a):n,this.state=i.FILE_POPULATED)},onProcess:function(){if(this.state!==i.FILE_POPULATED){this.state=i.FILE_PROCESSING;try{var e=JSON.parse(this.xhrLoader.responseText)}catch(n){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),n}var t=this.config;this.data="string"===typeof t?u(e,t,e):e}this.onProcessComplete()}});a.register("json",(function(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new c(this,e[i]));else this.addFile(new c(this,e,t,r,n));return this})),e.exports=c},function(e,t){e.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(e,t,n){var r=n(158),i=n(26);e.exports=function(e,t,n,o,a){for(var s=null,u=null,l=null,c=null,h=i(e,t,n,o,null,a),f=0;f<h.length;f++){var d=h[f];d&&(d.collides?(s=r(d.x,d.y-1,!0,a),u=r(d.x,d.y+1,!0,a),l=r(d.x-1,d.y,!0,a),c=r(d.x+1,d.y,!0,a),d.faceTop=!s||!s.collides,d.faceBottom=!u||!u.collides,d.faceLeft=!l||!l.collides,d.faceRight=!c||!c.collides):d.resetFaces())}}},function(e,t,n){var r={};e.exports=r;var i=n(83),o=n(32);r.create=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o={x:i.x,y:i.y,index:r,body:t,isInternal:!1,contact:null,offset:null};o.contact={vertex:o,normalImpulse:0,tangentImpulse:0},n.push(o)}return n},r.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(e,t,r){n.push({x:parseFloat(t),y:parseFloat(r)})})),r.create(n,t)},r.centre=function(e){for(var t,n,o,a=r.area(e,!0),s={x:0,y:0},u=0;u<e.length;u++)o=(u+1)%e.length,t=i.cross(e[u],e[o]),n=i.mult(i.add(e[u],e[o]),t),s=i.add(s,n);return i.div(s,6*a)},r.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},r.area=function(e,t){for(var n=0,r=e.length-1,i=0;i<e.length;i++)n+=(e[r].x-e[i].x)*(e[r].y+e[i].y),r=i;return t?n/2:Math.abs(n)/2},r.inertia=function(e,t){for(var n,r,o=0,a=0,s=e,u=0;u<s.length;u++)r=(u+1)%s.length,o+=(n=Math.abs(i.cross(s[r],s[u])))*(i.dot(s[r],s[r])+i.dot(s[r],s[u])+i.dot(s[u],s[u])),a+=n;return t/6*(o/a)},r.translate=function(e,t,n){var r;if(n)for(r=0;r<e.length;r++)e[r].x+=t.x*n,e[r].y+=t.y*n;else for(r=0;r<e.length;r++)e[r].x+=t.x,e[r].y+=t.y;return e},r.rotate=function(e,t,n){if(0!==t){for(var r=Math.cos(t),i=Math.sin(t),o=0;o<e.length;o++){var a=e[o],s=a.x-n.x,u=a.y-n.y;a.x=n.x+(s*r-u*i),a.y=n.y+(s*i+u*r)}return e}},r.contains=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=e[(n+1)%e.length];if((t.x-r.x)*(i.y-r.y)+(t.y-r.y)*(r.x-i.x)>0)return!1}return!0},r.scale=function(e,t,n,o){if(1===t&&1===n)return e;var a,s;o=o||r.centre(e);for(var u=0;u<e.length;u++)a=e[u],s=i.sub(a,o),e[u].x=o.x+s.x*t,e[u].y=o.y+s.y*n;return e},r.chamfer=function(e,t,n,r,a){t="number"===typeof t?[t]:t||[8],n="undefined"!==typeof n?n:-1,r=r||2,a=a||14;for(var s=[],u=0;u<e.length;u++){var l=e[u-1>=0?u-1:e.length-1],c=e[u],h=e[(u+1)%e.length],f=t[u<t.length?u:t.length-1];if(0!==f){var d=i.normalise({x:c.y-l.y,y:l.x-c.x}),p=i.normalise({x:h.y-c.y,y:c.x-h.x}),v=Math.sqrt(2*Math.pow(f,2)),g=i.mult(o.clone(d),f),m=i.normalise(i.mult(i.add(d,p),.5)),y=i.sub(c,i.mult(m,v)),x=n;-1===n&&(x=1.75*Math.pow(f,.32)),(x=o.clamp(x,r,a))%2===1&&(x+=1);for(var b=Math.acos(i.dot(d,p))/x,w=0;w<x;w++)s.push(i.add(i.rotate(g,b*w),y))}else s.push(c)}return s},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort((function(e,n){return i.angle(t,e)-i.angle(t,n)})),e},r.isConvex=function(e){var t,n,r,i,o=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(r=(t+2)%a,i=(e[n=(t+1)%a].x-e[t].x)*(e[r].y-e[n].y),(i-=(e[n].y-e[t].y)*(e[r].x-e[n].x))<0?o|=1:i>0&&(o|=2),3===o)return!1;return 0!==o||null},r.hull=function(e){var t,n,r=[],o=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),o.pop(),r.concat(o)}},function(e,t,n){var r=n(0),i=n(66),o=n(300),a=n(301),s=n(56),u=n(170),l=new r({initialize:function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.type=s.CIRCLE,this.x=e,this.y=t,this._radius=n,this._diameter=2*n},contains:function(e,t){return i(this,e,t)},getPoint:function(e,t){return o(this,e,t)},getPoints:function(e,t,n){return a(this,e,t,n)},getRandomPoint:function(e){return u(this,e)},setTo:function(e,t,n){return this.x=e,this.y=t,this._radius=n,this._diameter=2*n,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this._diameter=2*e}},diameter:{get:function(){return this._diameter},set:function(e){this._diameter=e,this._radius=.5*e}},left:{get:function(){return this.x-this._radius},set:function(e){this.x=e+this._radius}},right:{get:function(){return this.x+this._radius},set:function(e){this.x=e-this._radius}},top:{get:function(){return this.y-this._radius},set:function(e){this.y=e+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(e){this.y=e-this._radius}}});e.exports=l},function(e,t){e.exports=function(e,t,n){return e.radius>0&&t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom&&(e.x-t)*(e.x-t)+(e.y-n)*(e.y-n)<=e.radius*e.radius}},function(e,t){e.exports=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))}},function(e,t){e.exports=function(e,t,n){var r=n-t;return t+((e-t)%r+r)%r}},function(e,t,n){var r=n(0),i=n(39),o=1e-6,a=new r({initialize:function(e){this.val=new Float32Array(16),e?this.copy(e):this.identity()},clone:function(){return new a(this)},set:function(e){return this.copy(e)},setValues:function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v){var g=this.val;return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=s,g[8]=u,g[9]=l,g[10]=c,g[11]=h,g[12]=f,g[13]=d,g[14]=p,g[15]=v,this},copy:function(e){var t=e.val;return this.setValues(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},fromArray:function(e){return this.setValues(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(e,t,n){var r=s.fromQuat(n).val,i=t.x,o=t.y,a=t.z;return this.setValues(r[0]*i,r[1]*i,r[2]*i,0,r[4]*o,r[5]*o,r[6]*o,0,r[8]*a,r[9]*a,r[10]*a,0,e.x,e.y,e.z,1)},xyz:function(e,t,n){this.identity();var r=this.val;return r[12]=e,r[13]=t,r[14]=n,this},scaling:function(e,t,n){this.zero();var r=this.val;return r[0]=e,r[5]=t,r[10]=n,r[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var e=this.val,t=e[1],n=e[2],r=e[3],i=e[6],o=e[7],a=e[11];return e[1]=e[4],e[2]=e[8],e[3]=e[12],e[4]=t,e[6]=e[9],e[7]=e[13],e[8]=n,e[9]=i,e[11]=e[14],e[12]=r,e[13]=o,e[14]=a,this},getInverse:function(e){return this.copy(e),this.invert()},invert:function(){var e=this.val,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],g=e[15],m=t*a-n*o,y=t*s-r*o,x=t*u-i*o,b=n*s-r*a,w=n*u-i*a,k=r*u-i*s,E=l*p-c*d,_=l*v-h*d,T=l*g-f*d,A=c*v-h*p,S=c*g-f*p,C=h*g-f*v,I=m*C-y*S+x*A+b*T-w*_+k*E;return I?(I=1/I,this.setValues((a*C-s*S+u*A)*I,(r*S-n*C-i*A)*I,(p*k-v*w+g*b)*I,(h*w-c*k-f*b)*I,(s*T-o*C-u*_)*I,(t*C-r*T+i*_)*I,(v*x-d*k-g*y)*I,(l*k-h*x+f*y)*I,(o*S-a*T+u*E)*I,(n*T-t*S-i*E)*I,(d*w-p*x+g*m)*I,(c*x-l*w-f*m)*I,(a*_-o*A-s*E)*I,(t*A-n*_+r*E)*I,(p*y-d*b-v*m)*I,(l*b-c*y+h*m)*I)):this},adjoint:function(){var e=this.val,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],g=e[15];return this.setValues(a*(h*g-f*v)-c*(s*g-u*v)+p*(s*f-u*h),-(n*(h*g-f*v)-c*(r*g-i*v)+p*(r*f-i*h)),n*(s*g-u*v)-a*(r*g-i*v)+p*(r*u-i*s),-(n*(s*f-u*h)-a*(r*f-i*h)+c*(r*u-i*s)),-(o*(h*g-f*v)-l*(s*g-u*v)+d*(s*f-u*h)),t*(h*g-f*v)-l*(r*g-i*v)+d*(r*f-i*h),-(t*(s*g-u*v)-o*(r*g-i*v)+d*(r*u-i*s)),t*(s*f-u*h)-o*(r*f-i*h)+l*(r*u-i*s),o*(c*g-f*p)-l*(a*g-u*p)+d*(a*f-u*c),-(t*(c*g-f*p)-l*(n*g-i*p)+d*(n*f-i*c)),t*(a*g-u*p)-o*(n*g-i*p)+d*(n*u-i*a),-(t*(a*f-u*c)-o*(n*f-i*c)+l*(n*u-i*a)),-(o*(c*v-h*p)-l*(a*v-s*p)+d*(a*h-s*c)),t*(c*v-h*p)-l*(n*v-r*p)+d*(n*h-r*c),-(t*(a*v-s*p)-o*(n*v-r*p)+d*(n*s-r*a)),t*(a*h-s*c)-o*(n*h-r*c)+l*(n*s-r*a))},determinant:function(){var e=this.val,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],g=e[15];return(t*a-n*o)*(h*g-f*v)-(t*s-r*o)*(c*g-f*p)+(t*u-i*o)*(c*v-h*p)+(n*s-r*a)*(l*g-f*d)-(n*u-i*a)*(l*v-h*d)+(r*u-i*s)*(l*p-c*d)},multiply:function(e){var t=this.val,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],v=t[13],g=t[14],m=t[15],y=e.val,x=y[0],b=y[1],w=y[2],k=y[3];return t[0]=x*n+b*a+w*c+k*p,t[1]=x*r+b*s+w*h+k*v,t[2]=x*i+b*u+w*f+k*g,t[3]=x*o+b*l+w*d+k*m,x=y[4],b=y[5],w=y[6],k=y[7],t[4]=x*n+b*a+w*c+k*p,t[5]=x*r+b*s+w*h+k*v,t[6]=x*i+b*u+w*f+k*g,t[7]=x*o+b*l+w*d+k*m,x=y[8],b=y[9],w=y[10],k=y[11],t[8]=x*n+b*a+w*c+k*p,t[9]=x*r+b*s+w*h+k*v,t[10]=x*i+b*u+w*f+k*g,t[11]=x*o+b*l+w*d+k*m,x=y[12],b=y[13],w=y[14],k=y[15],t[12]=x*n+b*a+w*c+k*p,t[13]=x*r+b*s+w*h+k*v,t[14]=x*i+b*u+w*f+k*g,t[15]=x*o+b*l+w*d+k*m,this},multiplyLocal:function(e){var t=this.val,n=e.val;return this.setValues(t[0]*n[0]+t[1]*n[4]+t[2]*n[8]+t[3]*n[12],t[0]*n[1]+t[1]*n[5]+t[2]*n[9]+t[3]*n[13],t[0]*n[2]+t[1]*n[6]+t[2]*n[10]+t[3]*n[14],t[0]*n[3]+t[1]*n[7]+t[2]*n[11]+t[3]*n[15],t[4]*n[0]+t[5]*n[4]+t[6]*n[8]+t[7]*n[12],t[4]*n[1]+t[5]*n[5]+t[6]*n[9]+t[7]*n[13],t[4]*n[2]+t[5]*n[6]+t[6]*n[10]+t[7]*n[14],t[4]*n[3]+t[5]*n[7]+t[6]*n[11]+t[7]*n[15],t[8]*n[0]+t[9]*n[4]+t[10]*n[8]+t[11]*n[12],t[8]*n[1]+t[9]*n[5]+t[10]*n[9]+t[11]*n[13],t[8]*n[2]+t[9]*n[6]+t[10]*n[10]+t[11]*n[14],t[8]*n[3]+t[9]*n[7]+t[10]*n[11]+t[11]*n[15],t[12]*n[0]+t[13]*n[4]+t[14]*n[8]+t[15]*n[12],t[12]*n[1]+t[13]*n[5]+t[14]*n[9]+t[15]*n[13],t[12]*n[2]+t[13]*n[6]+t[14]*n[10]+t[15]*n[14],t[12]*n[3]+t[13]*n[7]+t[14]*n[11]+t[15]*n[15])},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.val,r=t.val,i=n[0],o=n[4],a=n[8],s=n[12],u=n[1],l=n[5],c=n[9],h=n[13],f=n[2],d=n[6],p=n[10],v=n[14],g=n[3],m=n[7],y=n[11],x=n[15],b=r[0],w=r[4],k=r[8],E=r[12],_=r[1],T=r[5],A=r[9],S=r[13],C=r[2],I=r[6],P=r[10],O=r[14],R=r[3],M=r[7],D=r[11],L=r[15];return this.setValues(i*b+o*_+a*C+s*R,u*b+l*_+c*C+h*R,f*b+d*_+p*C+v*R,g*b+m*_+y*C+x*R,i*w+o*T+a*I+s*M,u*w+l*T+c*I+h*M,f*w+d*T+p*I+v*M,g*w+m*T+y*I+x*M,i*k+o*A+a*P+s*D,u*k+l*A+c*P+h*D,f*k+d*A+p*P+v*D,g*k+m*A+y*P+x*D,i*E+o*S+a*O+s*L,u*E+l*S+c*O+h*L,f*E+d*S+p*O+v*L,g*E+m*S+y*O+x*L)},translate:function(e){return this.translateXYZ(e.x,e.y,e.z)},translateXYZ:function(e,t,n){var r=this.val;return r[12]=r[0]*e+r[4]*t+r[8]*n+r[12],r[13]=r[1]*e+r[5]*t+r[9]*n+r[13],r[14]=r[2]*e+r[6]*t+r[10]*n+r[14],r[15]=r[3]*e+r[7]*t+r[11]*n+r[15],this},scale:function(e){return this.scaleXYZ(e.x,e.y,e.z)},scaleXYZ:function(e,t,n){var r=this.val;return r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*e,r[3]=r[3]*e,r[4]=r[4]*t,r[5]=r[5]*t,r[6]=r[6]*t,r[7]=r[7]*t,r[8]=r[8]*n,r[9]=r[9]*n,r[10]=r[10]*n,r[11]=r[11]*n,this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,l=i*a;return this.setValues(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,l*a+n,l*s-r*o,0,u*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1)},rotate:function(e,t){var n=this.val,r=t.x,i=t.y,a=t.z,s=Math.sqrt(r*r+i*i+a*a);if(Math.abs(s)<o)return this;r*=s=1/s,i*=s,a*=s;var u=Math.sin(e),l=Math.cos(e),c=1-l,h=n[0],f=n[1],d=n[2],p=n[3],v=n[4],g=n[5],m=n[6],y=n[7],x=n[8],b=n[9],w=n[10],k=n[11],E=n[12],_=n[13],T=n[14],A=n[15],S=r*r*c+l,C=i*r*c+a*u,I=a*r*c-i*u,P=r*i*c-a*u,O=i*i*c+l,R=a*i*c+r*u,M=r*a*c+i*u,D=i*a*c-r*u,L=a*a*c+l;return this.setValues(h*S+v*C+x*I,f*S+g*C+b*I,d*S+m*C+w*I,p*S+y*C+k*I,h*P+v*O+x*R,f*P+g*O+b*R,d*P+m*O+w*R,p*P+y*O+k*R,h*M+v*D+x*L,f*M+g*D+b*L,d*M+m*D+w*L,p*M+y*D+k*L,E,_,T,A)},rotateX:function(e){var t=this.val,n=Math.sin(e),r=Math.cos(e),i=t[4],o=t[5],a=t[6],s=t[7],u=t[8],l=t[9],c=t[10],h=t[11];return t[4]=i*r+u*n,t[5]=o*r+l*n,t[6]=a*r+c*n,t[7]=s*r+h*n,t[8]=u*r-i*n,t[9]=l*r-o*n,t[10]=c*r-a*n,t[11]=h*r-s*n,this},rotateY:function(e){var t=this.val,n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],s=t[3],u=t[8],l=t[9],c=t[10],h=t[11];return t[0]=i*r-u*n,t[1]=o*r-l*n,t[2]=a*r-c*n,t[3]=s*r-h*n,t[8]=i*n+u*r,t[9]=o*n+l*r,t[10]=a*n+c*r,t[11]=s*n+h*r,this},rotateZ:function(e){var t=this.val,n=Math.sin(e),r=Math.cos(e),i=t[0],o=t[1],a=t[2],s=t[3],u=t[4],l=t[5],c=t[6],h=t[7];return t[0]=i*r+u*n,t[1]=o*r+l*n,t[2]=a*r+c*n,t[3]=s*r+h*n,t[4]=u*r-i*n,t[5]=l*r-o*n,t[6]=c*r-a*n,t[7]=h*r-s*n,this},fromRotationTranslation:function(e,t){var n=e.x,r=e.y,i=e.z,o=e.w,a=n+n,s=r+r,u=i+i,l=n*a,c=n*s,h=n*u,f=r*s,d=r*u,p=i*u,v=o*a,g=o*s,m=o*u;return this.setValues(1-(f+p),c+m,h-g,0,c-m,1-(l+p),d+v,0,h+g,d-v,1-(l+f),0,t.x,t.y,t.z,1)},fromQuat:function(e){var t=e.x,n=e.y,r=e.z,i=e.w,o=t+t,a=n+n,s=r+r,u=t*o,l=t*a,c=t*s,h=n*a,f=n*s,d=r*s,p=i*o,v=i*a,g=i*s;return this.setValues(1-(h+d),l+g,c-v,0,l-g,1-(u+d),f+p,0,c+v,f-p,1-(u+h),0,0,0,0,1)},frustum:function(e,t,n,r,i,o){var a=1/(t-e),s=1/(r-n),u=1/(i-o);return this.setValues(2*i*a,0,0,0,0,2*i*s,0,0,(t+e)*a,(r+n)*s,(o+i)*u,-1,0,0,o*i*2*u,0)},perspective:function(e,t,n,r){var i=1/Math.tan(e/2),o=1/(n-r);return this.setValues(i/t,0,0,0,0,i,0,0,0,0,(r+n)*o,-1,0,0,2*r*n*o,0)},perspectiveLH:function(e,t,n,r){return this.setValues(2*n/e,0,0,0,0,2*n/t,0,0,0,0,-r/(n-r),1,0,0,n*r/(n-r),0)},ortho:function(e,t,n,r,i,o){var a=e-t,s=n-r,u=i-o;return a=0===a?a:1/a,s=0===s?s:1/s,u=0===u?u:1/u,this.setValues(-2*a,0,0,0,0,-2*s,0,0,0,0,2*u,0,(e+t)*a,(r+n)*s,(o+i)*u,1)},lookAtRH:function(e,t,n){var r=this.val;return h.subVectors(e,t),0===h.getLengthSquared()&&(h.z=1),h.normalize(),l.crossVectors(n,h),0===l.getLengthSquared()&&(1===Math.abs(n.z)?h.x+=1e-4:h.z+=1e-4,h.normalize(),l.crossVectors(n,h)),l.normalize(),c.crossVectors(h,l),r[0]=l.x,r[1]=l.y,r[2]=l.z,r[4]=c.x,r[5]=c.y,r[6]=c.z,r[8]=h.x,r[9]=h.y,r[10]=h.z,this},lookAt:function(e,t,n){var r=e.x,i=e.y,a=e.z,s=n.x,u=n.y,l=n.z,c=t.x,h=t.y,f=t.z;if(Math.abs(r-c)<o&&Math.abs(i-h)<o&&Math.abs(a-f)<o)return this.identity();var d=r-c,p=i-h,v=a-f,g=1/Math.sqrt(d*d+p*p+v*v),m=u*(v*=g)-l*(p*=g),y=l*(d*=g)-s*v,x=s*p-u*d;(g=Math.sqrt(m*m+y*y+x*x))?(m*=g=1/g,y*=g,x*=g):(m=0,y=0,x=0);var b=p*x-v*y,w=v*m-d*x,k=d*y-p*m;return(g=Math.sqrt(b*b+w*w+k*k))?(b*=g=1/g,w*=g,k*=g):(b=0,w=0,k=0),this.setValues(m,b,d,0,y,w,p,0,x,k,v,0,-(m*r+y*i+x*a),-(b*r+w*i+k*a),-(d*r+p*i+v*a),1)},yawPitchRoll:function(e,t,n){this.zero(),s.zero(),u.zero();var r=this.val,i=s.val,o=u.val,a=Math.sin(n),l=Math.cos(n);return r[10]=1,r[15]=1,r[0]=l,r[1]=a,r[4]=-a,r[5]=l,a=Math.sin(t),l=Math.cos(t),i[0]=1,i[15]=1,i[5]=l,i[10]=l,i[9]=-a,i[6]=a,a=Math.sin(e),l=Math.cos(e),o[5]=1,o[15]=1,o[0]=l,o[2]=-a,o[8]=a,o[10]=l,this.multiplyLocal(s),this.multiplyLocal(u),this},setWorldMatrix:function(e,t,n,r,i){return this.yawPitchRoll(e.y,e.x,e.z),s.scaling(n.x,n.y,n.z),u.xyz(t.x,t.y,t.z),this.multiplyLocal(s),this.multiplyLocal(u),r&&this.multiplyLocal(r),i&&this.multiplyLocal(i),this},multiplyToMat4:function(e,t){var n=this.val,r=e.val,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],d=n[9],p=n[10],v=n[11],g=n[12],m=n[13],y=n[14],x=n[15],b=r[0],w=r[1],k=r[2],E=r[3],_=r[4],T=r[5],A=r[6],S=r[7],C=r[8],I=r[9],P=r[10],O=r[11],R=r[12],M=r[13],D=r[14],L=r[15];return t.setValues(b*i+w*u+k*f+E*g,w*o+w*l+k*d+E*m,k*a+w*c+k*p+E*y,E*s+w*h+k*v+E*x,_*i+T*u+A*f+S*g,_*o+T*l+A*d+S*m,_*a+T*c+A*p+S*y,_*s+T*h+A*v+S*x,C*i+I*u+P*f+O*g,C*o+I*l+P*d+O*m,C*a+I*c+P*p+O*y,C*s+I*h+P*v+O*x,R*i+M*u+D*f+L*g,R*o+M*l+D*d+L*m,R*a+M*c+D*p+L*y,R*s+M*h+D*v+L*x)},fromRotationXYTranslation:function(e,t,n){var r=t.x,i=t.y,o=t.z,a=Math.sin(e.x),s=Math.cos(e.x),u=Math.sin(e.y),l=Math.cos(e.y),c=r,h=i,f=o,d=-a,p=0-d*u,v=0-s*u,g=d*l,m=s*l;return n||(c=l*r+u*o,h=p*r+s*i+g*o,f=v*r+a*i+m*o),this.setValues(l,p,v,0,0,s,a,0,u,g,m,0,c,h,f,1)},getMaxScaleOnAxis:function(){var e=this.val,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}}),s=new a,u=new a,l=new i,c=new i,h=new i;e.exports=a},function(e,t,n){e.exports={COMPLETE:n(987),DECODED:n(988),DECODED_ALL:n(989),DESTROY:n(990),DETUNE:n(991),GLOBAL_DETUNE:n(992),GLOBAL_MUTE:n(993),GLOBAL_RATE:n(994),GLOBAL_VOLUME:n(995),LOOP:n(996),LOOPED:n(997),MUTE:n(998),PAN:n(999),PAUSE_ALL:n(1e3),PAUSE:n(1001),PLAY:n(1002),RATE:n(1003),RESUME_ALL:n(1004),RESUME:n(1005),SEEK:n(1006),STOP_ALL:n(1007),STOP:n(1008),UNLOCKED:n(1009),VOLUME:n(1010)}},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function e(t,n,r,i,a){var l,c="png";if(u(n)){var h=n;n=s(h,"key"),r=s(h,"url"),l=s(h,"normalMap"),i=s(h,"xhrSettings"),c=s(h,"extension",c),a=s(h,"frameConfig")}Array.isArray(r)&&(l=r[1],r=r[0]);var f={type:"image",cache:t.textureManager,extension:c,responseType:"blob",key:n,url:r,xhrSettings:i,config:a};if(o.call(this,t,f),l){var d=new e(t,this.key,l,i,a);d.type="normalMap",this.setLink(d),t.addFile(d)}},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){o.revokeObjectURL(e.data),e.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(e.data),e.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var e,t=this.linkFile;t&&t.state===i.FILE_COMPLETE?(e="image"===this.type?this.cache.addImage(this.key,this.data,t.data):this.cache.addImage(t.key,t.data,this.data),this.pendingDestroy(e),t.pendingDestroy(e)):t||(e=this.cache.addImage(this.key,this.data),this.pendingDestroy(e))}});a.register("image",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,n));return this})),e.exports=l},function(e,t){e.exports=function(e,t){t?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)}},function(e,t,n){var r=n(164),i=n(0),o=n(11),a=n(15),s=n(1065),u=new i({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,s],initialize:function(e,t,n,i,o){a.call(this,e,"Sprite"),this._crop=this.resetCropObject(),this.anims=new r(this),this.setTexture(i,o),this.setPosition(t,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(e,t){this.anims.update(e,t)},play:function(e,t){return this.anims.play(e,t)},playReverse:function(e,t){return this.anims.playReverse(e,t)},playAfterDelay:function(e,t){return this.anims.playAfterDelay(e,t)},playAfterRepeat:function(e,t){return this.anims.playAfterRepeat(e,t)},chain:function(e){return this.anims.chain(e)},stop:function(){return this.anims.stop()},stopAfterDelay:function(e){return this.anims.stopAfterDelay(e)},stopAfterRepeat:function(e){return this.anims.stopAfterRepeat(e)},stopOnFrame:function(e){return this.anims.stopOnFrame(e)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});e.exports=u},function(e,t){e.exports=function(e,t){if(!(t>=e.length)){for(var n=e.length-1,r=e[t],i=t;i<n;i++)e[i]=e[i+1];return e.length=n,r}}},function(e,t,n){e.exports={ADDED_TO_SCENE:n(643),DESTROY:n(644),REMOVED_FROM_SCENE:n(645),VIDEO_COMPLETE:n(646),VIDEO_CREATED:n(647),VIDEO_ERROR:n(648),VIDEO_LOOP:n(649),VIDEO_PLAY:n(650),VIDEO_SEEKED:n(651),VIDEO_SEEKING:n(652),VIDEO_STOP:n(653),VIDEO_TIMEOUT:n(654),VIDEO_UNLOCKED:n(655)}},function(e,t){e.exports=function(e,t,n,r){return void 0===n&&(n=0),0===t?e:(e-=n,e=t*Math.floor(e/t),r?(n+e)/t:n+e)}},function(e,t){e.exports=function(e){var t={};for(var n in e)Array.isArray(e[n])?t[n]=e[n].slice(0):t[n]=e[n];return t}},function(e,t){e.exports=function(e,t,n,r){var i=e.length;if(t<0||t>i||t>=n||n>i||t+n>i){if(r)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(e,t){function n(e,t){return String(e).localeCompare(t)}function r(e,t,n,r){var i,o,a,s,u,l=e.length,c=0,h=2*n;for(i=0;i<l;i+=h)for(a=(o=i+n)+n,o>l&&(o=l),a>l&&(a=l),s=i,u=o;;)if(s<o&&u<a)t(e[s],e[u])<=0?r[c++]=e[s++]:r[c++]=e[u++];else if(s<o)r[c++]=e[s++];else{if(!(u<a))break;r[c++]=e[u++]}}e.exports=function(e,t){void 0===t&&(t=n);var i=function(e,t){var n=e.length;if(n<=1)return e;for(var i=new Array(n),o=1;o<n;o*=2){r(e,t,o,i);var a=e;e=i,i=a}return e}(e,t);return i!==e&&r(i,null,e.length,e),e}},function(e,t,n){var r=n(134),i=n(205);e.exports=function(e,t){var n=r.Power0;if("string"===typeof e)if(r.hasOwnProperty(e))n=r[e];else{var o="";e.indexOf(".")&&("in"===(o=e.substr(e.indexOf(".")+1)).toLowerCase()?o="easeIn":"out"===o.toLowerCase()?o="easeOut":"inout"===o.toLowerCase()&&(o="easeInOut")),e=i(e.substr(0,e.indexOf(".")+1)+o),r.hasOwnProperty(e)&&(n=r[e])}else"function"===typeof e?n=e:Array.isArray(e)&&e.length;if(!t)return n;var a=t.slice(0);return a.unshift(0),function(e){return a[0]=e,n.apply(this,a)}}},function(e,t,n){var r=n(12);e.exports=function(e,t,n,i,o){var a=e.strokeTint,s=r.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*n);a.TL=s,a.TR=s,a.BL=s,a.BR=s;var u=t.pathData,l=u.length-1,c=t.lineWidth,h=c/2,f=u[0]-i,d=u[1]-o;t.closePath||(l-=2);for(var p=2;p<l;p+=2){var v=u[p]-i,g=u[p+1]-o;e.batchLine(f,d,v,g,h,h,c,p-2,!!t.closePath&&p===l-1),f=v,d=g}}},function(e,t,n){var r=n(0),i=n(115),o=n(476),a=n(477),s=n(56),u=n(47),l=n(181),c=new r({initialize:function(e,t,n,r,i,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),this.type=s.TRIANGLE,this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.x3=i,this.y3=o},contains:function(e,t){return i(this,e,t)},getPoint:function(e,t){return o(this,e,t)},getPoints:function(e,t,n){return a(this,e,t,n)},getRandomPoint:function(e){return l(this,e)},setTo:function(e,t,n,r,i,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),this.x1=e,this.y1=t,this.x2=n,this.y2=r,this.x3=i,this.y3=o,this},getLineA:function(e){return void 0===e&&(e=new u),e.setTo(this.x1,this.y1,this.x2,this.y2),e},getLineB:function(e){return void 0===e&&(e=new u),e.setTo(this.x2,this.y2,this.x3,this.y3),e},getLineC:function(e){return void 0===e&&(e=new u),e.setTo(this.x3,this.y3,this.x1,this.y1),e},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1<=this.x2&&this.x1<=this.x3?this.x1-e:this.x2<=this.x1&&this.x2<=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(e){var t=0;t=this.x1>=this.x2&&this.x1>=this.x3?this.x1-e:this.x2>=this.x1&&this.x2>=this.x3?this.x2-e:this.x3-e,this.x1-=t,this.x2-=t,this.x3-=t}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1<=this.y2&&this.y1<=this.y3?this.y1-e:this.y2<=this.y1&&this.y2<=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(e){var t=0;t=this.y1>=this.y2&&this.y1>=this.y3?this.y1-e:this.y2>=this.y1&&this.y2>=this.y3?this.y2-e:this.y3-e,this.y1-=t,this.y2-=t,this.y3-=t}}});e.exports=c},function(e,t){var n={};e.exports=n,n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var r=Math.cos(t),i=Math.sin(t);n||(n={});var o=e.x*r-e.y*i;return n.y=e.x*i+e.y*r,n.x=o,n},n.rotateAbout=function(e,t,n,r){var i=Math.cos(t),o=Math.sin(t);r||(r={});var a=n.x+((e.x-n.x)*i-(e.y-n.y)*o);return r.y=n.y+((e.x-n.x)*o+(e.y-n.y)*i),r.x=a,r},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(e,t){var n={};e.exports=n,n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var i=t[r];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+r}},function(e,t,n){var r=n(29),i=n(0),o=n(11),a=n(502),s=new i({Mixins:[o.Alpha,o.Flip,o.Visible],initialize:function(e,t,n,r,i,o,a,s){this.layer=e,this.index=t,this.x=n,this.y=r,this.width=i,this.height=o,this.right,this.bottom,this.baseWidth=void 0!==a?a:i,this.baseHeight=void 0!==s?s:o,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(e,t){return!(e<this.pixelX||t<this.pixelY||e>this.right||t>this.bottom)},copy:function(e){return this.index=e.index,this.alpha=e.alpha,this.properties=e.properties,this.visible=e.visible,this.setFlip(e.flipX,e.flipY),this.tint=e.tint,this.rotation=e.rotation,this.collideUp=e.collideUp,this.collideDown=e.collideDown,this.collideLeft=e.collideLeft,this.collideRight=e.collideRight,this.collisionCallback=e.collisionCallback,this.collisionCallbackContext=e.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(e){var t=this.tilemapLayer;return t?t.tileToWorldX(this.x,e):this.x*this.baseWidth},getRight:function(e){var t=this.tilemapLayer;return t?this.getLeft(e)+this.width*t.scaleX:this.getLeft(e)+this.width},getTop:function(e){var t=this.tilemapLayer;return t?t.tileToWorldY(this.y,e)-(this.height-this.baseHeight)*t.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(e){var t=this.tilemapLayer;return t?this.getTop(e)+this.height*t.scaleY:this.getTop(e)+this.height},getBounds:function(e,t){return void 0===t&&(t=new a),t.x=this.getLeft(),t.y=this.getTop(),t.width=this.getRight()-t.x,t.height=this.getBottom()-t.y,t},getCenterX:function(e){return(this.getLeft(e)+this.getRight(e))/2},getCenterY:function(e){return(this.getTop(e)+this.getBottom(e))/2},intersects:function(e,t,n,r){return!(n<=this.pixelX||r<=this.pixelY||e>=this.right||t>=this.bottom)},isInteresting:function(e,t){return e&&t?this.canCollide||this.hasInterestingFace:e?this.collides:!!t&&this.hasInterestingFace},resetCollision:function(e){return void 0===e&&(e=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,e&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(e,t,n,r,i){return void 0===t&&(t=e),void 0===n&&(n=e),void 0===r&&(r=e),void 0===i&&(i=!0),this.collideLeft=e,this.collideRight=t,this.collideUp=n,this.collideDown=r,this.faceLeft=e,this.faceRight=t,this.faceTop=n,this.faceBottom=r,i&&this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y),this},setCollisionCallback:function(e,t){return null===e?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=e,this.collisionCallbackContext=t),this},setSize:function(e,t,n,r){return void 0!==e&&(this.width=e),void 0!==t&&(this.height=t),void 0!==n&&(this.baseWidth=n),void 0!==r&&(this.baseHeight=r),this.updatePixelXY(),this},updatePixelXY:function(){var e=this.layer.orientation;if(e===r.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(e===r.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(e===r.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(e===r.HEXAGONAL){var t=this.layer.hexSideLength,n=(this.baseHeight-t)/2+t;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*n}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||void 0!==this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var e=this.layer.tilemapLayer;if(e){var t=e.gidMap[this.index];if(t)return t}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var e=this.tilemapLayer;return e?e.tilemap:null}}});e.exports=s},function(e,t,n){var r={};e.exports=r;var i=n(64),o=n(32),a=n(41),s=n(84),u=n(83),l=n(1393);r.rectangle=function(e,t,n,r,s){s=s||{};var u={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(s.chamfer){var l=s.chamfer;u.vertices=i.chamfer(u.vertices,l.radius,l.quality,l.qualityMin,l.qualityMax),delete s.chamfer}return a.create(o.extend({},u,s))},r.trapezoid=function(e,t,n,r,s,u){u=u||{};var l,c=n*(s*=.5),h=c+(1-2*s)*n,f=h+c;l=s<.5?"L 0 0 L "+c+" "+-r+" L "+h+" "+-r+" L "+f+" 0":"L 0 0 L "+h+" "+-r+" L "+f+" 0";var d={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(l)};if(u.chamfer){var p=u.chamfer;d.vertices=i.chamfer(d.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete u.chamfer}return a.create(o.extend({},d,u))},r.circle=function(e,t,n,i,a){i=i||{};var s={label:"Circle Body",circleRadius:n};a=a||25;var u=Math.ceil(Math.max(10,Math.min(a,n)));return u%2===1&&(u+=1),r.polygon(e,t,u,n,o.extend({},s,i))},r.polygon=function(e,t,n,s,u){if(u=u||{},n<3)return r.circle(e,t,s,u);for(var l=2*Math.PI/n,c="",h=.5*l,f=0;f<n;f+=1){var d=h+f*l,p=Math.cos(d)*s,v=Math.sin(d)*s;c+="L "+p.toFixed(3)+" "+v.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(c)};if(u.chamfer){var m=u.chamfer;g.vertices=i.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete u.chamfer}return a.create(o.extend({},g,u))},r.fromVertices=function(e,t,n,s,u,c,h){var f,d,p,v,g,m;for(s=s||{},d=[],u="undefined"!==typeof u&&u,c="undefined"!==typeof c?c:.01,h="undefined"!==typeof h?h:10,l||o.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),o.isArray(n[0])||(n=[n]),m=0;m<n.length;m+=1)if(v=n[m],(p=i.isConvex(v))||!l)v=p?i.clockwiseSort(v):i.hull(v),d.push({position:{x:e,y:t},vertices:v});else{var y=v.map((function(e){return[e.x,e.y]}));l.makeCCW(y),!1!==c&&l.removeCollinearPoints(y,c);var x=l.quickDecomp(y);for(g=0;g<x.length;g++){var b=x[g].map((function(e){return{x:e[0],y:e[1]}}));h>0&&i.area(b)<h||d.push({position:i.centre(b),vertices:b})}}for(g=0;g<d.length;g++)d[g]=a.create(o.extend(d[g],s));return u&&r.flagCoincidentParts(d,5),d.length>1?(f=a.create(o.extend({parts:d.slice(0)},s)),a.setPosition(f,{x:e,y:t}),f):d[0]},r.flagCoincidentParts=function(e,t){void 0===t&&(t=5);for(var n=0;n<e.length;n++)for(var r=e[n],i=n+1;i<e.length;i++){var o=e[i];if(s.overlaps(r.bounds,o.bounds))for(var a=r.vertices,l=o.vertices,c=0;c<r.vertices.length;c++)for(var h=0;h<o.vertices.length;h++){var f=u.magnitudeSquared(u.sub(a[(c+1)%a.length],l[h])),d=u.magnitudeSquared(u.sub(a[c],l[(h+1)%l.length]));f<t&&d<t&&(a[c].isInternal=!0,l[h].isInternal=!0)}}return e}},function(e,t){e.exports=function(e){return e.x-e.width*e.originX+.5*e.width}},function(e,t){e.exports=function(e,t){var n=e.width*e.originX;return e.x=t+n-.5*e.width,e}},function(e,t){e.exports=function(e){return e.y-e.height*e.originY+.5*e.height}},function(e,t){e.exports=function(e,t){var n=e.height*e.originY;return e.y=t+n-.5*e.height,e}},function(e,t,n){e.exports={POST_RENDER:n(628),PRE_RENDER:n(629),RENDER:n(630),RESIZE:n(631)}},function(e,t){e.exports={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"}},function(e,t,n){var r=n(74);e.exports=function(e,t,n,i){var o;if(void 0===i&&(i=e),!Array.isArray(t))return-1!==(o=e.indexOf(t))?(r(e,o),n&&n.call(i,t),t):null;for(var a=t.length-1,s=[];a>=0;){var u=t[a];-1!==(o=e.indexOf(u))&&(r(e,o),s.push(u),n&&n.call(i,u)),a--}return s}},function(e,t,n){var r=n(0),i=n(199),o=n(10),a=n(3),s=new r({initialize:function(e){this.type=e,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(e,t){return void 0===t&&(t=32),e.strokePoints(this.getPoints(t))},getBounds:function(e,t){e||(e=new o),void 0===t&&(t=16);var n=this.getLength();t>n&&(t=n/2);var r=Math.max(1,Math.round(n/t));return i(this.getSpacedPoints(r),e)},getDistancePoints:function(e){var t=this.getLength(),n=Math.max(1,t/e);return this.getSpacedPoints(n)},getEndPoint:function(e){return void 0===e&&(e=new a),this.getPointAt(1,e)},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0,this._tmpVec2A),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e,this._tmpVec2B)).distance(r),n.push(i),r.copy(t);return this.cacheArcLengths=n,n},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e,t,n){void 0===n&&(n=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var r=0;r<=e;r++)n.push(this.getPoint(r/e));return n},getRandomPoint:function(e){return void 0===e&&(e=new a),this.getPoint(Math.random(),e)},getSpacedPoints:function(e,t,n){void 0===n&&(n=[]),e||(e=t?this.getLength()/t:this.defaultDivisions);for(var r=0;r<=e;r++){var i=this.getUtoTmapping(r/e,null,e);n.push(this.getPoint(i))}return n},getStartPoint:function(e){return void 0===e&&(e=new a),this.getPointAt(0,e)},getTangent:function(e,t){void 0===t&&(t=new a);var n=1e-4,r=e-n,i=e+n;return r<0&&(r=0),i>1&&(i=1),this.getPoint(r,this._tmpVec2A),this.getPoint(i,t),t.subtract(this._tmpVec2A).normalize()},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},getTFromDistance:function(e,t){return e<=0?0:this.getUtoTmapping(0,e,t)},getUtoTmapping:function(e,t,n){var r,i=this.getLengths(n),o=0,a=i.length;r=t?Math.min(t,i[a-1]):e*i[a-1];for(var s,u=0,l=a-1;u<=l;)if((s=i[o=Math.floor(u+(l-u)/2)]-r)<0)u=o+1;else{if(!(s>0)){l=o;break}l=o-1}if(i[o=l]===r)return o/(a-1);var c=i[o];return(o+(r-c)/(i[o+1]-c))/(a-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});e.exports=s},function(e,t,n){e.exports={ADD:n(968),COMPLETE:n(969),FILE_COMPLETE:n(970),FILE_KEY_COMPLETE:n(971),FILE_LOAD_ERROR:n(972),FILE_LOAD:n(973),FILE_PROGRESS:n(974),POST_PROCESS:n(975),PROGRESS:n(976),START:n(977)}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){void 0===n&&(n=new r);var i=e.x1,o=e.y1,a=e.x2,s=e.y2,u=t.x1,l=t.y1,c=t.x2,h=t.y2,f=(h-l)*(a-i)-(c-u)*(s-o);if(0===f)return!1;var d=((c-u)*(o-l)-(h-l)*(i-u))/f,p=((a-i)*(o-l)-(s-o)*(i-u))/f;return d>=0&&d<=1&&p>=0&&p<=1&&(n.x=i+d*(a-i),n.y=o+d*(s-o),!0)}},function(e,t){e.exports=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)}},function(e,t,n){var r=n(18);e.exports=function(e,t,n){return(n-t)*(e=r(e,0,1))+t}},function(e,t){e.exports=function(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}},function(e,t){e.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(e,t,n){var r=n(0),i=n(315),o=new r({initialize:function(e,t){this.parent=e,this.events=t,t||(this.events=e.events?e.events:e),this.list={},this.values={},this._frozen=!1,!e.hasOwnProperty("sys")&&this.events&&this.events.once(i.DESTROY,this.destroy,this)},get:function(e){var t=this.list;if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}return t[e]},getAll:function(){var e={};for(var t in this.list)this.list.hasOwnProperty(t)&&(e[t]=this.list[t]);return e},query:function(e){var t={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(e)&&(t[n]=this.list[n]);return t},set:function(e,t){if(this._frozen)return this;if("string"===typeof e)return this.setValue(e,t);for(var n in e)this.setValue(n,e[n]);return this},inc:function(e,t){if(this._frozen)return this;void 0===t&&(t=1);var n=this.get(e);return void 0===n&&(n=0),this.set(e,n+t),this},toggle:function(e){return this._frozen||this.set(e,!this.get(e)),this},setValue:function(e,t){if(this._frozen)return this;if(this.has(e))this.values[e]=t;else{var n=this,r=this.list,o=this.events,a=this.parent;Object.defineProperty(this.values,e,{enumerable:!0,configurable:!0,get:function(){return r[e]},set:function(t){if(!n._frozen){var s=r[e];r[e]=t,o.emit(i.CHANGE_DATA,a,e,t,s),o.emit(i.CHANGE_DATA_KEY+e,a,t,s)}}}),r[e]=t,o.emit(i.SET_DATA,a,e,t)}return this},each:function(e,t){for(var n=[this.parent,null,void 0],r=1;r<arguments.length;r++)n.push(arguments[r]);for(var i in this.list)n[1]=i,n[2]=this.list[i],e.apply(t,n);return this},merge:function(e,t){for(var n in void 0===t&&(t=!0),e)e.hasOwnProperty(n)&&(t||!t&&!this.has(n))&&this.setValue(n,e[n]);return this},remove:function(e){if(this._frozen)return this;if(!Array.isArray(e))return this.removeValue(e);for(var t=0;t<e.length;t++)this.removeValue(e[t]);return this},removeValue:function(e){if(this.has(e)){var t=this.list[e];delete this.list[e],delete this.values[e],this.events.emit(i.REMOVE_DATA,this.parent,e,t)}return this},pop:function(e){var t=void 0;return!this._frozen&&this.has(e)&&(t=this.list[e],delete this.list[e],delete this.values[e],this.events.emit(i.REMOVE_DATA,this.parent,e,t)),t},has:function(e){return this.list.hasOwnProperty(e)},setFreeze:function(e){return this._frozen=e,this},reset:function(){for(var e in this.list)delete this.list[e],delete this.values[e];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(i.CHANGE_DATA),this.events.off(i.SET_DATA),this.events.off(i.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(e){this._frozen=!!e}},count:{get:function(){var e=0;for(var t in this.list)void 0!==this.list[t]&&e++;return e}}});e.exports=o},function(e,t,n){var r=new(n(0))({initialize:function(e){if(this.entries={},this.size=0,Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t][0],e[t][1])},set:function(e,t){return this.has(e)||this.size++,this.entries[e]=t,this},get:function(e){if(this.has(e))return this.entries[e]},getArray:function(){var e=[],t=this.entries;for(var n in t)e.push(t[n]);return e},has:function(e){return this.entries.hasOwnProperty(e)},delete:function(e){return this.has(e)&&(delete this.entries[e],this.size--),this},clear:function(){return Object.keys(this.entries).forEach((function(e){delete this.entries[e]}),this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var e=[],t=this.entries;for(var n in t)e.push(t[n]);return e},dump:function(){var e=this.entries;for(var t in console.group("Map"),e)console.log(t,e[t]);console.groupEnd()},each:function(e){var t=this.entries;for(var n in t)if(!1===e(n,t[n]))break;return this},contains:function(e){var t=this.entries;for(var n in t)if(t[n]===e)return!0;return!1},merge:function(e,t){void 0===t&&(t=!1);var n=this.entries,r=e.entries;for(var i in r)n.hasOwnProperty(i)&&t?n[i]=r[i]:this.set(i,r[i]);return this}});e.exports=r},function(e,t){e.exports=function(e,t,n){return e<<16|t<<8|n}},function(e,t,n){e.exports={ENTER_FULLSCREEN:n(800),FULLSCREEN_FAILED:n(801),FULLSCREEN_UNSUPPORTED:n(802),LEAVE_FULLSCREEN:n(803),ORIENTATION_CHANGE:n(804),RESIZE:n(805)}},function(e,t,n){(function(t){var n={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};e.exports=function(){if("function"===typeof importScripts)return n;var e=navigator.userAgent;/Windows/.test(e)?n.windows=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(n.iOS=!0,n.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),n.iOSVersion=parseInt(RegExp.$1,10)):n.macOS=!0:/Android/.test(e)?n.android=!0:/Linux/.test(e)?n.linux=!0:/iP[ao]d|iPhone/i.test(e)?(n.iOS=!0,navigator.appVersion.match(/OS (\d+)/),n.iOSVersion=parseInt(RegExp.$1,10),n.iPhone=-1!==e.toLowerCase().indexOf("iphone"),n.iPad=-1!==e.toLowerCase().indexOf("ipad")):/Kindle/.test(e)||/\bKF[A-Z][A-Z]+/.test(e)||/Silk.*Mobile Safari/.test(e)?n.kindle=!0:/CrOS/.test(e)&&(n.chromeOS=!0),(/Windows Phone/i.test(e)||/IEMobile/i.test(e))&&(n.android=!1,n.iOS=!1,n.macOS=!1,n.windows=!0,n.windowsPhone=!0);var r=/Silk/.test(e);return(n.windows||n.macOS||n.linux&&!r||n.chromeOS)&&(n.desktop=!0),(n.windowsPhone||/Windows NT/i.test(e)&&/Touch/i.test(e))&&(n.desktop=!1),navigator.standalone&&(n.webApp=!0),"function"!==typeof importScripts&&(void 0!==window.cordova&&(n.cordova=!0),void 0!==window.ejecta&&(n.ejecta=!0)),"undefined"!==typeof t&&t.versions&&t.versions.node&&(n.node=!0),n.node&&"object"===typeof t.versions&&(n.nodeWebkit=!!t.versions["node-webkit"],n.electron=!!t.versions.electron),/Crosswalk/.test(e)&&(n.crosswalk=!0),n.pixelRatio=window.devicePixelRatio||1,n}()}).call(this,n(807))},function(e,t,n){e.exports={ADD:n(861),ERROR:n(862),LOAD:n(863),READY:n(864),REMOVE:n(865)}},function(e,t){e.exports={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}}},function(e,t,n){var r=n(0),i=n(59),o=n(2),a=n(878),s=n(879),u=n(25),l=n(12),c=n(107),h=n(58),f=new r({Extends:h,initialize:function(e){var t=e.game.renderer,n=o(e,"fragShader",a);e.fragShader=l.parseFragmentShaderMaxTextures(n,t.maxTextures),e.vertShader=o(e,"vertShader",s),e.attributes=o(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),h.call(this,e),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.calcMatrix=new u,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){h.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(e,t,n){this.manager.set(this,e);var r=this._tempMatrix1,i=this._tempMatrix2,o=this._tempMatrix3,a=e.frame,s=a.glTexture,u=a.u0,c=a.v0,h=a.u1,f=a.v1,d=a.x,p=a.y,v=a.cutWidth,g=a.cutHeight,m=a.customPivot,y=e.displayOriginX,x=e.displayOriginY,b=-y+d,w=-x+p;if(e.isCropped){var k=e._crop;k.flipX===e.flipX&&k.flipY===e.flipY||a.updateCropUVs(k,e.flipX,e.flipY),u=k.u0,c=k.v0,h=k.u1,f=k.v1,v=k.width,g=k.height,b=-y+(d=k.x),w=-x+(p=k.y)}var E=1,_=1;e.flipX&&(m||(b+=-a.realWidth+2*y),E=-1),(e.flipY||a.source.isGLTexture&&!s.flipY)&&(m||(w+=-a.realHeight+2*x),_=-1),i.applyITRS(e.x,e.y,e.rotation,e.scaleX*E,e.scaleY*_),r.copyFrom(t.matrix),n?(r.multiplyWithOffset(n,-t.scrollX*e.scrollFactorX,-t.scrollY*e.scrollFactorY),i.e=e.x,i.f=e.y):(i.e-=t.scrollX*e.scrollFactorX,i.f-=t.scrollY*e.scrollFactorY),r.multiply(i,o);var T=b+v,A=w+g,S=t.roundPixels,C=o.getXRound(b,w,S),I=o.getYRound(b,w,S),P=o.getXRound(b,A,S),O=o.getYRound(b,A,S),R=o.getXRound(T,A,S),M=o.getYRound(T,A,S),D=o.getXRound(T,w,S),L=o.getYRound(T,w,S),N=l.getTintAppendFloatAlpha,F=t.alpha,B=N(e.tintTopLeft,F*e._alphaTL),U=N(e.tintTopRight,F*e._alphaTR),z=N(e.tintBottomLeft,F*e._alphaBL),V=N(e.tintBottomRight,F*e._alphaBR);this.shouldFlush(6)&&this.flush();var j=this.setGameObject(e,a);this.manager.preBatch(e),this.batchQuad(e,C,I,P,O,R,M,D,L,u,c,h,f,B,U,z,V,e.tintFill,s,j),this.manager.postBatch(e)},batchTexture:function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,x,b,w,k,E,_,T,A,S,C,I,P,O){this.manager.set(this,e);var R=this._tempMatrix1,M=this._tempMatrix2,D=this._tempMatrix3,L=m/n+A,N=y/r+S,F=(m+x)/n+A,B=(y+b)/r+S,U=a,z=s,V=-v,j=-g;if(e.isCropped){var Y=e._crop,W=Y.width,G=Y.height;U=W,z=G,a=W,s=G;var H=m=Y.x,X=y=Y.y;h&&(H=x-Y.x-W),f&&(X=b-Y.y-G),L=H/n+A,N=X/r+S,F=(H+W)/n+A,B=(X+G)/r+S,V=-v+m,j=-g+y}h&&(U*=-1,V+=a),(f^=!P&&t.isRenderTexture?1:0)&&(z*=-1,j+=s);var q=V+U,K=j+z;M.applyITRS(i,o,c,u,l),R.copyFrom(C.matrix),I?(R.multiplyWithOffset(I,-C.scrollX*d,-C.scrollY*p),M.e=i,M.f=o):(M.e-=C.scrollX*d,M.f-=C.scrollY*p),R.multiply(M,D);var $=C.roundPixels,Q=D.getXRound(V,j,$),J=D.getYRound(V,j,$),Z=D.getXRound(V,K,$),ee=D.getYRound(V,K,$),te=D.getXRound(q,K,$),ne=D.getYRound(q,K,$),re=D.getXRound(q,j,$),ie=D.getYRound(q,j,$);void 0===O&&(O=this.renderer.setTexture2D(t)),e&&this.manager.preBatch(e),this.batchQuad(e,Q,J,Z,ee,te,ne,re,ie,L,N,F,B,w,k,E,_,T,t,O),e&&this.manager.postBatch(e)},batchTextureFrame:function(e,t,n,r,i,o,a){this.manager.set(this);var s=this._tempMatrix1.copyFrom(o),u=this._tempMatrix2,c=t+e.width,h=n+e.height;a?s.multiply(a,u):u=s;var f=u.getX(t,n),d=u.getY(t,n),p=u.getX(t,h),v=u.getY(t,h),g=u.getX(c,h),m=u.getY(c,h),y=u.getX(c,n),x=u.getY(c,n),b=this.renderer.setTextureSource(e.source);r=l.getTintAppendFloatAlpha(r,i),this.batchQuad(null,f,d,p,v,g,m,y,x,e.u0,e.v0,e.u1,e.v1,r,r,r,r,0,e.glTexture,b)},batchFillRect:function(e,t,n,r,i,o){this.renderer.pipelines.set(this);var a=this.calcMatrix;o&&o.multiply(i,a);var s=e+n,u=t+r,l=a.getX(e,t),c=a.getY(e,t),h=a.getX(e,u),f=a.getY(e,u),d=a.getX(s,u),p=a.getY(s,u),v=a.getX(s,t),g=a.getY(s,t),m=this.fillTint;this.batchQuad(null,l,c,h,f,d,p,v,g,0,0,1,1,m.TL,m.TR,m.BL,m.BR,2)},batchFillTriangle:function(e,t,n,r,i,o,a,s){this.renderer.pipelines.set(this);var u=this.calcMatrix;s&&s.multiply(a,u);var l=u.getX(e,t),c=u.getY(e,t),h=u.getX(n,r),f=u.getY(n,r),d=u.getX(i,o),p=u.getY(i,o),v=this.fillTint;this.batchTri(null,l,c,h,f,d,p,0,0,1,1,v.TL,v.TR,v.BL,2)},batchStrokeTriangle:function(e,t,n,r,i,o,a,s,u){var l=this.tempTriangle;l[0].x=e,l[0].y=t,l[0].width=a,l[1].x=n,l[1].y=r,l[1].width=a,l[2].x=i,l[2].y=o,l[2].width=a,l[3].x=e,l[3].y=t,l[3].width=a,this.batchStrokePath(l,a,!1,s,u)},batchFillPath:function(e,t,n){this.renderer.pipelines.set(this);var r=this.calcMatrix;n&&n.multiply(t,r);for(var o,a,s=e.length,u=this.polygonCache,l=this.fillTint.TL,c=this.fillTint.TR,h=this.fillTint.BL,f=0;f<s;++f)a=e[f],u.push(a.x,a.y);s=(o=i(u)).length;for(var d=0;d<s;d+=3){var p=2*o[d+0],v=2*o[d+1],g=2*o[d+2],m=u[p+0],y=u[p+1],x=u[v+0],b=u[v+1],w=u[g+0],k=u[g+1],E=r.getX(m,y),_=r.getY(m,y),T=r.getX(x,b),A=r.getY(x,b),S=r.getX(w,k),C=r.getY(w,k);this.batchTri(null,E,_,T,A,S,C,0,0,1,1,l,c,h,2)}u.length=0},batchStrokePath:function(e,t,n,r,i){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var o=e.length-1,a=0;a<o;a++){var s=e[a],u=e[a+1];this.batchLine(s.x,s.y,u.x,u.y,s.width/2,u.width/2,t,a,!n&&a===o-1,r,i)}},batchLine:function(e,t,n,r,i,o,a,s,u,l,c){this.renderer.pipelines.set(this);var h=this.calcMatrix;c&&c.multiply(l,h);var f=n-e,d=r-t,p=Math.sqrt(f*f+d*d),v=i*(r-t)/p,g=i*(e-n)/p,m=o*(r-t)/p,y=o*(e-n)/p,x=n-m,b=r-y,w=e-v,k=t-g,E=n+m,_=r+y,T=e+v,A=t+g,S=h.getX(x,b),C=h.getY(x,b),I=h.getX(w,k),P=h.getY(w,k),O=h.getX(E,_),R=h.getY(E,_),M=h.getX(T,A),D=h.getY(T,A),L=this.strokeTint,N=L.TL,F=L.TR,B=L.BL,U=L.BR;if(this.batchQuad(null,M,D,I,P,S,C,O,R,0,0,1,1,N,F,B,U,2),!(a<=2)){var z=this.prevQuad,V=this.firstQuad;s>0&&z[4]?this.batchQuad(null,M,D,I,P,z[0],z[1],z[2],z[3],0,0,1,1,N,F,B,U,2):(V[0]=M,V[1]=D,V[2]=I,V[3]=P,V[4]=1),u&&V[4]?this.batchQuad(null,S,C,O,R,V[0],V[1],V[2],V[3],0,0,1,1,N,F,B,U,2):(z[0]=S,z[1]=C,z[2]=O,z[3]=R,z[4]=1)}}});e.exports=f},function(e,t,n){var r=n(0),i=n(18),o=n(17),a=new r({initialize:function(e,t,n,r,i,o,a){this.texture=e,this.name=t,this.source=e.source[n],this.sourceIndex=n,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(o,a,r,i)},setSize:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this.cutX=n,this.cutY=r,this.cutWidth=e,this.cutHeight=t,this.width=e,this.height=t,this.halfWidth=Math.floor(.5*e),this.halfHeight=Math.floor(.5*t),this.centerX=Math.floor(e/2),this.centerY=Math.floor(t/2);var i=this.data,o=i.cut;o.x=n,o.y=r,o.w=e,o.h=t,o.r=n+e,o.b=r+t,i.sourceSize.w=e,i.sourceSize.h=t,i.spriteSourceSize.w=e,i.spriteSourceSize.h=t,i.radius=.5*Math.sqrt(e*e+t*t);var a=i.drawImage;return a.x=n,a.y=r,a.width=e,a.height=t,this.updateUVs()},setTrim:function(e,t,n,r,i,o){var a=this.data,s=a.spriteSourceSize;return a.trim=!0,a.sourceSize.w=e,a.sourceSize.h=t,s.x=n,s.y=r,s.w=i,s.h=o,s.r=n+i,s.b=r+o,this.x=n,this.y=r,this.width=i,this.height=o,this.halfWidth=.5*i,this.halfHeight=.5*o,this.centerX=Math.floor(i/2),this.centerY=Math.floor(o/2),this.updateUVs()},setCropUVs:function(e,t,n,r,o,a,s){var u=this.cutX,l=this.cutY,c=this.cutWidth,h=this.cutHeight,f=this.realWidth,d=this.realHeight,p=u+(t=i(t,0,f)),v=l+(n=i(n,0,d)),g=r=i(r,0,f-t),m=o=i(o,0,d-n),y=this.data;if(y.trim){var x=y.spriteSourceSize,b=t+(r=i(r,0,c-t)),w=n+(o=i(o,0,h-n));if(x.r<t||x.b<n||x.x>b||x.y>w)p=0,v=0,g=0,m=0;else{var k=Math.max(x.x,t),E=Math.max(x.y,n),_=Math.min(x.r,b)-k,T=Math.min(x.b,w)-E;g=_,m=T,p=a?u+(c-(k-x.x)-_):u+(k-x.x),v=s?l+(h-(E-x.y)-T):l+(E-x.y),t=k,n=E,r=_,o=T}}else a&&(p=u+(c-t-r)),s&&(v=l+(h-n-o));var A=this.source.width,S=this.source.height;return e.u0=Math.max(0,p/A),e.v0=Math.max(0,v/S),e.u1=Math.min(1,(p+g)/A),e.v1=Math.min(1,(v+m)/S),e.x=t,e.y=n,e.cx=p,e.cy=v,e.cw=g,e.ch=m,e.width=r,e.height=o,e.flipX=a,e.flipY=s,e},updateCropUVs:function(e,t,n){return this.setCropUVs(e,e.x,e.y,e.width,e.height,t,n)},setUVs:function(e,t,n,r,i,o){var a=this.data.drawImage;return a.width=e,a.height=t,this.u0=n,this.v0=r,this.u1=i,this.v1=o,this},updateUVs:function(){var e=this.cutX,t=this.cutY,n=this.cutWidth,r=this.cutHeight,i=this.data.drawImage;i.width=n,i.height=r;var o=this.source.width,a=this.source.height;return this.u0=e/o,this.v0=t/a,this.u1=(e+n)/o,this.v1=(t+r)/a,this},updateUVsInverted:function(){var e=this.source.width,t=this.source.height;return this.u0=(this.cutX+this.cutHeight)/e,this.v0=this.cutY/t,this.u1=this.cutX/e,this.v1=(this.cutY+this.cutWidth)/t,this},clone:function(){var e=new a(this.texture,this.name,this.sourceIndex);return e.cutX=this.cutX,e.cutY=this.cutY,e.cutWidth=this.cutWidth,e.cutHeight=this.cutHeight,e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e.halfWidth=this.halfWidth,e.halfHeight=this.halfHeight,e.centerX=this.centerX,e.centerY=this.centerY,e.rotated=this.rotated,e.data=o(!0,e.data,this.data),e.updateUVs(),e},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});e.exports=a},function(e,t,n){var r=n(208),i=n(0),o=n(1),a=n(79),s=new i({initialize:function(e){this.parent=e,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(e,t){return t?r.Add(this.list,e):r.Add(this.list,e,0,this.addCallback,this)},addAt:function(e,t,n){return n?r.AddAt(this.list,e,t):r.AddAt(this.list,e,t,0,this.addCallback,this)},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e?(void 0===t&&(t=function(t,n){return t[e]-n[e]}),a(this.list,t),this):this},getByName:function(e){return r.GetFirst(this.list,"name",e)},getRandom:function(e,t){return r.GetRandom(this.list,e,t)},getFirst:function(e,t,n,i){return r.GetFirst(this.list,e,t,n,i)},getAll:function(e,t,n,i){return r.GetAll(this.list,e,t,n,i)},count:function(e,t){return r.CountAllMatching(this.list,e,t)},swap:function(e,t){r.Swap(this.list,e,t)},moveTo:function(e,t){return r.MoveTo(this.list,e,t)},moveAbove:function(e,t){return r.MoveAbove(this.list,e,t)},moveBelow:function(e,t){return r.MoveBelow(this.list,e,t)},remove:function(e,t){return t?r.Remove(this.list,e):r.Remove(this.list,e,this.removeCallback,this)},removeAt:function(e,t){return t?r.RemoveAt(this.list,e):r.RemoveAt(this.list,e,this.removeCallback,this)},removeBetween:function(e,t,n){return n?r.RemoveBetween(this.list,e,t):r.RemoveBetween(this.list,e,t,this.removeCallback,this)},removeAll:function(e){for(var t=this.list.length;t--;)this.remove(this.list[t],e);return this},bringToTop:function(e){return r.BringToTop(this.list,e)},sendToBack:function(e){return r.SendToBack(this.list,e)},moveUp:function(e){return r.MoveUp(this.list,e),e},moveDown:function(e){return r.MoveDown(this.list,e),e},reverse:function(){return this.list.reverse(),this},shuffle:function(){return r.Shuffle(this.list),this},replace:function(e,t){return r.Replace(this.list,e,t)},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,n,i){return r.SetAll(this.list,e,t,n,i),this},each:function(e,t){for(var n=[null],r=2;r<arguments.length;r++)n.push(arguments[r]);for(r=0;r<this.list.length;r++)n[0]=this.list[r],e.apply(t,n)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});e.exports=s},function(e,t,n){var r=n(0),i=n(112),o=n(445),a=n(446),s=n(56),u=n(180),l=new r({initialize:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.type=s.ELLIPSE,this.x=e,this.y=t,this.width=n,this.height=r},contains:function(e,t){return i(this,e,t)},getPoint:function(e,t){return o(this,e,t)},getPoints:function(e,t,n){return a(this,e,t,n)},getRandomPoint:function(e){return u(this,e)},setTo:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(e){this.x=e+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(e){this.y=e+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}});e.exports=l},function(e,t){e.exports=function(e,t,n){if(e.width<=0||e.height<=0)return!1;var r=(t-e.x)/e.width,i=(n-e.y)/e.height;return(r*=r)+(i*=i)<.25}},function(e,t,n){var r=n(275),i=n(0),o=n(75),a=n(9),s=n(207),u=n(2),l=n(6),c=n(7),h=n(437),f=n(149),d=n(73),p=new i({Extends:a,initialize:function(e,t,n){a.call(this),n?t&&!Array.isArray(t)&&(t=[t]):Array.isArray(t)?c(t[0])&&(n=t,t=null):c(t)&&(n=t,t=null),this.scene=e,this.children=new f,this.isParent=!0,this.type="Group",this.classType=u(n,"classType",d),this.name=u(n,"name",""),this.active=u(n,"active",!0),this.maxSize=u(n,"maxSize",-1),this.defaultKey=u(n,"defaultKey",null),this.defaultFrame=u(n,"defaultFrame",null),this.runChildUpdate=u(n,"runChildUpdate",!1),this.createCallback=u(n,"createCallback",null),this.removeCallback=u(n,"removeCallback",null),this.createMultipleCallback=u(n,"createMultipleCallback",null),this.internalCreateCallback=u(n,"internalCreateCallback",null),this.internalRemoveCallback=u(n,"internalRemoveCallback",null),t&&this.addMultiple(t),n&&this.createMultiple(n),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(e,t,n,r,i,o){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=this.defaultKey),void 0===r&&(r=this.defaultFrame),void 0===i&&(i=!0),void 0===o&&(o=!0),this.isFull())return null;var a=new this.classType(this.scene,e,t,n,r);return a.addToDisplayList(this.scene.sys.displayList),a.addToUpdateList(),a.visible=i,a.setActive(o),this.add(a),a},createMultiple:function(e){if(this.isFull())return[];Array.isArray(e)||(e=[e]);var t=[];if(e[0].key)for(var n=0;n<e.length;n++){var r=this.createFromConfig(e[n]);t=t.concat(r)}return t},createFromConfig:function(e){if(this.isFull())return[];this.classType=u(e,"classType",this.classType);var t=u(e,"key",void 0),n=u(e,"frame",null),i=u(e,"visible",!0),o=u(e,"active",!0),a=[];if(void 0===t)return a;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);var s=u(e,"repeat",0),c=u(e,"randomKey",!1),f=u(e,"randomFrame",!1),d=u(e,"yoyo",!1),p=u(e,"quantity",!1),v=u(e,"frameQuantity",1),g=u(e,"max",0),m=h(t,n,{max:g,qty:p||v,random:c,randomB:f,repeat:s,yoyo:d});e.createCallback&&(this.createCallback=e.createCallback),e.removeCallback&&(this.removeCallback=e.removeCallback);for(var y=0;y<m.length;y++){var x=this.create(0,0,m[y].a,m[y].b,i,o);if(!x)break;a.push(x)}var b=l(e,"setXY.x",0),w=l(e,"setXY.y",0),k=l(e,"setXY.stepX",0),E=l(e,"setXY.stepY",0);r.SetXY(a,b,w,k,E);var _=l(e,"setRotation.value",0),T=l(e,"setRotation.step",0);r.SetRotation(a,_,T);var A=l(e,"setScale.x",1),S=l(e,"setScale.y",A),C=l(e,"setScale.stepX",0),I=l(e,"setScale.stepY",0);r.SetScale(a,A,S,C,I);var P=l(e,"setOrigin.x",.5),O=l(e,"setOrigin.y",P),R=l(e,"setOrigin.stepX",0),M=l(e,"setOrigin.stepY",0);r.SetOrigin(a,P,O,R,M);var D=l(e,"setAlpha.value",1),L=l(e,"setAlpha.step",0);r.SetAlpha(a,D,L);var N=l(e,"setDepth.value",0),F=l(e,"setDepth.step",0);r.SetDepth(a,N,F);var B=l(e,"setScrollFactor.x",1),U=l(e,"setScrollFactor.y",B),z=l(e,"setScrollFactor.stepX",0),V=l(e,"setScrollFactor.stepY",0);r.SetScrollFactor(a,B,U,z,V);var j=u(e,"hitArea",null),Y=u(e,"hitAreaCallback",null);j&&r.SetHitArea(a,j,Y);var W=u(e,"gridAlign",!1);return W&&r.GridAlign(a,W),this.createMultipleCallback&&this.createMultipleCallback.call(this,a),a},preUpdate:function(e,t){if(this.runChildUpdate&&0!==this.children.size)for(var n=this.children.entries.slice(),r=0;r<n.length;r++){var i=n[r];i.active&&i.update(e,t)}},add:function(e,t){return void 0===t&&(t=!1),this.isFull()||(this.children.set(e),this.internalCreateCallback&&this.internalCreateCallback.call(this,e),this.createCallback&&this.createCallback.call(this,e),t&&(e.addToDisplayList(this.scene.sys.displayList),e.addToUpdateList()),e.on(o.DESTROY,this.remove,this)),this},addMultiple:function(e,t){if(void 0===t&&(t=!1),Array.isArray(e))for(var n=0;n<e.length;n++)this.add(e[n],t);return this},remove:function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.children.contains(e)?(this.children.delete(e),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,e),this.removeCallback&&this.removeCallback.call(this,e),e.off(o.DESTROY,this.remove,this),n?e.destroy():t&&(e.removeFromDisplayList(),e.removeFromUpdateList()),this):this},clear:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);for(var n=this.children,r=0;r<n.size;r++){var i=n.entries[r];i.off(o.DESTROY,this.remove,this),t?i.destroy():e&&(i.removeFromDisplayList(),i.removeFromUpdateList())}return this.children.clear(),this},contains:function(e){return this.children.contains(e)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(e,t,n,r){return s(this.children.entries,e,t,n,r)},getFirst:function(e,t,n,r,i,o,a){return this.getHandler(!0,1,e,t,n,r,i,o,a)},getFirstNth:function(e,t,n,r,i,o,a,s){return this.getHandler(!0,e,t,n,r,i,o,a,s)},getLast:function(e,t,n,r,i,o,a){return this.getHandler(!1,1,e,t,n,r,i,o,a)},getLastNth:function(e,t,n,r,i,o,a,s){return this.getHandler(!1,e,t,n,r,i,o,a,s)},getHandler:function(e,t,n,r,i,o,a,s,u){var l,c;void 0===n&&(n=!1),void 0===r&&(r=!1);var h=0,f=this.children.entries;if(e)for(c=0;c<f.length;c++)if((l=f[c]).active===n){if(++h===t)break}else l=null;else for(c=f.length-1;c>=0;c--)if((l=f[c]).active===n){if(++h===t)break}else l=null;return l?("number"===typeof i&&(l.x=i),"number"===typeof o&&(l.y=o),l):r?this.create(i,o,a,s,u):null},get:function(e,t,n,r,i){return this.getFirst(!1,!0,e,t,n,r,i)},getFirstAlive:function(e,t,n,r,i,o){return this.getFirst(!0,e,t,n,r,i,o)},getFirstDead:function(e,t,n,r,i,o){return this.getFirst(!1,e,t,n,r,i,o)},playAnimation:function(e,t){return r.PlayAnimation(this.children.entries,e,t),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(e){void 0===e&&(e=!0);for(var t=0,n=0;n<this.children.size;n++)this.children.entries[n].active===e&&t++;return t},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var e=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-e},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},propertyValueSet:function(e,t,n,i,o){return r.PropertyValueSet(this.children.entries,e,t,n,i,o),this},propertyValueInc:function(e,t,n,i,o){return r.PropertyValueInc(this.children.entries,e,t,n,i,o),this},setX:function(e,t){return r.SetX(this.children.entries,e,t),this},setY:function(e,t){return r.SetY(this.children.entries,e,t),this},setXY:function(e,t,n,i){return r.SetXY(this.children.entries,e,t,n,i),this},incX:function(e,t){return r.IncX(this.children.entries,e,t),this},incY:function(e,t){return r.IncY(this.children.entries,e,t),this},incXY:function(e,t,n,i){return r.IncXY(this.children.entries,e,t,n,i),this},shiftPosition:function(e,t,n){return r.ShiftPosition(this.children.entries,e,t,n),this},angle:function(e,t){return r.Angle(this.children.entries,e,t),this},rotate:function(e,t){return r.Rotate(this.children.entries,e,t),this},rotateAround:function(e,t){return r.RotateAround(this.children.entries,e,t),this},rotateAroundDistance:function(e,t,n){return r.RotateAroundDistance(this.children.entries,e,t,n),this},setAlpha:function(e,t){return r.SetAlpha(this.children.entries,e,t),this},setTint:function(e,t,n,i){return r.SetTint(this.children.entries,e,t,n,i),this},setOrigin:function(e,t,n,i){return r.SetOrigin(this.children.entries,e,t,n,i),this},scaleX:function(e,t){return r.ScaleX(this.children.entries,e,t),this},scaleY:function(e,t){return r.ScaleY(this.children.entries,e,t),this},scaleXY:function(e,t,n,i){return r.ScaleXY(this.children.entries,e,t,n,i),this},setDepth:function(e,t){return r.SetDepth(this.children.entries,e,t),this},setBlendMode:function(e){return r.SetBlendMode(this.children.entries,e),this},setHitArea:function(e,t){return r.SetHitArea(this.children.entries,e,t),this},shuffle:function(){return r.Shuffle(this.children.entries),this},kill:function(e){this.children.contains(e)&&e.setActive(!1)},killAndHide:function(e){this.children.contains(e)&&(e.setActive(!1),e.setVisible(!1))},setVisible:function(e,t,n){return r.SetVisible(this.children.entries,e,t,n),this},toggleVisible:function(){return r.ToggleVisible(this.children.entries),this},destroy:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.scene&&!this.ignoreDestroy&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(t,e),this.scene=void 0,this.children=void 0)}});e.exports=p},function(e,t,n){var r=n(12);e.exports=function(e,t,n,i,o,a){for(var s=r.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*i),u=n.pathData,l=n.pathIndexes,c=0;c<l.length;c+=3){var h=2*l[c],f=2*l[c+1],d=2*l[c+2],p=u[h+0]-o,v=u[h+1]-a,g=u[f+0]-o,m=u[f+1]-a,y=u[d+0]-o,x=u[d+1]-a,b=t.getX(p,v),w=t.getY(p,v),k=t.getX(g,m),E=t.getY(g,m),_=t.getX(y,x),T=t.getY(y,x);e.batchTri(n,b,w,k,E,_,T,0,0,1,1,s,s,s,2)}}},function(e,t){e.exports=function(e,t,n){var r=e.x3-e.x1,i=e.y3-e.y1,o=e.x2-e.x1,a=e.y2-e.y1,s=t-e.x1,u=n-e.y1,l=r*r+i*i,c=r*o+i*a,h=r*s+i*u,f=o*o+a*a,d=o*s+a*u,p=l*f-c*c,v=0===p?0:1/p,g=(f*h-c*d)*v,m=(l*d-c*h)*v;return g>=0&&m>=0&&g+m<1}},function(e,t,n){var r=n(0),i=n(10),o=n(3);function a(e,t,n,r){var i=e-n,o=t-r,a=i*i+o*o;return Math.sqrt(a)}var s=new r({initialize:function(e,t,n){this.vertex1=e,this.vertex2=t,this.vertex3=n,this.bounds=new i,this._inCenter=new o},getInCenter:function(e){void 0===e&&(e=!0);var t,n,r,i,o,s,u=this.vertex1,l=this.vertex2,c=this.vertex3;e?(t=u.x,n=u.y,r=l.x,i=l.y,o=c.x,s=c.y):(t=u.vx,n=u.vy,r=l.vx,i=l.vy,o=c.vx,s=c.vy);var h=a(o,s,r,i),f=a(t,n,o,s),d=a(r,i,t,n),p=h+f+d;return this._inCenter.set((t*h+r*f+o*d)/p,(n*h+i*f+s*d)/p)},contains:function(e,t,n){var r=this.vertex1,i=this.vertex2,o=this.vertex3,a=r.vx,s=r.vy,u=i.vx,l=i.vy,c=o.vx,h=o.vy;if(n){var f=n.a,d=n.b,p=n.c,v=n.d,g=n.e,m=n.f;a=r.vx*f+r.vy*p+g,s=r.vx*d+r.vy*v+m,u=i.vx*f+i.vy*p+g,l=i.vx*d+i.vy*v+m,c=o.vx*f+o.vy*p+g,h=o.vx*d+o.vy*v+m}var y=c-a,x=h-s,b=u-a,w=l-s,k=e-a,E=t-s,_=y*y+x*x,T=y*b+x*w,A=y*k+x*E,S=b*b+w*w,C=b*k+w*E,I=_*S-T*T,P=0===I?0:1/I,O=(S*A-T*C)*P,R=(_*C-T*A)*P;return O>=0&&R>=0&&O+R<1},isCounterClockwise:function(e){var t=this.vertex1,n=this.vertex2,r=this.vertex3,i=(n.vx-t.vx)*(r.vy-t.vy)-(n.vy-t.vy)*(r.vx-t.vx);return e<=0?i>=0:i<0},load:function(e,t,n,r,i){return n=this.vertex1.load(e,t,n,r,i),n=this.vertex2.load(e,t,n,r,i),n=this.vertex3.load(e,t,n,r,i)},transformCoordinatesLocal:function(e,t,n,r){return this.vertex1.transformCoordinatesLocal(e,t,n,r),this.vertex2.transformCoordinatesLocal(e,t,n,r),this.vertex3.transformCoordinatesLocal(e,t,n,r),this},updateBounds:function(){var e=this.vertex1,t=this.vertex2,n=this.vertex3,r=this.bounds;return r.x=Math.min(e.vx,t.vx,n.vx),r.y=Math.min(e.vy,t.vy,n.vy),r.width=Math.max(e.vx,t.vx,n.vx)-r.x,r.height=Math.max(e.vy,t.vy,n.vy)-r.y,this},isInView:function(e,t,n,r,i,o,a,s,u,l,c){var h=this.vertex1.update(i,o,a,s,u,l,c,r),f=this.vertex2.update(i,o,a,s,u,l,c,r),d=this.vertex3.update(i,o,a,s,u,l,c,r);if(h.ta<=0&&f.ta<=0&&d.ta<=0)return!1;if(t&&!this.isCounterClockwise(n))return!1;var p=this.bounds;p.x=Math.min(h.tx,f.tx,d.tx),p.y=Math.min(h.ty,f.ty,d.ty),p.width=Math.max(h.tx,f.tx,d.tx)-p.x,p.height=Math.max(h.ty,f.ty,d.ty)-p.y;var v=e.x+e.width,g=e.y+e.height;return!(p.width<=0||p.height<=0||e.width<=0||e.height<=0)&&!(p.right<e.x||p.bottom<e.y||p.x>v||p.y>g)},translate:function(e,t){void 0===t&&(t=0);var n=this.vertex1,r=this.vertex2,i=this.vertex3;return n.x+=e,n.y+=t,r.x+=e,r.y+=t,i.x+=e,i.y+=t,this},x:{get:function(){return this.getInCenter().x},set:function(e){var t=this.getInCenter();this.translate(e-t.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(e){var t=this.getInCenter();this.translate(0,e-t.y)}},alpha:{get:function(){var e=this.vertex1,t=this.vertex2,n=this.vertex3;return(e.alpha+t.alpha+n.alpha)/3},set:function(e){this.vertex1.alpha=e,this.vertex2.alpha=e,this.vertex3.alpha=e}},depth:{get:function(){var e=this.vertex1,t=this.vertex2,n=this.vertex3;return(e.vz+t.vz+n.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});e.exports=s},function(e,t,n){var r=n(0),i=n(12),o=n(39),a=new r({Extends:o,initialize:function(e,t,n,r,i,a,s,u,l,c){void 0===a&&(a=16777215),void 0===s&&(s=1),void 0===u&&(u=0),void 0===l&&(l=0),void 0===c&&(c=0),o.call(this,e,t,n),this.vx=0,this.vy=0,this.vz=0,this.nx=u,this.ny=l,this.nz=c,this.u=r,this.v=i,this.color=a,this.alpha=s,this.tx=0,this.ty=0,this.ta=0},setUVs:function(e,t){return this.u=e,this.v=t,this},transformCoordinatesLocal:function(e,t,n,r){var i=this.x,o=this.y,a=this.z,s=e.val,u=i*s[0]+o*s[4]+a*s[8]+s[12],l=i*s[1]+o*s[5]+a*s[9]+s[13],c=i*s[2]+o*s[6]+a*s[10]+s[14],h=i*s[3]+o*s[7]+a*s[11]+s[15];this.vx=u/h*t,this.vy=-l/h*n,this.vz=r<=0?c/h:-c/h},update:function(e,t,n,r,i,o,a,s){var u=this.vx*e+this.vy*n+i,l=this.vx*t+this.vy*r+o;return a&&(u=Math.round(u),l=Math.round(l)),this.tx=u,this.ty=l,this.ta=this.alpha*s,this},load:function(e,t,n,r,o){return e[++n]=this.tx,e[++n]=this.ty,e[++n]=this.u,e[++n]=this.v,e[++n]=r,e[++n]=o,t[++n]=i.getTintAppendFloatAlpha(this.color,this.ta),n}});e.exports=a},function(e,t,n){var r={};e.exports=r;var i=n(166),o=n(32),a=n(84),s=n(41);r.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},r.setModified=function(e,t,n,o){if(i.trigger(e,"compositeModified",e),e.isModified=t,n&&e.parent&&r.setModified(e.parent,t,n,o),o)for(var a=0;a<e.composites.length;a++){var s=e.composites[a];r.setModified(s,t,n,o)}},r.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,s);break;case"constraint":r.addConstraint(e,s);break;case"composite":r.addComposite(e,s);break;case"mouseConstraint":r.addConstraint(e,s.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,n){var o=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var a=0;a<o.length;a++){var s=o[a];switch(s.type){case"body":r.removeBody(e,s,n);break;case"constraint":r.removeConstraint(e,s,n);break;case"composite":r.removeComposite(e,s,n);break;case"mouseConstraint":r.removeConstraint(e,s.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,n){var i=e.composites.indexOf(t);if(-1!==i&&(r.removeCompositeAt(e,i),r.setModified(e,!0,!0,!1)),n)for(var o=0;o<e.composites.length;o++)r.removeComposite(e.composites[o],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,n){var i=e.bodies.indexOf(t);if(-1!==i&&(r.removeBodyAt(e,i),r.setModified(e,!0,!0,!1)),n)for(var o=0;o<e.composites.length;o++)r.removeBody(e.composites[o],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,n){var i=e.constraints.indexOf(t);if(-1!==i&&r.removeConstraintAt(e,i),n)for(var o=0;o<e.composites.length;o++)r.removeConstraint(e.composites[o],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)r.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(r.allBodies(e.composites[n]));return t},r.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(r.allConstraints(e.composites[n]));return t},r.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(r.allComposites(e.composites[n]));return t},r.get=function(e,t,n){var i,o;switch(n){case"body":i=r.allBodies(e);break;case"constraint":i=r.allConstraints(e);break;case"composite":i=r.allComposites(e).concat(e)}return i?0===(o=i.filter((function(e){return e.id.toString()===t.toString()}))).length?null:o[0]:null},r.move=function(e,t,n){return r.remove(e,t),r.add(n,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),n=0;n<t.length;n++)t[n].id=o.nextId();return r.setModified(e,!0,!0,!1),e},r.translate=function(e,t,n){for(var i=n?r.allBodies(e):e.bodies,o=0;o<i.length;o++)s.translate(i[o],t);return r.setModified(e,!0,!0,!1),e},r.rotate=function(e,t,n,i){for(var o=Math.cos(t),a=Math.sin(t),u=i?r.allBodies(e):e.bodies,l=0;l<u.length;l++){var c=u[l],h=c.position.x-n.x,f=c.position.y-n.y;s.setPosition(c,{x:n.x+(h*o-f*a),y:n.y+(h*a+f*o)}),s.rotate(c,t)}return r.setModified(e,!0,!0,!1),e},r.scale=function(e,t,n,i,o){for(var a=o?r.allBodies(e):e.bodies,u=0;u<a.length;u++){var l=a[u],c=l.position.x-i.x,h=l.position.y-i.y;s.setPosition(l,{x:i.x+c*t,y:i.y+h*n}),s.scale(l,t,n)}return r.setModified(e,!0,!0,!1),e},r.bounds=function(e){for(var t=r.allBodies(e),n=[],i=0;i<t.length;i+=1){var o=t[i];n.push(o.bounds.min,o.bounds.max)}return a.create(n)}},function(e,t){e.exports=function(e,t,n){return e>=0&&e<n.width&&t>=0&&t<n.height}},function(e,t,n){var r=n(0),i=n(29),o=n(2),a=new r({initialize:function(e){void 0===e&&(e={}),this.name=o(e,"name","layer"),this.x=o(e,"x",0),this.y=o(e,"y",0),this.width=o(e,"width",0),this.height=o(e,"height",0),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.baseTileWidth=o(e,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(e,"baseTileHeight",this.tileHeight),this.orientation=o(e,"orientation",i.ORTHOGONAL),this.widthInPixels=o(e,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(e,"alpha",1),this.visible=o(e,"visible",!0),this.properties=o(e,"properties",[]),this.indexes=o(e,"indexes",[]),this.collideIndexes=o(e,"collideIndexes",[]),this.callbacks=o(e,"callbacks",[]),this.bodies=o(e,"bodies",[]),this.data=o(e,"data",[]),this.tilemapLayer=o(e,"tilemapLayer",null),this.hexSideLength=o(e,"hexSideLength",0)}});e.exports=a},function(e,t,n){var r=n(0),i=n(29),o=n(2),a=new r({initialize:function(e){void 0===e&&(e={}),this.name=o(e,"name","map"),this.width=o(e,"width",0),this.height=o(e,"height",0),this.infinite=o(e,"infinite",!1),this.tileWidth=o(e,"tileWidth",0),this.tileHeight=o(e,"tileHeight",0),this.widthInPixels=o(e,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(e,"heightInPixels",this.height*this.tileHeight),this.format=o(e,"format",null),this.orientation=o(e,"orientation",i.ORTHOGONAL),this.renderOrder=o(e,"renderOrder","right-down"),this.version=o(e,"version","1"),this.properties=o(e,"properties",{}),this.layers=o(e,"layers",[]),this.images=o(e,"images",[]),this.objects=o(e,"objects",{}),this.collision=o(e,"collision",{}),this.tilesets=o(e,"tilesets",[]),this.imageCollections=o(e,"imageCollections",[]),this.tiles=o(e,"tiles",[]),this.hexSideLength=o(e,"hexSideLength",0)}});e.exports=a},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r,i,o,a,s){(void 0===n||n<=0)&&(n=32),(void 0===r||r<=0)&&(r=32),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a={}),void 0===s&&(s={}),this.name=e,this.firstgid=t,this.tileWidth=n,this.tileHeight=r,this.tileMargin=i,this.tileSpacing=o,this.tileProperties=a,this.tileData=s,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(e){return this.containsTileIndex(e)?this.tileProperties[e-this.firstgid]:null},getTileData:function(e){return this.containsTileIndex(e)?this.tileData[e-this.firstgid]:null},getTileCollisionGroup:function(e){var t=this.getTileData(e);return t&&t.objectgroup?t.objectgroup:null},containsTileIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},getTileTextureCoordinates:function(e){return this.containsTileIndex(e)?this.texCoordinates[e-this.firstgid]:null},setImage:function(e){return this.image=e,this.glTexture=e.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(e,t){return void 0!==e&&(this.tileWidth=e),void 0!==t&&(this.tileHeight=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(e,t){return void 0!==e&&(this.tileMargin=e),void 0!==t&&(this.tileSpacing=t),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(e,t){var n=(t-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),r=(e-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);n%1===0&&r%1===0||console.warn("Image tile area not tile size multiple in: "+this.name),n=Math.floor(n),r=Math.floor(r),this.rows=n,this.columns=r,this.total=n*r,this.texCoordinates.length=0;for(var i=this.tileMargin,o=this.tileMargin,a=0;a<this.rows;a++){for(var s=0;s<this.columns;s++)this.texCoordinates.push({x:i,y:o}),i+=this.tileWidth+this.tileSpacing;i=this.tileMargin,o+=this.tileHeight+this.tileSpacing}return this}});e.exports=r},function(e,t){e.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(e,t){e.exports=function(e,t,n){return void 0===n&&(n=1e-4),Math.abs(e-t)<n}},function(e,t,n){var r=n(0),i=n(11),o=n(15),a=n(1068),s=new r({Extends:o,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.GetBounds,i.Mask,i.Origin,i.Pipeline,i.ScrollFactor,i.Size,i.TextureCrop,i.Tint,i.Transform,i.Visible,a],initialize:function(e,t,n,r,i){o.call(this,e,"Image"),this._crop=this.resetCropObject(),this.setTexture(r,i),this.setPosition(t,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});e.exports=s},function(e,t){e.exports=function(e,t){return e.hasOwnProperty(t)}},function(e,t,n){var r=n(77);e.exports=function(e,t){var n=r(e);for(var i in t)n.hasOwnProperty(i)||(n[i]=t[i]);return n}},function(e,t,n){var r={};e.exports=r;var i=n(64),o=n(83),a=n(165),s=n(84),u=n(271),l=n(32);r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,i=o.magnitude(o.sub(n,r));t.length="undefined"!==typeof t.length?t.length:i,t.id=t.id||l.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===t.length&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=l.extend(a,t.render),t},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],r=n.constraintImpulse;n.isStatic||0===r.x&&0===r.y&&0===r.angle||(n.position.x+=r.x,n.position.y+=r.y,n.angle+=r.angle)}},r.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],o=!i.bodyA||i.bodyA&&i.bodyA.isStatic,a=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(o||a)&&r.solve(e[n],t)}for(n=0;n<e.length;n+=1)o=!(i=e[n]).bodyA||i.bodyA&&i.bodyA.isStatic,a=!i.bodyB||i.bodyB&&i.bodyB.isStatic,o||a||r.solve(e[n],t)},r.solve=function(e,t){var n=e.bodyA,i=e.bodyB,a=e.pointA,s=e.pointB;if(n||i){n&&!n.isStatic&&(o.rotate(a,n.angle-e.angleA,a),e.angleA=n.angle),i&&!i.isStatic&&(o.rotate(s,i.angle-e.angleB,s),e.angleB=i.angle);var u=a,l=s;if(n&&(u=o.add(n.position,a)),i&&(l=o.add(i.position,s)),u&&l){var c=o.sub(u,l),h=o.magnitude(c);h<r._minLength&&(h=r._minLength);var f,d,p,v,g,m=(h-e.length)/h,y=e.stiffness<1?e.stiffness*t:e.stiffness,x=o.mult(c,m*y),b=(n?n.inverseMass:0)+(i?i.inverseMass:0),w=b+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(e.damping){var k=o.create();p=o.div(c,h),g=o.sub(i&&o.sub(i.position,i.positionPrev)||k,n&&o.sub(n.position,n.positionPrev)||k),v=o.dot(p,g)}n&&!n.isStatic&&(d=n.inverseMass/b,n.constraintImpulse.x-=x.x*d,n.constraintImpulse.y-=x.y*d,n.position.x-=x.x*d,n.position.y-=x.y*d,e.damping&&(n.positionPrev.x-=e.damping*p.x*v*d,n.positionPrev.y-=e.damping*p.y*v*d),f=o.cross(a,x)/w*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=f,n.angle-=f),i&&!i.isStatic&&(d=i.inverseMass/b,i.constraintImpulse.x+=x.x*d,i.constraintImpulse.y+=x.y*d,i.position.x+=x.x*d,i.position.y+=x.y*d,e.damping&&(i.positionPrev.x+=e.damping*p.x*v*d,i.positionPrev.y+=e.damping*p.y*v*d),f=o.cross(s,x)/w*r._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=f,i.angle+=f)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],l=n.constraintImpulse;if(!(n.isStatic||0===l.x&&0===l.y&&0===l.angle)){a.set(n,!1);for(var c=0;c<n.parts.length;c++){var h=n.parts[c];i.translate(h.vertices,l),c>0&&(h.position.x+=l.x,h.position.y+=l.y),0!==l.angle&&(i.rotate(h.vertices,l.angle,n.position),u.rotate(h.axes,l.angle),c>0&&o.rotateAbout(h.position,l.angle,n.position,h.position)),s.update(h.bounds,h.vertices,n.velocity)}l.angle*=r._warming,l.x*=r._warming,l.y*=r._warming}}},r.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+e.pointA.x,y:(e.bodyA?e.bodyA.position.y:0)+e.pointA.y}},r.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+e.pointB.x,y:(e.bodyB?e.bodyB.position.y:0)+e.pointB.y}}},function(e,t,n){var r=n(35),i=n(65),o=n(66),a=n(0),s=n(11),u=n(15),l=n(10),c=n(57),h=new a({Extends:u,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(e,t,n,i,o){void 0===i&&(i=1),void 0===o&&(o=i),u.call(this,e,"Zone"),this.setPosition(t,n),this.width=i,this.height=o,this.blendMode=r.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t,n){void 0===n&&(n=!0),this.width=e,this.height=t,this.updateDisplayOrigin();var r=this.input;return n&&r&&!r.customHitArea&&(r.hitArea.width=e,r.hitArea.height=t),this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this},setCircleDropZone:function(e){return this.setDropZone(new i(0,0,e),o)},setRectangleDropZone:function(e,t){return this.setDropZone(new l(0,0,e,t),c)},setDropZone:function(e,t){return void 0===e?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(e,t,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(e,t,n){n.addToRenderList(t)},renderWebGL:function(e,t,n){n.addToRenderList(t)}});e.exports=h},function(e,t){e.exports=function(e){return 2*(e.width+e.height)}},function(e,t){e.exports=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}},function(e,t,n){e.exports={ADD_ANIMATION:n(724),ANIMATION_COMPLETE:n(725),ANIMATION_COMPLETE_KEY:n(726),ANIMATION_REPEAT:n(727),ANIMATION_RESTART:n(728),ANIMATION_START:n(729),ANIMATION_STOP:n(730),ANIMATION_UPDATE:n(731),PAUSE_ALL:n(732),REMOVE_ANIMATION:n(733),RESUME_ALL:n(734)}},function(e,t,n){var r=n(0),i=n(11),o=n(36),a=n(9),s=n(37),u=n(10),l=n(25),c=n(187),h=n(3),f=new r({Extends:a,Mixins:[i.Alpha,i.Visible],initialize:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new u,this.dirty=!0,this._x=e,this._y=t,this._width=n,this._height=r,this._bounds=new u,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new l,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new h(n/2,r/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(e){this.renderList.push(e)},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this},getScroll:function(e,t,n){void 0===n&&(n=new h);var r=.5*this.width,i=.5*this.height;return n.x=e-r,n.y=t-i,this.useBounds&&(n.x=this.clampX(n.x),n.y=this.clampY(n.y)),n},centerOnX:function(e){var t=.5*this.width;return this.midPoint.x=e,this.scrollX=e-t,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(e){var t=.5*this.height;return this.midPoint.y=e,this.scrollY=e-t,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(e,t){return this.centerOnX(e),this.centerOnY(t),this},centerToBounds:function(){if(this.useBounds){var e=this._bounds,t=.5*this.width,n=.5*this.height;this.midPoint.set(e.centerX,e.centerY),this.scrollX=e.centerX-t,this.scrollY=e.centerY-n}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(e){if(this.disableCull)return e;var t=this.matrix.matrix,n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-r*i;if(!a)return e;var s=t[4],u=t[5],l=this.scrollX,c=this.scrollY,h=this.width,f=this.height,d=this.y,p=d+f,v=this.x,g=v+h,m=this.culledObjects,y=e.length;a=1/a,m.length=0;for(var x=0;x<y;++x){var b=e[x];if(b.hasOwnProperty("width")&&!b.parentContainer){var w=b.width,k=b.height,E=b.x-l*b.scrollFactorX-w*b.originX,_=b.y-c*b.scrollFactorY-k*b.originY;(E+w)*n+(_+k)*i+s>v&&E*n+_*i+s<g&&(E+w)*r+(_+k)*o+u>d&&E*r+_*o+u<p&&m.push(b)}else m.push(b)}return m},getWorldPoint:function(e,t,n){void 0===n&&(n=new h);var r=this.matrix.matrix,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=i*s-o*a;if(!c)return n.x=e,n.y=t,n;var f=s*(c=1/c),d=-o*c,p=-a*c,v=i*c,g=(a*l-s*u)*c,m=(o*u-i*l)*c,y=Math.cos(this.rotation),x=Math.sin(this.rotation),b=this.zoomX,w=this.zoomY,k=this.scrollX,E=this.scrollY,_=e+(k*y-E*x)*b,T=t+(k*x+E*y)*w;return n.x=_*f+T*p+g,n.y=_*d+T*v+m,n},ignore:function(e){var t=this.id;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?this.ignore(r):r.isParent?this.ignore(r.getChildren()):r.cameraFilter|=t}return this},preRender:function(){this.renderList.length=0;var e=this.width,t=this.height,n=.5*e,r=.5*t,i=this.zoomX,o=this.zoomY,a=this.matrix,s=e*this.originX,u=t*this.originY,l=this.scrollX,c=this.scrollY;this.useBounds&&(l=this.clampX(l),c=this.clampY(c)),this.roundPixels&&(s=Math.round(s),u=Math.round(u)),this.scrollX=l,this.scrollY=c;var h=l+n,f=c+r;this.midPoint.set(h,f);var d=e/i,p=t/o;this.worldView.setTo(h-d/2,f-p/2,d,p),a.applyITRS(this.x+s,this.y+u,this.rotation,i,o),a.translate(-s,-u)},clampX:function(e){var t=this._bounds,n=this.displayWidth,r=t.x+(n-this.width)/2,i=Math.max(r,r+t.width-n);return e<r?e=r:e>i&&(e=i),e},clampY:function(e){var t=this._bounds,n=this.displayHeight,r=t.y+(n-this.height)/2,i=Math.max(r,r+t.height-n);return e<r?e=r:e>i&&(e=i),e},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(e){return void 0===e&&(e=0),this.rotation=o(e),this},setBackgroundColor:function(e){return void 0===e&&(e="rgba(0,0,0,0)"),this.backgroundColor=c(e),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(e,t,n,r,i){return void 0===i&&(i=!1),this._bounds.setTo(e,t,n,r),this.dirty=!0,this.useBounds=!0,i?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(e){void 0===e&&(e=new u);var t=this._bounds;return e.setTo(t.x,t.y,t.width,t.height),e},setName:function(e){return void 0===e&&(e=""),this.name=e,this},setPosition:function(e,t){return void 0===t&&(t=e),this.x=e,this.y=t,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setRoundPixels:function(e){return this.roundPixels=e,this},setScene:function(e){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=e;var t=e.sys;return this.sceneManager=t.game.scene,this.scaleManager=t.scale,this.cameraManager=t.cameras,this.updateSystem(),this},setScroll:function(e,t){return void 0===t&&(t=e),this.scrollX=e,this.scrollY=t,this},setSize:function(e,t){return void 0===t&&(t=e),this.width=e,this.height=t,this},setViewport:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},setZoom:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),0===e&&(e=.001),0===t&&(t=.001),this.zoomX=e,this.zoomY=t,this},setMask:function(e,t){return void 0===t&&(t=!0),this.mask=e,this._maskCamera=t?this.cameraManager.default:this,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var e={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(e.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),e},update:function(){},updateSystem:function(){if(this.scaleManager){var e=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,t=this.sceneManager;e&&!this._customViewport?t.customViewports++:!e&&this._customViewport&&t.customViewports--,this.dirty=!0,this._customViewport=e}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(e){this._x=e,this.updateSystem()}},y:{get:function(){return this._y},set:function(e){this._y=e,this.updateSystem()}},width:{get:function(){return this._width},set:function(e){this._width=e,this.updateSystem()}},height:{get:function(){return this._height},set:function(e){this._height=e,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(e){this._scrollX=e,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(e){this._scrollY=e,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(e){this._zoomX=e,this._zoomY=e,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(e){this._zoomX=e,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(e){this._zoomY=e,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});e.exports=f},function(e,t,n){var r=n(334),i=n(335),o=n(336),a=n(337),s=n(338),u=n(339),l=n(340),c=n(341),h=n(342),f=n(343),d=n(344),p=n(345);e.exports={Power0:l,Power1:c.Out,Power2:a.Out,Power3:h.Out,Power4:f.Out,Linear:l,Quad:c.Out,Cubic:a.Out,Quart:h.Out,Quint:f.Out,Sine:d.Out,Expo:u.Out,Circ:o.Out,Elastic:s.Out,Back:r.Out,Bounce:i.Out,Stepped:p,"Quad.easeIn":c.In,"Cubic.easeIn":a.In,"Quart.easeIn":h.In,"Quint.easeIn":f.In,"Sine.easeIn":d.In,"Expo.easeIn":u.In,"Circ.easeIn":o.In,"Elastic.easeIn":s.In,"Back.easeIn":r.In,"Bounce.easeIn":i.In,"Quad.easeOut":c.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":h.Out,"Quint.easeOut":f.Out,"Sine.easeOut":d.Out,"Expo.easeOut":u.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":s.Out,"Back.easeOut":r.Out,"Bounce.easeOut":i.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":h.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":u.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":r.InOut,"Bounce.easeInOut":i.InOut}},function(e,t){e.exports=function(e,t,n){return(t-e)*n+e}},function(e,t,n){var r=n(105),i={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};e.exports=function(){var e=navigator.userAgent;return/Edge\/\d+/.test(e)?i.edge=!0:/Chrome\/(\d+)/.test(e)&&!r.windowsPhone?(i.chrome=!0,i.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(e)?(i.firefox=!0,i.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(e)&&r.iOS?i.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(e)?(i.ie=!0,i.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(e)?i.opera=!0:/Safari/.test(e)&&!r.windowsPhone?i.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(e)&&(i.ie=!0,i.trident=!0,i.tridentVersion=parseInt(RegExp.$1,10),i.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(e)&&(i.silk=!0),i}()},function(e,t){e.exports=function(e,t){return Math.random()*(t-e)+e}},function(e,t){e.exports=function(e,t){return e>0&&0===(e&e-1)&&t>0&&0===(t&t-1)}},function(e,t){e.exports=function(e,t,n,r){return void 0===n&&(n=0),0===t?e:(e-=n,e=t*Math.ceil(e/t),r?(n+e)/t:n+e)}},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r){this.x=0,this.y=0,this.z=0,this.w=0,"object"===typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=n||0,this.w=r||0)},clone:function(){return new r(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z||0,this.w=e.w||0,this},equals:function(e){return this.x===e.x&&this.y===e.y&&this.z===e.z&&this.w===e.w},set:function(e,t,n,r){return"object"===typeof e?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w=e.w||0):(this.x=e||0,this.y=t||0,this.z=n||0,this.w=r||0),this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z||0,this.w+=e.w||0,this},subtract:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z||0,this.w-=e.w||0,this},scale:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},length:function(){var e=this.x,t=this.y,n=this.z,r=this.w;return Math.sqrt(e*e+t*t+n*n+r*r)},lengthSq:function(){var e=this.x,t=this.y,n=this.z,r=this.w;return e*e+t*t+n*n+r*r},normalize:function(){var e=this.x,t=this.y,n=this.z,r=this.w,i=e*e+t*t+n*n+r*r;return i>0&&(i=1/Math.sqrt(i),this.x=e*i,this.y=t*i,this.z=n*i,this.w=r*i),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var n=this.x,r=this.y,i=this.z,o=this.w;return this.x=n+t*(e.x-n),this.y=r+t*(e.y-r),this.z=i+t*(e.z-i),this.w=o+t*(e.w-o),this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z||1,this.w*=e.w||1,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z||1,this.w/=e.w||1,this},distance:function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z||0,i=e.w-this.w||0;return Math.sqrt(t*t+n*n+r*r+i*i)},distanceSq:function(e){var t=e.x-this.x,n=e.y-this.y,r=e.z-this.z||0,i=e.w-this.w||0;return t*t+n*n+r*r+i*i},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.val;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},transformQuat:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,l=s*n+a*t-i*r,c=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+l*-a-c*-o,this.y=l*s+h*-o+c*-i-u*-a,this.z=c*s+h*-a+u*-o-l*-i,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});r.prototype.sub=r.prototype.subtract,r.prototype.mul=r.prototype.multiply,r.prototype.div=r.prototype.divide,r.prototype.dist=r.prototype.distance,r.prototype.distSq=r.prototype.distanceSq,r.prototype.len=r.prototype.length,r.prototype.lenSq=r.prototype.lengthSq,e.exports=r},function(e,t,n){var r=n(0),i=n(91),o=new r({initialize:function(e,t,n,r,i,o,a){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=!0),void 0===a&&(a=!1),this.renderer=e,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=r,this.minFilter=i,this.autoClear=o,this.autoResize=!1,this.resize(t,n),a&&this.setAutoResize(!0)},setAutoResize:function(e){return e&&!this.autoResize?(this.renderer.on(i.RESIZE,this.resize,this),this.autoResize=!0):!e&&this.autoResize&&(this.renderer.off(i.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(e,t){var n=e*this.scale,r=t*this.scale;if(n!==this.width||r!==this.height){var i=this.renderer;i.deleteFramebuffer(this.framebuffer),i.deleteTexture(this.texture),e*=this.scale,t*=this.scale,(e=Math.round(e))<=0&&(e=1),(t=Math.round(t))<=0&&(t=1),this.texture=i.createTextureFromSource(null,e,t,this.minFilter),this.framebuffer=i.createFramebuffer(e,t,this.texture,!1),this.width=e,this.height=t}return this},bind:function(e,t,n){if(void 0===e&&(e=!1),e&&this.renderer.flush(),t&&n&&this.resize(t,n),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),e&&this.adjustViewport(),this.autoClear){var r=this.renderer.gl;r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)}},adjustViewport:function(){var e=this.renderer.gl;e.viewport(0,0,this.width,this.height),e.disable(e.SCISSOR_TEST)},clear:function(){var e=this.renderer,t=e.gl;e.pushFramebuffer(this.framebuffer),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e.popFramebuffer(),e.resetScissor()},unbind:function(e){void 0===e&&(e=!1);var t=this.renderer;return e&&t.flush(),t.popFramebuffer()},destroy:function(){var e=this.renderer;e.deleteFramebuffer(this.framebuffer),e.deleteTexture(this.texture),e.off(i.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});e.exports=o},function(e,t){e.exports=function(e,t){var n;if(t)"string"===typeof t?n=document.getElementById(t):"object"===typeof t&&1===t.nodeType&&(n=t);else if(e.parentElement||null===t)return e;return n||(n=document.body),n.appendChild(e),e}},function(e,t){e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(e,t){e.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(e,t,n){var r=n(0),i=n(77),o=n(9),a=n(70),s=n(22),u=n(1),l=n(207),c=n(428),h=new r({Extends:o,initialize:function(e){o.call(this),this.game=e,this.jsonCache=e.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,e.events.on(s.BLUR,this.onGameBlur,this),e.events.on(s.FOCUS,this.onGameFocus,this),e.events.on(s.PRE_STEP,this.update,this),e.events.once(s.DESTROY,this.destroy,this)},add:u,addAudioSprite:function(e,t){void 0===t&&(t={});var n=this.add(e,t);for(var r in n.spritemap=this.jsonCache.get(e).spritemap,n.spritemap)if(n.spritemap.hasOwnProperty(r)){var o=i(t),a=n.spritemap[r];o.loop=!!a.hasOwnProperty("loop")&&a.loop,n.addMarker({name:r,start:a.start,duration:a.end-a.start,config:o})}return n},get:function(e){return c(this.sounds,"key",e)},getAll:function(e){return l(this.sounds,"key",e)},play:function(e,t){var n=this.add(e);return n.once(a.COMPLETE,n.destroy,n),t?t.name?(n.addMarker(t),n.play(t.name)):n.play(t):n.play()},playAudioSprite:function(e,t,n){var r=this.addAudioSprite(e);return r.once(a.COMPLETE,r.destroy,r),r.play(t,n)},remove:function(e){var t=this.sounds.indexOf(e);return-1!==t&&(e.destroy(),this.sounds.splice(t,1),!0)},removeAll:function(){this.sounds.forEach((function(e){e.destroy()})),this.sounds.length=0},removeByKey:function(e){for(var t=0,n=this.sounds.length-1;n>=0;n--){var r=this.sounds[n];r.key===e&&(r.destroy(),this.sounds.splice(n,1),t++)}return t},pauseAll:function(){this.forEachActiveSound((function(e){e.pause()})),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound((function(e){e.resume()})),this.emit(a.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound((function(e){e.stop()})),this.emit(a.STOP_ALL,this)},stopByKey:function(e){var t=0;return this.getAll(e).forEach((function(e){e.stop()&&t++})),t},unlock:u,onBlur:u,onFocus:u,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(e,t){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var n=this.sounds.length-1;n>=0;n--)this.sounds[n].pendingRemove&&this.sounds.splice(n,1);this.sounds.forEach((function(n){n.update(e,t)}))},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(e,t){var n=this;this.sounds.forEach((function(r,i){r&&!r.pendingRemove&&e.call(t||n,r,i,n.sounds)}))},setRate:function(e){return this.rate=e,this},rate:{get:function(){return this._rate},set:function(e){this._rate=e,this.forEachActiveSound((function(e){e.calculateRate()})),this.emit(a.GLOBAL_RATE,this,e)}},setDetune:function(e){return this.detune=e,this},detune:{get:function(){return this._detune},set:function(e){this._detune=e,this.forEachActiveSound((function(e){e.calculateRate()})),this.emit(a.GLOBAL_DETUNE,this,e)}}});e.exports=h},function(e,t,n){var r=n(0),i=n(9),o=n(70),a=n(17),s=n(1),u=new r({Extends:i,initialize:function(e,t,n){i.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,n),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(e){return!(!e||!e.name||"string"!==typeof e.name)&&(this.markers[e.name]?(console.error("addMarker "+e.name+" already exists in Sound"),!1):(e=a(!0,{name:"",start:0,duration:this.totalDuration-(e.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},e),this.markers[e.name]=e,!0))},updateMarker:function(e){return!(!e||!e.name||"string"!==typeof e.name)&&(this.markers[e.name]?(this.markers[e.name]=a(!0,this.markers[e.name],e),!0):(console.warn("Audio Marker: "+e.name+" missing in Sound: "+this.key),!1))},removeMarker:function(e){var t=this.markers[e];return t?(this.markers[e]=null,t):null},play:function(e,t){if(void 0===e&&(e=""),"object"===typeof e&&(t=e,e=""),"string"!==typeof e)return!1;if(e){if(!this.markers[e])return console.warn("Marker: "+e+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[e],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=a(this.currentConfig,t),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var e=this.currentConfig.detune+this.manager.detune,t=Math.pow(1.0005777895065548,e);this.totalRate=this.currentConfig.rate*this.manager.rate*t},destroy:function(){this.pendingRemove||(this.emit(o.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});e.exports=u},function(e,t,n){var r=n(209),i=n(435);e.exports=function(e,t){if(void 0===t&&(t=90),!r(e))return null;if("string"!==typeof t&&(t=(t%360+360)%360),90===t||-270===t||"rotateLeft"===t)(e=i(e)).reverse();else if(-90===t||270===t||"rotateRight"===t)e.reverse(),e=i(e);else if(180===Math.abs(t)||"rotate180"===t){for(var n=0;n<e.length;n++)e[n].reverse();e.reverse()}return e}},function(e,t,n){var r=n(0),i=n(18),o=n(11),a=n(15),s=n(1043),u=n(1044),l=n(212),c=n(10),h=n(1045),f=new r({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,h],initialize:function(e,t,n,r,i,o,u){void 0===i&&(i=""),void 0===u&&(u=0),a.call(this,e,"BitmapText"),this.font=r;var l=this.scene.sys.cache.bitmapFont.get(r);l||console.warn("Invalid BitmapText key: "+r),this.fontData=l.data,this._text="",this._fontSize=o||this.fontData.size,this._letterSpacing=0,this._align=u,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=l.fromAtlas,this.setTexture(l.texture,l.frame),this.setPosition(t,n),this.setOrigin(0,0),this.initPipeline(),this.setText(i)},setLeftAlign:function(){return this._align=f.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=f.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=f.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(e){return this._fontSize=e,this._dirty=!0,this},setLetterSpacing:function(e){return void 0===e&&(e=0),this._letterSpacing=e,this._dirty=!0,this},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this.text&&(this._text=e.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=.5),this.dropShadowX=e,this.dropShadowY=t,this.dropShadowColor=n,this.dropShadowAlpha=r,this},setCharacterTint:function(e,t,n,r,o,a,s){void 0===e&&(e=0),void 0===t&&(t=1),void 0===n&&(n=!1),void 0===r&&(r=-1),void 0===o&&(o=r,a=r,s=r);var u=this.text.length;-1===t&&(t=u),e<0&&(e=u+e),e=i(e,0,u-1);for(var l=i(e+t,e,u),c=this.charColors,h=e;h<l;h++){var f=c[h];if(-1===r)c[h]=null;else{var d=n?1:0;f?(f.tintEffect=d,f.tintTL=r,f.tintTR=o,f.tintBL=a,f.tintBR=s):c[h]={tintEffect:d,tintTL:r,tintTR:o,tintBL:a,tintBR:s}}}return this},setWordTint:function(e,t,n,r,i,o,a){void 0===t&&(t=1);for(var s=this.getTextBounds().words,u="number"===typeof e,l=0,c=0;c<s.length;c++){var h=s[c];if((u&&c===e||!u&&h.word===e)&&(this.setCharacterTint(h.i,h.word.length,n,r,i,o,a),++l===t))return this}return this},getTextBounds:function(e){var t=this._bounds;return(this._dirty||e||this.scaleX!==t.scaleX||this.scaleY!==t.scaleY)&&(s(this,e,!0,t),this._dirty=!1),t},getCharacterAt:function(e,t,n){for(var r=this.getLocalPoint(e,t,null,n),i=this.getTextBounds().characters,o=new c,a=0;a<i.length;a++){var s=i[a];if(o.setTo(s.x,s.t,s.r-s.x,s.b),o.contains(r.x,r.y))return s}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(e,t,n){if(void 0===t&&(t=this._fontSize),void 0===n&&(n=this._align),e!==this.font){var r=this.scene.sys.cache.bitmapFont.get(e);r&&(this.font=e,this.fontData=r.data,this._fontSize=t,this._align=n,this.fromAtlas=!0===r.fromAtlas,this.setTexture(r.texture,r.frame),s(this,!1,!0,this._bounds))}return this},setMaxWidth:function(e,t){return this._maxWidth=e,this._dirty=!0,void 0!==t&&(this.wordWrapCharCode=t),this},align:{set:function(e){this._align=e,this._dirty=!0},get:function(){return this._align}},text:{set:function(e){this.setText(e)},get:function(){return this._text}},fontSize:{set:function(e){this._fontSize=e,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(e){this._letterSpacing=e,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(e){this._maxWidth=e,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var e=o.ToJSON(this),t={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return e.data=t,e},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});f.ALIGN_LEFT=0,f.ALIGN_CENTER=1,f.ALIGN_RIGHT=2,f.ParseFromAtlas=u,f.ParseXMLBitmapFont=l,e.exports=f},function(e,t,n){var r=new(n(0))({initialize:function(e){if(this.entries=[],Array.isArray(e))for(var t=0;t<e.length;t++)this.set(e[t])},set:function(e){return-1===this.entries.indexOf(e)&&this.entries.push(e),this},get:function(e,t){for(var n=0;n<this.entries.length;n++){var r=this.entries[n];if(r[e]===t)return r}},getArray:function(){return this.entries.slice(0)},delete:function(e){var t=this.entries.indexOf(e);return t>-1&&this.entries.splice(t,1),this},dump:function(){console.group("Set");for(var e=0;e<this.entries.length;e++){var t=this.entries[e];console.log(t)}console.groupEnd()},each:function(e,t){var n,r=this.entries.slice(),i=r.length;if(t)for(n=0;n<i&&!1!==e.call(t,r[n],n);n++);else for(n=0;n<i&&!1!==e(r[n],n);n++);return this},iterate:function(e,t){var n,r=this.entries.length;if(t)for(n=0;n<r&&!1!==e.call(t,this.entries[n],n);n++);else for(n=0;n<r&&!1!==e(this.entries[n],n);n++);return this},iterateLocal:function(e){var t,n=[];for(t=1;t<arguments.length;t++)n.push(arguments[t]);var r=this.entries.length;for(t=0;t<r;t++){var i=this.entries[t];i[e].apply(i,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(e){return this.entries.indexOf(e)>-1},union:function(e){var t=new r;return e.entries.forEach((function(e){t.set(e)})),this.entries.forEach((function(e){t.set(e)})),t},intersect:function(e){var t=new r;return this.entries.forEach((function(n){e.contains(n)&&t.set(n)})),t},difference:function(e){var t=new r;return this.entries.forEach((function(n){e.contains(n)||t.set(n)})),t},size:{get:function(){return this.entries.length},set:function(e){return e<this.entries.length?this.entries.length=e:this.entries.length}}});e.exports=r},function(e,t,n){var r=n(0),i=n(11),o=n(15),a=n(189),s=n(92),u=n(1182),l=new r({Extends:o,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.GetBounds,i.Mask,i.Pipeline,i.ScrollFactor,i.Transform,i.Visible,u],initialize:function(e,t,n,r,i,u,l){void 0===r&&(r=16777215),void 0===i&&(i=128),void 0===u&&(u=1),void 0===l&&(l=.1),o.call(this,e,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.setPosition(t,n),this.color=a(r),this.intensity=u,this.attenuation=l,this.width=2*i,this.height=2*i,this._radius=i},radius:{get:function(){return this._radius},set:function(e){this._radius=e,this.width=2*e,this.height=2*e}},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});e.exports=l},function(e,t){e.exports=function(e,t){var n=t.width/2,r=t.height/2,i=Math.abs(e.x-t.x-n),o=Math.abs(e.y-t.y-r),a=n+e.radius,s=r+e.radius;if(i>a||o>s)return!1;if(i<=n||o<=r)return!0;var u=i-n,l=o-r;return u*u+l*l<=e.radius*e.radius}},function(e,t){e.exports=function(e,t){return!(e.width<=0||e.height<=0||t.width<=0||t.height<=0)&&!(e.right<t.x||e.bottom<t.y||e.x>t.right||e.y>t.bottom)}},function(e,t,n){var r=n(6),i={},o={register:function(e,t,n,r,o){i[e]={plugin:t,mapping:n,settingsKey:r,configKey:o}},getPlugin:function(e){return i[e]},install:function(e){var t=e.scene.sys,n=t.settings.input,o=t.game.config;for(var a in i){var s=i[a].plugin,u=i[a].mapping,l=i[a].settingsKey,c=i[a].configKey;r(n,l,o[c])&&(e[u]=new s(e))}},remove:function(e){i.hasOwnProperty(e)&&delete i[e]}};e.exports=o},function(e,t,n){e.exports={ANY_KEY_DOWN:n(1323),ANY_KEY_UP:n(1324),COMBO_MATCH:n(1325),DOWN:n(1326),KEY_DOWN:n(1327),KEY_UP:n(1328),UP:n(1329)}},function(e,t){e.exports=function(e,t){return!!e.url&&(e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:t+e.url)}},function(e,t){e.exports=function(e,t,n,r,i,o){return void 0===e&&(e=""),void 0===t&&(t=!0),void 0===n&&(n=""),void 0===r&&(r=""),void 0===i&&(i=0),void 0===o&&(o=!1),{responseType:e,async:t,user:n,password:r,timeout:i,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}}},function(e,t,n){var r=n(0),i=n(243),o=n(73),a=new r({Extends:o,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Pushable,i.Size,i.Velocity],initialize:function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.body=null}});e.exports=a},function(e,t,n){var r=n(119);e.exports=function(e,t,n,i){if(void 0===n&&(n=!1),r(e,t,i)){var o=i.data[t][e]||null;return o?-1===o.index?n?o:null:o:null}return null}},function(e,t){e.exports=function(e,t,n,r){var i,o,a,s=e.data,u=e.width,l=e.height,c=e.tilemapLayer,h=Math.max(0,t.left),f=Math.min(u,t.right),d=Math.max(0,t.top),p=Math.min(l,t.bottom);if(0===n)for(o=d;o<p;o++)for(i=h;s[o]&&i<f;i++)(a=s[o][i])&&-1!==a.index&&a.visible&&0!==a.alpha&&r.push(a);else if(1===n)for(o=d;o<p;o++)for(i=f;s[o]&&i>=h;i--)(a=s[o][i])&&-1!==a.index&&a.visible&&0!==a.alpha&&r.push(a);else if(2===n)for(o=p;o>=d;o--)for(i=h;s[o]&&i<f;i++)(a=s[o][i])&&-1!==a.index&&a.visible&&0!==a.alpha&&r.push(a);else if(3===n)for(o=p;o>=d;o--)for(i=f;s[o]&&i>=h;i--)(a=s[o][i])&&-1!==a.index&&a.visible&&0!==a.alpha&&r.push(a);return c.tilesDrawn=r.length,c.tilesTotal=u*l,r}},function(e,t){e.exports=function(e,t,n){var r=n.collideIndexes.indexOf(e);t&&-1===r?n.collideIndexes.push(e):t||-1===r||n.collideIndexes.splice(r,1)}},function(e,t,n){var r=n(2);e.exports=function(e,t,n){if(!t)return{i:0,layers:e.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=t.x+r(t,"startx",0)*e.tilewidth+r(t,"offsetx",0),o=t.y+r(t,"starty",0)*e.tileheight+r(t,"offsety",0);return{i:0,layers:t.layers,name:n.name+t.name+"/",opacity:n.opacity*t.opacity,visible:n.visible&&t.visible,x:n.x+i,y:n.y+o}}},function(e,t){e.exports=function(e,t,n){return e.hasOwnProperty(t)?"function"===typeof e[t]?function(n,r,i,o,a,s){return e[t](n,r,i,o,a,s)}:function(){return e[t]}:"function"===typeof n?n:function(){return n}}},function(e,t,n){var r=n(265),i=n(13),o=n(99),a=n(80),s=n(162),u=n(583),l=n(263),c=n(6),h=n(264),f=n(266),d=n(268);e.exports=function(e,t,n){void 0===n&&(n=r);for(var p=n.targets?n.targets:l(t),v=u(t),g=s(t,"delay",n.delay),m=s(t,"duration",n.duration),y=c(t,"easeParams",n.easeParams),x=a(c(t,"ease",n.ease),y),b=s(t,"hold",n.hold),w=s(t,"repeat",n.repeat),k=s(t,"repeatDelay",n.repeatDelay),E=o(t,"yoyo",n.yoyo),_=o(t,"flipX",n.flipX),T=o(t,"flipY",n.flipY),A=[],S=0;S<v.length;S++)for(var C=v[S].key,I=v[S].value,P=0;P<p.length;P++){var O=h(C,I),R=d(p[P],P,C,O.getEnd,O.getStart,O.getActive,a(c(I,"ease",x),c(I,"easeParams",y)),s(I,"delay",g),s(I,"duration",m),o(I,"yoyo",E),s(I,"hold",b),s(I,"repeat",w),s(I,"repeatDelay",k),o(I,"flipX",_),o(I,"flipY",T));A.push(R)}var M=new f(e,A,p);M.offset=i(t,"offset",null),M.completeDelay=i(t,"completeDelay",0),M.loop=Math.round(i(t,"loop",0)),M.loopDelay=Math.round(i(t,"loopDelay",0)),M.paused=o(t,"paused",!1),M.useFrames=o(t,"useFrames",!1);for(var D=c(t,"callbackScope",M),L=[M,null],N=f.TYPES,F=0;F<N.length;F++){var B=N[F],U=c(t,B,!1);if(U){var z=c(t,B+"Scope",D),V=c(t,B+"Params",[]);M.setCallback(B,U,L.concat(V),z)}}return M}},function(e,t,n){var r=n(0),i=n(102),o=n(2),a=n(132),s=n(185),u=new r({initialize:function(e){this.parent=e,this.animationManager=e.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(e){var t=this.parent;if(void 0===e)return this.nextAnimsQueue.length=0,this.nextAnim=null,t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];null===this.nextAnim?this.nextAnim=r:this.nextAnimsQueue.push(r)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(e){this.isPlaying&&this.stop();var t=this.animationManager,n="string"===typeof e?e:o(e,"key",null),r=this.exists(n)?this.get(n):t.get(n);if(r){this.currentAnim=r;var i=r.getTotalFrames(),a=o(e,"frameRate",r.frameRate),s=o(e,"duration",r.duration);r.calculateDuration(this,i,s,a),this.delay=o(e,"delay",r.delay),this.repeat=o(e,"repeat",r.repeat),this.repeatDelay=o(e,"repeatDelay",r.repeatDelay),this.yoyo=o(e,"yoyo",r.yoyo),this.showOnStart=o(e,"showOnStart",r.showOnStart),this.hideOnComplete=o(e,"hideOnComplete",r.hideOnComplete),this.skipMissedFrames=o(e,"skipMissedFrames",r.skipMissedFrames),this.timeScale=o(e,"timeScale",this.timeScale);var u=o(e,"startFrame",0);u>r.getTotalFrames()&&(u=0);var l=r.frames[u];0!==u||this.forward||(l=r.getLastFrame()),this.currentFrame=l}else console.warn("Missing animation: "+n);return this.parent},pause:function(e){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==e&&this.setCurrentFrame(e),this.parent},resume:function(e){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==e&&this.setCurrentFrame(e),this.parent},playAfterDelay:function(e,t){if(this.isPlaying){var n=this.nextAnim,r=this.nextAnimsQueue;n&&r.unshift(n),this.nextAnim=e,this._pendingStop=1,this._pendingStopValue=t}else this.delayCounter=t,this.play(e,!0);return this.parent},playAfterRepeat:function(e,t){if(void 0===t&&(t=1),this.isPlaying){var n=this.nextAnim,r=this.nextAnimsQueue;n&&r.unshift(n),-1!==this.repeatCounter&&t>this.repeatCounter&&(t=this.repeatCounter),this.nextAnim=e,this._pendingStop=2,this._pendingStopValue=t}else this.play(e);return this.parent},play:function(e,t){void 0===t&&(t=!1);var n=this.currentAnim,r=this.parent,i="string"===typeof e?e:e.key;if(t&&this.isPlaying&&n.key===i)return r;if(n&&this.isPlaying){var o=this.animationManager.getMix(n.key,e);if(o>0)return this.playAfterDelay(e,o)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(e)},playReverse:function(e,t){void 0===t&&(t=!1);var n="string"===typeof e?e:e.key;return t&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(e))},startAnimation:function(e){this.load(e);var t=this.currentAnim,n=this.parent;return t?(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat,t.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,0===this.delayCounter&&this.handleStart(),n):n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(e,t){var n=this.currentAnim,r=this.currentFrame,i=this.parent,o=r.textureFrame;i.emit(e,n,r,i,o),t&&i.emit(t+n.key,n,r,i,o)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var e=this.currentFrame;if(!e)return 0;var t=e.progress;return this.inReverse&&(t*=-1),t},setProgress:function(e){return this.forward||(e=1-e),this.setCurrentFrame(this.currentAnim.getFrameByProgress(e)),this.parent},setRepeat:function(e){return this.repeatCounter=-1===e?Number.MAX_VALUE:e,this.parent},globalRemove:function(e,t){void 0===t&&(t=this.currentAnim),this.isPlaying&&t.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this.currentAnim,r=this.parent;return n?(t&&(this.repeatCounter=-1===this.repeat?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!e,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):r},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var e=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(e)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var e=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(e)}return this.parent},stopAfterDelay:function(e){return this._pendingStop=1,this._pendingStopValue=e,this.parent},stopAfterRepeat:function(e){return void 0===e&&(e=1),-1!==this.repeatCounter&&e>this.repeatCounter&&(e=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=e,this.parent},stopOnFrame:function(e){return this._pendingStop=3,this._pendingStopValue=e,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(e,t){var n=this.currentAnim;if(this.isPlaying&&n&&!n.paused){if(this.accumulator+=t*this.timeScale,1===this._pendingStop&&(this._pendingStopValue-=t,this._pendingStopValue<=0))return this.stop();if(this.hasStarted){if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&0===this._pendingStop&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var r=0;do{this.forward?n.nextFrame(this):n.previousFrame(this),r++}while(this.isPlaying&&this.accumulator>this.nextTick&&r<60)}}else this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart())}},setCurrentFrame:function(e){var t=this.parent;return this.currentFrame=e,t.texture=e.frame.texture,t.frame=e.frame,t.isCropped&&t.frame.updateCropUVs(t._crop,t.flipX,t.flipY),e.setAlpha&&(t.alpha=e.alpha),t.setSizeToFrame(),t._originComponent&&(e.frame.customPivot?t.setOrigin(e.frame.pivotX,e.frame.pivotY):t.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),3===this._pendingStop&&this._pendingStopValue===e&&this.stop()),t},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(e){return this.anims?this.anims.get(e):null},exists:function(e){return!!this.anims&&this.anims.has(e)},create:function(e){var t=e.key,n=!1;return t&&((n=this.get(t))||(n=new s(this,t,e),this.anims||(this.anims=new i),this.anims.set(t,n))),n},generateFrameNames:function(e,t){return this.animationManager.generateFrameNames(e,t)},generateFrameNumbers:function(e,t){return this.animationManager.generateFrameNumbers(e,t)},remove:function(e){var t=this.get(e);return t&&(this.currentAnim===t&&this.stop(),this.anims.delete(e)),t},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});e.exports=u},function(e,t,n){var r={};e.exports=r;var i=n(166);r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var o=e[i],a=o.speed*o.speed+o.angularSpeed*o.angularSpeed;if(0===o.force.x&&0===o.force.y){var s=Math.min(o.motion,a),u=Math.max(o.motion,a);o.motion=r._minBias*s+(1-r._minBias)*u,o.sleepThreshold>0&&o.motion<r._motionSleepThreshold*n?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold&&r.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}else r.set(o,!1)}},r.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var o=e[i];if(o.isActive){var a=o.collision,s=a.bodyA.parent,u=a.bodyB.parent;if(!(s.isSleeping&&u.isSleeping||s.isStatic||u.isStatic)&&(s.isSleeping||u.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:u,c=l===s?u:s;!l.isStatic&&c.motion>r._motionWakeThreshold*n&&r.set(l,!1)}}}},r.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}},function(e,t,n){var r={};e.exports=r;var i=n(32);r.on=function(e,t,n){for(var r,i=t.split(" "),o=0;o<i.length;o++)r=i[o],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(n);return n},r.off=function(e,t,n){if(t){"function"===typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var r=t.split(" "),o=0;o<r.length;o++){var a=e.events[r[o]],s=[];if(n&&a)for(var u=0;u<a.length;u++)a[u]!==n&&s.push(a[u]);e.events[r[o]]=s}}else e.events={}},r.trigger=function(e,t,n){var r,o,a,s,u=e.events;if(u&&i.keys(u).length>0){n||(n={}),r=t.split(" ");for(var l=0;l<r.length;l++)if(a=u[o=r[l]]){(s=i.clone(n,!1)).name=o,s.source=e;for(var c=0;c<a.length;c++)a[c].apply(e,[s])}}}},function(e,t,n){var r=n(175),i=n(92),o=n(74),a={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(e){void 0===e&&(e=i.MULTI_PIPELINE);var t=this.scene.sys.renderer;if(!t)return!1;var n=t.pipelines;if(this.postPipelines=[],this.pipelineData={},n){var r=n.get(e);if(r)return this.defaultPipeline=r,this.pipeline=r,!0}return!1},setPipeline:function(e,t,n){var i=this.scene.sys.renderer;if(!i)return this;var o=i.pipelines;if(o){var a=o.get(e);a&&(this.pipeline=a),t&&(this.pipelineData=n?r(t):t)}return this},setPostPipeline:function(e,t,n){var i=this.scene.sys.renderer;if(!i)return this;var o=i.pipelines;if(o){Array.isArray(e)||(e=[e]);for(var a=0;a<e.length;a++){var s=o.getPostPipeline(e[a],this);s&&this.postPipelines.push(s)}t&&(this.pipelineData=n?r(t):t)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(e,t){var n=this.pipelineData;return void 0===t?delete n[e]:n[e]=t,this},getPostPipeline:function(e){for(var t=this.postPipelines,n=[],r=0;r<t.length;r++){var i=t[r];("string"===typeof e&&i.name===e||i instanceof e)&&n.push(i)}return 1===n.length?n[0]:n},resetPipeline:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.pipeline=this.defaultPipeline,e&&(this.postPipelines=[],this.hasPostPipeline=!1),t&&(this.pipelineData={}),null!==this.pipeline},resetPostPipeline:function(e){void 0===e&&(e=!1);for(var t=this.postPipelines,n=0;n<t.length;n++)t[n].destroy();this.postPipelines=[],this.hasPostPipeline=!1,e&&(this.pipelineData={})},removePostPipeline:function(e){for(var t=this.postPipelines,n=t.length-1;n>=0;n--){var r=t[n];("string"===typeof e&&r.name===e||"string"!==typeof e&&r instanceof e)&&(r.destroy(),o(t,n))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};e.exports=a},function(e,t){e.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return void 0===n&&(n=new r),n.x=e.x+e.radius*Math.cos(t),n.y=e.y+e.radius*Math.sin(t),n}},function(e,t,n){var r=n(4);e.exports=function(e,t){void 0===t&&(t=new r);var n=2*Math.PI*Math.random(),i=Math.random()+Math.random(),o=i>1?2-i:i,a=o*Math.cos(n),s=o*Math.sin(n);return t.x=e.x+a*e.radius,t.y=e.y+s*e.radius,t}},function(e,t,n){var r=n(130),i=n(4);e.exports=function(e,t,n){if(void 0===n&&(n=new i),t<=0||t>=1)return n.x=e.x,n.y=e.y,n;var o=r(e)*t;return t>.5?(o-=e.width+e.height)<=e.width?(n.x=e.right-o,n.y=e.bottom):(n.x=e.x,n.y=e.bottom-(o-e.width)):o<=e.width?(n.x=e.x+o,n.y=e.y):(n.x=e.right,n.y=e.y+(o-e.width)),n}},function(e,t,n){var r=n(67),i=n(4);e.exports=function(e,t,n,o){void 0===o&&(o=[]),!t&&n>0&&(t=r(e)/n);for(var a=e.x1,s=e.y1,u=e.x2,l=e.y2,c=0;c<t;c++){var h=c/t,f=a+(u-a)*h,d=s+(l-s)*h;o.push(new i(f,d))}return o}},function(e,t,n){var r=n(4);e.exports=function(e,t){void 0===t&&(t=new r);var n=Math.random();return t.x=e.x1+n*(e.x2-e.x1),t.y=e.y1+n*(e.y2-e.y1),t}},function(e,t,n){var r=n(4);e.exports=function(e,t){return void 0===t&&(t=new r),t.x=e.x+Math.random()*e.width,t.y=e.y+Math.random()*e.height,t}},function(e,t){e.exports=function e(t){var n,r,i;if("object"!==typeof t||null===t)return t;for(i in n=Array.isArray(t)?[]:{},t)r=t[i],n[i]=e(r);return n}},function(e,t){e.exports=function(e){var t={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(t.textureKey=e.texture.key,t.frameKey=e.frame.name),t}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o,a,s,u){void 0===u&&(u=new r);var l=Math.sin(o),c=Math.cos(o),h=c*a,f=l*a,d=-l*s,p=c*s,v=1/(h*p+d*-f);return u.x=p*v*e+-d*v*t+(i*d-n*p)*v,u.y=h*v*t+-f*v*e+(-i*h+n*f)*v,u}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);for(var n=null,r=0;r<t;r++)n=e.shift(),e.push(n);return n}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);for(var n=null,r=0;r<t;r++)n=e.pop(),e.unshift(n);return n}},function(e,t,n){var r=n(4);e.exports=function(e,t){void 0===t&&(t=new r);var n=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return t.x=e.x+i*Math.cos(n)*e.width/2,t.y=e.y+i*Math.sin(n)*e.height/2,t}},function(e,t,n){var r=n(4);e.exports=function(e,t){void 0===t&&(t=new r);var n=e.x2-e.x1,i=e.y2-e.y1,o=e.x3-e.x1,a=e.y3-e.y1,s=Math.random(),u=Math.random();return s+u>=1&&(s=1-s,u=1-u),t.x=e.x1+(n*s+o*u),t.y=e.y1+(i*s+a*u),t}},function(e,t){e.exports=function(e,t,n,r,i){var o=r+Math.atan2(e.y-n,e.x-t);return e.x=t+i*Math.cos(o),e.y=n+i*Math.sin(o),e}},function(e,t){e.exports=function(e,t,n){return(e=Math.max(0,Math.min(1,(e-t)/(n-t))))*e*e*(e*(6*e-15)+10)}},function(e,t){e.exports=function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}},function(e,t,n){var r=n(18),i=n(0),o=n(132),a=n(318),s=n(319),u=n(6),l=n(320),c=new i({initialize:function(e,t,n){this.manager=e,this.key=t,this.type="frame",this.frames=this.getFrames(e.textureManager,u(n,"frames",[]),u(n,"defaultTextureKey",null),u(n,"sortFrames",!0)),this.frameRate=u(n,"frameRate",null),this.duration=u(n,"duration",null),this.msPerFrame,this.skipMissedFrames=u(n,"skipMissedFrames",!0),this.delay=u(n,"delay",0),this.repeat=u(n,"repeat",0),this.repeatDelay=u(n,"repeatDelay",0),this.yoyo=u(n,"yoyo",!1),this.showOnStart=u(n,"showOnStart",!1),this.hideOnComplete=u(n,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(e,t,n,r){null===n&&null===r?(e.frameRate=24,e.duration=24/t*1e3):n&&null===r?(e.duration=n,e.frameRate=t/(n/1e3)):(e.frameRate=r,e.duration=t/r*1e3),e.msPerFrame=1e3/e.frameRate},addFrame:function(e){return this.addFrameAt(this.frames.length,e)},addFrameAt:function(e,t){var n=this.getFrames(this.manager.textureManager,t);if(n.length>0){if(0===e)this.frames=n.concat(this.frames);else if(e===this.frames.length)this.frames=this.frames.concat(n);else{var r=this.frames.slice(0,e),i=this.frames.slice(e);this.frames=r.concat(n,i)}this.updateFrameSequence()}return this},checkFrame:function(e){return e>=0&&e<this.frames.length},getFirstTick:function(e){e.accumulator=0,e.nextTick=e.msPerFrame+e.currentFrame.duration},getFrameAt:function(e){return this.frames[e]},getFrames:function(e,t,n,r){void 0===r&&(r=!0);var i,o,a,c,h=[],f=1;if("string"===typeof t){c=t;var d=e.get(c).getFrameNames();r&&l(d),t=[],d.forEach((function(e){t.push({key:c,frame:e})}))}if(!Array.isArray(t)||0===t.length)return h;for(a=0;a<t.length;a++){var p=t[a],v=u(p,"key",n);if(v){var g=u(p,"frame",0),m=e.getFrame(v,g);(o=new s(v,g,f,m)).duration=u(p,"duration",0),o.isFirst=!i,i&&(i.nextFrame=o,o.prevFrame=i),h.push(o),i=o,f++}}if(h.length>0){o.isLast=!0,o.nextFrame=h[0],h[0].prevFrame=o;var y=1/(h.length-1);for(a=0;a<h.length;a++)h[a].progress=a*y}return h},getNextTick:function(e){e.accumulator-=e.nextTick,e.nextTick=e.msPerFrame+e.currentFrame.duration},getFrameByProgress:function(e){return e=r(e,0,1),a(e,this.frames,"progress")},nextFrame:function(e){var t=e.currentFrame;t.isLast?e.yoyo?this.handleYoyoFrame(e,!1):e.repeatCounter>0?e.inReverse&&e.forward?e.forward=!1:this.repeatAnimation(e):e.complete():this.updateAndGetNextTick(e,t.nextFrame)},handleYoyoFrame:function(e,t){if(t||(t=!1),e.inReverse===!t&&e.repeatCounter>0)return(0===e.repeatDelay||e.pendingRepeat)&&(e.forward=t),void this.repeatAnimation(e);if(e.inReverse===t||0!==e.repeatCounter){e.forward=t;var n=t?e.currentFrame.nextFrame:e.currentFrame.prevFrame;this.updateAndGetNextTick(e,n)}else e.complete()},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(e){var t=e.currentFrame;t.isFirst?e.yoyo?this.handleYoyoFrame(e,!0):e.repeatCounter>0?(e.inReverse&&!e.forward||(e.forward=!0),this.repeatAnimation(e)):e.complete():this.updateAndGetNextTick(e,t.prevFrame)},updateAndGetNextTick:function(e,t){e.setCurrentFrame(t),this.getNextTick(e)},removeFrame:function(e){var t=this.frames.indexOf(e);return-1!==t&&this.removeFrameAt(t),this},removeFrameAt:function(e){return this.frames.splice(e,1),this.updateFrameSequence(),this},repeatAnimation:function(e){if(2===e._pendingStop){if(0===e._pendingStopValue)return e.stop();e._pendingStopValue--}e.repeatDelay>0&&!e.pendingRepeat?(e.pendingRepeat=!0,e.accumulator-=e.nextTick,e.nextTick+=e.repeatDelay):(e.repeatCounter--,e.forward?e.setCurrentFrame(e.currentFrame.nextFrame):e.setCurrentFrame(e.currentFrame.prevFrame),e.isPlaying&&(this.getNextTick(e),e.handleRepeat()))},toJSON:function(){var e={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach((function(t){e.frames.push(t.toJSON())})),e},updateFrameSequence:function(){for(var e,t=this.frames.length,n=1/(t-1),r=0;r<t;r++)(e=this.frames[r]).index=r+1,e.isFirst=!1,e.isLast=!1,e.progress=r*n,0===r?(e.isFirst=!0,1===t?(e.isLast=!0,e.nextFrame=e,e.prevFrame=e):(e.isLast=!1,e.prevFrame=this.frames[t-1],e.nextFrame=this.frames[r+1])):r===t-1&&t>1?(e.isLast=!0,e.prevFrame=this.frames[t-2],e.nextFrame=this.frames[0]):t>1&&(e.prevFrame=this.frames[r-1],e.nextFrame=this.frames[r+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var e=0;e<this.frames.length;e++)this.frames[e].destroy();this.frames=[],this.manager=null}});e.exports=c},function(e,t){e.exports=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=" "),void 0===r&&(r=3);var i=0;if(t+1>=(e=e.toString()).length)switch(r){case 1:e=new Array(t+1-e.length).join(n)+e;break;case 3:var o=Math.ceil((i=t-e.length)/2);e=new Array(i-o+1).join(n)+e+new Array(o+1).join(n);break;default:e+=new Array(t+1-e.length).join(n)}return e}},function(e,t,n){var r=n(327),i=n(189),o=n(331),a=n(332);e.exports=function(e){switch(typeof e){case"string":return"rgb"===e.substr(0,3).toLowerCase()?a(e):r(e);case"number":return i(e);case"object":return o(e)}}},function(e,t,n){var r=n(103);function i(e,t,n,r){var i=(e+6*t)%6,o=Math.min(i,4-i,1);return Math.round(255*(r-r*n*Math.max(0,o)))}e.exports=function(e,t,n,o){void 0===t&&(t=1),void 0===n&&(n=1);var a=i(5,e,t,n),s=i(3,e,t,n),u=i(1,e,t,n);return o?o.setTo?o.setTo(a,s,u,o.alpha,!1):(o.r=a,o.g=s,o.b=u,o.color=r(a,s,u),o):{r:a,g:s,b:u,color:r(a,s,u)}}},function(e,t,n){var r=n(38),i=n(330);e.exports=function(e){var t=i(e);return new r(t.r,t.g,t.b,t.a)}},function(e,t){e.exports=function(e,t,n){return e.x=t-e.width/2,e.y=n-e.height/2,e}},function(e,t,n){var r=n(105),i=n(136),o=n(31),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};e.exports=function(){if("function"===typeof importScripts)return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch(t){a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var e=!1;return a.webGL=function(){if(window.WebGLRenderingContext)try{var t=o.createWebGL(this),n=t.getContext("webgl")||t.getContext("experimental-webgl"),r=o.create2D(this),i=r.getContext("2d").createImageData(1,1);return e=i.data instanceof Uint8ClampedArray,o.remove(t),o.remove(r),!!n}catch(a){return!1}return!1}(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,i.firefox&&i.firefoxVersion<21&&(a.getUserMedia=!1),!r.iOS&&(i.ie||i.firefox||i.chrome)&&(a.canvasBitBltShift=!0),(i.safari||i.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),"undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint32Array&&(a.littleEndian=function(){var e=new ArrayBuffer(4),t=new Uint8Array(e),n=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===n[0]||2712847316!==n[0]&&null}()),a.support32bit="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof Int32Array&&null!==a.littleEndian&&e,a}()},function(e,t){var n="";e.exports=function(){var e=function(e){for(var t=["i","webkitI","msI","mozI","oI"],n=0;n<t.length;n++){var r=t[n]+"mageSmoothingEnabled";if(r in e)return r}return null};return{disable:function(t){return""===n&&(n=e(t)),n&&(t[n]=!1),t},enable:function(t){return""===n&&(n=e(t)),n&&(t[n]=!0),t},getPrefix:e,isEnabled:function(e){return null!==n?e[n]:null}}}()},function(e,t,n){var r=n(14),i=n(17),o={Angle:n(812),Distance:n(821),Easing:n(826),Fuzzy:n(827),Interpolation:n(830),Pow2:n(835),Snap:n(837),RandomDataGenerator:n(839),Average:n(840),Bernstein:n(356),Between:n(195),CatmullRom:n(194),CeilTo:n(841),Clamp:n(18),DegToRad:n(36),Difference:n(842),Euler:n(843),Factorial:n(357),FloatBetween:n(137),FloorTo:n(844),FromPercent:n(98),GetSpeed:n(845),IsEven:n(846),IsEvenStrict:n(847),Linear:n(135),MaxAdd:n(848),Median:n(849),MinSub:n(850),Percent:n(851),RadToDeg:n(196),RandomXY:n(852),RandomXYZ:n(853),RandomXYZW:n(854),Rotate:n(362),RotateAround:n(308),RotateAroundDistance:n(182),RotateTo:n(855),RoundAwayFromZero:n(363),RoundTo:n(856),SinCosTableGenerator:n(857),SmootherStep:n(183),SmoothStep:n(184),ToXY:n(858),TransformXY:n(177),Within:n(859),Wrap:n(68),Vector2:n(3),Vector3:n(39),Vector4:n(140),Matrix3:n(364),Matrix4:n(69),Quaternion:n(365),RotateVec3:n(860)};o=i(!1,o,r),e.exports=o},function(e,t){e.exports=function(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}},function(e,t){e.exports=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},function(e,t,n){var r=n(14);e.exports=function(e){return e*r.RAD_TO_DEG}},function(e,t,n){e.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},function(e,t,n){var r=new(n(0))({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(e){return this._matrix=e,this._dirty=!0,this},reset:function(){var e=this._matrix;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=1,e[7]=0,e[8]=0,e[9]=0,e[10]=0,e[11]=0,e[12]=1,e[13]=0,e[14]=0,e[15]=0,e[16]=0,e[17]=0,e[18]=1,e[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var e=new Float32Array(this._matrix);e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,this._data=e,this._dirty=!1}return this._data},brightness:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=e;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],t)},saturate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=2*e/3+1,r=-.5*(n-1);return this.multiply([n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0],t)},desaturate:function(e){return void 0===e&&(e=!1),this.saturate(-1,e)},hue:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1),e=e/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=.213,o=.715,a=.072;return this.multiply([i+.787*n+r*-i,o+n*-o+r*-o,a+n*-a+.928*r,0,0,i+n*-i+.143*r,o+n*(1-o)+.14*r,a+n*-a+-.283*r,0,0,i+n*-i+-.787*r,o+n*-o+r*o,a+.928*n+r*a,0,0,0,0,0,1,0],t)},grayscale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!1),this.saturate(-e,t)},blackWhite:function(e){return void 0===e&&(e=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},contrast:function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=e+1,r=-.5*(n-1);return this.multiply([n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0],t)},negative:function(e){return void 0===e&&(e=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},desaturateLuminance:function(e){return void 0===e&&(e=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],e)},sepia:function(e){return void 0===e&&(e=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},night:function(e,t){return void 0===e&&(e=.1),void 0===t&&(t=!1),this.multiply([-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],t)},lsd:function(e){return void 0===e&&(e=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},brown:function(e){return void 0===e&&(e=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},vintagePinhole:function(e){return void 0===e&&(e=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},kodachrome:function(e){return void 0===e&&(e=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},technicolor:function(e){return void 0===e&&(e=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},polaroid:function(e){return void 0===e&&(e=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},shiftToBGR:function(e){return void 0===e&&(e=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},multiply:function(e,t){t||this.reset();for(var n=this._matrix,r=[],i=0;i<20;i++)r[i]=n[i];return n[0]=r[0]*e[0]+r[1]*e[5]+r[2]*e[10]+r[3]*e[15],n[1]=r[0]*e[1]+r[1]*e[6]+r[2]*e[11]+r[3]*e[16],n[2]=r[0]*e[2]+r[1]*e[7]+r[2]*e[12]+r[3]*e[17],n[3]=r[0]*e[3]+r[1]*e[8]+r[2]*e[13]+r[3]*e[18],n[4]=r[0]*e[4]+r[1]*e[9]+r[2]*e[14]+r[3]*e[19]+r[4],n[5]=r[5]*e[0]+r[6]*e[5]+r[7]*e[10]+r[8]*e[15],n[6]=r[5]*e[1]+r[6]*e[6]+r[7]*e[11]+r[8]*e[16],n[7]=r[5]*e[2]+r[6]*e[7]+r[7]*e[12]+r[8]*e[17],n[8]=r[5]*e[3]+r[6]*e[8]+r[7]*e[13]+r[8]*e[18],n[9]=r[5]*e[4]+r[6]*e[9]+r[7]*e[14]+r[8]*e[19]+r[9],n[10]=r[10]*e[0]+r[11]*e[5]+r[12]*e[10]+r[13]*e[15],n[11]=r[10]*e[1]+r[11]*e[6]+r[12]*e[11]+r[13]*e[16],n[12]=r[10]*e[2]+r[11]*e[7]+r[12]*e[12]+r[13]*e[17],n[13]=r[10]*e[3]+r[11]*e[8]+r[12]*e[13]+r[13]*e[18],n[14]=r[10]*e[4]+r[11]*e[9]+r[12]*e[14]+r[13]*e[19]+r[14],n[15]=r[15]*e[0]+r[16]*e[5]+r[17]*e[10]+r[18]*e[15],n[16]=r[15]*e[1]+r[16]*e[6]+r[17]*e[11]+r[18]*e[16],n[17]=r[15]*e[2]+r[16]*e[7]+r[17]*e[12]+r[18]*e[17],n[18]=r[15]*e[3]+r[16]*e[8]+r[17]*e[13]+r[18]*e[18],n[19]=r[15]*e[4]+r[16]*e[9]+r[17]*e[14]+r[18]*e[19]+r[19],this._dirty=!0,this}});e.exports=r},function(e,t,n){var r=n(10),i=n(14);e.exports=function(e,t){if(void 0===t&&(t=new r),0===e.length)return t;for(var n,o,a,s=Number.MAX_VALUE,u=Number.MAX_VALUE,l=i.MIN_SAFE_INTEGER,c=i.MIN_SAFE_INTEGER,h=0;h<e.length;h++)n=e[h],Array.isArray(n)?(o=n[0],a=n[1]):(o=n.x,a=n.y),s=Math.min(s,o),u=Math.min(u,a),l=Math.max(l,o),c=Math.max(c,a);return t.x=s,t.y=u,t.width=l-s,t.height=c-u,t}},function(e,t,n){var r=n(0),i=n(1),o=new r({initialize:function(e,t,n){this._rgb=[0,0,0],this.onChangeCallback=i,this.dirty=!1,this.set(e,t,n)},set:function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this._rgb=[e,t,n],this.onChange(),this},equals:function(e,t,n){var r=this._rgb;return r.r===e&&r.g===t&&r.b===n},onChange:function(){this.dirty=!0;var e=this._rgb;this.onChangeCallback.call(this,e[0],e[1],e[2])},r:{get:function(){return this._rgb[0]},set:function(e){this._rgb[0]=e,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(e){this._rgb[1]=e,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(e){this._rgb[2]=e,this.onChange()}},destroy:function(){this.onChangeCallback=null}});e.exports=o},function(e,t,n){var r={CENTER:n(403),ORIENTATION:n(404),SCALE_MODE:n(405),ZOOM:n(406)};e.exports=r},function(e,t){e.exports=function(e){e.parentNode&&e.parentNode.removeChild(e)}},function(e,t){e.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(e,t,n){var r=n(0),i=n(144),o=n(197),a=n(20),s=n(419),u=n(420),l=n(33),c=n(1),h=n(421),f=new r({initialize:function(e,t){this.scene=e,this.game,this.renderer,this.config=t,this.settings=h.create(t),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=c},init:function(e){this.settings.status=i.INIT,this.sceneUpdate=c,this.game=e,this.renderer=e.renderer,this.canvas=e.canvas,this.context=e.context;var t=e.plugins;this.plugins=t,t.addToScene(this,o.Global,[o.CoreScene,u(this),s(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(e,t){var n=this.events;n.emit(a.PRE_UPDATE,e,t),n.emit(a.UPDATE,e,t),this.sceneUpdate.call(this.scene,e,t),n.emit(a.POST_UPDATE,e,t)},render:function(e){var t=this.displayList;t.depthSort(),this.events.emit(a.PRE_RENDER,e),this.cameras.render(e,t),this.events.emit(a.RENDER,e)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(e){var t=this.events,n=this.settings;return this.settings.active&&(n.status=i.PAUSED,n.active=!1,t.emit(a.PAUSE,this,e)),this},resume:function(e){var t=this.events,n=this.settings;return this.settings.active||(n.status=i.RUNNING,n.active=!0,t.emit(a.RESUME,this,e)),this},sleep:function(e){var t=this.events,n=this.settings;return n.status=i.SLEEPING,n.active=!1,n.visible=!1,t.emit(a.SLEEP,this,e),this},wake:function(e){var t=this.events,n=this.settings;return n.status=i.RUNNING,n.active=!0,n.visible=!0,t.emit(a.WAKE,this,e),n.isTransition&&t.emit(a.TRANSITION_WAKE,n.transitionFrom,n.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===i.SLEEPING},isActive:function(){return this.settings.status===i.RUNNING},isPaused:function(){return this.settings.status===i.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(e){return this.settings.visible=e,this},setActive:function(e,t){return e?this.resume(t):this.pause(t)},start:function(e){var t=this.events,n=this.settings;e&&(n.data=e),n.status=i.START,n.active=!0,n.visible=!0,t.emit(a.START,this),t.emit(a.READY,this,e)},shutdown:function(e){var t=this.events,n=this.settings;t.off(a.TRANSITION_INIT),t.off(a.TRANSITION_START),t.off(a.TRANSITION_COMPLETE),t.off(a.TRANSITION_OUT),n.status=i.SHUTDOWN,n.active=!1,n.visible=!1,this.renderer===l.WEBGL&&this.renderer.resetTextures(!0),t.emit(a.SHUTDOWN,this,e)},destroy:function(){var e=this.events,t=this.settings;t.status=i.DESTROYED,t.active=!1,t.visible=!1,e.emit(a.DESTROY,this),e.removeAllListeners();for(var n=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],r=0;r<n.length;r++)this[n[r]]=null}});e.exports=f},function(e,t){e.exports=function(e){return e&&e[0].toUpperCase()+e.slice(1)}},function(e,t,n){var r=n(33),i=n(0),o=n(109),a=n(424),s="Texture.frame missing: ",u=new i({initialize:function(e,t,n,r,i){Array.isArray(n)||(n=[n]),this.manager=e,this.key=t,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var o=0;o<n.length;o++)this.source.push(new a(this,n[o],r,i))},add:function(e,t,n,r,i,a){if(this.has(e))return null;var s=new o(this,e,t,n,r,i,a);return this.frames[e]=s,"__BASE"===this.firstFrame&&(this.firstFrame=e),this.frameTotal++,s},remove:function(e){return!!this.has(e)&&(this.get(e).destroy(),delete this.frames[e],!0)},has:function(e){return this.frames[e]},get:function(e){e||(e=this.firstFrame);var t=this.frames[e];return t||(console.warn(s+e),t=this.frames[this.firstFrame]),t},getTextureSourceIndex:function(e){for(var t=0;t<this.source.length;t++)if(this.source[t]===e)return t;return-1},getFramesFromTextureSource:function(e,t){void 0===t&&(t=!1);var n=[];for(var r in this.frames)if("__BASE"!==r||t){var i=this.frames[r];i.sourceIndex===e&&n.push(i)}return n},getFrameNames:function(e){void 0===e&&(e=!1);var t=Object.keys(this.frames);if(!e){var n=t.indexOf("__BASE");-1!==n&&t.splice(n,1)}return t},getSourceImage:function(e){void 0!==e&&null!==e&&1!==this.frameTotal||(e="__BASE");var t=this.frames[e];return t?t.source.image:(console.warn(s+e),this.frames.__BASE.source.image)},getDataSourceImage:function(e){void 0!==e&&null!==e&&1!==this.frameTotal||(e="__BASE");var t,n=this.frames[e];return n?t=n.sourceIndex:(console.warn(s+e),t=this.frames.__BASE.sourceIndex),this.dataSource[t].image},setDataSource:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=this.source[t];this.dataSource.push(new a(this,e[t],n.width,n.height))}},setFilter:function(e){var t;for(t=0;t<this.source.length;t++)this.source[t].setFilter(e);for(t=0;t<this.dataSource.length;t++)this.dataSource[t].setFilter(e)},destroy:function(){var e;for(e=0;e<this.source.length;e++)this.source[e].destroy();for(e=0;e<this.dataSource.length;e++)this.dataSource[e].destroy();for(var t in this.frames)this.frames[t].destroy();this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var n=this.manager.game.renderer;n&&n.type===r.WEBGL&&n.resetTextures(!0),this.manager=null}});e.exports=u},function(e,t,n){var r=n(78);e.exports=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);var a=[];if(r(e,i,o))for(var s=i;s<o;s++){var u=e[s];(!t||t&&void 0===n&&u.hasOwnProperty(t)||t&&void 0!==n&&u[t]===n)&&a.push(u)}return a}},function(e,t,n){e.exports={Matrix:n(1013),Add:n(1021),AddAt:n(1022),BringToTop:n(1023),CountAllMatching:n(1024),Each:n(1025),EachInRange:n(1026),FindClosestInSorted:n(318),GetAll:n(207),GetFirst:n(428),GetRandom:n(210),MoveDown:n(1027),MoveTo:n(1028),MoveUp:n(1029),MoveAbove:n(1030),MoveBelow:n(1031),NumberArray:n(322),NumberArrayStep:n(1032),QuickSelect:n(436),Range:n(437),Remove:n(93),RemoveAt:n(1033),RemoveBetween:n(1034),RemoveRandomElement:n(1035),Replace:n(1036),RotateLeft:n(178),RotateRight:n(179),SafeRange:n(78),SendToBack:n(1037),SetAll:n(1038),Shuffle:n(131),SortByDigits:n(320),SpliceOne:n(74),StableSort:n(79),Swap:n(1039)}},function(e,t){e.exports=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var t=e[0].length,n=1;n<e.length;n++)if(e[n].length!==t)return!1;return!0}},function(e,t){e.exports=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);var r=t+Math.floor(Math.random()*n);return void 0===e[r]?null:e[r]}},function(e,t,n){var r=n(0),i=n(9),o=n(438),a=new r({Extends:i,initialize:function(){i.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(e){return this._pending.push(e),this._toProcess++,e},remove:function(e){return this._destroy.push(e),this._toProcess++,e},removeAll:function(){for(var e=this._active,t=this._destroy,n=e.length;n--;)t.push(e[n]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var e,t,n=this._destroy,r=this._active;for(e=0;e<n.length;e++){t=n[e];var i=r.indexOf(t);-1!==i&&(r.splice(i,1),this.emit(o.PROCESS_QUEUE_REMOVE,t))}for(n.length=0,n=this._pending,e=0;e<n.length;e++)t=n[e],(!this.checkQueue||this.checkQueue&&-1===r.indexOf(t))&&(r.push(t),this.emit(o.PROCESS_QUEUE_ADD,t));return n.length=0,this._toProcess=0,r},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});e.exports=a},function(e,t){function n(e,t){return parseInt(e.getAttribute(t),10)}e.exports=function(e,t,r,i,o){void 0===r&&(r=0),void 0===i&&(i=0);var a=t.cutX,s=t.cutY,u=t.source.width,l=t.source.height,c=t.sourceIndex,h={},f=e.getElementsByTagName("info")[0],d=e.getElementsByTagName("common")[0];h.font=f.getAttribute("face"),h.size=n(f,"size"),h.lineHeight=n(d,"lineHeight")+i,h.chars={};var p=e.getElementsByTagName("char"),v=void 0!==t&&t.trimmed;if(v)var g=t.height,m=t.width;for(var y=0;y<p.length;y++){var x=p[y],b=n(x,"id"),w=String.fromCharCode(b),k=n(x,"x"),E=n(x,"y"),_=n(x,"width"),T=n(x,"height");v&&(k<m&&(m=k),E<g&&(g=E)),v&&0!==g&&0!==m&&(k-=t.x,E-=t.y);var A=(a+k)/u,S=(s+E)/l,C=(a+k+_)/u,I=(s+E+T)/l;if(h.chars[b]={x:k,y:E,width:_,height:T,centerX:Math.floor(_/2),centerY:Math.floor(T/2),xOffset:n(x,"xoffset"),yOffset:n(x,"yoffset"),xAdvance:n(x,"xadvance")+r,data:{},kerning:{},u0:A,v0:S,u1:C,v1:I},o&&0!==_&&0!==T){var P=o.add(w,c,k,E,_,T);P&&P.setUVs(_,T,A,S,C,I)}}var O=e.getElementsByTagName("kerning");for(y=0;y<O.length;y++){var R=O[y],M=n(R,"first"),D=n(R,"second"),L=n(R,"amount");h.chars[D].kerning[M]=L}return h}},function(e,t,n){var r=n(1049),i=n(440),o=n(0),a=n(11),s=n(109),u=n(15),l=n(110),c=new o({Extends:u,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,r],initialize:function(e,t,n,r,i){u.call(this,e,"Blitter"),this.setTexture(r,i),this.setPosition(t,n),this.initPipeline(),this.children=new l,this.renderList=[],this.dirty=!1},create:function(e,t,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=this.children.length),void 0===n?n=this.frame:n instanceof s||(n=this.texture.get(n));var a=new i(this,e,t,n,r);return this.children.addAt(a,o,!1),this.dirty=!0,a},createFromCallback:function(e,t,n,r){for(var i=this.createMultiple(t,n,r),o=0;o<i.length;o++){var a=i[o];e.call(this,a,o)}return i},createMultiple:function(e,t,n){void 0===t&&(t=this.frame.name),void 0===n&&(n=!0),Array.isArray(t)||(t=[t]);var r=[],i=this;return t.forEach((function(t){for(var o=0;o<e;o++)r.push(i.create(0,0,t,n))})),r},childCanRender:function(e){return e.visible&&e.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});e.exports=c},function(e,t,n){var r=n(208),i=n(35),o=n(0),a=n(11),s=n(75),u=n(15),l=n(10),c=n(1052),h=n(441),f=n(3),d=new o({Extends:u,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.Pipeline,a.Transform,a.Visible,c],initialize:function(e,t,n,r){u.call(this,e,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=e.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(t,n),this.clearAlpha(),this.setBlendMode(i.SKIP_CHECK),r&&this.add(r)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(e){return void 0===e&&(e=!0),this.exclusive=e,this},getBounds:function(e){if(void 0===e&&(e=new l),e.setTo(this.x,this.y,0,0),this.parentContainer){var t=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);e.setTo(t.x,t.y,0,0)}if(this.list.length>0){var n=this.list,r=new l,i=!1;e.setEmpty();for(var o=0;o<n.length;o++){var a=n[o];a.getBounds&&(a.getBounds(r),i?h(r,e,e):(e.setTo(r.x,r.y,r.width,r.height),i=!0))}}return e},addHandler:function(e){e.once(s.DESTROY,this.remove,this),this.exclusive&&(e.parentContainer&&e.parentContainer.remove(e),e.removeFromDisplayList(),e.parentContainer=this)},removeHandler:function(e){e.off(s.DESTROY,this.remove),this.exclusive&&(e.parentContainer=null,e.addToDisplayList())},pointToContainer:function(e,t){void 0===t&&(t=new f),this.parentContainer?this.parentContainer.pointToContainer(e,t):t=new f(e.x,e.y);var n=this.tempTransformMatrix;return n.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),n.invert(),n.transformPoint(e.x,e.y,t),t},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(e){return r.Add(this.list,e,this.maxSize,this.addHandler,this),this},addAt:function(e,t){return r.AddAt(this.list,e,t,this.maxSize,this.addHandler,this),this},getAt:function(e){return this.list[e]},getIndex:function(e){return this.list.indexOf(e)},sort:function(e,t){return e?(void 0===t&&(t=function(t,n){return t[e]-n[e]}),r.StableSort(this.list,t),this):this},getByName:function(e){return r.GetFirst(this.list,"name",e)},getRandom:function(e,t){return r.GetRandom(this.list,e,t)},getFirst:function(e,t,n,i){return r.GetFirst(this.list,e,t,n,i)},getAll:function(e,t,n,i){return r.GetAll(this.list,e,t,n,i)},count:function(e,t,n,i){return r.CountAllMatching(this.list,e,t,n,i)},swap:function(e,t){return r.Swap(this.list,e,t),this},moveTo:function(e,t){return r.MoveTo(this.list,e,t),this},moveAbove:function(e,t){return r.MoveAbove(this.list,e,t),this},moveBelow:function(e,t){return r.MoveBelow(this.list,e,t),this},remove:function(e,t){var n=r.Remove(this.list,e,this.removeHandler,this);if(t&&n){Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++)n[i].destroy()}return this},removeAt:function(e,t){var n=r.RemoveAt(this.list,e,this.removeHandler,this);return t&&n&&n.destroy(),this},removeBetween:function(e,t,n){var i=r.RemoveBetween(this.list,e,t,this.removeHandler,this);if(n)for(var o=0;o<i.length;o++)i[o].destroy();return this},removeAll:function(e){var t=r.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(e)for(var n=0;n<t.length;n++)t[n].destroy();return this},bringToTop:function(e){return r.BringToTop(this.list,e),this},sendToBack:function(e){return r.SendToBack(this.list,e),this},moveUp:function(e){return r.MoveUp(this.list,e),this},moveDown:function(e){return r.MoveDown(this.list,e),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return r.Shuffle(this.list),this},replace:function(e,t,n){return r.Replace(this.list,e,t)&&(this.addHandler(t),this.removeHandler(e),n&&e.destroy()),this},exists:function(e){return this.list.indexOf(e)>-1},setAll:function(e,t,n,i){return r.SetAll(this.list,e,t,n,i),this},each:function(e,t){var n,r=[null],i=this.list.slice(),o=i.length;for(n=2;n<arguments.length;n++)r.push(arguments[n]);for(n=0;n<o;n++)r[0]=i[n],e.apply(t,r);return this},iterate:function(e,t){var n,r=[null];for(n=2;n<arguments.length;n++)r.push(arguments[n]);for(n=0;n<this.list.length;n++)r[0]=this.list[n],e.apply(t,r);return this},setScrollFactor:function(e,t,n){return void 0===t&&(t=e),void 0===n&&(n=!1),this.scrollFactorX=e,this.scrollFactorY=t,n&&(r.SetAll(this.list,"scrollFactorX",e),r.SetAll(this.list,"scrollFactorY",t)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});e.exports=d},function(e,t,n){var r=n(148),i=n(0),o=n(1057),a=new i({Extends:r,Mixins:[o],initialize:function(e,t,n,i,o,a,s){r.call(this,e,t,n,i,o,a,s),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(e,t){return this.cropWidth=e,this.cropHeight=t,this},setDisplayCallback:function(e){return this.displayCallback=e,this},setScrollX:function(e){return this.scrollX=e,this},setScrollY:function(e){return this.scrollY=e,this}});e.exports=a},function(e,t,n){var r=n(133),i=n(0),o=n(217),a=n(303),s=n(304),u=n(305),l=n(309),c=n(167),h=n(312),f=n(313),d=n(314),p=n(111),v=n(15),g=n(2),m=n(6),y=n(14),x=n(1063),b=new i({Extends:v,Mixins:[a,s,u,l,c,f,d,h,x],initialize:function(e,t){var n=m(t,"x",0),r=m(t,"y",0);v.call(this,e,"Graphics"),this.setPosition(n,r),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(t)},setDefaultStyles:function(e){return m(e,"lineStyle",null)&&(this.defaultStrokeWidth=m(e,"lineStyle.width",1),this.defaultStrokeColor=m(e,"lineStyle.color",16777215),this.defaultStrokeAlpha=m(e,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),m(e,"fillStyle",null)&&(this.defaultFillColor=m(e,"fillStyle.color",16777215),this.defaultFillAlpha=m(e,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(e,t,n){return void 0===n&&(n=1),this.commandBuffer.push(o.LINE_STYLE,e,t,n),this._lineWidth=e,this},fillStyle:function(e,t){return void 0===t&&(t=1),this.commandBuffer.push(o.FILL_STYLE,e,t),this},fillGradientStyle:function(e,t,n,r,i,a,s,u){return void 0===i&&(i=1),void 0===a&&(a=i),void 0===s&&(s=i),void 0===u&&(u=i),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,i,a,s,u,e,t,n,r),this},lineGradientStyle:function(e,t,n,r,i,a){return void 0===a&&(a=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,e,a,t,n,r,i),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(e){return this.fillCircle(e.x,e.y,e.radius)},strokeCircleShape:function(e){return this.strokeCircle(e.x,e.y,e.radius)},fillCircle:function(e,t,n){return this.beginPath(),this.arc(e,t,n,0,y.PI2),this.fillPath(),this},strokeCircle:function(e,t,n){return this.beginPath(),this.arc(e,t,n,0,y.PI2),this.strokePath(),this},fillRectShape:function(e){return this.fillRect(e.x,e.y,e.width,e.height)},strokeRectShape:function(e){return this.strokeRect(e.x,e.y,e.width,e.height)},fillRect:function(e,t,n,r){return this.commandBuffer.push(o.FILL_RECT,e,t,n,r),this},strokeRect:function(e,t,n,r){var i=this._lineWidth/2,o=e-i,a=e+i;return this.beginPath(),this.moveTo(e,t),this.lineTo(e,t+r),this.strokePath(),this.beginPath(),this.moveTo(e+n,t),this.lineTo(e+n,t+r),this.strokePath(),this.beginPath(),this.moveTo(o,t),this.lineTo(a+n,t),this.strokePath(),this.beginPath(),this.moveTo(o,t+r),this.lineTo(a+n,t+r),this.strokePath(),this},fillRoundedRect:function(e,t,n,r,i){void 0===i&&(i=20);var o=i,a=i,s=i,u=i;return"number"!==typeof i&&(o=g(i,"tl",20),a=g(i,"tr",20),s=g(i,"bl",20),u=g(i,"br",20)),this.beginPath(),this.moveTo(e+o,t),this.lineTo(e+n-a,t),this.arc(e+n-a,t+a,a,-y.TAU,0),this.lineTo(e+n,t+r-u),this.arc(e+n-u,t+r-u,u,0,y.TAU),this.lineTo(e+s,t+r),this.arc(e+s,t+r-s,s,y.TAU,Math.PI),this.lineTo(e,t+o),this.arc(e+o,t+o,o,-Math.PI,-y.TAU),this.fillPath(),this},strokeRoundedRect:function(e,t,n,r,i){void 0===i&&(i=20);var o=i,a=i,s=i,u=i;return"number"!==typeof i&&(o=g(i,"tl",20),a=g(i,"tr",20),s=g(i,"bl",20),u=g(i,"br",20)),this.beginPath(),this.moveTo(e+o,t),this.lineTo(e+n-a,t),this.moveTo(e+n-a,t),this.arc(e+n-a,t+a,a,-y.TAU,0),this.lineTo(e+n,t+r-u),this.moveTo(e+n,t+r-u),this.arc(e+n-u,t+r-u,u,0,y.TAU),this.lineTo(e+s,t+r),this.moveTo(e+s,t+r),this.arc(e+s,t+r-s,s,y.TAU,Math.PI),this.lineTo(e,t+o),this.moveTo(e,t+o),this.arc(e+o,t+o,o,-Math.PI,-y.TAU),this.strokePath(),this},fillPointShape:function(e,t){return this.fillPoint(e.x,e.y,t)},fillPoint:function(e,t,n){return!n||n<1?n=1:(e-=n/2,t-=n/2),this.commandBuffer.push(o.FILL_RECT,e,t,n,n),this},fillTriangleShape:function(e){return this.fillTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},strokeTriangleShape:function(e){return this.strokeTriangle(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)},fillTriangle:function(e,t,n,r,i,a){return this.commandBuffer.push(o.FILL_TRIANGLE,e,t,n,r,i,a),this},strokeTriangle:function(e,t,n,r,i,a){return this.commandBuffer.push(o.STROKE_TRIANGLE,e,t,n,r,i,a),this},strokeLineShape:function(e){return this.lineBetween(e.x1,e.y1,e.x2,e.y2)},lineBetween:function(e,t,n,r){return this.beginPath(),this.moveTo(e,t),this.lineTo(n,r),this.strokePath(),this},lineTo:function(e,t){return this.commandBuffer.push(o.LINE_TO,e,t),this},moveTo:function(e,t){return this.commandBuffer.push(o.MOVE_TO,e,t),this},strokePoints:function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var i=1;i<r;i++)this.lineTo(e[i].x,e[i].y);return t&&this.lineTo(e[0].x,e[0].y),n&&this.closePath(),this.strokePath(),this},fillPoints:function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=e.length),this.beginPath(),this.moveTo(e[0].x,e[0].y);for(var i=1;i<r;i++)this.lineTo(e[i].x,e[i].y);return t&&this.lineTo(e[0].x,e[0].y),n&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(e,t){void 0===t&&(t=32);var n=e.getPoints(t);return this.strokePoints(n,!0)},strokeEllipse:function(e,t,n,r,i){void 0===i&&(i=32);var o=new p(e,t,n,r).getPoints(i);return this.strokePoints(o,!0)},fillEllipseShape:function(e,t){void 0===t&&(t=32);var n=e.getPoints(t);return this.fillPoints(n,!0)},fillEllipse:function(e,t,n,r,i){void 0===i&&(i=32);var o=new p(e,t,n,r).getPoints(i);return this.fillPoints(o,!0)},arc:function(e,t,n,r,i,a,s){return void 0===a&&(a=!1),void 0===s&&(s=0),this.commandBuffer.push(o.ARC,e,t,n,r,i,a,s),this},slice:function(e,t,n,r,i,a,s){return void 0===a&&(a=!1),void 0===s&&(s=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,e,t),this.commandBuffer.push(o.ARC,e,t,n,r,i,a,s),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(e,t){return this.commandBuffer.push(o.TRANSLATE,e,t),this},scaleCanvas:function(e,t){return this.commandBuffer.push(o.SCALE,e,t),this},rotateCanvas:function(e){return this.commandBuffer.push(o.ROTATE,e),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(e,t,n){var r,i,o=this.scene.sys,a=o.game.renderer;if(void 0===t&&(t=o.scale.width),void 0===n&&(n=o.scale.height),b.TargetCamera.setScene(this.scene),b.TargetCamera.setViewport(0,0,t,n),b.TargetCamera.scrollX=this.x,b.TargetCamera.scrollY=this.y,"string"===typeof e)if(o.textures.exists(e)){var s=(r=o.textures.get(e)).getSourceImage();s instanceof HTMLCanvasElement&&(i=s.getContext("2d"))}else i=(r=o.textures.createCanvas(e,t,n)).getSourceImage().getContext("2d");else e instanceof HTMLCanvasElement&&(i=e.getContext("2d"));return i&&(this.renderCanvas(a,this,b.TargetCamera,null,i,!1),r&&r.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});b.TargetCamera=new r,e.exports=b},function(e,t){e.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){void 0===n&&(n=new r);var i=e.width/2,o=e.height/2;return n.x=e.x+i*Math.cos(t),n.y=e.y+o*Math.sin(t),n}},function(e,t,n){var r=n(35),i=n(0),o=n(11),a=n(176),s=n(101),u=n(9),l=n(75),c=n(110),h=n(1071),f=n(20),d=n(79),p=new i({Extends:c,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.Visible,u,h],initialize:function(e,t){c.call(this,e),u.call(this),this.scene=e,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=e.sys,this.events=e.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(r.SKIP_CHECK),t&&this.add(t),e.sys.queueDepthSort()},setActive:function(e){return this.active=e,this},setName:function(e){return this.name=e,this},setState:function(e){return this.state=e,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(e,t){return this.data||(this.data=new s(this)),this.data.set(e,t),this},incData:function(e,t){return this.data||(this.data=new s(this)),this.data.inc(e,t),this},toggleData:function(e){return this.data||(this.data=new s(this)),this.data.toggle(e),this},getData:function(e){return this.data||(this.data=new s(this)),this.data.get(e)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(e){return!(15!==this.renderFlags||0===this.list.length||0!==this.cameraFilter&&this.cameraFilter&e.id)},getIndexList:function(){for(var e=this,t=this.parentContainer,n=[];t&&(n.unshift(t.getIndex(e)),e=t,t.parentContainer);)t=t.parentContainer;return n.unshift(this.displayList.getIndex(e)),n},addChildCallback:function(e){e.displayList&&e.displayList!==this&&e.removeFromDisplayList(),e.displayList||(this.queueDepthSort(),e.displayList=this,e.emit(l.ADDED_TO_SCENE,e,this.scene),this.events.emit(f.ADDED_TO_SCENE,e,this.scene))},removeChildCallback:function(e){this.queueDepthSort(),e.displayList=null,e.emit(l.REMOVED_FROM_SCENE,e,this.scene),this.events.emit(f.REMOVED_FROM_SCENE,e,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(d(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},destroy:function(){if(this.scene&&!this.ignoreDestroy){this.emit(l.DESTROY,this);for(var e=this.list.length;e--;)this.list[e].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});e.exports=p},function(e,t,n){var r=n(0),i=n(11),o=n(15),a=n(450),s=n(110),u=n(452),l=n(1075),c=new r({Extends:o,Mixins:[i.Depth,i.Mask,i.Pipeline,i.Transform,i.Visible,l],initialize:function(e,t,n,r){if(o.call(this,e,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===n||"object"!==typeof n&&!Array.isArray(n)||(r=n,n=null),this.setTexture(t,n),this.initPipeline(),this.emitters=new s(this),this.wells=new s(this),r){Array.isArray(r)||(r=[r]);for(var i=0;i<r.length;i++)this.createEmitter(r[i])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){this.frame=this.texture.get(e);var t=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),n=[];return t.forEach((function(e){n.push(e.name)})),this.frameNames=n,this.defaultFrame=this.frame,this},setEmitterFrames:function(e,t){Array.isArray(e)||(e=[e]);var n=t.frames;n.length=0;for(var r=0;r<e.length;r++){var i=e[r];-1!==this.frameNames.indexOf(i)&&n.push(this.texture.get(i))}return n.length>0?t.defaultFrame=n[0]:t.defaultFrame=this.defaultFrame,this},addEmitter:function(e){return this.emitters.add(e)},createEmitter:function(e){return this.addEmitter(new u(this,e))},removeEmitter:function(e){return this.emitters.remove(e,!0)},addGravityWell:function(e){return this.wells.add(e)},createGravityWell:function(e){return this.addGravityWell(new a(e))},emitParticle:function(e,t,n){for(var r=this.emitters.list,i=0;i<r.length;i++){var o=r[i];o.active&&o.emitParticle(e,t,n)}return this},emitParticleAt:function(e,t,n){return this.emitParticle(n,e,t)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(e,t){t*=this.timeScale;for(var n=this.emitters.list,r=0;r<n.length;r++){var i=n[r];i.active&&i.preUpdate(e,t)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});e.exports=c},function(e,t,n){var r=n(35),i=n(133),o=n(31),a=n(0),s=n(11),u=n(33),l=n(109),c=n(15),h=n(1),f=n(92),d=n(1079),p=n(141),v=n(12),g=n(222),m=new a({Extends:c,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,d],initialize:function(e,t,n,r,a,s,l){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=32),void 0===a&&(a=32),c.call(this,e,"RenderTexture"),this.renderer=e.sys.renderer,this.textureManager=e.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,void 0===s?(this.canvas=o.create2D(this,r,a),this.texture=e.sys.textures.addCanvas(g(),this.canvas),this.frame=this.texture.get()):(this.texture=e.sys.textures.get(s),this.frame=this.texture.get(l),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new i(0,0,r,a),this.renderTarget=null;var d=this.renderer;d?d.type===u.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new p(d,r,a,1,0,!1)):d.type===u.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=h,this.camera.setScene(e),this.setPosition(t,n),void 0===s&&this.setSize(r,a),this.setOrigin(0,0),this.initPipeline(f.SINGLE_PIPELINE)},setSize:function(e,t){return this.resize(e,t)},resize:function(e,t){void 0===t&&(t=e);var n=this.frame;if(e!==this.width||t!==this.height){if("__BASE"===n.name){this.canvas.width=e,this.canvas.height=t,this.texture.width=e,this.texture.height=t;var r=this.renderTarget;r&&(r.resize(e,t),n.glTexture=r.texture,n.source.isRenderTexture=!0,n.source.isGLTexture=!0,n.source.glTexture=r.texture),this.camera.setSize(e,t),n.source.width=e,n.source.height=t,n.setSize(e,t),this.width=e,this.height=t}}else{var i=this.texture.getSourceImage();n.cutX+e>i.width&&(e=i.width-n.cutX),n.cutY+t>i.height&&(t=i.height-n.cutY),n.setSize(e,t,n.cutX,n.cutY)}this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=e,o.hitArea.height=t),this},setGlobalTint:function(e){return this.globalTint=e,this},setGlobalAlpha:function(e){return this.globalAlpha=e,this},saveTexture:function(e){return this.textureManager.renameTexture(this.texture.key,e),this._saved=!0,this.texture},fill:function(e,t,n,r,i,o){var a=this.frame,s=this.camera,u=this.renderer;void 0===t&&(t=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=a.cutWidth),void 0===o&&(o=a.cutHeight);var l=(e>>16&255)/255,c=(e>>8&255)/255,h=(255&e)/255,f=this.renderTarget;if(s.preRender(),f){f.bind(!0);var d=this.pipeline;d.manager.set(d);var p=f.width,g=f.height,m=u.width/p,y=u.height/g;d.drawFillRect(n*m,r*y,i*m,o*y,v.getTintFromFloats(h,c,l,1),t),f.unbind(!0)}else{var x=this.context;u.setContext(x),x.fillStyle="rgba("+l+","+c+","+h+","+t+")",x.fillRect(n+a.cutX,r+a.cutY,i,o),u.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var e=this.renderTarget;if(e)e.clear();else{var t=this.context;t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),t.restore()}this.dirty=!1}return this},erase:function(e,t,n){return this._eraseMode=!0,this.draw(e,t,n,1,16777215),this._eraseMode=!1,this},draw:function(e,t,n,r,i){return this.beginDraw(),this.batchDraw(e,t,n,r,i),this.endDraw(),this},drawFrame:function(e,t,n,r,i,o){return this.beginDraw(),this.batchDrawFrame(e,t,n,r,i,o),this.endDraw(),this},beginDraw:function(){var e=this.camera,t=this.renderer,n=this.renderTarget;return e.preRender(),n?t.beginCapture(n.width,n.height):t.setContext(this.context),this},batchDraw:function(e,t,n,r,i){return void 0===r&&(r=this.globalAlpha),i=void 0===i?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(i>>16)+(65280&i)+((255&i)<<16),Array.isArray(e)||(e=[e]),this.batchList(e,t,n,r,i),this},batchDrawFrame:function(e,t,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=this.globalAlpha),o=void 0===o?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(o>>16)+(65280&o)+((255&o)<<16);var a=this.textureManager.getFrame(e,t);return a&&(this.renderTarget?this.pipeline.batchTextureFrame(a,n,r,o,i,this.camera.matrix,null):this.batchTextureFrame(a,n+this.frame.cutX,r+this.frame.cutY,i,o)),this},endDraw:function(e){void 0===e&&(e=this._eraseMode);var t=this.renderer,n=this.renderTarget;if(n){var r=t.endCapture();t.pipelines.setUtility().blitFrame(r,n,1,!1,!1,e),t.resetScissor(),t.resetViewport()}else t.setContext();return this.dirty=!0,this},batchList:function(e,t,n,r,i){for(var o=0;o<e.length;o++){var a=e[o];a&&a!==this&&(a.renderWebGL||a.renderCanvas?this.drawGameObject(a,t,n):a.isParent||a.list?this.batchGroup(a.getChildren(),t,n):"string"===typeof a?this.batchTextureFrameKey(a,null,t,n,r,i):a instanceof l?this.batchTextureFrame(a,t,n,r,i):Array.isArray(a)&&this.batchList(a,t,n,r,i))}},batchGroup:function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),t+=this.frame.cutX,n+=this.frame.cutY;for(var r=0;r<e.length;r++){var i=e[r];if(i.willRender(this.camera)){var o=i.x+t,a=i.y+n;this.drawGameObject(i,o,a)}}},batchGameObjectWebGL:function(e,t,n){void 0===t&&(t=e.x),void 0===n&&(n=e.y);var r=e.x,i=e.y;e.setPosition(t+this.frame.cutX,n+this.frame.cutY),e.renderDirect?e.renderDirect(this.renderer,e,this.camera):e.renderWebGL(this.renderer,e,this.camera),e.setPosition(r,i)},batchGameObjectCanvas:function(e,t,n){void 0===t&&(t=e.x),void 0===n&&(n=e.y);var i=e.x,o=e.y;if(this._eraseMode){var a=e.blendMode;e.blendMode=r.ERASE}e.setPosition(t+this.frame.cutX,n+this.frame.cutY),e.renderCanvas(this.renderer,e,this.camera,null),e.setPosition(i,o),this._eraseMode&&(e.blendMode=a)},batchTextureFrameKey:function(e,t,n,r,i,o){var a=this.textureManager.getFrame(e,t);a&&this.batchTextureFrame(a,n,r,i,o)},batchTextureFrame:function(e,t,n,r,i){if(void 0===t&&(t=0),void 0===n&&(n=0),t+=this.frame.cutX,n+=this.frame.cutY,this.renderTarget)this.pipeline.batchTextureFrame(e,t,n,i,r,this.camera.matrix,null);else{var o=this.context,a=e.canvasData,s=e.source.image,u=this.camera.matrix;o.save(),o.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",o.globalAlpha=r,u.setToContext(o),o.drawImage(s,a.x,a.y,a.width,a.height,t,n,a.width,a.height),o.restore()}},snapshotArea:function(e,t,n,r,i,o,a){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,i,!1,e,t,n,r,o,a):this.renderer.snapshotCanvas(this.canvas,i,!1,e,t,n,r,o,a),this},snapshot:function(e,t,n){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,e,!1,0,0,this.width,this.height,t,n):this.renderer.snapshotCanvas(this.canvas,e,!1,0,0,this.width,this.height,t,n),this},snapshotPixel:function(e,t,n){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,n,!0,e,t):this.renderer.snapshotCanvas(this.canvas,n,!0,e,t),this},preDestroy:function(){this._saved||(o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});e.exports=m},function(e,t){e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},function(e,t,n){var r=n(164),i=n(0),o=n(11),a=n(15),s=n(92),u=n(1085),l=n(3),c=new i({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,u],initialize:function(e,t,n,i,o,u,c,h,f){void 0===i&&(i="__DEFAULT"),void 0===u&&(u=2),void 0===c&&(c=!0),a.call(this,e,"Rope"),this.anims=new r(this),this.points=u,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===i,this.dirty=!1,this.horizontal=c,this._flipX=!1,this._flipY=!1,this._perp=new l,this.debugCallback=null,this.debugGraphic=null,this.setTexture(i,o),this.setPosition(t,n),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),Array.isArray(u)&&this.resizeArrays(u.length),this.setPoints(u,h,f),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(e,t){var n=this.anims.currentFrame;this.anims.update(e,t),this.anims.currentFrame!==n&&(this.updateUVs(),this.updateVertices())},play:function(e,t,n){return this.anims.play(e,t,n),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(e,t,n){return void 0===e&&(e=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(e,t,n))},setVertical:function(e,t,n){return void 0===e&&(e=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(e,t,n)):this},setTintFill:function(e){return void 0===e&&(e=!1),this.tintFill=e,this},setAlphas:function(e,t){var n=this.points.length;if(n<1)return this;var r,i=this.alphas;void 0===e?e=[1]:Array.isArray(e)||void 0!==t||(e=[e]);var o=0;if(void 0!==t)for(r=0;r<n;r++)i[o=2*r]=e,i[o+1]=t;else if(e.length===n)for(r=0;r<n;r++)i[o=2*r]=e[r],i[o+1]=e[r];else{var a=e[0];for(r=0;r<n;r++)o=2*r,e.length>o&&(a=e[o]),i[o]=a,e.length>o+1&&(a=e[o+1]),i[o+1]=a}return this},setColors:function(e){var t=this.points.length;if(t<1)return this;var n,r=this.colors;void 0===e?e=[16777215]:Array.isArray(e)||(e=[e]);var i=0;if(e.length===t)for(n=0;n<t;n++)r[i=2*n]=e[n],r[i+1]=e[n];else{var o=e[0];for(n=0;n<t;n++)i=2*n,e.length>i&&(o=e[i]),r[i]=o,e.length>i+1&&(o=e[i+1]),r[i+1]=o}return this},setPoints:function(e,t,n){if(void 0===e&&(e=2),"number"===typeof e){var r,i,o,a=e;if(a<2&&(a=2),e=[],this.horizontal)for(o=-this.frame.halfWidth,i=this.frame.width/(a-1),r=0;r<a;r++)e.push({x:o+r*i,y:0});else for(o=-this.frame.halfHeight,i=this.frame.height/(a-1),r=0;r<a;r++)e.push({x:0,y:o+r*i})}var s=e.length,u=this.points.length;return s<1?(console.warn("Rope: Not enough points given"),this):(1===s&&(e.unshift({x:0,y:0}),s++),u!==s&&this.resizeArrays(s),this.points=e,this.updateUVs(),void 0!==t&&null!==t&&this.setColors(t),void 0!==n&&null!==n&&this.setAlphas(n),this)},updateUVs:function(){for(var e=this.uv,t=this.points.length,n=this.frame.u0,r=this.frame.v0,i=this.frame.u1,o=this.frame.v1,a=(i-n)/(t-1),s=(o-r)/(t-1),u=0;u<t;u++){var l,c,h,f,d=4*u;this.horizontal?(this._flipX?(l=i-u*a,h=i-u*a):(l=n+u*a,h=n+u*a),this._flipY?(c=o,f=r):(c=r,f=o)):(this._flipX?(l=n,h=i):(l=i,h=n),this._flipY?(c=o-u*s,f=o-u*s):(c=r+u*s,f=r+u*s)),e[d+0]=l,e[d+1]=c,e[d+2]=h,e[d+3]=f}return this},resizeArrays:function(e){var t=this.colors,n=this.alphas;this.vertices=new Float32Array(4*e),this.uv=new Float32Array(4*e),t=new Uint32Array(2*e),n=new Float32Array(2*e);for(var r=0;r<2*e;r++)t[r]=16777215,n[r]=1;return this.colors=t,this.alphas=n,this.dirty=!0,this},updateVertices:function(){var e=this._perp,t=this.points,n=this.vertices,r=t.length;if(this.dirty=!1,!(r<1)){for(var i,o=t[0],a=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,s=0;s<r;s++){var u=t[s],l=4*s;i=s<r-1?t[s+1]:u,e.x=i.y-o.y,e.y=-(i.x-o.x);var c=e.length();e.x/=c,e.y/=c,e.x*=a,e.y*=a,n[l]=u.x+e.x,n[l+1]=u.y+e.y,n[l+2]=u.x-e.x,n[l+3]=u.y-e.y,o=u}return this}},setDebug:function(e,t){return this.debugGraphic=e,this.debugCallback=e||t?t||this.renderDebugVerts:null,this},renderDebugVerts:function(e,t,n){var r=e.debugGraphic,i=n[0],o=n[1],a=n[2],s=n[3];r.lineBetween(i,o,a,s);for(var u=4;u<t;u+=4){var l=n[u+0],c=n[u+1],h=n[u+2],f=n[u+3];r.lineBetween(i,o,l,c),r.lineBetween(a,s,h,f),r.lineBetween(a,s,l,c),r.lineBetween(l,c,h,f),i=l,o=c,a=h,s=f}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(e){return this._flipX=e,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(e){return this._flipY=e,this.updateUVs()}}});e.exports=c},function(e,t,n){var r=n(142),i=n(31),o=n(0),a=n(11),s=n(22),u=n(15),l=n(458),c=n(6),h=n(202),f=n(1088),d=n(459),p=new o({Extends:u,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,f],initialize:function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=0),u.call(this,e,"Text"),this.renderer=e.sys.renderer,this.setPosition(t,n),this.setOrigin(0,0),this.initPipeline(),this.canvas=i.create(this),this.context=this.canvas.getContext("2d"),this.style=new d(this,o),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(r),o&&o.padding&&this.setPadding(o.padding),o&&o.lineSpacing&&this.setLineSpacing(o.lineSpacing),e.sys.game.events.on(s.CONTEXT_RESTORED,(function(){this.dirty=!0}),this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",r(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(e){var t=this.style;if(t.wordWrapCallback){var n=t.wordWrapCallback.call(t.wordWrapCallbackScope,e,this);return Array.isArray(n)&&(n=n.join("\n")),n}return t.wordWrapWidth?t.wordWrapUseAdvanced?this.advancedWordWrap(e,this.context,this.style.wordWrapWidth):this.basicWordWrap(e,this.context,this.style.wordWrapWidth):e},advancedWordWrap:function(e,t,n){for(var r="",i=e.replace(/ +/gi," ").split(this.splitRegExp),o=i.length,a=0;a<o;a++){var s=i[a],u="";if(s=s.replace(/^ *|\s*$/gi,""),t.measureText(s).width<n)r+=s+"\n";else{for(var l=n,c=s.split(" "),h=0;h<c.length;h++){var f=c[h],d=f+" ",p=t.measureText(d).width;if(p>l){if(0===h){for(var v=d;v.length&&(v=v.slice(0,-1),!((p=t.measureText(v).width)<=l)););if(!v.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var g=f.substr(v.length);c[h]=g,u+=v}var m=c[h].length?h:h+1,y=c.slice(m).join(" ").replace(/[ \n]*$/gi,"");i[a+1]=y+" "+(i[a+1]||""),o=i.length;break}u+=d,l-=p}r+=u.replace(/[ \n]*$/gi,"")+"\n"}}return r=r.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(e,t,n){for(var r="",i=e.split(this.splitRegExp),o=i.length-1,a=t.measureText(" ").width,s=0;s<=o;s++){for(var u=n,l=i[s].split(" "),c=l.length-1,h=0;h<=c;h++){var f=l[h],d=t.measureText(f).width,p=d;h<c&&(p+=a),p>u&&h>0&&(r+="\n",u=n),r+=f,h<c?(r+=" ",u-=p):u-=d}s<o&&(r+="\n")}return r},getWrappedText:function(e){return void 0===e&&(e=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(e).split(this.splitRegExp)},setText:function(e){return e||0===e||(e=""),Array.isArray(e)&&(e=e.join("\n")),e!==this._text&&(this._text=e.toString(),this.updateText()),this},setStyle:function(e){return this.style.setStyle(e)},setFont:function(e){return this.style.setFont(e)},setFontFamily:function(e){return this.style.setFontFamily(e)},setFontSize:function(e){return this.style.setFontSize(e)},setFontStyle:function(e){return this.style.setFontStyle(e)},setFixedSize:function(e,t){return this.style.setFixedSize(e,t)},setBackgroundColor:function(e){return this.style.setBackgroundColor(e)},setFill:function(e){return this.style.setFill(e)},setColor:function(e){return this.style.setColor(e)},setStroke:function(e,t){return this.style.setStroke(e,t)},setShadow:function(e,t,n,r,i,o){return this.style.setShadow(e,t,n,r,i,o)},setShadowOffset:function(e,t){return this.style.setShadowOffset(e,t)},setShadowColor:function(e){return this.style.setShadowColor(e)},setShadowBlur:function(e){return this.style.setShadowBlur(e)},setShadowStroke:function(e){return this.style.setShadowStroke(e)},setShadowFill:function(e){return this.style.setShadowFill(e)},setWordWrapWidth:function(e,t){return this.style.setWordWrapWidth(e,t)},setWordWrapCallback:function(e,t){return this.style.setWordWrapCallback(e,t)},setAlign:function(e){return this.style.setAlign(e)},setResolution:function(e){return this.style.setResolution(e)},setLineSpacing:function(e){return this.lineSpacing=e,this.updateText()},setPadding:function(e,t,n,r){if("object"===typeof e){var i=e,o=c(i,"x",null);null!==o?(e=o,n=o):(e=c(i,"left",0),n=c(i,"right",e));var a=c(i,"y",null);null!==a?(t=a,r=a):(t=c(i,"top",0),r=c(i,"bottom",t))}else void 0===e&&(e=0),void 0===t&&(t=e),void 0===n&&(n=e),void 0===r&&(r=t);return this.padding.left=e,this.padding.top=t,this.padding.right=n,this.padding.bottom=r,this.updateText()},setMaxLines:function(e){return this.style.setMaxLines(e)},updateText:function(){var e=this.canvas,t=this.context,n=this.style,r=n.resolution,i=n.metrics;n.syncFont(e,t);var o=this._text;(n.wordWrapWidth||n.wordWrapCallback)&&(o=this.runWordWrap(this._text));var a,s=o.split(this.splitRegExp),u=l(this,i,s),c=this.padding;0===n.fixedWidth?(this.width=u.width+c.left+c.right,a=u.width):(this.width=n.fixedWidth,(a=this.width-c.left-c.right)<u.width&&(a=u.width)),0===n.fixedHeight?this.height=u.height+c.top+c.bottom:this.height=n.fixedHeight;var h,f,d=this.width,p=this.height;this.updateDisplayOrigin(),d*=r,p*=r,d=Math.max(d,1),p=Math.max(p,1),e.width!==d||e.height!==p?(e.width=d,e.height=p,this.frame.setSize(d,p),n.syncFont(e,t)):t.clearRect(0,0,d,p),t.save(),t.scale(r,r),n.backgroundColor&&(t.fillStyle=n.backgroundColor,t.fillRect(0,0,d,p)),n.syncStyle(e,t),t.textBaseline="alphabetic",t.translate(c.left,c.top);for(var v=0;v<u.lines;v++){if(h=n.strokeThickness/2,f=n.strokeThickness/2+v*u.lineHeight+i.ascent,v>0&&(f+=u.lineSpacing*v),n.rtl)h=d-h;else if("right"===n.align)h+=a-u.lineWidths[v];else if("center"===n.align)h+=(a-u.lineWidths[v])/2;else if("justify"===n.align&&u.lineWidths[v]/u.width>=.85){var g=u.width-u.lineWidths[v],m=t.measureText(" ").width,y=s[v].trim(),x=y.split(" ");g+=(s[v].length-y.length)*m;for(var b=Math.floor(g/m),w=0;b>0;)x[w]+=" ",w=(w+1)%(x.length-1||1),--b;s[v]=x.join(" ")}this.autoRound&&(h=Math.round(h),f=Math.round(f)),n.strokeThickness&&(this.style.syncShadow(t,n.shadowStroke),t.strokeText(s[v],h,f)),n.color&&(this.style.syncShadow(t,n.shadowFill),t.fillText(s[v],h,f))}t.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(e,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var k=this.input;return k&&!k.customHitArea&&(k.hitArea.width=this.width,k.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(e){this.setText(e)}},toJSON:function(){var e=a.ToJSON(this),t={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return e.data=t,e},preDestroy:function(){this.style.rtl&&h(this.canvas),i.remove(this.canvas),this.texture.destroy()}});e.exports=p},function(e,t,n){var r=n(31),i=n(0),o=n(11),a=n(22),s=n(15),u=n(361),l=n(192),c=n(1091),h=n(3),f=new i({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,c],initialize:function(e,t,n,i,o,l,c){var f=e.sys.renderer;s.call(this,e,"TileSprite");var d=e.sys.textures.get(l),p=d.get(c);i&&o?(i=Math.floor(i),o=Math.floor(o)):(i=p.width,o=p.height),this._tilePosition=new h,this._tileScale=new h(1,1),this.dirty=!1,this.renderer=f,this.canvas=r.create(this,i,o),this.context=this.canvas.getContext("2d"),this.displayTexture=d,this.displayFrame=p,this._crop=this.resetCropObject(),this.texture=e.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=u(p.width),this.potHeight=u(p.height),this.fillCanvas=r.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(t,n),this.setSize(i,o),this.setFrame(c),this.setOriginFromFrame(),this.initPipeline(),e.sys.game.events.on(a.CONTEXT_RESTORED,(function(e){if(e){var t=e.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=e.createTexture2D(0,t.LINEAR,t.LINEAR,t.REPEAT,t.REPEAT,t.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}}),this)},setTexture:function(e,t){return this.displayTexture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e){var t=this.displayTexture.get(e);return this.potWidth=u(t.width),this.potHeight=u(t.height),this.canvas.width=0,t.cutWidth&&t.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=t,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(e,t){return void 0!==e&&(this.tilePositionX=e),void 0!==t&&(this.tilePositionY=t),this},setTileScale:function(e,t){return void 0===e&&(e=this.tileScaleX),void 0===t&&(t=e),this.tileScaleX=e,this.tileScaleY=t,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var e=this.displayFrame;if(e.source.isRenderTexture||e.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var t=this.fillContext,n=this.fillCanvas,r=this.potWidth,i=this.potHeight;this.renderer&&this.renderer.gl||(r=e.cutWidth,i=e.cutHeight),t.clearRect(0,0,r,i),n.width=r,n.height=i,t.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,r,i),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(n,this.fillPattern):this.fillPattern=t.createPattern(n,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var e=this.canvas;if(e.width===this.width&&e.height===this.height||(e.width=this.width,e.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var t=this.context;this.scene.sys.game.config.antialias||l.disable(t);var n=this._tileScale.x,r=this._tileScale.y,i=this._tilePosition.x,o=this._tilePosition.y;t.clearRect(0,0,this.width,this.height),t.save(),t.scale(n,r),t.translate(-i,-o),t.fillStyle=this.fillPattern,t.fillRect(i,o,this.width/n,this.height/r),t.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),r.remove(this.canvas),r.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(e){this._tilePosition.x=e,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(e){this._tilePosition.y=e,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(e){this._tileScale.x=e,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(e){this._tileScale.y=e,this.dirty=!0}}});e.exports=f},function(e,t,n){var r=n(0),i=n(18),o=n(11),a=n(75),s=n(22),u=n(51),l=n(15),c=n(70),h=n(222),f=n(1094),d=n(14),p=new r({Extends:l,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,f],initialize:function(e,t,n,r){l.call(this,e,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=h(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=d.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(t,n),this.initPipeline(),r&&this.changeSource(r,!1);var i=e.sys.game.events;i.on(s.PAUSE,this.globalPause,this),i.on(s.RESUME,this.globalResume,this);var o=e.sys.sound;o&&o.on(c.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(e,t,n){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var r=this.video;if(!r)return console.warn("Video not loaded"),this;void 0===e&&(e=r.loop);var i=this.scene.sys.sound;i&&i.mute&&this.setMute(!0),isNaN(t)||(this._markerIn=t),!isNaN(n)&&n>t&&(this._markerOut=n),r.loop=e;var o=this._callbacks,a=r.play();return void 0!==a?a.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(r.addEventListener("playing",o.play,!0),r.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),r.addEventListener("ended",o.end,!0),r.addEventListener("timeupdate",o.time,!0),r.addEventListener("seeking",o.seeking,!0),r.addEventListener("seeked",o.seeked,!0),this},changeSource:function(e,t,n,r,i){void 0===t&&(t=!0),this.video&&this.stop();var o=this.scene.sys.cache.video.get(e);return o?(this.video=o,this._cacheKey=e,this._codePaused=o.paused,this._codeMuted=o.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,o,o.videoWidth,o.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,o.videoWidth,o.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,o.videoWidth,o.videoHeight)):this.updateTexture(),o.currentTime=0,this._lastUpdate=0,t&&this.play(n,r,i)):this.video=null,this},addMarker:function(e,t,n){return!isNaN(t)&&t>=0&&!isNaN(n)&&(this.markers[e]=[t,n]),this},playMarker:function(e,t){var n=this.markers[e];return n&&this.play(t,n[0],n[1]),this},removeMarker:function(e){return delete this.markers[e],this},snapshot:function(e,t){return void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.snapshotArea(0,0,this.width,this.height,e,t)},snapshotArea:function(e,t,n,r,i,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=this.width),void 0===r&&(r=this.height),void 0===i&&(i=n),void 0===o&&(o=r);var a=this.video,s=this.snapshotTexture;return s?(s.setSize(i,o),a&&s.context.drawImage(a,e,t,n,r,0,0,i,o)):(s=this.scene.sys.textures.createCanvas(h(),i,o),this.snapshotTexture=s,a&&s.context.drawImage(a,e,t,n,r,0,0,i,o)),s.update()},saveSnapshotTexture:function(e){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,e):this.snapshotTexture=this.scene.sys.textures.createCanvas(e,this.width,this.height),this.snapshotTexture},loadURL:function(e,t,n){void 0===t&&(t="loadeddata"),void 0===n&&(n=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var r=document.createElement("video");return r.controls=!1,n&&(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")),r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r.addEventListener("error",this._callbacks.error,!0),r.src=e,r.load(),this.video=r,this},loadMediaStream:function(e,t,n){void 0===t&&(t="loadeddata"),void 0===n&&(n=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var r=document.createElement("video");r.controls=!1,n&&(r.muted=!0,r.defaultMuted=!0,r.setAttribute("autoplay","autoplay")),r.setAttribute("playsinline","playsinline"),r.setAttribute("preload","auto"),r.addEventListener("error",this._callbacks.error,!0);try{r.srcObject=e}catch(i){r.src=window.URL.createObjectURL(e)}return r.load(),this.video=r,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(e){this.scene.sys.input.once(u.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(a.VIDEO_ERROR,this,e)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(e){this.stop(),this.emit(a.VIDEO_ERROR,this,e)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(a.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(a.VIDEO_PLAY,this)},completeHandler:function(){this.emit(a.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(a.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var e=this.video;if(e){var t=e.currentTime;t!==this._lastUpdate&&(this._lastUpdate=t,this.updateTexture(),t>=this._markerOut&&(e.loop?(e.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=t,this.emit(a.VIDEO_LOOP,this)):(this.emit(a.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(a.VIDEO_TIMEOUT,this))},updateTexture:function(){var e=this.video,t=e.videoWidth,n=e.videoHeight;if(this.videoTexture){var r=this.videoTextureSource;r.source!==e&&(r.source=e,r.width=t,r.height=n),r.update()}else this.videoTexture=this.scene.sys.textures.create(this._key,e,t,n),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,t,n),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,t,n)},getVideoKey:function(){return this._cacheKey},seekTo:function(e){var t=this.video;if(t){var n=t.duration;if(n!==1/0&&!isNaN(n)){var r=n*e;this.setCurrentTime(r)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(e){var t=this.video;if(t){if("string"===typeof e){var n=e[0],r=parseFloat(e.substr(1));"+"===n?e=t.currentTime+r:"-"===n&&(e=t.currentTime-r)}t.currentTime=e,this._lastUpdate=e}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(a.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var e=this.video;if(e){var t=e.currentTime,n=e.duration;if(n!==1/0&&!isNaN(n))return t/n}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(e){void 0===e&&(e=!0),this._codeMuted=e;var t=this.video;return t&&(t.muted=!!this._systemMuted||e),this},isMuted:function(){return this._codeMuted},globalMute:function(e,t){this._systemMuted=t;var n=this.video;n&&(n.muted=!!this._codeMuted||t)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(e){void 0===e&&(e=!0);var t=this.video;return this._codePaused=e,t&&(e?t.paused||t.pause():e||t.paused&&!this._systemPaused&&t.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(e){return void 0===e&&(e=1),this.video&&(this.video.volume=i(e,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(e){return this.video&&(this.video.playbackRate=e),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(e){return void 0===e&&(e=!0),this.video&&(this.video.loop=e),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(e,t){return void 0===t&&(t=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,e),this._key=e,this.flipY=t,this.videoTextureSource&&this.videoTextureSource.setFlipY(t),this.videoTexture},stop:function(){var e=this.video;if(e){var t=this._callbacks;for(var n in t)e.removeEventListener(n,t[n],!0);e.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var e=this.video;if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("autoplay"),e.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var e=this.scene.sys.game.events;e.off(s.PAUSE,this.globalPause,this),e.off(s.RESUME,this.globalResume,this);var t=this.scene.sys.sound;t&&t.off(c.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});e.exports=p},function(e,t,n){var r=n(0),i=n(228),o=n(470),a=n(56),s=new r({initialize:function(e){this.type=a.POLYGON,this.area=0,this.points=[],e&&this.setTo(e)},contains:function(e,t){return i(this,e,t)},setTo:function(e){if(this.area=0,this.points=[],"string"===typeof e&&(e=e.split(" ")),!Array.isArray(e))return this;for(var t,n=Number.MAX_VALUE,r=0;r<e.length;r++)t={x:0,y:0},"number"===typeof e[r]||"string"===typeof e[r]?(t.x=parseFloat(e[r]),t.y=parseFloat(e[r+1]),r++):Array.isArray(e[r])?(t.x=e[r][0],t.y=e[r][1]):(t.x=e[r].x,t.y=e[r].y),this.points.push(t),t.y<n&&(n=t.y);return this.calculateArea(n),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var e,t,n=0,r=0;r<this.points.length-1;r++)e=this.points[r],n+=((t=this.points[r+1]).x-e.x)*(e.y+t.y);return e=this.points[0],t=this.points[this.points.length-1],n+=(e.x-t.x)*(t.y+e.y),this.area=.5*-n,this.area},getPoints:function(e,t,n){return o(this,e,t,n)}});e.exports=s},function(e,t){e.exports=function(e,t,n){for(var r=!1,i=-1,o=e.points.length-1;++i<e.points.length;o=i){var a=e.points[i].x,s=e.points[i].y,u=e.points[o].x,l=e.points[o].y;(s<=n&&n<l||l<=n&&n<s)&&t<(u-a)*(n-s)/(l-s)+a&&(r=!r)}return r}},function(e,t,n){var r=n(0),i=n(11),o=n(15),a=n(2),s=n(17),u=n(478),l=n(1176),c=n(25),h=new r({Extends:o,Mixins:[i.ComputedSize,i.Depth,i.GetBounds,i.Mask,i.Origin,i.ScrollFactor,i.Transform,i.Visible,l],initialize:function(e,t,n,r,i,a,s,u){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=128),void 0===a&&(a=128),o.call(this,e,"Shader"),this.blendMode=-1,this.shader;var l=e.sys.renderer;this.renderer=l,this.gl=l.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=l.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=l.width,this._rendererHeight=l.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(n,r),this.setSize(i,a),this.setOrigin(.5,.5),this.setShader(t,s,u)},willRender:function(e){return!!this.renderToTexture||!(o.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setRenderToTexture:function(e,t){if(void 0===t&&(t=!1),!this.renderToTexture){var n=this.width,r=this.height,i=this.renderer;this.glTexture=i.createTextureFromSource(null,n,r,0),this.glTexture.flipY=t,this.framebuffer=i.createFramebuffer(n,r,this.glTexture,!1),this._rendererWidth=n,this._rendererHeight=r,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),e&&(this.texture=this.scene.sys.textures.addGLTexture(e,this.glTexture,n,r))}return this.shader&&(i.pipelines.clear(),this.load(),this.flush(),i.pipelines.rebind()),this},setShader:function(e,t,n){if(void 0===t&&(t=[]),"string"===typeof e){var r=this.scene.sys.cache.shader;if(!r.has(e))return console.warn("Shader missing: "+e),this;this.shader=r.get(e)}else this.shader=e;var i=this.gl,o=this.renderer;this.program&&i.deleteProgram(this.program);var a=o.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);i.uniformMatrix4fv(i.getUniformLocation(a,"uViewMatrix"),!1,this.viewMatrix),i.uniformMatrix4fv(i.getUniformLocation(a,"uProjectionMatrix"),!1,this.projectionMatrix),i.uniform2f(i.getUniformLocation(a,"uResolution"),this.width,this.height),this.program=a;var u=new Date,l={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[u.getFullYear(),u.getMonth(),u.getDate(),60*u.getHours()*60+60*u.getMinutes()+u.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,l):this.uniforms=l;for(var c=0;c<4;c++)t[c]&&this.setSampler2D("iChannel"+c,t[c],c,n);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(e){return this.pointer=e,this},projOrtho:function(e,t,n,r){var i=1/(e-t),o=1/(n-r),a=this.projectionMatrix;a[0]=-2*i,a[5]=-2*o,a[10]=-.001,a[12]=(e+t)*i,a[13]=(r+n)*o,a[14]=-0;var s=this.program,u=this.gl;this.renderer.setProgram(s),u.uniformMatrix4fv(u.getUniformLocation(s,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=t,this._rendererHeight=n},initUniforms:function(){var e=this.gl,t=this.renderer.glFuncMap,n=this.program;for(var r in this._textureCount=0,this.uniforms){var i=this.uniforms[r],o=i.type,a=t[o];i.uniformLocation=e.getUniformLocation(n,r),"sampler2D"!==o&&(i.glMatrix=a.matrix,i.glValueLength=a.length,i.glFunc=a.func)}},setSampler2DBuffer:function(e,t,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o={});var a=this.uniforms[e];return a.value=t,o.width=n,o.height=r,a.textureData=o,this._textureCount=i,this.initSampler2D(a),this},setSampler2D:function(e,t,n,r){void 0===n&&(n=0);var i=this.scene.sys.textures;if(i.exists(t)){var o=i.getFrame(t);if(o.glTexture&&o.glTexture.isRenderTexture)return this.setSampler2DBuffer(e,o.glTexture,o.width,o.height,n,r);var a=this.uniforms[e],s=o.source;a.textureKey=t,a.source=s.image,a.value=o.glTexture,s.isGLTexture&&(r||(r={}),r.width=s.width,r.height=s.height),r&&(a.textureData=r),this._textureCount=n,this.initSampler2D(a)}return this},setUniform:function(e,t){return u(this.uniforms,e,t),this},getUniform:function(e){return a(this.uniforms,e,null)},setChannel0:function(e,t){return this.setSampler2D("iChannel0",e,0,t)},setChannel1:function(e,t){return this.setSampler2D("iChannel1",e,1,t)},setChannel2:function(e,t){return this.setSampler2D("iChannel2",e,2,t)},setChannel3:function(e,t){return this.setSampler2D("iChannel3",e,3,t)},initSampler2D:function(e){if(e.value){var t=this.gl;t.activeTexture(t.TEXTURE0+this._textureCount),t.bindTexture(t.TEXTURE_2D,e.value);var n=e.textureData;if(n&&!e.value.isRenderTexture){var r=t[a(n,"magFilter","linear").toUpperCase()],i=t[a(n,"minFilter","linear").toUpperCase()],o=t[a(n,"wrapS","repeat").toUpperCase()],s=t[a(n,"wrapT","repeat").toUpperCase()],u=t[a(n,"format","rgba").toUpperCase()];if(n.repeat&&(o=t.REPEAT,s=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!n.flipY),n.width){var l=a(n,"width",512),c=a(n,"height",2),h=a(n,"border",0);t.texImage2D(t.TEXTURE_2D,0,u,l,c,h,u,t.UNSIGNED_BYTE,null)}else t.texImage2D(t.TEXTURE_2D,0,u,t.RGBA,t.UNSIGNED_BYTE,e.source);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,s)}this.renderer.setProgram(this.program),t.uniform1i(e.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var e,t,n,r,i,o=this.gl,a=this.uniforms,s=0;for(var u in a)n=(e=a[u]).glFunc,t=e.glValueLength,r=e.uniformLocation,null!==(i=e.value)&&(1===t?e.glMatrix?n.call(o,r,e.transpose,i):n.call(o,r,i):2===t?n.call(o,r,i.x,i.y):3===t?n.call(o,r,i.x,i.y,i.z):4===t?n.call(o,r,i.x,i.y,i.z,i.w):"sampler2D"===e.type&&(o.activeTexture(o.TEXTURE0+s),o.bindTexture(o.TEXTURE_2D,i),o.uniform1i(r,s),s++))},load:function(e){var t=this.gl,n=this.width,r=this.height,i=this.renderer,o=this.program,a=this.viewMatrix;if(!this.renderToTexture){var s=-this._displayOriginX,u=-this._displayOriginY;a[0]=e[0],a[1]=e[1],a[4]=e[2],a[5]=e[3],a[8]=e[4],a[9]=e[5],a[12]=a[0]*s+a[4]*u,a[13]=a[1]*s+a[5]*u}t.useProgram(o),t.uniformMatrix4fv(t.getUniformLocation(o,"uViewMatrix"),!1,a),t.uniform2f(t.getUniformLocation(o,"uResolution"),this.width,this.height);var l=this.uniforms,c=l.resolution;c.value.x=n,c.value.y=r,l.time.value=i.game.loop.getDuration();var h=this.pointer;if(h){var f=l.mouse,d=h.x/n,p=1-h.y/r;f.value.x=d.toFixed(2),f.value.y=p.toFixed(2)}this.syncUniforms()},flush:function(){var e=this.width,t=this.height,n=this.program,r=this.gl,i=this.vertexBuffer,o=this.renderer,a=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(o.setFramebuffer(this.framebuffer),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)),r.bindBuffer(r.ARRAY_BUFFER,i);var s=r.getAttribLocation(n,"inPosition");-1!==s&&(r.enableVertexAttribArray(s),r.vertexAttribPointer(s,2,r.FLOAT,!1,a,0));var u=this.vertexViewF32;u[3]=t,u[4]=e,u[5]=t,u[8]=e,u[9]=t,u[10]=e,r.bufferSubData(r.ARRAY_BUFFER,0,this.bytes.subarray(0,6*a)),r.drawArrays(r.TRIANGLES,0,6),this.renderToTexture&&o.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var e=this.gl;e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});e.exports=h},function(e,t,n){var r=n(0),i=n(11),o=n(36),a=n(116),s=n(15),u=n(479),l=n(480),c=n(19),h=n(69),f=n(1179),d=n(79),p=n(39),v=n(117),g=new r({Extends:s,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Mask,i.Pipeline,i.Size,i.Texture,i.Transform,i.Visible,i.ScrollFactor,f],initialize:function(e,t,n,r,i,o,a,u,l,c,f,d){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r="__WHITE"),s.call(this,e,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new p,this.modelScale=new p(1,1,1),this.modelRotation=new p,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new h,this.viewPosition=new p,this.viewMatrix=new h,this.projectionMatrix=new h,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var v=e.sys.renderer;this.setPosition(t,n),this.setTexture(r,i),this.setSize(v.width,v.height),this.initPipeline(),this.setPerspective(v.width,v.height),o&&this.addVertices(o,a,u,l,c,f,d)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(e){return this.viewPosition.addScale(p.LEFT,e),this.dirtyCache[10]=1,this},panY:function(e){return this.viewPosition.y+=p.DOWN.y*e,this.dirtyCache[10]=1,this},panZ:function(e){return this.viewPosition.z+=e,this.dirtyCache[10]=1,this},setPerspective:function(e,t,n,r,i){return void 0===n&&(n=45),void 0===r&&(r=.01),void 0===i&&(i=1e3),this.projectionMatrix.perspective(o(n),e/t,r,i),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(e,t,n,r){return void 0===e&&(e=this.scene.sys.renderer.getAspectRatio()),void 0===t&&(t=1),void 0===n&&(n=-1e3),void 0===r&&(r=1e3),this.projectionMatrix.ortho(-e,e,-t,t,n,r),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach((function(e){e.destroy()})),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(e,t,n,r,i,o,a,s,u){var c=this.scene.sys.cache.obj.get(e);return c&&l(c,this,t,n,r,i,o,a,s,u),this},sortByDepth:function(e,t){return e.depth-t.depth},depthSort:function(){return d(this.faces,this.sortByDepth),this},addVertex:function(e,t,n,r,i,o,a){var s=new v(e,t,n,r,i,o,a);return this.vertices.push(s),s},addFace:function(e,t,n){var r=new a(e,t,n);return this.faces.push(r),this.dirtyCache[9]=-1,r},addVertices:function(e,t,n,r,i,o,a){var s=u(e,t,n,r,i,o,a);return s&&(this.faces=this.faces.concat(s.faces),this.vertices=this.vertices.concat(s.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(e){return this.faces[e]},getFaceAt:function(e,t,n){void 0===n&&(n=this.scene.sys.cameras.main);for(var r=c(this,n).calc,i=this.faces,o=[],a=0;a<i.length;a++){var s=i[a];s.contains(e,t,r)&&o.push(s)}return d(o,this.sortByDepth)},setDebug:function(e,t){return this.debugGraphic=e,this.debugCallback=e||t?t||this.renderDebug:null,this},isDirty:function(){var e=this.modelPosition,t=this.modelRotation,n=this.modelScale,r=this.dirtyCache,i=e.x,o=e.y,a=e.z,s=t.x,u=t.y,l=t.z,c=n.x,h=n.y,f=n.z,d=this.getFaceCount(),p=r[0],v=r[1],g=r[2],m=r[3],y=r[4],x=r[5],b=r[6],w=r[7],k=r[8],E=r[9];return r[0]=i,r[1]=o,r[2]=a,r[3]=s,r[4]=u,r[5]=l,r[6]=c,r[7]=h,r[8]=f,r[9]=d,p!==i||v!==o||g!==a||m!==s||y!==u||x!==l||b!==c||w!==h||k!==f||E!==d},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var e=this.dirtyCache;if(this.ignoreDirtyCache||e[10]||this.isDirty()){var t=this.width,n=this.height,r=this.viewMatrix,i=this.viewPosition;e[10]&&(r.identity(),r.translate(i),r.invert(),e[10]=0);var o=this.transformMatrix;o.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var a=i.z,s=this.faces,u=0;u<s.length;u++)s[u].transformCoordinatesLocal(o,t,n,a);this.depthSort()}},renderDebug:function(e,t){for(var n=e.debugGraphic,r=0;r<t.length;r++){var i=t[r],o=i.vertex1.tx,a=i.vertex1.ty,s=i.vertex2.tx,u=i.vertex2.ty,l=i.vertex3.tx,c=i.vertex3.ty;n.strokeTriangle(o,a,s,u,l,c)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});e.exports=g},function(e,t,n){var r=n(50);e.exports=function(e,t){return r(e.x,e.y,t.x,t.y)<=e.radius+t.radius}},function(e,t,n){var r=n(4),i=n(233);e.exports=function(e,t,n){if(void 0===n&&(n=[]),i(e,t)){var o,a,s=e.x1,u=e.y1,l=e.x2,c=e.y2,h=t.x,f=t.y,d=t.radius,p=l-s,v=c-u,g=s-h,m=u-f,y=p*p+v*v,x=2*(p*g+v*m),b=x*x-4*y*(g*g+m*m-d*d);if(0===b){var w=-x/(2*y);o=s+w*p,a=u+w*v,w>=0&&w<=1&&n.push(new r(o,a))}else if(b>0){var k=(-x-Math.sqrt(b))/(2*y);o=s+k*p,a=u+k*v,k>=0&&k<=1&&n.push(new r(o,a));var E=(-x+Math.sqrt(b))/(2*y);o=s+E*p,a=u+E*v,E>=0&&E<=1&&n.push(new r(o,a))}}return n}},function(e,t,n){var r=n(66),i=new(n(4));e.exports=function(e,t,n){if(void 0===n&&(n=i),r(t,e.x1,e.y1))return n.x=e.x1,n.y=e.y1,!0;if(r(t,e.x2,e.y2))return n.x=e.x2,n.y=e.y2,!0;var o=e.x2-e.x1,a=e.y2-e.y1,s=t.x-e.x1,u=t.y-e.y1,l=o*o+a*a,c=o,h=a;if(l>0){var f=(s*o+u*a)/l;c*=f,h*=f}return n.x=e.x1+c,n.y=e.y1+h,c*c+h*h<=l&&c*o+h*a>=0&&r(t,n.x,n.y)}},function(e,t,n){var r=n(4),i=n(96),o=n(488);e.exports=function(e,t,n){if(void 0===n&&(n=[]),o(e,t))for(var a=t.getLineA(),s=t.getLineB(),u=t.getLineC(),l=t.getLineD(),c=[new r,new r,new r,new r],h=[i(a,e,c[0]),i(s,e,c[1]),i(u,e,c[2]),i(l,e,c[3])],f=0;f<4;f++)h[f]&&n.push(c[f]);return n}},function(e,t){e.exports=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=[]);for(var i,o,a,s,u,l,c=e.x3-e.x1,h=e.y3-e.y1,f=e.x2-e.x1,d=e.y2-e.y1,p=c*c+h*h,v=c*f+h*d,g=f*f+d*d,m=p*g-v*v,y=0===m?0:1/m,x=e.x1,b=e.y1,w=0;w<t.length&&(o=(p*(l=f*(a=t[w].x-x)+d*(s=t[w].y-b))-v*(u=c*a+h*s))*y,!((i=(g*u-v*l)*y)>=0&&o>=0&&i+o<1&&(r.push({x:t[w].x,y:t[w].y}),n)));w++);return r}},function(e,t){e.exports=function(e,t,n,r){var i=Math.cos(r),o=Math.sin(r),a=e.x1-t,s=e.y1-n;return e.x1=a*i-s*o+t,e.y1=a*o+s*i+n,a=e.x2-t,s=e.y2-n,e.x2=a*i-s*o+t,e.y2=a*o+s*i+n,e}},function(e,t){e.exports=function(e){return 0===e.height?NaN:e.width/e.height}},function(e,t){e.exports=function(e,t,n,r){var i=Math.cos(r),o=Math.sin(r),a=e.x1-t,s=e.y1-n;return e.x1=a*i-s*o+t,e.y1=a*o+s*i+n,a=e.x2-t,s=e.y2-n,e.x2=a*i-s*o+t,e.y2=a*o+s*i+n,a=e.x3-t,s=e.y3-n,e.x3=a*i-s*o+t,e.y3=a*o+s*i+n,e}},function(e,t,n){e.exports={BUTTON_DOWN:n(1310),BUTTON_UP:n(1311),CONNECTED:n(1312),DISCONNECTED:n(1313),GAMEPAD_BUTTON_DOWN:n(1314),GAMEPAD_BUTTON_UP:n(1315)}},function(e,t,n){var r=n(17),i=n(156);e.exports=function(e,t){var n=void 0===e?i():r({},e);if(t)for(var o in t)void 0!==t[o]&&(n[o]=t[o]);return n}},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=n(408),c=new r({Extends:o,initialize:function(e,t,n,r){var i="xml";if(u(t)){var a=t;t=s(a,"key"),n=s(a,"url"),r=s(a,"xhrSettings"),i=s(a,"extension",i)}var l={type:"xml",cache:e.cacheManager.xml,extension:i,responseType:"text",key:t,url:n,xhrSettings:r};o.call(this,e,l)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=l(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});a.register("xml",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new c(this,e[r]));else this.addFile(new c(this,e,t,n));return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r){var i="text",a="txt",l=e.cacheManager.text;if(u(t)){var c=t;t=s(c,"key"),n=s(c,"url"),r=s(c,"xhrSettings"),a=s(c,"extension",a),i=s(c,"type",i),l=s(c,"cache",l)}var h={type:i,cache:l,extension:a,responseType:"text",key:t,url:n,xhrSettings:r};o.call(this,e,h)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,n));return this})),e.exports=l},function(e,t,n){e.exports={Acceleration:n(1368),Angular:n(1369),Bounce:n(1370),Debug:n(1371),Drag:n(1372),Enable:n(1373),Friction:n(1374),Gravity:n(1375),Immovable:n(1376),Mass:n(1377),OverlapCirc:n(523),OverlapRect:n(244),Pushable:n(1378),Size:n(1379),Velocity:n(1380)}},function(e,t){e.exports=function(e,t,n,r,i,o,a){void 0===o&&(o=!0),void 0===a&&(a=!1);var s=[],u=[],l=e.treeMinMax;if(l.minX=t,l.minY=n,l.maxX=t+r,l.maxY=n+i,a&&(u=e.staticTree.search(l)),o&&e.useTree)s=e.tree.search(l);else if(o){var c=e.bodies,h={position:{x:t,y:n},left:t,top:n,right:t+r,bottom:n+i,isCircle:!1},f=e.intersects;c.iterate((function(e){f(e,h)&&s.push(e)}))}return u.concat(s)}},function(e,t,n){e.exports={COLLIDE:n(1381),OVERLAP:n(1382),PAUSE:n(1383),RESUME:n(1384),TILE_COLLIDE:n(1385),TILE_OVERLAP:n(1386),WORLD_BOUNDS:n(1387),WORLD_STEP:n(1388)}},function(e,t,n){var r=n(62);e.exports=function(e,t,n,i){var o=0,a=e.deltaAbsX()+t.deltaAbsX()+i;return 0===e._dx&&0===t._dx?(e.embedded=!0,t.embedded=!0):e._dx>t._dx?(o=e.right-t.x)>a&&!n||!1===e.checkCollision.right||!1===t.checkCollision.left?o=0:(e.touching.none=!1,e.touching.right=!0,t.touching.none=!1,t.touching.left=!0,t.physicsType!==r.STATIC_BODY||n||(e.blocked.none=!1,e.blocked.right=!0),e.physicsType!==r.STATIC_BODY||n||(t.blocked.none=!1,t.blocked.left=!0)):e._dx<t._dx&&(-(o=e.x-t.width-t.x)>a&&!n||!1===e.checkCollision.left||!1===t.checkCollision.right?o=0:(e.touching.none=!1,e.touching.left=!0,t.touching.none=!1,t.touching.right=!0,t.physicsType!==r.STATIC_BODY||n||(e.blocked.none=!1,e.blocked.left=!0),e.physicsType!==r.STATIC_BODY||n||(t.blocked.none=!1,t.blocked.right=!0))),e.overlapX=o,t.overlapX=o,o}},function(e,t,n){var r=n(62);e.exports=function(e,t,n,i){var o=0,a=e.deltaAbsY()+t.deltaAbsY()+i;return 0===e._dy&&0===t._dy?(e.embedded=!0,t.embedded=!0):e._dy>t._dy?(o=e.bottom-t.y)>a&&!n||!1===e.checkCollision.down||!1===t.checkCollision.up?o=0:(e.touching.none=!1,e.touching.down=!0,t.touching.none=!1,t.touching.up=!0,t.physicsType!==r.STATIC_BODY||n||(e.blocked.none=!1,e.blocked.down=!0),e.physicsType!==r.STATIC_BODY||n||(t.blocked.none=!1,t.blocked.up=!0)):e._dy<t._dy&&(-(o=e.y-t.bottom)>a&&!n||!1===e.checkCollision.up||!1===t.checkCollision.down?o=0:(e.touching.none=!1,e.touching.up=!0,t.touching.none=!1,t.touching.down=!0,t.physicsType!==r.STATIC_BODY||n||(e.blocked.none=!1,e.blocked.up=!0),e.physicsType!==r.STATIC_BODY||n||(t.blocked.none=!1,t.blocked.down=!0))),e.overlapY=o,t.overlapY=o,o}},function(e,t){e.exports=function(e,t){return!(t.right<=e.left||t.bottom<=e.top||t.position.x>=e.right||t.position.y>=e.bottom)}},function(e,t,n){e.exports={Bounce:n(1495),Collision:n(1496),Force:n(1497),Friction:n(1498),Gravity:n(1499),Mass:n(1500),Sensor:n(1501),SetBody:n(1502),Sleep:n(1503),Static:n(1520),Transform:n(1521),Velocity:n(1522)}},function(e,t){var n={};e.exports=n,n.create=function(e,t){var r=e.bodyA,i=e.bodyB,o={id:n.id(r,i),bodyA:r,bodyB:i,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:r.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(o,e,t),o},n.update=function(e,t,r){if(e.collision=t,t.collided){var i=t.supports,o=e.activeContacts,a=t.parentA,s=t.parentB;e.inverseMass=a.inverseMass+s.inverseMass,e.friction=Math.min(a.friction,s.friction),e.frictionStatic=Math.max(a.frictionStatic,s.frictionStatic),e.restitution=Math.max(a.restitution,s.restitution),e.slop=Math.max(a.slop,s.slop);for(var u=0;u<i.length;u++)o[u]=i[u].contact;var l=i.length;l<o.length&&(o.length=l),e.separation=t.depth,n.setActive(e,!0,r)}else!0===e.isActive&&n.setActive(e,!1,r)},n.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},n.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},function(e,t,n){e.exports={CalculateFacesAt:n(252),CalculateFacesWithin:n(63),CheckIsoBounds:n(541),Copy:n(1420),CreateFromTiles:n(1421),CullBounds:n(543),CullTiles:n(544),Fill:n(1422),FilterTiles:n(1423),FindByIndex:n(1424),FindTile:n(1425),ForEachTile:n(1426),GetCullTilesFunction:n(1427),GetTileAt:n(158),GetTileAtWorldXY:n(1428),GetTilesWithin:n(26),GetTilesWithinShape:n(1429),GetTilesWithinWorldXY:n(529),GetTileToWorldXFunction:n(1430),GetTileToWorldXYFunction:n(1431),GetTileToWorldYFunction:n(1432),GetWorldToTileXFunction:n(1433),GetWorldToTileXYFunction:n(1434),GetWorldToTileYFunction:n(1435),HasTileAt:n(562),HasTileAtWorldXY:n(1436),HexagonalCullBounds:n(546),HexagonalCullTiles:n(545),HexagonalTileToWorldXY:n(550),HexagonalTileToWorldY:n(554),HexagonalWorldToTileXY:n(556),HexagonalWorldToTileY:n(560),IsInLayerBounds:n(119),IsometricCullTiles:n(547),IsometricTileToWorldXY:n(551),IsometricWorldToTileXY:n(557),PutTileAt:n(257),PutTileAtWorldXY:n(1437),PutTilesAt:n(1438),Randomize:n(1439),RemoveTileAt:n(563),RemoveTileAtWorldXY:n(1440),RenderDebug:n(1441),ReplaceByIndex:n(542),RunCull:n(159),SetCollision:n(1442),SetCollisionBetween:n(1443),SetCollisionByExclusion:n(1444),SetCollisionByProperty:n(1445),SetCollisionFromCollisionGroup:n(1446),SetLayerCollisionIndex:n(160),SetTileCollision:n(72),SetTileIndexCallback:n(1447),SetTileLocationCallback:n(1448),Shuffle:n(1449),StaggeredCullBounds:n(549),StaggeredCullTiles:n(548),StaggeredTileToWorldXY:n(552),StaggeredTileToWorldY:n(555),StaggeredWorldToTileXY:n(558),StaggeredWorldToTileY:n(561),SwapByIndex:n(1450),TileToWorldX:n(253),TileToWorldXY:n(553),TileToWorldY:n(254),WeightedRandomize:n(1451),WorldToTileX:n(255),WorldToTileXY:n(559),WorldToTileY:n(256)}},function(e,t,n){var r=n(158);e.exports=function(e,t,n){var i=r(e,t,!0,n),o=r(e,t-1,!0,n),a=r(e,t+1,!0,n),s=r(e-1,t,!0,n),u=r(e+1,t,!0,n),l=i&&i.collides;return l&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),o&&o.collides&&(l&&(i.faceTop=!1),o.faceBottom=!l),a&&a.collides&&(l&&(i.faceBottom=!1),a.faceTop=!l),s&&s.collides&&(l&&(i.faceLeft=!1),s.faceRight=!l),u&&u.collides&&(l&&(i.faceRight=!1),u.faceLeft=!l),i&&!i.collides&&i.resetFaces(),i}},function(e,t){e.exports=function(e,t,n){var r=n.baseTileWidth,i=n.tilemapLayer,o=0;return i&&(t||(t=i.scene.cameras.main),o=i.x+t.scrollX*(1-i.scrollFactorX),r*=i.scaleX),o+e*r}},function(e,t){e.exports=function(e,t,n){var r=n.baseTileHeight,i=n.tilemapLayer,o=0;return i&&(t||(t=i.scene.cameras.main),o=i.y+t.scrollY*(1-i.scrollFactorY),r*=i.scaleY),o+e*r}},function(e,t){e.exports=function(e,t,n,r){void 0===t&&(t=!0);var i=r.baseTileWidth,o=r.tilemapLayer;return o&&(n||(n=o.scene.cameras.main),e-=o.x+n.scrollX*(1-o.scrollFactorX),i*=o.scaleX),t?Math.floor(e/i):e/i}},function(e,t){e.exports=function(e,t,n,r){void 0===t&&(t=!0);var i=r.baseTileHeight,o=r.tilemapLayer;return o&&(n||(n=o.scene.cameras.main),e-=o.y+n.scrollY*(1-o.scrollFactorY),i*=o.scaleY),t?Math.floor(e/i):e/i}},function(e,t,n){var r=n(85),i=n(119),o=n(252),a=n(72);e.exports=function(e,t,n,s,u){if(void 0===s&&(s=!0),!i(t,n,u))return null;var l=u.data[n][t],c=l&&l.collides;if(e instanceof r)null===u.data[n][t]&&(u.data[n][t]=new r(u,e.index,t,n,u.tileWidth,u.tileHeight)),u.data[n][t].copy(e);else{var h=e;null===u.data[n][t]?u.data[n][t]=new r(u,h,t,n,u.tileWidth,u.tileHeight):u.data[n][t].index=h}var f=u.data[n][t],d=-1!==u.collideIndexes.indexOf(f.index);return a(f,d),s&&c!==f.collides&&o(t,n,u),f}},function(e,t,n){var r=n(29);e.exports=function(e){return"isometric"===(e=e.toLowerCase())?r.ISOMETRIC:"staggered"===e?r.STAGGERED:"hexagonal"===e?r.HEXAGONAL:r.ORTHOGONAL}},function(e,t,n){var r=n(40),i=n(120),o=n(121),a=n(85);e.exports=function(e,t,n,s,u){for(var l=new i({tileWidth:n,tileHeight:s}),c=new o({name:e,tileWidth:n,tileHeight:s,format:r.ARRAY_2D,layers:[l]}),h=[],f=t.length,d=0,p=0;p<t.length;p++){h[p]=[];for(var v=t[p],g=0;g<v.length;g++){var m=parseInt(v[g],10);isNaN(m)||-1===m?h[p][g]=u?null:new a(l,-1,g,p,n,s):h[p][g]=new a(l,m,g,p,n,s)}0===d&&(d=v.length)}return c.width=l.width=d,c.height=l.height=f,c.widthInPixels=l.widthInPixels=d*n,c.heightInPixels=l.heightInPixels=f*s,l.data=h,c}},function(e,t,n){var r=n(571),i=n(261),o=function(e){return{x:e.x,y:e.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"];e.exports=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var s=r(e,a);if(s.x+=t,s.y+=n,e.gid){var u=i(e.gid);s.gid=u.gid,s.flippedHorizontal=u.flippedHorizontal,s.flippedVertical=u.flippedVertical,s.flippedAntiDiagonal=u.flippedAntiDiagonal}else e.polyline?s.polyline=e.polyline.map(o):e.polygon?s.polygon=e.polygon.map(o):e.ellipse?s.ellipse=e.ellipse:e.text?s.text=e.text:e.point?s.point=!0:s.rectangle=!0;return s}},function(e,t){var n=2147483648,r=1073741824,i=536870912;e.exports=function(e){var t=Boolean(e&n),o=Boolean(e&r),a=Boolean(e&i);e&=536870911;var s=0,u=!1;return t&&o&&a?(s=Math.PI/2,u=!0):t&&o&&!a?(s=Math.PI,u=!1):t&&!o&&a?(s=Math.PI/2,u=!1):!t||o||a?!t&&o&&a?(s=3*Math.PI/2,u=!1):t||!o||a?t||o||!a?t||o||a||(s=0,u=!1):(s=3*Math.PI/2,u=!0):(s=Math.PI,u=!0):(s=0,u=!0),{gid:e,flippedHorizontal:t,flippedVertical:o,flippedAntiDiagonal:a,rotation:s,flipped:u}}},function(e,t,n){var r=n(40),i=n(121),o=n(564),a=n(580);e.exports=function(e,t,n,s,u,l,c,h){void 0===n&&(n=32),void 0===s&&(s=32),void 0===u&&(u=10),void 0===l&&(l=10),void 0===h&&(h=!1);var f=null;if(Array.isArray(c))f=o(void 0!==t?t:"map",r.ARRAY_2D,c,n,s,h);else if(void 0!==t){var d=e.cache.tilemap.get(t);d?f=o(t,d.format,d.data,n,s,h):console.warn("No map data found for key "+t)}return null===f&&(f=new i({tileWidth:n,tileHeight:s,width:u,height:l})),new a(e,f)}},function(e,t,n){var r=n(6);e.exports=function(e){var t=r(e,"targets",null);return null===t||("function"===typeof t&&(t=t.call()),Array.isArray(t)||(t=[t])),t}},function(e,t){function n(e){return!!e.getActive&&"function"===typeof e.getActive}function r(e){return!!e.getStart&&"function"===typeof e.getStart}function i(e){return!!e.getEnd&&"function"===typeof e.getEnd}e.exports=function e(t,o){var a,s,u=function(e,t,n){return n},l=function(e,t,n){return n},c=null,h=typeof o;if("number"===h)u=function(){return o};else if("string"===h){var f=o[0],d=parseFloat(o.substr(2));switch(f){case"+":u=function(e,t,n){return n+d};break;case"-":u=function(e,t,n){return n-d};break;case"*":u=function(e,t,n){return n*d};break;case"/":u=function(e,t,n){return n/d};break;default:u=function(){return parseFloat(o)}}}else if("function"===h)u=o;else if("object"===h)if(r(s=o)||i(s)||n(s))n(o)&&(c=o.getActive),i(o)&&(u=o.getEnd),r(o)&&(l=o.getStart);else if(o.hasOwnProperty("value"))a=e(t,o.value);else{var p=o.hasOwnProperty("to"),v=o.hasOwnProperty("from"),g=o.hasOwnProperty("start");if(p&&(v||g)){if(a=e(t,o.to),g){var m=e(t,o.start);a.getActive=m.getEnd}if(v){var y=e(t,o.from);a.getStart=y.getEnd}}}return a||(a={getActive:c,getEnd:u,getStart:l}),a}},function(e,t){e.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(e,t,n){var r=n(0),i=n(9),o=n(267),a=n(16),s=n(5),u=n(100),l=n(14),c=new r({Extends:i,initialize:function(e,t,n){i.call(this),this.parent=e,this.parentIsTimeline=e.hasOwnProperty("isTimeline"),this.data=t,this.totalData=t.length,this.targets=n,this.totalTargets=n.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=u.PENDING_ADD,this._pausedState=u.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(e){return void 0===e&&(e=0),this.data[e].current},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===u.ACTIVE},isPaused:function(){return this.state===u.PAUSED},hasTarget:function(e){return-1!==this.targets.indexOf(e)},updateTo:function(e,t,n){void 0===n&&(n=!1);for(var r=0;r<this.totalData;r++){var i=this.data[r];i.key===e&&(i.end=t,n&&(i.start=i.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===u.ACTIVE?this.seek(0):this.state===u.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===u.PENDING_ADD?this:this.play()},calcDuration:function(){for(var e=0,t=l.MAX_SAFE_INTEGER,n=this.data,r=0;r<this.totalData;r++){var i=n[r];i.t1=i.duration+i.hold,i.yoyo&&(i.t1+=i.duration),i.t2=i.t1+i.repeatDelay,i.totalDuration=i.delay+i.t1,-1===i.repeat?i.totalDuration+=999999999999*i.t2:i.repeat>0&&(i.totalDuration+=i.t2*i.repeat),i.totalDuration>e&&(e=i.totalDuration),i.delay<t&&(t=i.delay)}this.duration=Math.max(e,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=t},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=u.PENDING_ADD,this._pausedState=u.INIT,!1;for(var e=this.data,t=this.totalTargets,n=0;n<this.totalData;n++){var r=e[n],i=r.target,o=r.gen,a=r.key,s=r.index;r.delay=o.delay(i,a,0,s,t,this),r.duration=Math.max(o.duration(i,a,0,s,t,this),.001),r.hold=o.hold(i,a,0,s,t,this),r.repeat=o.repeat(i,a,0,s,t,this),r.repeatDelay=o.repeatDelay(i,a,0,s,t,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=u.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(o.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=u.LOOP_DELAY):(this.state=u.ACTIVE,this.dispatchTweenEvent(o.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=u.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=u.PENDING_REMOVE,this.dispatchTweenEvent(o.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===u.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=u.PAUSED),this},play:function(e){void 0===e&&(e=!1);var t=this.state;return t!==u.INIT||this.parentIsTimeline?t===u.ACTIVE||t===u.PENDING_ADD&&this._pausedState===u.PENDING_ADD?this:this.parentIsTimeline||t!==u.PENDING_REMOVE&&t!==u.REMOVED?(this.parentIsTimeline?(this.resetTweenData(e),0===this.calculatedOffset?this.state=u.ACTIVE:(this.countdown=this.calculatedOffset,this.state=u.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(e),this.state=u.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=u.ACTIVE,this)},resetTweenData:function(e){for(var t=this.data,n=this.totalData,r=this.totalTargets,i=0;i<n;i++){var o=t[i],a=o.target,s=o.key,l=o.index;o.progress=0,o.elapsed=0,o.repeatCounter=-1===o.repeat?999999999999:o.repeat,e?(o.start=o.getStartValue(a,s,o.start,l,r,this),o.end=o.getEndValue(a,s,o.end,l,r,this),o.current=o.start,o.state=u.PLAYING_FORWARD):o.state=u.PENDING_RENDER,o.delay>0&&(o.elapsed=o.delay,o.state=u.DELAY),o.getActiveValue&&(a[s]=o.getActiveValue(o.target,o.key,o.start))}},resume:function(){return this.state===u.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(e,t){void 0===t&&(t=16.6),this.state===u.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var n=this.data,r=this.totalTargets,i=0;i<this.totalData;i++){var o=n[i],a=o.target,s=o.gen,l=o.key,c=o.index;o.progress=0,o.elapsed=0,o.repeatCounter=-1===o.repeat?999999999999:o.repeat,o.delay=s.delay(a,l,0,c,r,this),o.duration=Math.max(s.duration(a,l,0,c,r,this),.001),o.hold=s.hold(a,l,0,c,r,this),o.repeat=s.repeat(a,l,0,c,r,this),o.repeatDelay=s.repeatDelay(a,l,0,c,r,this),o.current=o.start,o.state=u.PLAYING_FORWARD,this.updateTweenData(this,o,0,c,r),o.delay>0&&(o.elapsed=o.delay,o.state=u.DELAY)}this.calcDuration();var h=!1;this.state===u.PAUSED&&(h=!0,this.state=u.ACTIVE),this.isSeeking=!0;do{this.update(0,t)}while(this.totalProgress<e);return this.isSeeking=!1,h&&(this.state=u.PAUSED),this},setCallback:function(e,t,n,r){return this.callbacks[e]={func:t,scope:r,params:n},this},complete:function(e){return void 0===e&&(e=0),e?(this.state=u.COMPLETE_DELAY,this.countdown=e):(this.state=u.PENDING_REMOVE,this.dispatchTweenEvent(o.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(e){return this.state===u.ACTIVE&&void 0!==e&&this.seek(e),this.state!==u.REMOVED&&(this.state!==u.PAUSED&&this.state!==u.PENDING_ADD||(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(o.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=u.PENDING_REMOVE),this},update:function(e,t){if(this.state===u.PAUSED)return!1;switch(this.useFrames&&(t=1*this.parent.timeScale),t*=this.timeScale,this.elapsed+=t,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=t,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case u.ACTIVE:this.hasStarted||this.isSeeking||(this.startDelay-=t,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(o.TWEEN_START,this.callbacks.onStart)));for(var n=!1,r=0;r<this.totalData;r++){var i=this.data[r];this.updateTweenData(this,i,t)&&(n=!0)}n||this.nextState();break;case u.LOOP_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=u.ACTIVE,this.dispatchTweenEvent(o.TWEEN_LOOP,this.callbacks.onLoop));break;case u.OFFSET_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=u.ACTIVE);break;case u.COMPLETE_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=u.PENDING_REMOVE,this.dispatchTweenEvent(o.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===u.PENDING_REMOVE},dispatchTweenDataEvent:function(e,t,n){this.isSeeking||(this.emit(e,this,n.key,n.target,n.current,n.previous),t&&(t.params[1]=n.target,t.func.apply(t.scope,t.params)))},dispatchTweenEvent:function(e,t){this.isSeeking||(this.emit(e,this,this.targets),t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)))},setStateFromEnd:function(e,t,n){return t.yoyo?(t.elapsed=n,t.progress=n/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),this.dispatchTweenDataEvent(o.TWEEN_YOYO,e.callbacks.onYoyo,t),t.start=t.getStartValue(t.target,t.key,t.start,t.index,e.totalTargets,e),u.PLAYING_BACKWARD):t.repeatCounter>0?(t.repeatCounter--,t.elapsed=n,t.progress=n/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),t.start=t.getStartValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.end=t.getEndValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.repeatDelay>0?(t.elapsed=t.repeatDelay-n,t.current=t.start,t.target[t.key]=t.current,u.REPEAT_DELAY):(this.dispatchTweenDataEvent(o.TWEEN_REPEAT,e.callbacks.onRepeat,t),u.PLAYING_FORWARD)):u.COMPLETE},setStateFromStart:function(e,t,n){return t.repeatCounter>0?(t.repeatCounter--,t.elapsed=n,t.progress=n/t.duration,t.flipX&&t.target.toggleFlipX(),t.flipY&&t.target.toggleFlipY(),t.end=t.getEndValue(t.target,t.key,t.start,t.index,e.totalTargets,e),t.repeatDelay>0?(t.elapsed=t.repeatDelay-n,t.current=t.start,t.target[t.key]=t.current,u.REPEAT_DELAY):(this.dispatchTweenDataEvent(o.TWEEN_REPEAT,e.callbacks.onRepeat,t),u.PLAYING_FORWARD)):u.COMPLETE},updateTweenData:function(e,t,n){var r=t.target;switch(t.state){case u.PLAYING_FORWARD:case u.PLAYING_BACKWARD:if(!r){t.state=u.COMPLETE;break}var i=t.elapsed,a=t.duration,s=0;(i+=n)>a&&(s=i-a,i=a);var l=t.state===u.PLAYING_FORWARD,c=i/a;if(t.elapsed=i,t.progress=c,t.previous=t.current,1===c)l?(t.current=t.end,r[t.key]=t.end,t.hold>0?(t.elapsed=t.hold-s,t.state=u.HOLD_DELAY):t.state=this.setStateFromEnd(e,t,s)):(t.current=t.start,r[t.key]=t.start,t.state=this.setStateFromStart(e,t,s));else{var h=l?t.ease(c):t.ease(1-c);t.current=t.start+(t.end-t.start)*h,r[t.key]=t.current}this.dispatchTweenDataEvent(o.TWEEN_UPDATE,e.callbacks.onUpdate,t);break;case u.DELAY:t.elapsed-=n,t.elapsed<=0&&(t.elapsed=Math.abs(t.elapsed),t.state=u.PENDING_RENDER);break;case u.REPEAT_DELAY:t.elapsed-=n,t.elapsed<=0&&(t.elapsed=Math.abs(t.elapsed),t.state=u.PLAYING_FORWARD,this.dispatchTweenDataEvent(o.TWEEN_REPEAT,e.callbacks.onRepeat,t));break;case u.HOLD_DELAY:t.elapsed-=n,t.elapsed<=0&&(t.state=this.setStateFromEnd(e,t,Math.abs(t.elapsed)));break;case u.PENDING_RENDER:r?(t.start=t.getStartValue(r,t.key,r[t.key],t.index,e.totalTargets,e),t.end=t.getEndValue(r,t.key,t.start,t.index,e.totalTargets,e),t.current=t.start,r[t.key]=t.start,t.state=u.PLAYING_FORWARD):t.state=u.COMPLETE}return t.state!==u.COMPLETE}});c.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],s.register("tween",(function(e){return this.scene.sys.tweens.add(e)})),a.register("tween",(function(e){return this.scene.sys.tweens.create(e)})),e.exports=c},function(e,t,n){e.exports={TIMELINE_COMPLETE:n(1466),TIMELINE_LOOP:n(1467),TIMELINE_PAUSE:n(1468),TIMELINE_RESUME:n(1469),TIMELINE_START:n(1470),TIMELINE_UPDATE:n(1471),TWEEN_ACTIVE:n(1472),TWEEN_COMPLETE:n(1473),TWEEN_LOOP:n(1474),TWEEN_REPEAT:n(1475),TWEEN_START:n(1476),TWEEN_STOP:n(1477),TWEEN_UPDATE:n(1478),TWEEN_YOYO:n(1479)}},function(e,t){e.exports=function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p){return{target:e,index:t,key:n,getActiveValue:o,getEndValue:r,getStartValue:i,ease:a,duration:0,totalDuration:0,delay:0,yoyo:l,hold:0,repeat:0,repeatDelay:0,flipX:d,flipY:p,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:s,duration:u,hold:c,repeat:h,repeatDelay:f},state:0}}},function(e,t,n){var r=n(68);e.exports=function(e){return r(e,-Math.PI,Math.PI)}},function(e,t,n){var r=n(68);e.exports=function(e){return r(e,-180,180)}},function(e,t,n){var r={};e.exports=r;var i=n(83),o=n(32);r.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var r=(n+1)%e.length,a=i.normalise({x:e[r].y-e[n].y,y:e[n].x-e[r].x}),s=0===a.y?1/0:a.x/a.y;t[s=s.toFixed(3).toString()]=a}return o.values(t)},r.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var o,a=e[i];o=a.x*n-a.y*r,a.y=a.x*r+a.y*n,a.x=o}}},function(e,t,n){e.exports={AFTER_ADD:n(1504),AFTER_REMOVE:n(1505),AFTER_UPDATE:n(1506),BEFORE_ADD:n(1507),BEFORE_REMOVE:n(1508),BEFORE_UPDATE:n(1509),COLLISION_ACTIVE:n(1510),COLLISION_END:n(1511),COLLISION_START:n(1512),DRAG_END:n(1513),DRAG:n(1514),DRAG_START:n(1515),PAUSE:n(1516),RESUME:n(1517),SLEEP_END:n(1518),SLEEP_START:n(1519)}},function(e,t,n){var r={};e.exports=r;var i=n(274),o=n(250),a=n(84);r.collisions=function(e,t){for(var n=[],s=t.pairs.table,u=t.metrics,l=0;l<e.length;l++){var c=e[l][0],h=e[l][1];if((!c.isStatic&&!c.isSleeping||!h.isStatic&&!h.isSleeping)&&r.canCollide(c.collisionFilter,h.collisionFilter)&&(u.midphaseTests+=1,a.overlaps(c.bounds,h.bounds)))for(var f=c.parts.length>1?1:0;f<c.parts.length;f++)for(var d=c.parts[f],p=h.parts.length>1?1:0;p<h.parts.length;p++){var v=h.parts[p];if(d===c&&v===h||a.overlaps(d.bounds,v.bounds)){var g,m=s[o.id(d,v)];g=m&&m.isActive?m.collision:null;var y=i.collides(d,v,g);u.narrowphaseTests+=1,y.reused&&(u.narrowReuseCount+=1),y.collided&&(n.push(y),u.narrowDetections+=1)}}}return n},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!==(e.mask&t.category)&&0!==(t.mask&e.category)}},function(e,t,n){var r={};e.exports=r;var i=n(64),o=n(83);r.collides=function(e,t,n){var a,s,u,l,c=!1;if(n){var h=e.parent,f=t.parent,d=h.speed*h.speed+h.angularSpeed*h.angularSpeed+f.speed*f.speed+f.angularSpeed*f.angularSpeed;c=n&&n.collided&&d<.2,l=n}else l={collided:!1,bodyA:e,bodyB:t};if(n&&c){var p=l.axisBody,v=p===e?t:e,g=[p.axes[n.axisNumber]];if(u=r._overlapAxes(p.vertices,v.vertices,g),l.reused=!0,u.overlap<=0)return l.collided=!1,l}else{if((a=r._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return l.collided=!1,l;if((s=r._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return l.collided=!1,l;a.overlap<s.overlap?(u=a,l.axisBody=e):(u=s,l.axisBody=t),l.axisNumber=u.axisNumber}l.bodyA=e.id<t.id?e:t,l.bodyB=e.id<t.id?t:e,l.collided=!0,l.depth=u.overlap,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent,e=l.bodyA,t=l.bodyB,o.dot(u.axis,o.sub(t.position,e.position))<0?l.normal={x:u.axis.x,y:u.axis.y}:l.normal={x:-u.axis.x,y:-u.axis.y},l.tangent=o.perp(l.normal),l.penetration=l.penetration||{},l.penetration.x=l.normal.x*l.depth,l.penetration.y=l.normal.y*l.depth;var m=r._findSupports(e,t,l.normal),y=[];if(i.contains(e.vertices,m[0])&&y.push(m[0]),i.contains(e.vertices,m[1])&&y.push(m[1]),y.length<2){var x=r._findSupports(t,e,o.neg(l.normal));i.contains(t.vertices,x[0])&&y.push(x[0]),y.length<2&&i.contains(t.vertices,x[1])&&y.push(x[1])}return y.length<1&&(y=[m[0]]),l.supports=y,l},r._overlapAxes=function(e,t,n){for(var i,a,s=o._temp[0],u=o._temp[1],l={overlap:Number.MAX_VALUE},c=0;c<n.length;c++){if(a=n[c],r._projectToAxis(s,e,a),r._projectToAxis(u,t,a),(i=Math.min(s.max-u.min,u.max-s.min))<=0)return l.overlap=i,l;i<l.overlap&&(l.overlap=i,l.axis=a,l.axisNumber=c)}return l},r._projectToAxis=function(e,t,n){for(var r=o.dot(t[0],n),i=r,a=1;a<t.length;a+=1){var s=o.dot(t[a],n);s>i?i=s:s<r&&(r=s)}e.min=r,e.max=i},r._findSupports=function(e,t,n){for(var r,i,a,s,u=Number.MAX_VALUE,l=o._temp[0],c=t.vertices,h=e.position,f=0;f<c.length;f++)i=c[f],l.x=i.x-h.x,l.y=i.y-h.y,(r=-o.dot(n,l))<u&&(u=r,a=i);return i=c[a.index-1>=0?a.index-1:c.length-1],l.x=i.x-h.x,l.y=i.y-h.y,u=-o.dot(n,l),s=i,i=c[(a.index+1)%c.length],l.x=i.x-h.x,l.y=i.y-h.y,(r=-o.dot(n,l))<u&&(s=i),[a,s]}},function(e,t,n){e.exports={AlignTo:n(601),Angle:n(602),Call:n(603),GetFirst:n(604),GetLast:n(605),GridAlign:n(606),IncAlpha:n(678),IncX:n(679),IncXY:n(680),IncY:n(681),PlaceOnCircle:n(682),PlaceOnEllipse:n(683),PlaceOnLine:n(684),PlaceOnRectangle:n(685),PlaceOnTriangle:n(686),PlayAnimation:n(687),PropertyValueInc:n(46),PropertyValueSet:n(27),RandomCircle:n(688),RandomEllipse:n(689),RandomLine:n(690),RandomRectangle:n(691),RandomTriangle:n(692),Rotate:n(693),RotateAround:n(694),RotateAroundDistance:n(695),ScaleX:n(696),ScaleXY:n(697),ScaleY:n(698),SetAlpha:n(699),SetBlendMode:n(700),SetDepth:n(701),SetHitArea:n(702),SetOrigin:n(703),SetRotation:n(704),SetScale:n(705),SetScaleX:n(706),SetScaleY:n(707),SetScrollFactor:n(708),SetScrollFactorX:n(709),SetScrollFactorY:n(710),SetTint:n(711),SetVisible:n(712),SetX:n(713),SetXY:n(714),SetY:n(715),ShiftPosition:n(716),Shuffle:n(717),SmootherStep:n(718),SmoothStep:n(719),Spread:n(720),ToggleVisible:n(721),WrapInRectangle:n(722)}},function(e,t,n){var r=n(123),i=[];i[r.BOTTOM_CENTER]=n(277),i[r.BOTTOM_LEFT]=n(278),i[r.BOTTOM_RIGHT]=n(279),i[r.LEFT_BOTTOM]=n(280),i[r.LEFT_CENTER]=n(281),i[r.LEFT_TOP]=n(282),i[r.RIGHT_BOTTOM]=n(283),i[r.RIGHT_CENTER]=n(284),i[r.RIGHT_TOP]=n(285),i[r.TOP_CENTER]=n(286),i[r.TOP_LEFT]=n(287),i[r.TOP_RIGHT]=n(288),e.exports=function(e,t,n,r,o){return i[n](e,t,r,o)}},function(e,t,n){var r=n(42),i=n(87),o=n(88),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,i(t)+n),a(e,r(t)+s),e}},function(e,t,n){var r=n(42),i=n(43),o=n(53),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,i(t)-n),a(e,r(t)+s),e}},function(e,t,n){var r=n(42),i=n(44),o=n(54),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,i(t)+n),a(e,r(t)+s),e}},function(e,t,n){var r=n(42),i=n(43),o=n(55),a=n(54);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)-n),o(e,r(t)+s),e}},function(e,t,n){var r=n(89),i=n(43),o=n(90),a=n(54);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)-n),o(e,r(t)+s),e}},function(e,t,n){var r=n(43),i=n(45),o=n(54),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,r(t)-n),a(e,i(t)-s),e}},function(e,t,n){var r=n(42),i=n(44),o=n(55),a=n(53);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)+n),o(e,r(t)+s),e}},function(e,t,n){var r=n(89),i=n(44),o=n(90),a=n(53);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)+n),o(e,r(t)+s),e}},function(e,t,n){var r=n(44),i=n(45),o=n(53),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,r(t)+n),a(e,i(t)-s),e}},function(e,t,n){var r=n(87),i=n(45),o=n(55),a=n(88);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,r(t)+n),o(e,i(t)-s),e}},function(e,t,n){var r=n(43),i=n(45),o=n(55),a=n(53);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,r(t)-n),o(e,i(t)-s),e}},function(e,t,n){var r=n(44),i=n(45),o=n(55),a=n(54);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,r(t)+n),o(e,i(t)-s),e}},function(e,t,n){var r=n(123),i=[];i[r.BOTTOM_CENTER]=n(290),i[r.BOTTOM_LEFT]=n(291),i[r.BOTTOM_RIGHT]=n(292),i[r.CENTER]=n(293),i[r.LEFT_CENTER]=n(295),i[r.RIGHT_CENTER]=n(296),i[r.TOP_CENTER]=n(297),i[r.TOP_LEFT]=n(298),i[r.TOP_RIGHT]=n(299),i[r.LEFT_BOTTOM]=i[r.BOTTOM_LEFT],i[r.LEFT_TOP]=i[r.TOP_LEFT],i[r.RIGHT_BOTTOM]=i[r.BOTTOM_RIGHT],i[r.RIGHT_TOP]=i[r.TOP_RIGHT],e.exports=function(e,t,n,r,o){return i[n](e,t,r,o)}},function(e,t,n){var r=n(42),i=n(87),o=n(55),a=n(88);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)+n),o(e,r(t)+s),e}},function(e,t,n){var r=n(42),i=n(43),o=n(55),a=n(53);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)-n),o(e,r(t)+s),e}},function(e,t,n){var r=n(42),i=n(44),o=n(55),a=n(54);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)+n),o(e,r(t)+s),e}},function(e,t,n){var r=n(294),i=n(87),o=n(89);e.exports=function(e,t,n,a){return void 0===n&&(n=0),void 0===a&&(a=0),r(e,i(t)+n,o(t)+a),e}},function(e,t,n){var r=n(88),i=n(90);e.exports=function(e,t,n){return r(e,t),i(e,n)}},function(e,t,n){var r=n(89),i=n(43),o=n(90),a=n(53);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)-n),o(e,r(t)+s),e}},function(e,t,n){var r=n(89),i=n(44),o=n(90),a=n(54);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),a(e,i(t)+n),o(e,r(t)+s),e}},function(e,t,n){var r=n(87),i=n(45),o=n(88),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,r(t)+n),a(e,i(t)-s),e}},function(e,t,n){var r=n(43),i=n(45),o=n(53),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,r(t)-n),a(e,i(t)-s),e}},function(e,t,n){var r=n(44),i=n(45),o=n(54),a=n(52);e.exports=function(e,t,n,s){return void 0===n&&(n=0),void 0===s&&(s=0),o(e,r(t)+n),a(e,i(t)-s),e}},function(e,t,n){var r=n(169),i=n(98),o=n(14),a=n(4);e.exports=function(e,t,n){void 0===n&&(n=new a);var s=i(t,0,o.PI2);return r(e,s,n)}},function(e,t,n){var r=n(302),i=n(169),o=n(98),a=n(14);e.exports=function(e,t,n,s){void 0===s&&(s=[]),!t&&n>0&&(t=r(e)/n);for(var u=0;u<t;u++){var l=o(u/t,0,a.PI2);s.push(i(e,l))}return s}},function(e,t){e.exports=function(e){return Math.PI*e.radius*2}},function(e,t,n){var r=n(18),i={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e){return void 0===e&&(e=1),this.alpha=e,this},alpha:{get:function(){return this._alpha},set:function(e){var t=r(e,0,1);this._alpha=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}}};e.exports=i},function(e,t,n){var r=n(35),i={_blendMode:r.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(e){"string"===typeof e&&(e=r[e]),(e|=0)>=-1&&(this._blendMode=e)}},setBlendMode:function(e){return this.blendMode=e,this}};e.exports=i},function(e,t){var n={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return void 0===e&&(e=0),this.depth=e,this}};e.exports=n},function(e,t,n){var r=n(171),i=n(130);e.exports=function(e,t,n,o){void 0===o&&(o=[]),!t&&n>0&&(t=i(e)/n);for(var a=0;a<t;a++){var s=a/t;o.push(r(e,s))}return o}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){return void 0===n&&(n=new r),n.x=e.x1+(e.x2-e.x1)*t,n.y=e.y1+(e.y2-e.y1)*t,n}},function(e,t){e.exports=function(e,t,n,r){var i=Math.cos(r),o=Math.sin(r),a=e.x-t,s=e.y-n;return e.x=a*i-s*o+t,e.y=a*o+s*i+n,e}},function(e,t,n){var r=n(310),i=n(311),o={mask:null,setMask:function(e){return this.mask=e,this},clearMask:function(e){return void 0===e&&(e=!1),e&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(e){return void 0===e&&(this.texture||this.shader)&&(e=this),new r(this.scene,e)},createGeometryMask:function(e){return void 0===e&&"Graphics"===this.type&&(e=this),new i(this.scene,e)}};e.exports=o},function(e,t,n){var r=n(0),i=n(22),o=n(91),a=new r({initialize:function(e,t){var n=e.sys.renderer;this.renderer=n,this.bitmapMask=t,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),e.sys.game.events.on(i.CONTEXT_RESTORED,this.createMask,this),n&&n.on(o.RESIZE,this.createMask,this)},createMask:function(){var e=this.renderer;if(e&&e.gl){this.mainTexture&&this.clearMask();var t=e.width,n=e.height,r=0===(t&t-1)&&0===(n&n-1),i=e.gl,o=r?i.REPEAT:i.CLAMP_TO_EDGE,a=i.LINEAR;this.mainTexture=e.createTexture2D(0,a,a,o,o,i.RGBA,null,t,n),this.maskTexture=e.createTexture2D(0,a,a,o,o,i.RGBA,null,t,n),this.mainFramebuffer=e.createFramebuffer(t,n,this.mainTexture,!0),this.maskFramebuffer=e.createFramebuffer(t,n,this.maskTexture,!0)}},clearMask:function(){var e=this.renderer;e&&e.gl&&this.mainTexture&&(e.deleteTexture(this.mainTexture),e.deleteTexture(this.maskTexture),e.deleteFramebuffer(this.mainFramebuffer),e.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(e){this.bitmapMask=e},preRenderWebGL:function(e,t,n){e.pipelines.BITMAPMASK_PIPELINE.beginMask(this,t,n)},postRenderWebGL:function(e,t){e.pipelines.BITMAPMASK_PIPELINE.endMask(this,t)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(o.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});e.exports=a},function(e,t,n){var r=new(n(0))({initialize:function(e,t){this.geometryMask=t,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(e){return this.geometryMask=e,this},setInvertAlpha:function(e){return void 0===e&&(e=!0),this.invertAlpha=e,this},preRenderWebGL:function(e,t,n){var r=e.gl;e.flush(),0===e.maskStack.length&&(r.enable(r.STENCIL_TEST),r.clear(r.STENCIL_BUFFER_BIT),e.maskCount=0),e.currentCameraMask.mask!==this&&(e.currentMask.mask=this),e.maskStack.push({mask:this,camera:n}),this.applyStencil(e,n,!0),e.maskCount++},applyStencil:function(e,t,n){var r=e.gl,i=this.geometryMask,o=e.maskCount;r.colorMask(!1,!1,!1,!1),n?(r.stencilFunc(r.EQUAL,o,255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,o+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),i.renderWebGL(e,i,t),e.flush(),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),n?this.invertAlpha?r.stencilFunc(r.NOTEQUAL,o+1,255):r.stencilFunc(r.EQUAL,o+1,255):this.invertAlpha?r.stencilFunc(r.NOTEQUAL,o,255):r.stencilFunc(r.EQUAL,o,255)},postRenderWebGL:function(e){var t=e.gl;e.maskStack.pop(),e.maskCount--,e.flush();var n=e.currentMask;if(0===e.maskStack.length)n.mask=null,t.disable(t.STENCIL_TEST);else{var r=e.maskStack[e.maskStack.length-1];r.mask.applyStencil(e,r.camera,!1),e.currentCameraMask.mask!==r.mask?(n.mask=r.mask,n.camera=r.camera):n.mask=null}},preRenderCanvas:function(e,t,n){var r=this.geometryMask;e.currentContext.save(),r.renderCanvas(e,r,n,null,null,!0),e.currentContext.clip()},postRenderCanvas:function(e){e.currentContext.restore()},destroy:function(){this.geometryMask=null}});e.exports=r},function(e,t){var n={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,t){return void 0===t&&(t=e),this.scrollFactorX=e,this.scrollFactorY=t,this}};e.exports=n},function(e,t,n){var r=n(14),i=n(25),o=n(177),a=n(269),s=n(270),u=n(3),l={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){this._scaleX=e,this._scaleY=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,0===e?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return s(this._rotation*r.RAD_TO_DEG)},set:function(e){this.rotation=s(e)*r.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=a(e)}},setPosition:function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=e),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e,this.y=t,this.z=n,this.w=r,this},copyPosition:function(e){return void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.z&&(this.z=e.z),void 0!==e.w&&(this.w=e.w),this},setRandomPosition:function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=this.scene.sys.scale.width),void 0===r&&(r=this.scene.sys.scale.height),this.x=e+Math.random()*n,this.y=t+Math.random()*r,this},setRotation:function(e){return void 0===e&&(e=0),this.rotation=e,this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,this},setScale:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.scaleX=e,this.scaleY=t,this},setX:function(e){return void 0===e&&(e=0),this.x=e,this},setY:function(e){return void 0===e&&(e=0),this.y=e,this},setZ:function(e){return void 0===e&&(e=0),this.z=e,this},setW:function(e){return void 0===e&&(e=0),this.w=e,this},getLocalTransformMatrix:function(e){return void 0===e&&(e=new i),e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(e,t){void 0===e&&(e=new i),void 0===t&&(t=new i);var n=this.parentContainer;if(!n)return this.getLocalTransformMatrix(e);for(e.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);n;)t.applyITRS(n.x,n.y,n._rotation,n._scaleX,n._scaleY),t.multiply(e,e),n=n.parentContainer;return e},getLocalPoint:function(e,t,n,r){n||(n=new u),r||(r=this.scene.sys.cameras.main);var i=r.scrollX,a=r.scrollY,s=e+i*this.scrollFactorX-i,l=t+a*this.scrollFactorY-a;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(s,l,n):o(s,l,this.x,this.y,this.rotation,this.scaleX,this.scaleY,n),this._originComponent&&(n.x+=this._displayOriginX,n.y+=this._displayOriginY),n},getParentRotation:function(){for(var e=0,t=this.parentContainer;t;)e+=t.rotation,t=t.parentContainer;return e}};e.exports=l},function(e,t){var n={_visible:!0,visible:{get:function(){return this._visible},set:function(e){e?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(e){return this.visible=e,this}};e.exports=n},function(e,t,n){e.exports={CHANGE_DATA:n(638),CHANGE_DATA_KEY:n(639),DESTROY:n(640),REMOVE_DATA:n(641),SET_DATA:n(642)}},function(e,t,n){var r=n(130),i=n(4);e.exports=function(e,t,n,o){if(void 0===o&&(o=[]),!t&&!n)return o;t?n=Math.round(r(e)/t):t=r(e)/n;for(var a=e.x,s=e.y,u=0,l=0;l<n;l++)switch(o.push(new i(a,s)),u){case 0:(a+=t)>=e.right&&(u=1,s+=a-e.right,a=e.right);break;case 1:(s+=t)>=e.bottom&&(u=2,a-=s-e.bottom,s=e.bottom);break;case 2:(a-=t)<=e.left&&(u=3,s-=e.left-a,a=e.left);break;case 3:(s-=t)<=e.top&&(u=0,s=e.top)}return o}},function(e,t){e.exports=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=[]);var r=Math.round(e.x1),i=Math.round(e.y1),o=Math.round(e.x2),a=Math.round(e.y2),s=Math.abs(o-r),u=Math.abs(a-i),l=r<o?1:-1,c=i<a?1:-1,h=s-u;n.push({x:r,y:i});for(var f=1;r!==o||i!==a;){var d=h<<1;d>-u&&(h-=u,r+=l),d<s&&(h+=s,i+=c),f%t===0&&n.push({x:r,y:i}),f++}return n}},function(e,t){e.exports=function(e,t,n){if(!t.length)return NaN;if(1===t.length)return t[0];var r,i,o=1;if(n){if(e<t[0][n])return t[0];for(;t[o][n]<e;)o++}else for(;t[o]<e;)o++;return o>t.length&&(o=t.length),n?(r=t[o-1][n],(i=t[o][n])-e<=e-r?t[o]:t[o-1]):(r=t[o-1],(i=t[o])-e<=e-r?i:r)}},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r,i){void 0===i&&(i=!1),this.textureKey=e,this.textureFrame=t,this.index=n,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=i},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});e.exports=r},function(e,t){e.exports=function(e){var t=/\D/g;return e.sort((function(e,n){return parseInt(e.replace(t,""),10)-parseInt(n.replace(t,""),10)})),e}},function(e,t,n){var r=n(185),i=n(0),o=n(102),a=n(9),s=n(132),u=n(22),l=n(2),c=n(6),h=n(186),f=n(322),d=new i({Extends:a,initialize:function(e){a.call(this),this.game=e,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",e.events.once(u.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(u.DESTROY,this.destroy,this)},addMix:function(e,t,n){var r=this.anims,i=this.mixes,o="string"===typeof e?e:e.key,a="string"===typeof t?t:t.key;if(r.has(o)&&r.has(a)){var s=i.get(o);s||(s={}),s[a]=n,i.set(o,s)}return this},removeMix:function(e,t){var n=this.mixes,r="string"===typeof e?e:e.key,i=n.get(r);if(i)if(t){var o="string"===typeof t?t:t.key;i.hasOwnProperty(o)&&delete i[o]}else t||n.delete(r);return this},getMix:function(e,t){var n=this.mixes,r="string"===typeof e?e:e.key,i="string"===typeof t?t:t.key,o=n.get(r);return o&&o.hasOwnProperty(i)?o[i]:0},add:function(e,t){return this.anims.has(e)?(console.warn("Animation key exists: "+e),this):(t.key=e,this.anims.set(e,t),this.emit(s.ADD_ANIMATION,e,t),this)},exists:function(e){return this.anims.has(e)},createFromAseprite:function(e,t){var n=[],r=this.game.cache.json.get(e);if(!r)return n;var i=this,o=c(r,"meta",null),a=c(r,"frames",null);return o&&a&&c(o,"frameTags",[]).forEach((function(r){var o=[],s=l(r,"name",null),u=l(r,"from",0),c=l(r,"to",0),h=l(r,"direction","forward");if(s&&(!t||t&&t.indexOf(s)>-1)){for(var f=[],d=Number.MAX_SAFE_INTEGER,p=u;p<=c;p++){var v=p.toString(),g=a[v];if(g){var m=l(g,"duration",Number.MAX_SAFE_INTEGER);m<d&&(d=m),f.push({frame:v,duration:m})}}f.forEach((function(t){o.push({key:e,frame:t.frame,duration:d-t.duration})}));var y=d*o.length;"reverse"===h&&(o=o.reverse());var x={key:s,frames:o,duration:y,yoyo:"pingpong"===h},b=i.create(x);b&&n.push(b)}})),n},create:function(e){var t=e.key,n=!1;return t&&((n=this.get(t))||(n=new r(this,t,e),this.anims.set(t,n),this.emit(s.ADD_ANIMATION,t,n))),n},fromJSON:function(e,t){void 0===t&&(t=!1),t&&this.anims.clear(),"string"===typeof e&&(e=JSON.parse(e));var n=[];if(e.hasOwnProperty("anims")&&Array.isArray(e.anims)){for(var r=0;r<e.anims.length;r++)n.push(this.create(e.anims[r]));e.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=e.globalTimeScale)}else e.hasOwnProperty("key")&&"frame"===e.type&&n.push(this.create(e));return n},generateFrameNames:function(e,t){var n,r=c(t,"prefix",""),i=c(t,"start",0),o=c(t,"end",0),a=c(t,"suffix",""),s=c(t,"zeroPad",0),u=c(t,"outputArray",[]),l=c(t,"frames",!1),d=this.textureManager.get(e);if(!d)return u;if(t)for(l||(l=f(i,o)),n=0;n<l.length;n++){var p=r+h(l[n],s,"0",1)+a;d.has(p)?u.push({key:e,frame:p}):console.warn("generateFrameNames: Frame missing: "+p+" from texture: "+e)}else for(l=d.getFrameNames(),n=0;n<l.length;n++)u.push({key:e,frame:l[n]});return u},generateFrameNumbers:function(e,t){var n=c(t,"start",0),r=c(t,"end",-1),i=c(t,"first",!1),o=c(t,"outputArray",[]),a=c(t,"frames",!1),s=this.textureManager.get(e);if(!s)return o;i&&s.has(i)&&o.push({key:e,frame:i}),a||(-1===r&&(r=s.frameTotal-2),a=f(n,r));for(var u=0;u<a.length;u++)s.has(a[u])?o.push({key:e,frame:a[u]}):console.warn("generateFrameNumbers: Frame "+u+" missing from texture: "+e);return o},get:function(e){return this.anims.get(e)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(e,t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)t[n].anims.play(e);return this},staggerPlay:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=!0),Array.isArray(t)||(t=[t]);var i=t.length;r||i--;for(var o=0;o<t.length;o++){var a=n<0?Math.abs(n)*(i-o):n*o;t[o].anims.playAfterDelay(e,a)}return this},remove:function(e){var t=this.get(e);return t&&(this.emit(s.REMOVE_ANIMATION,e,t),this.anims.delete(e),this.removeMix(e)),t},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(e){var t={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==e&&""!==e?t.anims.push(this.anims.get(e).toJSON()):this.anims.each((function(e,n){t.anims.push(n.toJSON())})),t},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});e.exports=d},function(e,t){e.exports=function(e,t,n,r){var i,o=[],a=!1;if((n||r)&&(a=!0,n||(n=""),r||(r="")),t<e)for(i=e;i>=t;i--)a?o.push(n+i.toString()+r):o.push(i);else for(i=e;i<=t;i++)a?o.push(n+i.toString()+r):o.push(i);return o}},function(e,t,n){var r=n(0),i=n(102),o=n(9),a=n(324),s=new r({initialize:function(){this.entries=new i,this.events=new o},add:function(e,t){return this.entries.set(e,t),this.events.emit(a.ADD,this,e,t),this},has:function(e){return this.entries.has(e)},exists:function(e){return this.entries.has(e)},get:function(e){return this.entries.get(e)},remove:function(e){var t=this.get(e);return t&&(this.entries.delete(e),this.events.emit(a.REMOVE,this,e,t.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});e.exports=s},function(e,t,n){e.exports={ADD:n(736),REMOVE:n(737)}},function(e,t,n){var r=n(323),i=n(0),o=n(22),a=new i({initialize:function(e){this.game=e,this.binary=new r,this.bitmapFont=new r,this.json=new r,this.physics=new r,this.shader=new r,this.audio=new r,this.video=new r,this.text=new r,this.html=new r,this.obj=new r,this.tilemap=new r,this.xml=new r,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(e){return this.custom.hasOwnProperty(e)||(this.custom[e]=new r),this.custom[e]},destroy:function(){for(var e=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],t=0;t<e.length;t++)this[e[t]].destroy(),this[e[t]]=null;for(var n in this.custom)this.custom[n].destroy();this.custom=null,this.game=null}});e.exports=a},function(e,t,n){var r=n(133),i=n(190),o=n(18),a=n(0),s=n(11),u=n(333),l=n(37),c=n(135),h=n(10),f=n(3),d=new a({Extends:r,Mixins:[s.Flip,s.Tint,s.Pipeline],initialize:function(e,t,n,i){r.call(this,e,t,n,i),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new u.Fade(this),this.flashEffect=new u.Flash(this),this.shakeEffect=new u.Shake(this),this.panEffect=new u.Pan(this),this.rotateToEffect=new u.RotateTo(this),this.zoomEffect=new u.Zoom(this),this.lerp=new f(1,1),this.followOffset=new f,this.deadzone=null,this._follow=null},setDeadzone:function(e,t){if(void 0===e)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=e,this.deadzone.height=t):this.deadzone=new h(0,0,e,t),this._follow){var n=this.width/2,r=this.height/2,o=this._follow.x-this.followOffset.x,a=this._follow.y-this.followOffset.y;this.midPoint.set(o,a),this.scrollX=o-n,this.scrollY=a-r}i(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(e,t,n,r,i,o){return this.fadeEffect.start(!1,e,t,n,r,!0,i,o)},fadeOut:function(e,t,n,r,i,o){return this.fadeEffect.start(!0,e,t,n,r,!0,i,o)},fadeFrom:function(e,t,n,r,i,o,a){return this.fadeEffect.start(!1,e,t,n,r,i,o,a)},fade:function(e,t,n,r,i,o,a){return this.fadeEffect.start(!0,e,t,n,r,i,o,a)},flash:function(e,t,n,r,i,o,a){return this.flashEffect.start(e,t,n,r,i,o,a)},shake:function(e,t,n,r,i){return this.shakeEffect.start(e,t,n,r,i)},pan:function(e,t,n,r,i,o,a){return this.panEffect.start(e,t,n,r,i,o,a)},rotateTo:function(e,t,n,r,i,o,a){return this.rotateToEffect.start(e,t,n,r,i,o,a)},zoomTo:function(e,t,n,r,i,o){return this.zoomEffect.start(e,t,n,r,i,o)},preRender:function(){this.renderList.length=0;var e=this.width,t=this.height,n=.5*e,r=.5*t,o=this.zoom,a=this.matrix,s=e*this.originX,u=t*this.originY,h=this._follow,f=this.deadzone,d=this.scrollX,p=this.scrollY;f&&i(f,this.midPoint.x,this.midPoint.y);var v=!1;if(h&&!this.panEffect.isRunning){var g=h.x-this.followOffset.x,m=h.y-this.followOffset.y;f?(g<f.x?d=c(d,d-(f.x-g),this.lerp.x):g>f.right&&(d=c(d,d+(g-f.right),this.lerp.x)),m<f.y?p=c(p,p-(f.y-m),this.lerp.y):m>f.bottom&&(p=c(p,p+(m-f.bottom),this.lerp.y))):(d=c(d,g-s,this.lerp.x),p=c(p,m-u,this.lerp.y)),v=!0}this.useBounds&&(d=this.clampX(d),p=this.clampY(p)),this.roundPixels&&(s=Math.round(s),u=Math.round(u),d=Math.round(d),p=Math.round(p)),this.scrollX=d,this.scrollY=p;var y=d+n,x=p+r;this.midPoint.set(y,x);var b=e/o,w=t/o,k=y-b/2,E=x-w/2;this.roundPixels&&(k=Math.round(k),E=Math.round(E)),this.worldView.setTo(k,E,b,w),a.applyITRS(this.x+s,this.y+u,this.rotation,o,o),a.translate(-s,-u),this.shakeEffect.preRender(),v&&this.emit(l.FOLLOW_UPDATE,this,h)},setLerp:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=e),this.lerp.set(e,t),this},setFollowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.followOffset.set(e,t),this},startFollow:function(e,t,n,r,i,a){void 0===t&&(t=!1),void 0===n&&(n=1),void 0===r&&(r=n),void 0===i&&(i=0),void 0===a&&(a=i),this._follow=e,this.roundPixels=t,n=o(n,0,1),r=o(r,0,1),this.lerp.set(n,r),this.followOffset.set(i,a);var s=this.width/2,u=this.height/2,l=e.x-i,c=e.y-a;return this.midPoint.set(l,c),this.scrollX=l-s,this.scrollY=c-u,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(e,t){this.visible&&(this.rotateToEffect.update(e,t),this.panEffect.update(e,t),this.zoomEffect.update(e,t),this.shakeEffect.update(e,t),this.flashEffect.update(e,t),this.fadeEffect.update(e,t))},destroy:function(){this.resetFX(),r.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});e.exports=d},function(e,t,n){var r=n(38);e.exports=function(e){var t=new r;e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n){var i=parseInt(n[1],16),o=parseInt(n[2],16),a=parseInt(n[3],16);t.setTo(i,o,a)}return t}},function(e,t){e.exports=function(e,t,n,r){return r<<24|e<<16|t<<8|n}},function(e,t){e.exports=function(e,t,n,r){void 0===r&&(r={h:0,s:0,v:0}),e/=255,t/=255,n/=255;var i=Math.min(e,t,n),o=Math.max(e,t,n),a=o-i,s=0,u=0===o?0:a/o,l=o;return o!==i&&(o===e?s=(t-n)/a+(t<n?6:0):o===t?s=(n-e)/a+2:o===n&&(s=(e-t)/a+4),s/=6),r.hasOwnProperty("_h")?(r._h=s,r._s=u,r._v=l):(r.h=s,r.s=u,r.v=l),r}},function(e,t){e.exports=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:255&e}:{a:255,r:e>>16&255,g:e>>8&255,b:255&e}}},function(e,t,n){var r=n(38);e.exports=function(e){return new r(e.r,e.g,e.b,e.a)}},function(e,t,n){var r=n(38);e.exports=function(e){var t=new r,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(e.toLowerCase());if(n){var i=parseInt(n[1],10),o=parseInt(n[2],10),a=parseInt(n[3],10),s=void 0!==n[4]?parseFloat(n[4]):1;t.setTo(i,o,a,255*s)}return t}},function(e,t,n){e.exports={Fade:n(761),Flash:n(762),Pan:n(763),Shake:n(796),RotateTo:n(797),Zoom:n(798)}},function(e,t,n){e.exports={In:n(764),Out:n(765),InOut:n(766)}},function(e,t,n){e.exports={In:n(767),Out:n(768),InOut:n(769)}},function(e,t,n){e.exports={In:n(770),Out:n(771),InOut:n(772)}},function(e,t,n){e.exports={In:n(773),Out:n(774),InOut:n(775)}},function(e,t,n){e.exports={In:n(776),Out:n(777),InOut:n(778)}},function(e,t,n){e.exports={In:n(779),Out:n(780),InOut:n(781)}},function(e,t,n){e.exports=n(782)},function(e,t,n){e.exports={In:n(783),Out:n(784),InOut:n(785)}},function(e,t,n){e.exports={In:n(786),Out:n(787),InOut:n(788)}},function(e,t,n){e.exports={In:n(789),Out:n(790),InOut:n(791)}},function(e,t,n){e.exports={In:n(792),Out:n(793),InOut:n(794)}},function(e,t,n){e.exports=n(795)},function(e,t,n){var r=n(0),i=n(33),o=n(347),a=n(2),s=n(6),u=n(7),l=n(193),c=n(1),h=n(197),f=n(187),d=new r({initialize:function(e){void 0===e&&(e={}),this.width=s(e,"width",1024),this.height=s(e,"height",768),this.zoom=s(e,"zoom",1),this.parent=s(e,"parent",void 0),this.scaleMode=s(e,"scaleMode",0),this.expandParent=s(e,"expandParent",!0),this.autoRound=s(e,"autoRound",!1),this.autoCenter=s(e,"autoCenter",0),this.resizeInterval=s(e,"resizeInterval",500),this.fullscreenTarget=s(e,"fullscreenTarget",null),this.minWidth=s(e,"minWidth",0),this.maxWidth=s(e,"maxWidth",0),this.minHeight=s(e,"minHeight",0),this.maxHeight=s(e,"maxHeight",0);var t=s(e,"scale",null);t&&(this.width=s(t,"width",this.width),this.height=s(t,"height",this.height),this.zoom=s(t,"zoom",this.zoom),this.parent=s(t,"parent",this.parent),this.scaleMode=s(t,"mode",this.scaleMode),this.expandParent=s(t,"expandParent",this.expandParent),this.autoRound=s(t,"autoRound",this.autoRound),this.autoCenter=s(t,"autoCenter",this.autoCenter),this.resizeInterval=s(t,"resizeInterval",this.resizeInterval),this.fullscreenTarget=s(t,"fullscreenTarget",this.fullscreenTarget),this.minWidth=s(t,"min.width",this.minWidth),this.maxWidth=s(t,"max.width",this.maxWidth),this.minHeight=s(t,"min.height",this.minHeight),this.maxHeight=s(t,"max.height",this.maxHeight)),this.renderType=s(e,"type",i.AUTO),this.canvas=s(e,"canvas",null),this.context=s(e,"context",null),this.canvasStyle=s(e,"canvasStyle",null),this.customEnvironment=s(e,"customEnvironment",!1),this.sceneConfig=s(e,"scene",null),this.seed=s(e,"seed",[(Date.now()*Math.random()).toString()]),l.RND=new l.RandomDataGenerator(this.seed),this.gameTitle=s(e,"title",""),this.gameURL=s(e,"url","https://phaser.io"),this.gameVersion=s(e,"version",""),this.autoFocus=s(e,"autoFocus",!0),this.domCreateContainer=s(e,"dom.createContainer",!1),this.domBehindCanvas=s(e,"dom.behindCanvas",!1),this.domPointerEvents=s(e,"dom.pointerEvents","none"),this.inputKeyboard=s(e,"input.keyboard",!0),this.inputKeyboardEventTarget=s(e,"input.keyboard.target",window),this.inputKeyboardCapture=s(e,"input.keyboard.capture",[]),this.inputMouse=s(e,"input.mouse",!0),this.inputMouseEventTarget=s(e,"input.mouse.target",null),this.inputMousePreventDefaultDown=s(e,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=s(e,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=s(e,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=s(e,"input.mouse.preventDefaultWheel",!0),this.inputTouch=s(e,"input.touch",o.input.touch),this.inputTouchEventTarget=s(e,"input.touch.target",null),this.inputTouchCapture=s(e,"input.touch.capture",!0),this.inputActivePointers=s(e,"input.activePointers",1),this.inputSmoothFactor=s(e,"input.smoothFactor",0),this.inputWindowEvents=s(e,"input.windowEvents",!0),this.inputGamepad=s(e,"input.gamepad",!1),this.inputGamepadEventTarget=s(e,"input.gamepad.target",window),this.disableContextMenu=s(e,"disableContextMenu",!1),this.audio=s(e,"audio",{}),this.hideBanner=!1===s(e,"banner",null),this.hidePhaser=s(e,"banner.hidePhaser",!1),this.bannerTextColor=s(e,"banner.text","#ffffff"),this.bannerBackgroundColor=s(e,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=s(e,"fps",null);var n=s(e,"render",e);this.pipeline=s(n,"pipeline",null),this.antialias=s(n,"antialias",!0),this.antialiasGL=s(n,"antialiasGL",!0),this.mipmapFilter=s(n,"mipmapFilter","LINEAR"),this.desynchronized=s(n,"desynchronized",!1),this.roundPixels=s(n,"roundPixels",!1),this.pixelArt=s(n,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=s(n,"transparent",!1),this.clearBeforeRender=s(n,"clearBeforeRender",!0),this.preserveDrawingBuffer=s(n,"preserveDrawingBuffer",!1),this.premultipliedAlpha=s(n,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=s(n,"failIfMajorPerformanceCaveat",!1),this.powerPreference=s(n,"powerPreference","default"),this.batchSize=s(n,"batchSize",4096),this.maxTextures=s(n,"maxTextures",-1),this.maxLights=s(n,"maxLights",10);var r=s(e,"backgroundColor",0);this.backgroundColor=f(r),this.transparent&&(this.backgroundColor=f(0),this.backgroundColor.alpha=0),this.preBoot=s(e,"callbacks.preBoot",c),this.postBoot=s(e,"callbacks.postBoot",c),this.physics=s(e,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1),this.loaderBaseURL=s(e,"loader.baseURL",""),this.loaderPath=s(e,"loader.path","");var d=o.os.android?6:32;this.loaderMaxParallelDownloads=s(e,"loader.maxParallelDownloads",d),this.loaderCrossOrigin=s(e,"loader.crossOrigin",void 0),this.loaderResponseType=s(e,"loader.responseType",""),this.loaderAsync=s(e,"loader.async",!0),this.loaderUser=s(e,"loader.user",""),this.loaderPassword=s(e,"loader.password",""),this.loaderTimeout=s(e,"loader.timeout",0),this.loaderWithCredentials=s(e,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var p=s(e,"plugins",null),v=h.DefaultScene;p&&(Array.isArray(p)?this.defaultPlugins=p:u(p)&&(this.installGlobalPlugins=a(p,"global",[]),this.installScenePlugins=a(p,"scene",[]),Array.isArray(p.default)?v=p.default:Array.isArray(p.defaultMerge)&&(v=v.concat(p.defaultMerge)))),this.defaultPlugins=v;var g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(e,"images.default",g+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(e,"images.missing",g+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=s(e,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=i.WEBGL:window.FORCE_CANVAS&&(this.renderType=i.CANVAS))}});e.exports=d},function(e,t,n){e.exports={os:n(105),browser:n(136),features:n(191),input:n(808),audio:n(809),video:n(810),fullscreen:n(811),canvasFeatures:n(348)}},function(e,t,n){var r=n(31),i={supportInverseAlpha:!1,supportNewBlendModes:!1};e.exports=("function"!==typeof importScripts&&void 0!==document&&(i.supportNewBlendModes=function(){var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",n=new Image;return n.onload=function(){var o=new Image;o.onload=function(){var e=r.create(o,6,1).getContext("2d");if(e.globalCompositeOperation="multiply",e.drawImage(n,0,0),e.drawImage(o,2,0),!e.getImageData(2,0,1,1))return!1;var t=e.getImageData(2,0,1,1).data;r.remove(o),i.supportNewBlendModes=255===t[0]&&0===t[1]&&0===t[2]},o.src=e+"/wCKxvRF"+t},n.src=e+"AP804Oa6"+t,!1}(),i.supportInverseAlpha=function(){var e=r.create(this,2,1).getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var t=e.getImageData(0,0,1,1);if(null===t)return!1;e.putImageData(t,1,0);var n=e.getImageData(1,0,1,1);return n.data[0]===t.data[0]&&n.data[1]===t.data[1]&&n.data[2]===t.data[2]&&n.data[3]===t.data[3]}()),i)},function(e,t){e.exports=function(e,t,n,r){return Math.atan2(r-t,n-e)}},function(e,t){e.exports=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}},function(e,t){e.exports=function(e){return(e%=2*Math.PI)>=0?e:e+2*Math.PI}},function(e,t){e.exports=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},function(e,t){e.exports=function(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}},function(e,t){e.exports=function(e,t,n){return void 0===n&&(n=1e-4),e>t-n}},function(e,t){e.exports=function(e,t,n){return void 0===n&&(n=1e-4),e<t+n}},function(e,t,n){var r=n(357);e.exports=function(e,t){return r(e)/r(t)/r(e-t)}},function(e,t){e.exports=function(e){if(0===e)return 1;for(var t=e;--e;)t*=e;return t}},function(e,t){e.exports=function(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}},function(e,t){e.exports=function(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}},function(e,t,n){var r=n(184);e.exports=function(e,t,n){return t+(n-t)*r(e,0,1)}},function(e,t){e.exports=function(e){var t=Math.log(e)/.6931471805599453;return 1<<Math.ceil(t)}},function(e,t){e.exports=function(e,t){var n=e.x,r=e.y;return e.x=n*Math.cos(t)-r*Math.sin(t),e.y=n*Math.sin(t)+r*Math.cos(t),e}},function(e,t){e.exports=function(e){return e>0?Math.ceil(e):Math.floor(e)}},function(e,t,n){var r=new(n(0))({initialize:function(e){this.val=new Float32Array(9),e?this.copy(e):this.identity()},clone:function(){return new r(this)},set:function(e){return this.copy(e)},copy:function(e){var t=this.val,n=e.val;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},fromMat4:function(e){var t=e.val,n=this.val;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[4],n[4]=t[5],n[5]=t[6],n[6]=t[8],n[7]=t[9],n[8]=t[10],this},fromArray:function(e){var t=this.val;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this},identity:function(){var e=this.val;return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,this},transpose:function(){var e=this.val,t=e[1],n=e[2],r=e[5];return e[1]=e[3],e[2]=e[6],e[3]=t,e[5]=e[7],e[6]=n,e[7]=r,this},invert:function(){var e=this.val,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=l*o-a*u,h=-l*i+a*s,f=u*i-o*s,d=t*c+n*h+r*f;return d?(d=1/d,e[0]=c*d,e[1]=(-l*n+r*u)*d,e[2]=(a*n-r*o)*d,e[3]=h*d,e[4]=(l*t-r*s)*d,e[5]=(-a*t+r*i)*d,e[6]=f*d,e[7]=(-u*t+n*s)*d,e[8]=(o*t-n*i)*d,this):null},adjoint:function(){var e=this.val,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return e[0]=o*l-a*u,e[1]=r*u-n*l,e[2]=n*a-r*o,e[3]=a*s-i*l,e[4]=t*l-r*s,e[5]=r*i-t*a,e[6]=i*u-o*s,e[7]=n*s-t*u,e[8]=t*o-n*i,this},determinant:function(){var e=this.val,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8];return t*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},multiply:function(e){var t=this.val,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=e.val,f=h[0],d=h[1],p=h[2],v=h[3],g=h[4],m=h[5],y=h[6],x=h[7],b=h[8];return t[0]=f*n+d*o+p*u,t[1]=f*r+d*a+p*l,t[2]=f*i+d*s+p*c,t[3]=v*n+g*o+m*u,t[4]=v*r+g*a+m*l,t[5]=v*i+g*s+m*c,t[6]=y*n+x*o+b*u,t[7]=y*r+x*a+b*l,t[8]=y*i+x*s+b*c,this},translate:function(e){var t=this.val,n=e.x,r=e.y;return t[6]=n*t[0]+r*t[3]+t[6],t[7]=n*t[1]+r*t[4]+t[7],t[8]=n*t[2]+r*t[5]+t[8],this},rotate:function(e){var t=this.val,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=Math.sin(e),l=Math.cos(e);return t[0]=l*n+u*o,t[1]=l*r+u*a,t[2]=l*i+u*s,t[3]=l*o-u*n,t[4]=l*a-u*r,t[5]=l*s-u*i,this},scale:function(e){var t=this.val,n=e.x,r=e.y;return t[0]=n*t[0],t[1]=n*t[1],t[2]=n*t[2],t[3]=r*t[3],t[4]=r*t[4],t[5]=r*t[5],this},fromQuat:function(e){var t=e.x,n=e.y,r=e.z,i=e.w,o=t+t,a=n+n,s=r+r,u=t*o,l=t*a,c=t*s,h=n*a,f=n*s,d=r*s,p=i*o,v=i*a,g=i*s,m=this.val;return m[0]=1-(h+d),m[3]=l+g,m[6]=c-v,m[1]=l-g,m[4]=1-(u+d),m[7]=f+p,m[2]=c+v,m[5]=f-p,m[8]=1-(u+h),this},normalFromMat4:function(e){var t=e.val,n=this.val,r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],d=t[10],p=t[11],v=t[12],g=t[13],m=t[14],y=t[15],x=r*u-i*s,b=r*l-o*s,w=r*c-a*s,k=i*l-o*u,E=i*c-a*u,_=o*c-a*l,T=h*g-f*v,A=h*m-d*v,S=h*y-p*v,C=f*m-d*g,I=f*y-p*g,P=d*y-p*m,O=x*P-b*I+w*C+k*S-E*A+_*T;return O?(O=1/O,n[0]=(u*P-l*I+c*C)*O,n[1]=(l*S-s*P-c*A)*O,n[2]=(s*I-u*S+c*T)*O,n[3]=(o*I-i*P-a*C)*O,n[4]=(r*P-o*S+a*A)*O,n[5]=(i*S-r*I-a*T)*O,n[6]=(g*_-m*E+y*k)*O,n[7]=(m*w-v*_-y*b)*O,n[8]=(v*E-g*w+y*x)*O,this):null}});e.exports=r},function(e,t,n){var r=n(0),i=n(364),o=n(1),a=n(39),s=1e-6,u=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),c=new a(1,0,0),h=new a(0,1,0),f=new a,d=new i,p=new r({initialize:function(e,t,n,r){this.onChangeCallback=o,this.set(e,t,n,r)},x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(e){this._w=e,this.onChangeCallback(this)}},copy:function(e){return this.set(e)},set:function(e,t,n,r,i){return void 0===i&&(i=!0),"object"===typeof e?(this._x=e.x||0,this._y=e.y||0,this._z=e.z||0,this._w=e.w||0):(this._x=e||0,this._y=t||0,this._z=n||0,this._w=r||0),i&&this.onChangeCallback(this),this},add:function(e){return this._x+=e.x,this._y+=e.y,this._z+=e.z,this._w+=e.w,this.onChangeCallback(this),this},subtract:function(e){return this._x-=e.x,this._y-=e.y,this._z-=e.z,this._w-=e.w,this.onChangeCallback(this),this},scale:function(e){return this._x*=e,this._y*=e,this._z*=e,this._w*=e,this.onChangeCallback(this),this},length:function(){var e=this.x,t=this.y,n=this.z,r=this.w;return Math.sqrt(e*e+t*t+n*n+r*r)},lengthSq:function(){var e=this.x,t=this.y,n=this.z,r=this.w;return e*e+t*t+n*n+r*r},normalize:function(){var e=this.x,t=this.y,n=this.z,r=this.w,i=e*e+t*t+n*n+r*r;return i>0&&(i=1/Math.sqrt(i),this._x=e*i,this._y=t*i,this._z=n*i,this._w=r*i),this.onChangeCallback(this),this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lerp:function(e,t){void 0===t&&(t=0);var n=this.x,r=this.y,i=this.z,o=this.w;return this.set(n+t*(e.x-n),r+t*(e.y-r),i+t*(e.z-i),o+t*(e.w-o))},rotationTo:function(e,t){var n=e.x*t.x+e.y*t.y+e.z*t.z;return n<-.999999?(f.copy(c).cross(e).length()<s&&f.copy(h).cross(e),f.normalize(),this.setAxisAngle(f,Math.PI)):n>.999999?this.set(0,0,0,1):(f.copy(e).cross(t),this._x=f.x,this._y=f.y,this._z=f.z,this._w=1+n,this.normalize())},setAxes:function(e,t,n){var r=d.val;return r[0]=t.x,r[3]=t.y,r[6]=t.z,r[1]=n.x,r[4]=n.y,r[7]=n.z,r[2]=-e.x,r[5]=-e.y,r[8]=-e.z,this.fromMat3(d).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(e,t){t*=.5;var n=Math.sin(t);return this.set(n*e.x,n*e.y,n*e.z,Math.cos(t))},multiply:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.x,a=e.y,s=e.z,u=e.w;return this.set(t*u+i*o+n*s-r*a,n*u+i*a+r*o-t*s,r*u+i*s+t*a-n*o,i*u-t*o-n*a-r*s)},slerp:function(e,t){var n=this.x,r=this.y,i=this.z,o=this.w,a=e.x,u=e.y,l=e.z,c=e.w,h=n*a+r*u+i*l+o*c;h<0&&(h=-h,a=-a,u=-u,l=-l,c=-c);var f=1-t,d=t;if(1-h>s){var p=Math.acos(h),v=Math.sin(p);f=Math.sin((1-t)*p)/v,d=Math.sin(t*p)/v}return this.set(f*n+d*a,f*r+d*u,f*i+d*l,f*o+d*c)},invert:function(){var e=this.x,t=this.y,n=this.z,r=this.w,i=e*e+t*t+n*n+r*r,o=i?1/i:0;return this.set(-e*o,-t*o,-n*o,r*o)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(e){e*=.5;var t=this.x,n=this.y,r=this.z,i=this.w,o=Math.sin(e),a=Math.cos(e);return this.set(t*a+i*o,n*a+r*o,r*a-n*o,i*a-t*o)},rotateY:function(e){e*=.5;var t=this.x,n=this.y,r=this.z,i=this.w,o=Math.sin(e),a=Math.cos(e);return this.set(t*a-r*o,n*a+i*o,r*a+t*o,i*a-n*o)},rotateZ:function(e){e*=.5;var t=this.x,n=this.y,r=this.z,i=this.w,o=Math.sin(e),a=Math.cos(e);return this.set(t*a+n*o,n*a-t*o,r*a+i*o,i*a-r*o)},calculateW:function(){var e=this.x,t=this.y,n=this.z;return this.w=-Math.sqrt(1-e*e-t*t-n*n),this},setFromEuler:function(e,t){var n=e.x/2,r=e.y/2,i=e.z/2,o=Math.cos(n),a=Math.cos(r),s=Math.cos(i),u=Math.sin(n),l=Math.sin(r),c=Math.sin(i);switch(e.order){case"XYZ":this.set(u*a*s+o*l*c,o*l*s-u*a*c,o*a*c+u*l*s,o*a*s-u*l*c,t);break;case"YXZ":this.set(u*a*s+o*l*c,o*l*s-u*a*c,o*a*c-u*l*s,o*a*s+u*l*c,t);break;case"ZXY":this.set(u*a*s-o*l*c,o*l*s+u*a*c,o*a*c+u*l*s,o*a*s-u*l*c,t);break;case"ZYX":this.set(u*a*s-o*l*c,o*l*s+u*a*c,o*a*c-u*l*s,o*a*s+u*l*c,t);break;case"YZX":this.set(u*a*s+o*l*c,o*l*s+u*a*c,o*a*c-u*l*s,o*a*s-u*l*c,t);break;case"XZY":this.set(u*a*s-o*l*c,o*l*s-u*a*c,o*a*c+u*l*s,o*a*s+u*l*c,t)}return this},setFromRotationMatrix:function(e){var t,n=e.val,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],l=n[2],c=n[6],h=n[10],f=r+s+h;return f>0?(t=.5/Math.sqrt(f+1),this.set((c-u)*t,(o-l)*t,(a-i)*t,.25/t)):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this.set(.25*t,(i+a)/t,(o+l)/t,(c-u)/t)):s>h?(t=2*Math.sqrt(1+s-r-h),this.set((i+a)/t,.25*t,(u+c)/t,(o-l)/t)):(t=2*Math.sqrt(1+h-r-s),this.set((o+l)/t,(u+c)/t,.25*t,(a-i)/t)),this},fromMat3:function(e){var t,n=e.val,r=n[0]+n[4]+n[8];if(r>0)t=Math.sqrt(r+1),this.w=.5*t,t=.5/t,this._x=(n[7]-n[5])*t,this._y=(n[2]-n[6])*t,this._z=(n[3]-n[1])*t;else{var i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);var o=u[i],a=u[o];t=Math.sqrt(n[3*i+i]-n[3*o+o]-n[3*a+a]+1),l[i]=.5*t,t=.5/t,l[o]=(n[3*o+i]+n[3*i+o])*t,l[a]=(n[3*a+i]+n[3*i+a])*t,this._x=l[0],this._y=l[1],this._z=l[2],this._w=(n[3*a+o]-n[3*o+a])*t}return this.onChangeCallback(this),this}});e.exports=p},function(e,t,n){var r=n(367),i=n(31),o=n(33),a=n(191);e.exports=function(e){var t=e.config;if((t.customEnvironment||t.canvas)&&t.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!t.customEnvironment&&!t.canvas&&t.renderType!==o.HEADLESS)if(t.renderType===o.CANVAS||t.renderType!==o.CANVAS&&!a.webGL){if(!a.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");t.renderType=o.CANVAS}else t.renderType=o.WEBGL;t.antialias||i.disableSmoothing();var s,u,l=e.scale.baseSize,c=l.width,h=l.height;t.canvas?(e.canvas=t.canvas,e.canvas.width=c,e.canvas.height=h):e.canvas=i.create(e,c,h,t.renderType),t.canvasStyle&&(e.canvas.style=t.canvasStyle),t.antialias||r.setCrisp(e.canvas),t.renderType!==o.HEADLESS&&(s=n(368),u=n(371),t.renderType===o.WEBGL?e.renderer=new u(e):(e.renderer=new s(e),e.context=e.renderer.gameContext))}},function(e,t){e.exports={setCrisp:function(e){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach((function(t){e.style["image-rendering"]=t})),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}}},function(e,t,n){var r=n(37),i=n(369),o=n(0),a=n(33),s=n(9),u=n(91),l=n(370),c=n(104),h=n(106),f=n(25),d=new o({Extends:s,initialize:function(e){s.call(this);var t=e.config;this.config={clearBeforeRender:t.clearBeforeRender,backgroundColor:t.backgroundColor,antialias:t.antialias,roundPixels:t.roundPixels},this.game=e,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=e.canvas;var n={alpha:e.config.transparent,desynchronized:e.config.desynchronized};this.gameContext=t.context?t.context:this.gameCanvas.getContext("2d",n),this.currentContext=this.gameContext,this.antialias=e.config.antialias,this.blendModes=l(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(h.READY,this.boot,this)},boot:function(){var e=this.game,t=e.scale.baseSize;this.width=t.width,this.height=t.height,this.isBooted=!0,e.scale.on(c.RESIZE,this.onResize,this),this.resize(t.width,t.height)},onResize:function(e,t){t.width===this.width&&t.height===this.height||this.resize(t.width,t.height)},resize:function(e,t){this.width=e,this.height=t,this.emit(u.RESIZE,e,t)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(e){return this.currentContext.globalCompositeOperation=e,this},setContext:function(e){return this.currentContext=e||this.gameContext,this},setAlpha:function(e){return this.currentContext.globalAlpha=e,this},preRender:function(){var e=this.gameContext,t=this.config,n=this.width,r=this.height;e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),t.clearBeforeRender&&(e.clearRect(0,0,n,r),t.transparent||(e.fillStyle=t.backgroundColor.rgba,e.fillRect(0,0,n,r))),e.save(),this.drawCount=0,this.emit(u.PRE_RENDER)},render:function(e,t,n){var i=t.length;this.emit(u.RENDER,e,n);var o=n.x,a=n.y,s=n.width,l=n.height,c=n.renderToTexture?n.context:e.sys.context;c.save(),this.game.scene.customViewports&&(c.beginPath(),c.rect(o,a,s,l),c.clip()),this.currentContext=c;var h=n.mask;h&&h.preRenderCanvas(this,null,n._maskCamera),n.transparent||(c.fillStyle=n.backgroundColor.rgba,c.fillRect(o,a,s,l)),c.globalAlpha=n.alpha,c.globalCompositeOperation="source-over",this.drawCount+=i,n.renderToTexture&&n.emit(r.PRE_RENDER,n),n.matrix.copyToContext(c);for(var f=0;f<i;f++){var d=t[f];d.mask&&d.mask.preRenderCanvas(this,d,n),d.renderCanvas(this,d,n),d.mask&&d.mask.postRenderCanvas(this,d,n)}c.setTransform(1,0,0,1,0,0),c.globalCompositeOperation="source-over",c.globalAlpha=1,n.flashEffect.postRenderCanvas(c),n.fadeEffect.postRenderCanvas(c),n.dirty=!1,h&&h.postRenderCanvas(this),c.restore(),n.renderToTexture&&(n.emit(r.POST_RENDER,n),n.renderToGame&&e.sys.context.drawImage(n.canvas,o,a))},postRender:function(){this.gameContext.restore(),this.emit(u.POST_RENDER);var e=this.snapshotState;e.callback&&(i(this.gameCanvas,e),e.callback=null)},snapshotCanvas:function(e,t,n,r,o,a,s,u,l){void 0===n&&(n=!1),this.snapshotArea(r,o,a,s,t,u,l);var c=this.snapshotState;return c.getPixel=n,i(this.canvas,c),c.callback=null,this},snapshot:function(e,t,n){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,e,t,n)},snapshotArea:function(e,t,n,r,i,o,a){var s=this.snapshotState;return s.callback=i,s.type=o,s.encoder=a,s.getPixel=!1,s.x=e,s.y=t,s.width=Math.min(n,this.gameCanvas.width),s.height=Math.min(r,this.gameCanvas.height),this},snapshotPixel:function(e,t,n){return this.snapshotArea(e,t,1,1,n),this.snapshotState.getPixel=!0,this},batchSprite:function(e,t,n,r){var i=n.alpha*e.alpha;if(0!==i){var o=this.currentContext,a=this._tempMatrix1,s=this._tempMatrix2,u=t.canvasData,l=u.x,c=u.y,h=t.cutWidth,f=t.cutHeight,d=t.customPivot,p=t.source.resolution,v=e.displayOriginX,g=e.displayOriginY,m=-v+t.x,y=-g+t.y;if(e.isCropped){var x=e._crop;x.flipX===e.flipX&&x.flipY===e.flipY||t.updateCropUVs(x,e.flipX,e.flipY),h=x.cw,f=x.ch,l=x.cx,c=x.cy,m=-v+x.x,y=-g+x.y,e.flipX&&(m>=0?m=-(m+h):m<0&&(m=Math.abs(m)-h)),e.flipY&&(y>=0?y=-(y+f):y<0&&(y=Math.abs(y)-f))}var b=1,w=1;e.flipX&&(d||(m+=-t.realWidth+2*v),b=-1),e.flipY&&(d||(y+=-t.realHeight+2*g),w=-1),s.applyITRS(e.x,e.y,e.rotation,e.scaleX*b,e.scaleY*w),a.copyFrom(n.matrix),r?(a.multiplyWithOffset(r,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),s.e=e.x,s.f=e.y):(s.e-=n.scrollX*e.scrollFactorX,s.f-=n.scrollY*e.scrollFactorY),a.multiply(s),o.save(),a.setToContext(o),o.globalCompositeOperation=this.blendModes[e.blendMode],o.globalAlpha=i,o.imageSmoothingEnabled=!(!this.antialias||t.source.scaleMode),e.mask&&e.mask.preRenderCanvas(this,e,n),o.drawImage(t.source.image,l,c,h,f,m,y,h/p,f/p),e.mask&&e.mask.postRenderCanvas(this,e,n),o.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});e.exports=d},function(e,t,n){var r=n(31),i=n(38),o=n(2);e.exports=function(e,t){var n=o(t,"callback"),a=o(t,"type","image/png"),s=o(t,"encoder",.92),u=Math.abs(Math.round(o(t,"x",0))),l=Math.abs(Math.round(o(t,"y",0))),c=o(t,"width",e.width),h=o(t,"height",e.height);if(o(t,"getPixel",!1)){var f=e.getContext("2d").getImageData(u,l,1,1).data;n.call(null,new i(f[0],f[1],f[2],f[3]/255))}else if(0!==u||0!==l||c!==e.width||h!==e.height){var d=r.createWebGL(this,c,h);d.getContext("2d").drawImage(e,u,l,c,h,0,0,c,h);var p=new Image;p.onerror=function(){n.call(null),r.remove(d)},p.onload=function(){n.call(null,p),r.remove(d)},p.src=d.toDataURL(a,s)}else{var v=new Image;v.onerror=function(){n.call(null)},v.onload=function(){n.call(null,v)},v.src=e.toDataURL(a,s)}}},function(e,t,n){var r=n(35),i=n(348);e.exports=function(){var e=[],t=i.supportNewBlendModes,n="source-over";return e[r.NORMAL]=n,e[r.ADD]="lighter",e[r.MULTIPLY]=t?"multiply":n,e[r.SCREEN]=t?"screen":n,e[r.OVERLAY]=t?"overlay":n,e[r.DARKEN]=t?"darken":n,e[r.LIGHTEN]=t?"lighten":n,e[r.COLOR_DODGE]=t?"color-dodge":n,e[r.COLOR_BURN]=t?"color-burn":n,e[r.HARD_LIGHT]=t?"hard-light":n,e[r.SOFT_LIGHT]=t?"soft-light":n,e[r.DIFFERENCE]=t?"difference":n,e[r.EXCLUSION]=t?"exclusion":n,e[r.HUE]=t?"hue":n,e[r.SATURATION]=t?"saturation":n,e[r.COLOR]=t?"color":n,e[r.LUMINOSITY]=t?"luminosity":n,e[r.ERASE]="destination-out",e[r.SOURCE_IN]="source-in",e[r.SOURCE_OUT]="source-out",e[r.SOURCE_ATOP]="source-atop",e[r.DESTINATION_OVER]="destination-over",e[r.DESTINATION_IN]="destination-in",e[r.DESTINATION_OUT]="destination-out",e[r.DESTINATION_ATOP]="destination-atop",e[r.LIGHTER]="lighter",e[r.COPY]="copy",e[r.XOR]="xor",e}},function(e,t,n){var r=n(93),i=n(37),o=n(0),a=n(33),s=n(9),u=n(91),l=n(22),c=n(138),h=n(69),f=n(1),d=n(372),p=n(141),v=n(104),g=n(106),m=n(12),y=n(383),x=new o({Extends:s,initialize:function(e){s.call(this);var t=e.config,n={alpha:t.transparent,desynchronized:t.desynchronized,depth:!1,antialias:t.antialiasGL,premultipliedAlpha:t.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:t.failIfMajorPerformanceCaveat,powerPreference:t.powerPreference,preserveDrawingBuffer:t.preserveDrawingBuffer};this.config={clearBeforeRender:t.clearBeforeRender,antialias:t.antialias,backgroundColor:t.backgroundColor,contextCreation:n,roundPixels:t.roundPixels,maxTextures:t.maxTextures,maxTextureSize:t.maxTextureSize,batchSize:t.batchSize,maxLights:t.maxLights,mipmapFilter:t.mipmapFilter},this.game=e,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=e.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=f,this.contextRestoredHandler=f,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(e){var t,n=this.game,r=this.canvas,i=e.backgroundColor;if(!(t=n.config.context?n.config.context:r.getContext("webgl",e.contextCreation)||r.getContext("experimental-webgl",e.contextCreation))||t.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=t;var o=this;this.contextLostHandler=function(e){o.contextLost=!0,o.game.events.emit(l.CONTEXT_LOST,o),e.preventDefault()},this.contextRestoredHandler=function(){o.contextLost=!1,o.init(o.config),o.game.events.emit(l.CONTEXT_RESTORED,o)},r.addEventListener("webglcontextlost",this.contextLostHandler,!1),r.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),n.context=t;for(var s=0;s<=27;s++)this.blendModes.push({func:[t.ONE,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_ADD});this.blendModes[1].func=[t.ONE,t.DST_ALPHA],this.blendModes[2].func=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[t.ONE,t.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[t.ZERO,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=t.BYTE,this.glFormats[1]=t.SHORT,this.glFormats[2]=t.UNSIGNED_BYTE,this.glFormats[3]=t.UNSIGNED_SHORT,this.glFormats[4]=t.FLOAT,this.glFuncMap={mat2:{func:t.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:t.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:t.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:t.uniform1f,length:1},"1fv":{func:t.uniform1fv,length:1},"1i":{func:t.uniform1i,length:1},"1iv":{func:t.uniform1iv,length:1},"2f":{func:t.uniform2f,length:2},"2fv":{func:t.uniform2fv,length:1},"2i":{func:t.uniform2i,length:2},"2iv":{func:t.uniform2iv,length:1},"3f":{func:t.uniform3f,length:3},"3fv":{func:t.uniform3fv,length:1},"3i":{func:t.uniform3i,length:3},"3iv":{func:t.uniform3iv,length:1},"4f":{func:t.uniform4f,length:4},"4fv":{func:t.uniform4fv,length:1},"4i":{func:t.uniform4i,length:4},"4iv":{func:t.uniform4iv,length:1}};var u=t.getSupportedExtensions();e.maxTextures&&-1!==e.maxTextures||(e.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),e.maxTextureSize||(e.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE));var c="WEBGL_compressed_texture_",f="WEBKIT_"+c;this.compression.ETC1=t.getExtension(c+"etc1")||t.getExtension(f+"etc1"),this.compression.PVRTC=t.getExtension(c+"pvrtc")||t.getExtension(f+"pvrtc"),this.compression.S3TC=t.getExtension(c+"s3tc")||t.getExtension(f+"s3tc"),this.supportedExtensions=u;var p="ANGLE_instanced_arrays";this.instancedArraysExtension=u.indexOf(p)>-1?t.getExtension(p):null;var v="OES_vertex_array_object";this.vaoExtension=u.indexOf(v)>-1?t.getExtension(v):null,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.clearColor(i.redGL,i.greenGL,i.blueGL,i.alphaGL),this.mipmapFilter=t[e.mipmapFilter],this.maxTextures=m.checkShaderMax(t,e.maxTextures),this.textureIndexes=[];var y=this.tempTextures;if(Array.isArray(y))for(var x=0;s<this.maxTextures;x++)t.deleteTexture(y[x]);else y=new Array(this.maxTextures);for(var b=0;b<this.maxTextures;b++){var w=t.createTexture();t.activeTexture(t.TEXTURE0+b),t.bindTexture(t.TEXTURE_2D,w),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),y[b]=w,this.textureIndexes.push(b)}return this.tempTextures=y,this.currentActiveTexture=1,this.startActiveTexture++,t.activeTexture(t.TEXTURE1),this.pipelines=new d(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=(new h).identity(),n.textures.once(g.READY,this.boot,this),this},boot:function(){var e=this.game,t=this.pipelines,n=e.scale.baseSize;this.width=n.width,this.height=n.height,this.isBooted=!0,this.renderTarget=new p(this,this.width,this.height,1,0,!0,!0),t.boot(e.config.pipeline),this.blankTexture=e.textures.getFrame("__DEFAULT"),this.whiteTexture=e.textures.getFrame("__WHITE");var r=this.gl;r.bindFramebuffer(r.FRAMEBUFFER,null),r.enable(r.SCISSOR_TEST),e.scale.on(v.RESIZE,this.onResize,this),this.resize(n.width,n.height)},onResize:function(e,t){t.width===this.width&&t.height===this.height||this.resize(t.width,t.height)},beginCapture:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.renderTarget.bind(!0,e,t),this.setProjectionMatrix(e,t),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(e,t){var n=this.gl;return this.width=e,this.height=t,this.setProjectionMatrix(e,t),n.viewport(0,0,e,t),this.drawingBufferHeight=n.drawingBufferHeight,n.scissor(0,n.drawingBufferHeight-t,e,t),this.defaultScissor[2]=e,this.defaultScissor[3]=t,this.emit(u.RESIZE,e,t),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(e,t){return e===this.projectionWidth&&t===this.projectionHeight||(this.projectionWidth=e,this.projectionHeight=t,this.projectionMatrix.ortho(0,e,t,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(e){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(e)},getExtension:function(e){return this.hasExtension(e)?(e in this.extensions||(this.extensions[e]=this.gl.getExtension(e)),this.extensions[e]):null},flush:function(){this.pipelines.flush()},pushScissor:function(e,t,n,r,i){void 0===i&&(i=this.drawingBufferHeight);var o=[e,t,n,r];return this.scissorStack.push(o),this.setScissor(e,t,n,r,i),this.currentScissor=o,o},setScissor:function(e,t,n,r,i){void 0===i&&(i=this.drawingBufferHeight);var o=this.gl,a=this.currentScissor,s=n>0&&r>0;if(a&&s){var u=a[0],l=a[1],c=a[2],h=a[3];s=u!==e||l!==t||c!==n||h!==r}s&&(this.flush(),o.scissor(e,i-t-r,n,r))},resetScissor:function(){var e=this.gl;e.enable(e.SCISSOR_TEST);var t=this.currentScissor;if(t){var n=t[0],r=t[1],i=t[2],o=t[3];i>0&&o>0&&e.scissor(n,this.drawingBufferHeight-r-o,i,o)}},popScissor:function(){var e=this.scissorStack;e.pop();var t=e[e.length-1];t&&this.setScissor(t[0],t[1],t[2],t[3]),this.currentScissor=t},hasActiveStencilMask:function(){var e=this.currentMask.mask,t=this.currentCameraMask.mask;return e&&e.isStencil||t&&t.isStencil},resetViewport:function(){var e=this.gl;e.viewport(0,0,this.width,this.height),this.drawingBufferHeight=e.drawingBufferHeight},setBlendMode:function(e,t){void 0===t&&(t=!1);var n=this.gl,r=this.blendModes[e];return!!(t||e!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==e)&&(this.flush(),n.enable(n.BLEND),n.blendEquation(r.equation),r.func.length>2?n.blendFuncSeparate(r.func[0],r.func[1],r.func[2],r.func[3]):n.blendFunc(r.func[0],r.func[1]),this.currentBlendMode=e,!0)},addBlendMode:function(e,t){return this.blendModes.push({func:e,equation:t})-1},updateBlendMode:function(e,t,n){return this.blendModes[e]&&(this.blendModes[e].func=t,n&&(this.blendModes[e].equation=n)),this},removeBlendMode:function(e){return e>17&&this.blendModes[e]&&this.blendModes.splice(e,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(e){if(this.pipelines.forceZero())return this.setTextureZero(e.glTexture,!0),0;var t=this.gl,n=this.currentActiveTexture;return e.glIndexCounter<this.startActiveTexture&&(e.glIndexCounter=this.startActiveTexture,n<this.maxTextures?(e.glIndex=n,t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,e.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,e.glIndexCounter=this.startActiveTexture,e.glIndex=1,t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,e.glIndex},isNewNormalMap:function(e,t){return this.textureZero!==e||this.normalTexture!==t},setTextureZero:function(e,t){if(this.textureZero!==e){t&&this.flush();var n=this.gl;n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),this.textureZero=e}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(e){if(this.normalTexture!==e){var t=this.gl;t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),this.normalTexture=e,1===this.currentActiveTexture&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var e=this.gl,t=this.tempTextures,n=0;n<t.length;n++)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(e){if(void 0===e&&(e=!1),!this.isTextureClean){this.flush();var t=this.gl,n=this.tempTextures;if(e){for(var r=0;r<n.length;r++)t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,n[r]);t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,n[1]),this.isTextureClean=!0}else t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n[0]),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,n[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(e){if(this.pipelines.forceZero())return this.setTextureZero(e,!0),0;var t=this.gl,n=this.currentActiveTexture;return e.glIndexCounter<this.startActiveTexture&&(e.glIndexCounter=this.startActiveTexture,n<this.maxTextures?(e.glIndex=n,t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,e),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,e.glIndexCounter=this.startActiveTexture,e.glIndex=1,t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,e),this.currentActiveTexture=2)),this.isTextureClean=!1,e.glIndex},pushFramebuffer:function(e,t,n,r){return e===this.currentFramebuffer?this:(this.fboStack.push(e),this.setFramebuffer(e,t,n,r))},setFramebuffer:function(e,t,n,r){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),e===this.currentFramebuffer)return this;var i=this.gl,o=this.width,a=this.height;return e&&e.renderTexture&&r?(o=e.renderTexture.width,a=e.renderTexture.height):this.flush(),i.bindFramebuffer(i.FRAMEBUFFER,e),r&&i.viewport(0,0,o,a),t&&(e?(this.drawingBufferHeight=a,this.pushScissor(0,0,o,a)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=e,n&&this.resetTextures(),this},popFramebuffer:function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!0);var r=this.fboStack;r.pop();var i=r[r.length-1];return i||(i=null),this.setFramebuffer(i,e,t,n),i},setProgram:function(e){return e!==this.currentProgram&&(this.flush(),this.gl.useProgram(e),this.currentProgram=e,!0)},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(e,t,n,r){var i=this.gl,o=i.NEAREST,s=i.NEAREST,u=i.CLAMP_TO_EDGE;t=e?e.width:t,n=e?e.height:n;var l=c(t,n);return l&&(u=i.REPEAT),r===a.ScaleModes.LINEAR&&this.config.antialias&&(o=l?this.mipmapFilter:i.LINEAR,s=i.LINEAR),e||"number"!==typeof t||"number"!==typeof n?this.createTexture2D(0,o,s,u,u,i.RGBA,e):this.createTexture2D(0,o,s,u,u,i.RGBA,null,t,n)},createTexture2D:function(e,t,n,r,i,o,a,s,u,l,h,f){l=void 0===l||null===l||l,void 0===h&&(h=!1),void 0===f&&(f=!1);var d=this.gl,p=d.createTexture();d.activeTexture(d.TEXTURE0);var v=d.getParameter(d.TEXTURE_BINDING_2D);return d.bindTexture(d.TEXTURE_2D,p),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,t),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,n),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,i),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,r),d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,f),null===a||void 0===a?d.texImage2D(d.TEXTURE_2D,e,o,s,u,0,o,d.UNSIGNED_BYTE,null):(h||(s=a.width,u=a.height),d.texImage2D(d.TEXTURE_2D,e,o,o,d.UNSIGNED_BYTE,a)),c(s,u)&&d.generateMipmap(d.TEXTURE_2D),v&&d.bindTexture(d.TEXTURE_2D,v),p.isAlphaPremultiplied=l,p.isRenderTexture=!1,p.width=s,p.height=u,p.glIndex=0,p.glIndexCounter=-1,p},createFramebuffer:function(e,t,n,r){var i,o=this.gl,a=o.createFramebuffer();if(this.setFramebuffer(a),r){var s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,e,t),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}if(n.isRenderTexture=!0,n.isAlphaPremultiplied=!1,o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,n,0),(i=o.checkFramebufferStatus(o.FRAMEBUFFER))!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[i]);return a.renderTexture=n,this.setFramebuffer(null),this.resetTextures(),a},createProgram:function(e,t){var n=this.gl,r=n.createProgram(),i=n.createShader(n.VERTEX_SHADER),o=n.createShader(n.FRAGMENT_SHADER);if(n.shaderSource(i,e),n.shaderSource(o,t),n.compileShader(i),n.compileShader(o),!n.getShaderParameter(i,n.COMPILE_STATUS))throw new Error("Vertex Shader failed:\n"+n.getShaderInfoLog(i));if(!n.getShaderParameter(o,n.COMPILE_STATUS))throw new Error("Fragment Shader failed:\n"+n.getShaderInfoLog(o));if(n.attachShader(r,i),n.attachShader(r,o),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS))throw new Error("Link Program failed:\n"+n.getProgramInfoLog(r));return n.useProgram(r),r},createVertexBuffer:function(e,t){var n=this.gl,r=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,e,t),n.bindBuffer(n.ARRAY_BUFFER,null),r},createIndexBuffer:function(e,t){var n=this.gl,r=n.createBuffer();return n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e,t),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),r},deleteTexture:function(e,t){return t&&this.resetTextures(!0),e&&this.gl.deleteTexture(e),this},deleteFramebuffer:function(e){return e&&(this.gl.deleteFramebuffer(e),r(this.fboStack,e),this.currentFramebuffer===e&&(this.currentFramebuffer=null)),this},deleteProgram:function(e){return e&&this.gl.deleteProgram(e),this},deleteBuffer:function(e){return this.gl.deleteBuffer(e),this},preRenderCamera:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.backgroundColor;e.emit(i.PRE_RENDER,e),this.pipelines.preBatchCamera(e),this.pushScissor(t,n,r,o),e.mask&&(this.currentCameraMask.mask=e.mask,this.currentCameraMask.camera=e._maskCamera,e.mask.preRenderWebGL(this,e,e._maskCamera)),a.alphaGL>0&&this.pipelines.setMulti().drawFillRect(t,n,r,o,m.getTintFromFloats(a.blueGL,a.greenGL,a.redGL,1),a.alphaGL)},getCurrentStencilMask:function(){var e=null,t=this.maskStack,n=this.currentCameraMask;return t.length>0?e=t[t.length-1]:n.mask&&n.mask.isStencil&&(e=n),e},postRenderCamera:function(e){var t=e.flashEffect,n=e.fadeEffect;if(t.isRunning||n.isRunning||n.isComplete){var r=this.pipelines.setMulti();t.postRenderWebGL(r,m.getTintFromFloats),n.postRenderWebGL(r,m.getTintFromFloats)}e.dirty=!1,this.popScissor(),e.mask&&(this.currentCameraMask.mask=null,e.mask.postRenderWebGL(this,e._maskCamera)),this.pipelines.postBatchCamera(e),e.emit(i.POST_RENDER,e)},preRender:function(){if(!this.contextLost){var e=this.gl;if(e.bindFramebuffer(e.FRAMEBUFFER,null),this.config.clearBeforeRender){var t=this.config.backgroundColor;e.clearColor(t.redGL,t.greenGL,t.blueGL,t.alphaGL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)}e.enable(e.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&e.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(u.PRE_RENDER)}},render:function(e,t,n){if(!this.contextLost){var r=t.length;if(this.emit(u.RENDER,e,n),this.preRenderCamera(n),0===r)return this.setBlendMode(a.BlendModes.NORMAL),void this.postRenderCamera(n);this.currentType="";for(var i=this.currentMask,o=0;o<r;o++){this.finalType=o===r-1;var s=t[o],l=s.mask;(i=this.currentMask).mask&&i.mask!==l&&i.mask.postRenderWebGL(this,i.camera),l&&i.mask!==l&&l.preRenderWebGL(this,s,n),s.blendMode!==this.currentBlendMode&&this.setBlendMode(s.blendMode);var c=s.type;c!==this.currentType&&(this.newType=!0,this.currentType=c),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=t[o+1].type===this.currentType,s.renderWebGL(this,s,n),this.newType=!1}(i=this.currentMask).mask&&i.mask.postRenderWebGL(this,i.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(n)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(u.POST_RENDER);var e=this.snapshotState;e.callback&&(y(this.canvas,e),e.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(e,t,n){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,e,t,n)},snapshotArea:function(e,t,n,r,i,o,a){var s=this.snapshotState;return s.callback=i,s.type=o,s.encoder=a,s.getPixel=!1,s.x=e,s.y=t,s.width=Math.min(n,this.gl.drawingBufferWidth),s.height=Math.min(r,this.gl.drawingBufferHeight),this},snapshotPixel:function(e,t,n){return this.snapshotArea(e,t,1,1,n),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(e,t,n,r,i,o,a,s,u,l,c){void 0===i&&(i=!1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=t),void 0===u&&(u=n);var h=this.currentFramebuffer;this.snapshotArea(o,a,s,u,r,l,c);var f=this.snapshotState;return f.getPixel=i,f.isFramebuffer=!0,f.bufferWidth=t,f.bufferHeight=n,this.setFramebuffer(e),y(this.canvas,f),this.setFramebuffer(h),f.callback=null,f.isFramebuffer=!1,this},canvasToTexture:function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),t?this.updateCanvasTexture(e,t,r):this.createCanvasTexture(e,n,r)},createCanvasTexture:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.gl,i=r.NEAREST,o=r.NEAREST,a=e.width,s=e.height,u=r.CLAMP_TO_EDGE,l=c(a,s);return!t&&l&&(u=r.REPEAT),this.config.antialias&&(i=l?this.mipmapFilter:r.LINEAR,o=r.LINEAR),this.createTexture2D(0,i,o,u,u,r.RGBA,e,a,s,!0,!1,n)},updateCanvasTexture:function(e,t,n){void 0===n&&(n=!1);var r=this.gl,i=e.width,o=e.height;if(i>0&&o>0){r.activeTexture(r.TEXTURE0);var a=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,t),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,n),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.width=i,t.height=o,a&&r.bindTexture(r.TEXTURE_2D,a)}return t},createVideoTexture:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=this.gl,i=r.NEAREST,o=r.NEAREST,a=e.videoWidth,s=e.videoHeight,u=r.CLAMP_TO_EDGE,l=c(a,s);return!t&&l&&(u=r.REPEAT),this.config.antialias&&(i=l?this.mipmapFilter:r.LINEAR,o=r.LINEAR),this.createTexture2D(0,i,o,u,u,r.RGBA,e,a,s,!0,!0,n)},updateVideoTexture:function(e,t,n){void 0===n&&(n=!1);var r=this.gl,i=e.videoWidth,o=e.videoHeight;if(i>0&&o>0){r.activeTexture(r.TEXTURE0);var a=r.getParameter(r.TEXTURE_BINDING_2D);r.bindTexture(r.TEXTURE_2D,t),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,n),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),t.width=i,t.height=o,a&&r.bindTexture(r.TEXTURE_2D,a)}return t},setTextureFilter:function(e,t){var n=this.gl,r=[n.LINEAR,n.NEAREST][t];n.activeTexture(n.TEXTURE0);var i=n.getParameter(n.TEXTURE_BINDING_2D);return n.bindTexture(n.TEXTURE_2D,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,r),i&&n.bindTexture(n.TEXTURE_2D,i),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var e=this.gl,t=this.tempTextures,n=0;n<t.length;n++)e.deleteTexture(t[n]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});e.exports=x},function(e,t,n){var r=n(0),i=n(92),o=n(102),a=n(373),s=n(376),u=n(377),l=n(108),c=n(378),h=n(379),f=n(380),d=n(381),p=new r({initialize:function(e){this.game=e.game,this.renderer=e,this.classes=new o([[i.UTILITY_PIPELINE,d],[i.MULTI_PIPELINE,l],[i.BITMAPMASK_PIPELINE,a],[i.SINGLE_PIPELINE,f],[i.ROPE_PIPELINE,h],[i.LIGHT_PIPELINE,u],[i.POINTLIGHT_PIPELINE,c],[i.GRAPHICS_PIPELINE,s]]),this.postPipelineClasses=new o,this.pipelines=new o,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(e){var t,n,r=this,o=this.game;if(this.classes.each((function(e,n){t=r.add(e,new n({game:o})),e===i.UTILITY_PIPELINE&&(r.UTILITY_PIPELINE=t,r.fullFrame1=t.fullFrame1,r.fullFrame2=t.fullFrame2,r.halfFrame1=t.halfFrame1,r.halfFrame2=t.halfFrame2)})),this.MULTI_PIPELINE=this.get(i.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(i.BITMAPMASK_PIPELINE),e)for(n in e){var a=e[n];(t=new a(o)).isPostFX?this.postPipelineClasses.set(n,a):this.has(n)||(this.classes.set(n,a),this.add(n,t))}},add:function(e,t){if(!t.isPostFX){var n=this.pipelines,r=this.renderer;return n.has(e)?console.warn("Pipeline exists: "+e):(t.name=e,t.manager=this,n.set(e,t)),t.hasBooted||t.boot(),0!==r.width&&0!==r.height&&t.resize(r.width,r.height),t}console.warn(e+" is a Post Pipeline. Use `addPostPipeline` instead")},addPostPipeline:function(e,t){this.postPipelineClasses.has(e)||this.postPipelineClasses.set(e,t)},flush:function(){this.current&&this.current.flush()},has:function(e){var t=this.pipelines;return"string"===typeof e?t.has(e):!!t.contains(e)},get:function(e){var t=this.pipelines;return"string"===typeof e?t.get(e):t.contains(e)?e:void 0},getPostPipeline:function(e,t){var n,r=this.postPipelineClasses;if("string"===typeof e?n=r.get(e):"function"===typeof e?r.contains(e)&&(n=e):"object"===typeof e&&(n=r.get(e.name)),n){var i=new n(this.game);return t&&(i.gameObject=t),i}},remove:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),this.pipelines.delete(e),t&&this.classes.delete(e),n&&this.postPipelineClasses.delete(e)},set:function(e,t,n){if(!e.isPostFX)return this.isCurrent(e,n)||(this.flush(),this.current&&this.current.unbind(),this.current=e,e.bind(n)),e.updateProjectionMatrix(),e.onBind(t),e},preBatch:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,n=t.length-1;n>=0;n--){var r=t[n];r.active&&r.preBatch(e)}}},postBatch:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,n=0;n<t.length;n++){var r=t[n];r.active&&r.postBatch(e)}}},preBatchCamera:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,n=t.length-1;n>=0;n--){var r=t[n];r.active&&r.preBatch(e)}}},postBatchCamera:function(e){if(e.hasPostPipeline){this.flush();for(var t=e.postPipelines,n=0;n<t.length;n++){var r=t[n];r.active&&r.postBatch(e)}}},isCurrent:function(e,t){var n=this.renderer,r=this.current;return r&&!t&&(t=r.currentShader),!(r!==e||t.program!==n.currentProgram)},copyFrame:function(e,t,n,r,i){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(e,t,n,r,i),this},copyToGame:function(e){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(e),this},drawFrame:function(e,t,n,r){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(e,t,n,r),this},blendFrames:function(e,t,n,r,i){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(e,t,n,r,i),this},blendFramesAdditive:function(e,t,n,r,i){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(e,t,n,r,i),this},clearFrame:function(e,t){return this.UTILITY_PIPELINE.clearFrame(e,t),this},blitFrame:function(e,t,n,r,i,o){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(e,t,n,r,i,o),this},copyFrameRect:function(e,t,n,r,i,o,a,s){return this.UTILITY_PIPELINE.copyFrameRect(e,t,n,r,i,o,a,s),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(e){return this.UTILITY_PIPELINE.bind(e)},rebind:function(e){void 0===e&&this.previous&&(e=this.previous);var t=this.renderer,n=t.gl;n.disable(n.DEPTH_TEST),n.disable(n.CULL_FACE),t.hasActiveStencilMask()?n.clear(n.DEPTH_BUFFER_BIT):(n.disable(n.STENCIL_TEST),n.clear(n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT)),n.viewport(0,0,t.width,t.height),t.currentProgram=null,t.setBlendMode(0,!0);var r=this.pipelines.entries;for(var i in r)r[i].glReset=!0;e&&(this.current=e,e.rebind()),t.resetTextures()},clear:function(){var e=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,e.currentProgram=null,e.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});e.exports=p},function(e,t,n){var r=n(0),i=n(2),o=n(866),a=n(867),s=n(107),u=n(58),l=new r({Extends:u,initialize:function(e){e.fragShader=i(e,"fragShader",o),e.vertShader=i(e,"vertShader",a),e.batchSize=i(e,"batchSize",1),e.vertices=i(e,"vertices",[-1,1,-1,-7,7,1]),e.attributes=i(e,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),u.call(this,e)},boot:function(){u.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(e,t){u.prototype.resize.call(this,e,t),this.set2f("uResolution",e,t)},beginMask:function(e,t,n){var r=this.gl;if(e.bitmapMask&&r){var i=this.renderer;i.flush(),i.pushFramebuffer(e.mainFramebuffer),r.disable(r.STENCIL_TEST),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),i.currentCameraMask.mask!==e&&(i.currentMask.mask=e,i.currentMask.camera=n)}},endMask:function(e,t){var n=this.gl,r=this.renderer,i=e.bitmapMask;if(i&&n){r.flush(),r.pushFramebuffer(e.maskFramebuffer),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),r.setBlendMode(0,!0),i.renderWebGL(r,i,t),r.flush(),r.popFramebuffer(),r.popFramebuffer();var o=r.getCurrentStencilMask();o?(n.enable(n.STENCIL_TEST),o.mask.applyStencil(r,o.camera,!0)):r.currentMask.mask=null,r.pipelines.set(this),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,e.maskTexture),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.mainTexture),this.set1i("uInvertMaskAlpha",e.invertAlpha),n.drawArrays(this.topology,0,3),r.resetTextures()}}});e.exports=l},function(e,t,n){e.exports={AFTER_FLUSH:n(868),BEFORE_FLUSH:n(869),BIND:n(870),BOOT:n(871),DESTROY:n(872),REBIND:n(873),RESIZE:n(874)}},function(e,t,n){var r=n(0),i=n(2),o=n(107),a=new r({initialize:function(e,t,n,r,i){this.pipeline=e,this.name=t,this.renderer=e.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(n,r),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(i),this.createUniforms()},createAttributes:function(e){var t=0,n=0,r=[];this.vertexComponentCount=0;for(var a=0;a<e.length;a++){var s=e[a],u=s.name,l=i(s,"size",1),c=i(s,"type",o.FLOAT),h=c.enum,f=c.size,d=!!s.normalized;r.push({name:u,size:l,type:h,normalized:d,offset:n,enabled:!1,location:-1}),4===f?t+=l:t++,n+=l*f}this.vertexSize=n,this.vertexComponentCount=t,this.attributes=r},bind:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),t&&this.pipeline.flush(),this.renderer.setProgram(this.program),e&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(e){void 0===e&&(e=!1);for(var t=this.gl,n=this.vertexSize,r=this.attributes,i=this.program,o=0;o<r.length;o++){var a=r[o],s=a.size,u=a.type,l=a.offset,c=a.enabled,h=a.location,f=!!a.normalized;if(e){var d=t.getAttribLocation(i,a.name);d>=0?(t.enableVertexAttribArray(d),t.vertexAttribPointer(d,s,u,f,n,l),a.enabled=!0,a.location=d):-1!==d&&t.disableVertexAttribArray(d)}else c?t.vertexAttribPointer(h,s,u,f,n,l):!c&&h>-1&&(t.disableVertexAttribArray(h),a.location=-1)}return this},createUniforms:function(){var e,t,n,r=this.gl,i=this.program,o=this.uniforms,a=r.getProgramParameter(i,r.ACTIVE_UNIFORMS);for(e=0;e<a;e++){var s=r.getActiveUniform(i,e);if(s){t=s.name,null!==(n=r.getUniformLocation(i,t))&&(o[t]={name:t,location:n,value1:null,value2:null,value3:null,value4:null});var u=t.indexOf("[");u>0&&(t=t.substr(0,u),o.hasOwnProperty(t)||null!==(n=r.getUniformLocation(i,t))&&(o[t]={name:t,location:n,value1:null,value2:null,value3:null,value4:null}))}}return this},hasUniform:function(e){return this.uniforms.hasOwnProperty(e)},resetUniform:function(e){var t=this.uniforms[e];return t&&(t.value1=null,t.value2=null,t.value3=null,t.value4=null),this},setUniform1:function(e,t,n,r){var i=this.uniforms[t];return i?((r||i.value1!==n)&&(i.value1=n,this.renderer.setProgram(this.program),e.call(this.gl,i.location,n),this.pipeline.currentShader=this),this):this},setUniform2:function(e,t,n,r,i){var o=this.uniforms[t];return o?((i||o.value1!==n||o.value2!==r)&&(o.value1=n,o.value2=r,this.renderer.setProgram(this.program),e.call(this.gl,o.location,n,r),this.pipeline.currentShader=this),this):this},setUniform3:function(e,t,n,r,i,o){var a=this.uniforms[t];return a?((o||a.value1!==n||a.value2!==r||a.value3!==i)&&(a.value1=n,a.value2=r,a.value3=i,this.renderer.setProgram(this.program),e.call(this.gl,a.location,n,r,i),this.pipeline.currentShader=this),this):this},setUniform4:function(e,t,n,r,i,o,a){var s=this.uniforms[t];return s?((a||s.value1!==n||s.value2!==r||s.value3!==i||s.value4!==o)&&(s.value1=n,s.value2=r,s.value3=i,s.value4=o,this.renderer.setProgram(this.program),e.call(this.gl,s.location,n,r,i,o),this.pipeline.currentShader=this),this):this},set1f:function(e,t){return this.setUniform1(this.gl.uniform1f,e,t)},set2f:function(e,t,n){return this.setUniform2(this.gl.uniform2f,e,t,n)},set3f:function(e,t,n,r){return this.setUniform3(this.gl.uniform3f,e,t,n,r)},set4f:function(e,t,n,r,i){return this.setUniform4(this.gl.uniform4f,e,t,n,r,i)},set1fv:function(e,t){return this.setUniform1(this.gl.uniform1fv,e,t,!0)},set2fv:function(e,t){return this.setUniform1(this.gl.uniform2fv,e,t,!0)},set3fv:function(e,t){return this.setUniform1(this.gl.uniform3fv,e,t,!0)},set4fv:function(e,t){return this.setUniform1(this.gl.uniform4fv,e,t,!0)},set1iv:function(e,t){return this.setUniform1(this.gl.uniform1iv,e,t,!0)},set2iv:function(e,t){return this.setUniform1(this.gl.uniform2iv,e,t,!0)},set3iv:function(e,t){return this.setUniform1(this.gl.uniform3iv,e,t,!0)},set4iv:function(e,t){return this.setUniform1(this.gl.uniform4iv,e,t,!0)},set1i:function(e,t){return this.setUniform1(this.gl.uniform1i,e,t)},set2i:function(e,t,n){return this.setUniform2(this.gl.uniform2i,e,t,n)},set3i:function(e,t,n,r){return this.setUniform3(this.gl.uniform3i,e,t,n,r)},set4i:function(e,t,n,r,i){return this.setUniform4(this.gl.uniform4i,e,t,n,r,i)},setMatrix2fv:function(e,t,n){return this.setUniform2(this.gl.uniformMatrix2fv,e,t,n,!0)},setMatrix3fv:function(e,t,n){return this.setUniform2(this.gl.uniformMatrix3fv,e,t,n,!0)},setMatrix4fv:function(e,t,n){return this.setUniform2(this.gl.uniformMatrix4fv,e,t,n,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});e.exports=a},function(e,t,n){var r=n(0),i=n(59),o=n(2),a=n(875),s=n(876),u=n(25),l=n(107),c=n(58),h=new r({Extends:c,initialize:function(e){e.fragShader=o(e,"fragShader",a),e.vertShader=o(e,"vertShader",s),e.attributes=o(e,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),c.call(this,e),this.calcMatrix=new u,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(e,t,n,r,i,o){this.renderer.pipelines.set(this);var a=this.calcMatrix;o&&o.multiply(i,a);var s=e+n,u=t+r,l=a.getX(e,t),c=a.getY(e,t),h=a.getX(e,u),f=a.getY(e,u),d=a.getX(s,u),p=a.getY(s,u),v=a.getX(s,t),g=a.getY(s,t),m=this.fillTint;this.batchQuad(l,c,h,f,d,p,v,g,m.TL,m.TR,m.BL,m.BR)},batchFillTriangle:function(e,t,n,r,i,o,a,s){this.renderer.pipelines.set(this);var u=this.calcMatrix;s&&s.multiply(a,u);var l=u.getX(e,t),c=u.getY(e,t),h=u.getX(n,r),f=u.getY(n,r),d=u.getX(i,o),p=u.getY(i,o),v=this.fillTint;this.batchTri(l,c,h,f,d,p,v.TL,v.TR,v.BL)},batchStrokeTriangle:function(e,t,n,r,i,o,a,s,u){var l=this.tempTriangle;l[0].x=e,l[0].y=t,l[0].width=a,l[1].x=n,l[1].y=r,l[1].width=a,l[2].x=i,l[2].y=o,l[2].width=a,l[3].x=e,l[3].y=t,l[3].width=a,this.batchStrokePath(l,a,!1,s,u)},batchFillPath:function(e,t,n){this.renderer.pipelines.set(this);var r=this.calcMatrix;n&&n.multiply(t,r);for(var o,a,s=e.length,u=this.polygonCache,l=this.fillTint.TL,c=this.fillTint.TR,h=this.fillTint.BL,f=0;f<s;++f)a=e[f],u.push(a.x,a.y);s=(o=i(u)).length;for(var d=0;d<s;d+=3){var p=2*o[d+0],v=2*o[d+1],g=2*o[d+2],m=u[p+0],y=u[p+1],x=u[v+0],b=u[v+1],w=u[g+0],k=u[g+1],E=r.getX(m,y),_=r.getY(m,y),T=r.getX(x,b),A=r.getY(x,b),S=r.getX(w,k),C=r.getY(w,k);this.batchTri(E,_,T,A,S,C,l,c,h)}u.length=0},batchStrokePath:function(e,t,n,r,i){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var o=e.length-1,a=0;a<o;a++){var s=e[a],u=e[a+1];this.batchLine(s.x,s.y,u.x,u.y,s.width/2,u.width/2,t,a,!n&&a===o-1,r,i)}},batchLine:function(e,t,n,r,i,o,a,s,u,l,c){this.renderer.pipelines.set(this);var h=this.calcMatrix;c&&c.multiply(l,h);var f=n-e,d=r-t,p=Math.sqrt(f*f+d*d),v=i*(r-t)/p,g=i*(e-n)/p,m=o*(r-t)/p,y=o*(e-n)/p,x=n-m,b=r-y,w=e-v,k=t-g,E=n+m,_=r+y,T=e+v,A=t+g,S=h.getX(x,b),C=h.getY(x,b),I=h.getX(w,k),P=h.getY(w,k),O=h.getX(E,_),R=h.getY(E,_),M=h.getX(T,A),D=h.getY(T,A),L=this.strokeTint,N=L.TL,F=L.TR,B=L.BL,U=L.BR;if(this.batchQuad(M,D,I,P,S,C,O,R,N,F,B,U),!(a<=2)){var z=this.prevQuad,V=this.firstQuad;s>0&&z[4]?this.batchQuad(M,D,I,P,z[0],z[1],z[2],z[3],N,F,B,U):(V[0]=M,V[1]=D,V[2]=I,V[3]=P,V[4]=1),u&&V[4]?this.batchQuad(S,C,O,R,V[0],V[1],V[2],V[3],N,F,B,U):(z[0]=S,z[1]=C,z[2]=O,z[3]=R,z[4]=1)}},batchVert:function(e,t,n){var r=this.vertexViewF32,i=this.vertexViewU32,o=this.vertexCount*this.currentShader.vertexComponentCount-1;r[++o]=e,r[++o]=t,i[++o]=n,this.vertexCount++},batchQuad:function(e,t,n,r,i,o,a,s,u,l,c,h){var f=!1;return this.shouldFlush(6)&&(this.flush(),f=!0),this.batchVert(e,t,u),this.batchVert(n,r,c),this.batchVert(i,o,h),this.batchVert(e,t,u),this.batchVert(i,o,h),this.batchVert(a,s,l),f},batchTri:function(e,t,n,r,i,o,a,s,u){var l=!1;return this.shouldFlush(3)&&(this.flush(),l=!0),this.batchVert(e,t,a),this.batchVert(n,r,s),this.batchVert(i,o,u),l},destroy:function(){return c.prototype.destroy.call(this),this.polygonCache=null,this}});e.exports=h},function(e,t,n){var r=n(0),i=n(2),o=n(877),a=n(108),s=n(3),u=n(58),l=10,c=new s,h=new r({Extends:a,initialize:function(e){l=e.game.renderer.config.maxLights;for(var t=i(e,"fragShader",o),n=[],r=1;r<=l;r++)n.push({name:"lights"+r,fragShader:t.replace("%LIGHT_COUNT%",r.toString())});e.shaders=n,a.call(this,e),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){u.prototype.boot.call(this);var e=this.gl,t=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:t};for(var n=0;n<this.shaders.length;n++)this["lightShader"+(n+1)]=this.shaders[n]},onRender:function(e,t){var n=e.sys.lights;if(this.lightsActive=!1,n&&n.active){var r=n.getLights(t),i=r.length;if(0!==i){var o;this.lightsActive=!0,this.setShader(this["lightShader"+i],!0);var a=this.renderer.height,s=t.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",t.x,t.y,t.rotation,t.zoom),this.set3f("uAmbientLightColor",n.ambientColor.r,n.ambientColor.g,n.ambientColor.b),o=0;o<i;o++){var u=r[o].light,l=u.color,h="uLights["+o+"].";s.transformPoint(u.x,u.y,c),this.set2f(h+"position",c.x-t.scrollX*u.scrollFactorX*t.zoom,a-(c.y-t.scrollY*u.scrollFactorY*t.zoom)),this.set3f(h+"color",l.r,l.g,l.b),this.set1f(h+"intensity",u.intensity),this.set1f(h+"radius",u.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(e){if(e!==this.currentNormalMapRotation||0===this.vertexCount){this.vertexCount>0&&this.flush();var t=this.inverseRotationMatrix;if(e){var n=-e,r=Math.cos(n),i=Math.sin(n);t[1]=i,t[3]=-i,t[0]=t[4]=r}else t[0]=t[4]=1,t[1]=t[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,t),this.currentNormalMapRotation=e}},setTexture2D:function(e,t){var n=this.renderer;void 0===e&&(e=n.tempTextures[0]);var r=this.getNormalMap(t);n.isNewNormalMap(e,r)&&(this.flush(),n.setTextureZero(e),n.setNormalMap(r));var i=t?t.rotation:0;return this.setNormalMapRotation(i),this.currentUnit=0,0},setGameObject:function(e,t){void 0===t&&(t=e.frame);var n=this.renderer,r=t.glTexture,i=this.getNormalMap(e);return n.isNewNormalMap()&&(this.flush(),n.setTextureZero(r),n.setNormalMap(i)),this.setNormalMapRotation(e.rotation),this.currentUnit=0,0},getNormalMap:function(e){var t;return e?e.displayTexture?t=e.displayTexture.dataSource[e.displayFrame.sourceIndex]:e.texture?t=e.texture.dataSource[e.frame.sourceIndex]:e.tileset&&(t=Array.isArray(e.tileset)?e.tileset[0].image.dataSource[0]:e.tileset.image.dataSource[0]):t=this.defaultNormalMap,t||(t=this.defaultNormalMap),t.glTexture},batchSprite:function(e,t,n){this.lightsActive&&a.prototype.batchSprite.call(this,e,t,n)},batchTexture:function(e,t,n,r,i,o,s,u,l,c,h,f,d,p,v,g,m,y,x,b,w,k,E,_,T,A,S,C,I,P,O,R){this.lightsActive&&a.prototype.batchTexture.call(this,e,t,n,r,i,o,s,u,l,c,h,f,d,p,v,g,m,y,x,b,w,k,E,_,T,A,S,C,I,P,O,R)},batchTextureFrame:function(e,t,n,r,i,o,s){this.lightsActive&&a.prototype.batchTextureFrame.call(this,e,t,n,r,i,o,s)}});h.LIGHT_COUNT=l,e.exports=h},function(e,t,n){var r=n(0),i=n(2),o=n(880),a=n(881),s=n(58),u=new r({Extends:s,initialize:function(e){e.vertShader=i(e,"vertShader",a),e.fragShader=i(e,"fragShader",o),e.attributes=i(e,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,e)},onRender:function(e,t){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",t.zoom)},batchPointLight:function(e,t,n,r,i,o,a,s,u,l,c,h){var f=e.color,d=e.intensity,p=e.radius,v=e.attenuation,g=f.r*d,m=f.g*d,y=f.b*d,x=t.alpha*e.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(n,r,c,h,p,v,g,m,y,x),this.batchLightVert(i,o,c,h,p,v,g,m,y,x),this.batchLightVert(a,s,c,h,p,v,g,m,y,x),this.batchLightVert(n,r,c,h,p,v,g,m,y,x),this.batchLightVert(a,s,c,h,p,v,g,m,y,x),this.batchLightVert(u,l,c,h,p,v,g,m,y,x)},batchLightVert:function(e,t,n,r,i,o,a,s,u,l){var c=this.vertexViewF32,h=this.vertexCount*this.currentShader.vertexComponentCount-1;c[++h]=e,c[++h]=t,c[++h]=n,c[++h]=r,c[++h]=i,c[++h]=o,c[++h]=a,c[++h]=s,c[++h]=u,c[++h]=l,this.vertexCount++}});e.exports=u},function(e,t,n){var r=n(0),i=n(2),o=n(108),a=new r({Extends:o,initialize:function(e){e.topology=5,e.batchSize=i(e,"batchSize",256),o.call(this,e)}});e.exports=a},function(e,t,n){var r=n(0),i=n(2),o=n(108),a=n(882),s=n(883),u=n(58),l=new r({Extends:o,initialize:function(e){e.fragShader=i(e,"fragShader",a),e.vertShader=i(e,"vertShader",s),e.forceZero=!0,o.call(this,e)},boot:function(){u.prototype.boot.call(this),this.set1i("uMainSampler",0)}});e.exports=l},function(e,t,n){var r=n(884),i=n(35),o=n(0),a=n(198),s=n(885),u=n(886),l=n(2),c=n(887),h=n(382),f=n(58),d=new o({Extends:f,initialize:function(e){e.renderTarget=l(e,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),e.vertShader=l(e,"vertShader",h),e.shaders=l(e,"shaders",[{name:"Copy",fragShader:u},{name:"AddBlend",fragShader:r},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:s}]),e.attributes=l(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),e.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],e.batchSize=1,f.call(this,e),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){f.prototype.boot.call(this);var e=this.shaders,t=this.renderTargets;this.copyShader=e[0],this.addShader=e[1],this.linearShader=e[2],this.colorMatrixShader=e[3],this.fullFrame1=t[0],this.fullFrame2=t[1],this.halfFrame1=t[2],this.halfFrame2=t[3]},copyFrame:function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=!0),void 0===i&&(i=!0);var o=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",n),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture),t?(o.viewport(0,0,t.width,t.height),o.bindFramebuffer(o.FRAMEBUFFER,t.framebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,t.texture,0)):o.viewport(0,0,e.width,e.height),r&&(i?o.clearColor(0,0,0,0):o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT)),o.bufferData(o.ARRAY_BUFFER,this.vertexData,o.STATIC_DRAW),o.drawArrays(o.TRIANGLES,0,6),o.bindFramebuffer(o.FRAMEBUFFER,null),o.bindTexture(o.TEXTURE_2D,null)},blitFrame:function(e,t,n,r,o,a){void 0===n&&(n=1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===a&&(a=!1);var s=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",n),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,e.texture),e.height>t.height)s.viewport(0,0,e.width,e.height),this.setTargetUVs(e,t);else{var u=t.height-e.height;s.viewport(0,u,e.width,e.height)}if(s.bindFramebuffer(s.FRAMEBUFFER,t.framebuffer),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,t.texture,0),r&&(o?s.clearColor(0,0,0,0):s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT)),a){var l=this.renderer.currentBlendMode;this.renderer.setBlendMode(i.ERASE)}s.bufferData(s.ARRAY_BUFFER,this.vertexData,s.STATIC_DRAW),s.drawArrays(s.TRIANGLES,0,6),a&&this.renderer.setBlendMode(l),s.bindFramebuffer(s.FRAMEBUFFER,null),s.bindTexture(s.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(e,t,n,r,i,o,a,s){void 0===a&&(a=!0),void 0===s&&(s=!0);var u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,e.framebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,e.texture,0),a&&(s?u.clearColor(0,0,0,0):u.clearColor(0,0,0,1),u.clear(u.COLOR_BUFFER_BIT)),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,t.texture),u.copyTexSubImage2D(u.TEXTURE_2D,0,0,0,n,r,i,o),u.bindFramebuffer(u.FRAMEBUFFER,null),u.bindTexture(u.TEXTURE_2D,null)},copyToGame:function(e){var t=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e.texture),t.bufferData(t.ARRAY_BUFFER,this.vertexData,t.STATIC_DRAW),t.drawArrays(t.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=this.colorMatrix);var i=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",r.getData()),this.set1f("uAlpha",r.alpha),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e.texture),t?(i.viewport(0,0,t.width,t.height),i.bindFramebuffer(i.FRAMEBUFFER,t.framebuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.texture,0)):i.viewport(0,0,e.width,e.height),n?i.clearColor(0,0,0,0):i.clearColor(0,0,0,1),i.clear(i.COLOR_BUFFER_BIT),i.bufferData(i.ARRAY_BUFFER,this.vertexData,i.STATIC_DRAW),i.drawArrays(i.TRIANGLES,0,6),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindTexture(i.TEXTURE_2D,null)},blendFrames:function(e,t,n,r,i,o){void 0===r&&(r=1),void 0===i&&(i=!0),void 0===o&&(o=this.linearShader);var a=this.gl;this.setShader(o),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",r),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,e.texture),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,t.texture),n?(a.bindFramebuffer(a.FRAMEBUFFER,n.framebuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,n.texture,0),a.viewport(0,0,n.width,n.height)):a.viewport(0,0,e.width,e.height),i?a.clearColor(0,0,0,0):a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT),a.bufferData(a.ARRAY_BUFFER,this.vertexData,a.STATIC_DRAW),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),a.bindTexture(a.TEXTURE_2D,null)},blendFramesAdditive:function(e,t,n,r,i){this.blendFrames(e,t,n,r,i,this.addShader)},clearFrame:function(e,t){void 0===t&&(t=!0);var n=this.gl;n.viewport(0,0,e.width,e.height),n.bindFramebuffer(n.FRAMEBUFFER,e.framebuffer),t?n.clearColor(0,0,0,0):n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);var r=this.renderer.currentFramebuffer;n.bindFramebuffer(n.FRAMEBUFFER,r)},setUVs:function(e,t,n,r,i,o,a,s){var u=this.vertexViewF32;u[2]=e,u[3]=t,u[6]=n,u[7]=r,u[10]=i,u[11]=o,u[14]=e,u[15]=t,u[18]=i,u[19]=o,u[22]=a,u[23]=s},setTargetUVs:function(e,t){var n=t.height/e.height;n=n>.5?.5-(n-.5):.5-n+.5,this.setUVs(0,n,0,1+n,1,1+n,1,n)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});e.exports=d},function(e,t){e.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join("\n")},function(e,t,n){var r=n(31),i=n(38),o=n(2);e.exports=function(e,t){var n=e.getContext("experimental-webgl"),a=o(t,"callback"),s=o(t,"type","image/png"),u=o(t,"encoder",.92),l=o(t,"x",0),c=o(t,"y",0),h=o(t,"getPixel",!1),f=o(t,"isFramebuffer",!1),d=f?o(t,"bufferWidth",1):n.drawingBufferWidth,p=f?o(t,"bufferHeight",1):n.drawingBufferHeight;if(h){var v=new Uint8Array(4),g=f?c:p-c;n.readPixels(l,g,1,1,n.RGBA,n.UNSIGNED_BYTE,v),a.call(null,new i(v[0],v[1],v[2],v[3]/255))}else{var m=o(t,"width",d),y=o(t,"height",p),x=new Uint8Array(m*y*4);n.readPixels(l,p-c-y,m,y,n.RGBA,n.UNSIGNED_BYTE,x);for(var b=r.createWebGL(this,m,y),w=b.getContext("2d"),k=w.getImageData(0,0,m,y),E=k.data,_=0;_<y;_++)for(var T=0;T<m;T++){var A=4*((y-_-1)*m+T),S=4*(_*m+T);E[S+0]=x[A+0],E[S+1]=x[A+1],E[S+2]=x[A+2],E[S+3]=x[A+3]}w.putImageData(k,0,0);var C=new Image;C.onerror=function(){a.call(null),r.remove(b)},C.onload=function(){a.call(null,C),r.remove(b)},C.src=b.toDataURL(s,u)}}},function(e,t,n){var r=n(33);e.exports=function(e){var t=e.config;if(!t.hideBanner){var n="WebGL";t.renderType===r.CANVAS?n="Canvas":t.renderType===r.HEADLESS&&(n="Headless");var i,o=t.audio,a=e.device.audio;if(i=a.webAudio&&!o.disableWebAudio?"Web Audio":o.noAudio||!a.webAudio&&!a.audioData?"No Audio":"HTML5 Audio",e.device.browser.ie)window.console&&console.log("Phaser v"+r.VERSION+" / https://phaser.io");else{var s,u="",l=[u];Array.isArray(t.bannerBackgroundColor)?(t.bannerBackgroundColor.forEach((function(e){u=u.concat("%c "),l.push("background: "+e),s=e})),l[l.length-1]="color: "+t.bannerTextColor+"; background: "+s):(u=u.concat("%c "),l.push("color: "+t.bannerTextColor+"; background: "+t.bannerBackgroundColor)),l.push("background: transparent"),t.gameTitle&&(u=u.concat(t.gameTitle),t.gameVersion&&(u=u.concat(" v"+t.gameVersion)),t.hidePhaser||(u=u.concat(" / "))),t.hidePhaser||(u=u.concat("Phaser v"+r.VERSION+" ("+n+" | "+i+")")),u=u.concat(" %c "+t.gameURL),l[0]=u,console.log.apply(console,l)}}}},function(e,t,n){var r=n(0),i=n(6),o=n(1),a=n(386),s=new r({initialize:function(e,t){this.game=e,this.raf=new a,this.started=!1,this.running=!1,this.minFps=i(t,"min",5),this.targetFps=i(t,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=i(t,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=i(t,"deltaHistory",10),this.panicMax=i(t,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=i(t,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var e=window.performance.now();this.time=e,this.lastTime=e,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=Math.min(this._target,this.deltaHistory[t]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(e){if(this.started)return this;this.started=!0,this.running=!0;for(var t=0;t<this.deltaSmoothingMax;t++)this.deltaHistory[t]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=e,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var e=window.performance.now();this.now=e;var t=e-this.lastTime;t<0&&(t=0),this.rawDelta=t;var n=this.deltaIndex,r=this.deltaHistory,i=this.deltaSmoothingMax,o=t,a=t;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=r[n],o=Math.min(o,this._min)),r[n]=o,this.deltaIndex++,this.deltaIndex>i&&(this.deltaIndex=0),a=0;for(var s=0;s<i;s++)a+=r[s];a/=i}this.delta=a,this.time+=this.rawDelta,e>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=e+1e3,this.framesThisSecond=0),this.framesThisSecond++;var u=a/this._target;this.callback(e,a,u),this.lastTime=e,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(e){this.running||(e&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=o,this.raf=null,this.game=null}});e.exports=s},function(e,t,n){var r=n(0),i=n(1),o=new r({initialize:function(){this.isRunning=!1,this.callback=i,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var e=this;this.step=function t(){var n=window.performance.now();e.lastTime=e.tick,e.tick=n,e.callback(n),e.timeOutID=window.requestAnimationFrame(t)},this.stepTimeout=function t(){var n=Date.now(),r=Math.min(Math.max(2*e.target+e.tick-n,0),e.target);e.lastTime=e.tick,e.tick=n,e.callback(n),e.timeOutID=window.setTimeout(t,r)}},start:function(e,t,n){this.isRunning||(this.callback=e,this.isSetTimeOut=t,this.target=n,this.isRunning=!0,this.timeOutID=t?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=i}});e.exports=o},function(e,t,n){var r=n(22);e.exports=function(e){var t,n=e.events;void 0!==document.hidden?t="visibilitychange":["webkit","moz","ms"].forEach((function(e){void 0!==document[e+"Hidden"]&&(document.hidden=function(){return document[e+"Hidden"]},t=e+"visibilitychange")})),t&&document.addEventListener(t,(function(e){document.hidden||"pause"===e.type?n.emit(r.HIDDEN):n.emit(r.VISIBLE)}),!1),window.onblur=function(){n.emit(r.BLUR)},window.onfocus=function(){n.emit(r.FOCUS)},window.focus&&e.config.autoFocus&&window.focus()}},function(e,t,n){var r=n(389),i=n(31),o=n(6);e.exports=function(e){var t=o(e,"data",[]),n=o(e,"canvas",null),a=o(e,"palette",r),s=o(e,"pixelWidth",1),u=o(e,"pixelHeight",s),l=o(e,"resizeCanvas",!0),c=o(e,"clearCanvas",!0),h=o(e,"preRender",null),f=o(e,"postRender",null),d=Math.floor(Math.abs(t[0].length*s)),p=Math.floor(Math.abs(t.length*u));n||(n=i.create2D(this,d,p),l=!1,c=!1),l&&(n.width=d,n.height=p);var v=n.getContext("2d");c&&v.clearRect(0,0,d,p),h&&h(n,v);for(var g=0;g<t.length;g++)for(var m=t[g],y=0;y<m.length;y++){var x=m[y];"."!==x&&" "!==x&&(v.fillStyle=a[x],v.fillRect(y*s,g*u,s,u))}return f&&f(n,v),n}},function(e,t){e.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(e,t,n){var r=n(0),i=n(358),o=n(94),a=n(3),s=new r({Extends:o,initialize:function(e,t,n,r){o.call(this,"CubicBezierCurve"),Array.isArray(e)&&(r=new a(e[6],e[7]),n=new a(e[4],e[5]),t=new a(e[2],e[3]),e=new a(e[0],e[1])),this.p0=e,this.p1=t,this.p2=n,this.p3=r},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new a);var n=this.p0,r=this.p1,o=this.p2,s=this.p3;return t.set(i(e,n.x,r.x,o.x,s.x),i(e,n.y,r.y,o.y,s.y))},draw:function(e,t){void 0===t&&(t=32);var n=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(e){var t=e.points,n=new a(t[0],t[1]),r=new a(t[2],t[3]),i=new a(t[4],t[5]),o=new a(t[6],t[7]);return new s(n,r,i,o)},e.exports=s},function(e,t,n){var r=n(0),i=n(94),o=n(36),a=n(6),s=n(196),u=n(3),l=new r({Extends:i,initialize:function(e,t,n,r,s,l,c,h){if("object"===typeof e){var f=e;e=a(f,"x",0),t=a(f,"y",0),n=a(f,"xRadius",0),r=a(f,"yRadius",n),s=a(f,"startAngle",0),l=a(f,"endAngle",360),c=a(f,"clockwise",!1),h=a(f,"rotation",0)}else void 0===r&&(r=n),void 0===s&&(s=0),void 0===l&&(l=360),void 0===c&&(c=!1),void 0===h&&(h=0);i.call(this,"EllipseCurve"),this.p0=new u(e,t),this._xRadius=n,this._yRadius=r,this._startAngle=o(s),this._endAngle=o(l),this._clockwise=c,this._rotation=o(h)},getStartPoint:function(e){return void 0===e&&(e=new u),this.getPoint(0,e)},getResolution:function(e){return 2*e},getPoint:function(e,t){void 0===t&&(t=new u);for(var n=2*Math.PI,r=this._endAngle-this._startAngle,i=Math.abs(r)<Number.EPSILON;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=i?0:n),this._clockwise&&!i&&(r===n?r=-n:r-=n);var o=this._startAngle+e*r,a=this.p0.x+this._xRadius*Math.cos(o),s=this.p0.y+this._yRadius*Math.sin(o);if(0!==this._rotation){var l=Math.cos(this._rotation),c=Math.sin(this._rotation),h=a-this.p0.x,f=s-this.p0.y;a=h*l-f*c+this.p0.x,s=h*c+f*l+this.p0.y}return t.set(a,s)},setXRadius:function(e){return this.xRadius=e,this},setYRadius:function(e){return this.yRadius=e,this},setWidth:function(e){return this.xRadius=e/2,this},setHeight:function(e){return this.yRadius=e/2,this},setStartAngle:function(e){return this.startAngle=e,this},setEndAngle:function(e){return this.endAngle=e,this},setClockwise:function(e){return this.clockwise=e,this},setRotation:function(e){return this.rotation=e,this},x:{get:function(){return this.p0.x},set:function(e){this.p0.x=e}},y:{get:function(){return this.p0.y},set:function(e){this.p0.y=e}},xRadius:{get:function(){return this._xRadius},set:function(e){this._xRadius=e}},yRadius:{get:function(){return this._yRadius},set:function(e){this._yRadius=e}},startAngle:{get:function(){return s(this._startAngle)},set:function(e){this._startAngle=o(e)}},endAngle:{get:function(){return s(this._endAngle)},set:function(e){this._endAngle=o(e)}},clockwise:{get:function(){return this._clockwise},set:function(e){this._clockwise=e}},angle:{get:function(){return s(this._rotation)},set:function(e){this._rotation=o(e)}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});l.fromJSON=function(e){return new l(e)},e.exports=l},function(e,t,n){var r=n(0),i=n(94),o=n(199),a=n(10),s=n(3),u=new r({Extends:i,initialize:function(e,t){i.call(this,"LineCurve"),Array.isArray(e)&&(t=new s(e[2],e[3]),e=new s(e[0],e[1])),this.p0=e,this.p1=t,this.arcLengthDivisions=1},getBounds:function(e){return void 0===e&&(e=new a),o([this.p0,this.p1],e)},getStartPoint:function(e){return void 0===e&&(e=new s),e.copy(this.p0)},getResolution:function(e){return void 0===e&&(e=1),e},getPoint:function(e,t){return void 0===t&&(t=new s),1===e?t.copy(this.p1):(t.copy(this.p1).subtract(this.p0).scale(e).add(this.p0),t)},getPointAt:function(e,t){return this.getPoint(e,t)},getTangent:function(e,t){return void 0===t&&(t=new s),t.copy(this.p1).subtract(this.p0).normalize(),t},getUtoTmapping:function(e,t,n){var r;if(t){var i=this.getLengths(n),o=i[i.length-1];r=Math.min(t,o)/o}else r=e;return r},draw:function(e){return e.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});u.fromJSON=function(e){var t=e.points,n=new s(t[0],t[1]),r=new s(t[2],t[3]);return new u(n,r)},e.exports=u},function(e,t,n){var r=n(0),i=n(3),o=new r({initialize:function(e,t){this.active=!1,this.p0=new i(e,t)},getPoint:function(e,t){return void 0===t&&(t=new i),t.copy(this.p0)},getPointAt:function(e,t){return this.getPoint(e,t)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});e.exports=o},function(e,t,n){var r=n(0),i=n(94),o=n(359),a=n(3),s=new r({Extends:i,initialize:function(e,t,n){i.call(this,"QuadraticBezier"),Array.isArray(e)&&(n=new a(e[4],e[5]),t=new a(e[2],e[3]),e=new a(e[0],e[1])),this.p0=e,this.p1=t,this.p2=n},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.p0)},getResolution:function(e){return e},getPoint:function(e,t){void 0===t&&(t=new a);var n=this.p0,r=this.p1,i=this.p2;return t.set(o(e,n.x,r.x,i.x),o(e,n.y,r.y,i.y))},draw:function(e,t){void 0===t&&(t=32);var n=this.getPoints(t);e.beginPath(),e.moveTo(this.p0.x,this.p0.y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);return e.strokePath(),e},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(e){var t=e.points,n=new a(t[0],t[1]),r=new a(t[2],t[3]),i=new a(t[4],t[5]);return new s(n,r,i)},e.exports=s},function(e,t,n){var r=n(194),i=n(0),o=n(94),a=n(3),s=new i({Extends:o,initialize:function(e){void 0===e&&(e=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(e)},addPoints:function(e){for(var t=0;t<e.length;t++){var n=new a;"number"===typeof e[t]?(n.x=e[t],n.y=e[t+1],t++):Array.isArray(e[t])?(n.x=e[t][0],n.y=e[t][1]):(n.x=e[t].x,n.y=e[t].y),this.points.push(n)}return this},addPoint:function(e,t){var n=new a(e,t);return this.points.push(n),n},getStartPoint:function(e){return void 0===e&&(e=new a),e.copy(this.points[0])},getResolution:function(e){return e*this.points.length},getPoint:function(e,t){void 0===t&&(t=new a);var n=this.points,i=(n.length-1)*e,o=Math.floor(i),s=i-o,u=n[0===o?o:o-1],l=n[o],c=n[o>n.length-2?n.length-1:o+1],h=n[o>n.length-3?n.length-1:o+2];return t.set(r(s,u.x,l.x,c.x,h.x),r(s,u.y,l.y,c.y,h.y))},toJSON:function(){for(var e=[],t=0;t<this.points.length;t++)e.push(this.points[t].x),e.push(this.points[t].y);return{type:this.type,points:e}}});s.fromJSON=function(e){return new s(e.points)},e.exports=s},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r){t&&""!==t||(t=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),n&&""!==n||(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join("\n")),void 0===r&&(r=null),this.key=e,this.fragmentSrc=t,this.vertexSrc=n,this.uniforms=r}});e.exports=r},function(e,t,n){var r=n(38);r.ColorSpectrum=n(909),r.ColorToRGBA=n(910),r.ComponentToHex=n(398),r.GetColor=n(103),r.GetColor32=n(328),r.HexStringToColor=n(327),r.HSLToColor=n(911),r.HSVColorWheel=n(912),r.HSVToRGB=n(188),r.HueToComponent=n(399),r.IntegerToColor=n(189),r.IntegerToRGB=n(330),r.Interpolate=n(913),r.ObjectToColor=n(331),r.RandomRGB=n(914),r.RGBStringToColor=n(332),r.RGBToHSV=n(329),r.RGBToString=n(915),r.ValueToColor=n(187),e.exports=r},function(e,t){e.exports=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}},function(e,t){e.exports=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}},function(e,t,n){var r=n(105);e.exports=function(e){if("complete"!==document.readyState&&"interactive"!==document.readyState){var t=function t(){document.removeEventListener("deviceready",t,!0),document.removeEventListener("DOMContentLoaded",t,!0),window.removeEventListener("load",t,!0),e()};document.body?r.cordova?document.addEventListener("deviceready",t,!1):(document.addEventListener("DOMContentLoaded",t,!0),window.addEventListener("load",t,!0)):window.setTimeout(t,20)}else e()}},function(e,t){e.exports=function(e){if(!e)return window.innerHeight;var t=Math.abs(window.orientation),n={w:0,h:0},r=document.createElement("div");return r.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(r),n.w=90===t?r.offsetHeight:window.innerWidth,n.h=90===t?window.innerWidth:r.offsetHeight,document.documentElement.removeChild(r),r=null,90!==Math.abs(window.orientation)?n.h:n.w}},function(e,t,n){var r=n(201);e.exports=function(e,t){var n=window.screen,i=!!n&&(n.orientation||n.mozOrientation||n.msOrientation);return i&&"string"===typeof i.type?i.type:"string"===typeof i?i:"number"===typeof window.orientation?0===window.orientation||180===window.orientation?r.ORIENTATION.PORTRAIT:r.ORIENTATION.LANDSCAPE:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?r.ORIENTATION.PORTRAIT:window.matchMedia("(orientation: landscape)").matches?r.ORIENTATION.LANDSCAPE:void 0:t>e?r.ORIENTATION.PORTRAIT:r.ORIENTATION.LANDSCAPE}},function(e,t){e.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(e,t){e.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(e,t){e.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(e,t){e.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(e,t){e.exports=function(e){var t;return""!==e&&("string"===typeof e?t=document.getElementById(e):e&&1===e.nodeType&&(t=e)),t||(t=document.body),t}},function(e,t){e.exports=function(e){var t="";try{window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e)}catch(n){t=null}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length?t:null}},function(e,t,n){var r=n(0),i=n(203),o=n(9),a=n(51),s=n(22),u=n(410),l=n(411),c=n(412),h=n(413),f=n(25),d=n(177),p=new r({initialize:function(e,t){this.game=e,this.scaleManager,this.canvas,this.config=t,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=t.inputKeyboard?new u(this):null,this.mouse=t.inputMouse?new l(this):null,this.touch=t.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=t.inputActivePointers,t.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var n=0;n<=this.pointersTotal;n++){var r=new c(this,n);r.smoothFactor=t.inputSmoothFactor,this.pointers.push(r)}this.mousePointer=t.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new f,this._tempMatrix2=new f,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],e.events.once(s.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(a.MANAGER_BOOT),this.game.events.on(s.PRE_RENDER,this.preRender,this),this.game.events.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(e){this.isOver=!0,this.events.emit(a.GAME_OVER,e)},setCanvasOut:function(e){this.isOver=!1,this.events.emit(a.GAME_OUT,e)},preRender:function(){var e=this.game.loop.now,t=this.game.loop.delta,n=this.game.scene.getScenes(!0,!0);this.time=e,this.events.emit(a.MANAGER_UPDATE);for(var r=0;r<n.length;r++){var i=n[r];if(i.sys.input&&i.sys.input.updatePoll(e,t)&&this.globalTopOnly)return}},setDefaultCursor:function(e){this.defaultCursor=e,this.canvas.style.cursor!==e&&(this.canvas.style.cursor=e)},setCursor:function(e){e.cursor&&(this.canvas.style.cursor=e.cursor)},resetCursor:function(e){e.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(e){void 0===e&&(e=1);var t=[];this.pointersTotal+e>10&&(e=10-this.pointersTotal);for(var n=0;n<e;n++){var r=this.pointers.length,i=new c(this,r);i.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(i),this.pointersTotal++,t.push(i)}return t},updateInputPlugins:function(e,t){var n=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var r=0;r<n.length;r++){var i=n[r];if(i.sys.input&&(i.sys.input.update(e,t)&&this.globalTopOnly||this._tempSkip))return}},onTouchStart:function(e){for(var t=this.pointers,n=[],r=0;r<e.changedTouches.length;r++)for(var o=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(!s.active){s.touchstart(o,e),this.activePointer=s,n.push(s);break}}this.updateInputPlugins(i.TOUCH_START,n)},onTouchMove:function(e){for(var t=this.pointers,n=[],r=0;r<e.changedTouches.length;r++)for(var o=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(s.active&&s.identifier===o.identifier){s.touchmove(o,e),this.activePointer=s,n.push(s);break}}this.updateInputPlugins(i.TOUCH_MOVE,n)},onTouchEnd:function(e){for(var t=this.pointers,n=[],r=0;r<e.changedTouches.length;r++)for(var o=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(s.active&&s.identifier===o.identifier){s.touchend(o,e),n.push(s);break}}this.updateInputPlugins(i.TOUCH_END,n)},onTouchCancel:function(e){for(var t=this.pointers,n=[],r=0;r<e.changedTouches.length;r++)for(var o=e.changedTouches[r],a=1;a<this.pointersTotal;a++){var s=t[a];if(s.active&&s.identifier===o.identifier){s.touchcancel(o,e),n.push(s);break}}this.updateInputPlugins(i.TOUCH_CANCEL,n)},onMouseDown:function(e){var t=this.mousePointer;t.down(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(i.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(e){var t=this.mousePointer;t.move(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(i.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(e){var t=this.mousePointer;t.up(e),t.updateMotion(),this.activePointer=t,this.updateInputPlugins(i.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(e){var t=this.mousePointer;t.wheel(e),this.activePointer=t,this.updateInputPlugins(i.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(e){var t=this.mouse.locked;this.mousePointer.locked=t,this.events.emit(a.POINTERLOCK_CHANGE,e,t)},inputCandidate:function(e,t){var n=e.input;if(!n||!n.enabled||!n.alwaysEnabled&&!e.willRender(t))return!1;var r=!0,i=e.parentContainer;if(i)do{if(!i.willRender(t)){r=!1;break}i=i.parentContainer}while(i);return r},hitTest:function(e,t,n,r){void 0===r&&(r=this._tempHitTest);var i=this._tempPoint,o=n.scrollX,a=n.scrollY;r.length=0;var s=e.x,u=e.y;n.getWorldPoint(s,u,i),e.worldX=i.x,e.worldY=i.y;for(var l={x:0,y:0},c=this._tempMatrix,h=this._tempMatrix2,f=0;f<t.length;f++){var p=t[f];if(this.inputCandidate(p,n)){var v=i.x+o*p.scrollFactorX-o,g=i.y+a*p.scrollFactorY-a;p.parentContainer?(p.getWorldTransformMatrix(c,h),c.applyInverse(v,g,l)):d(v,g,p.x,p.y,p.rotation,p.scaleX,p.scaleY,l),this.pointWithinHitArea(p,l.x,l.y)&&r.push(p)}}return r},pointWithinHitArea:function(e,t,n){t+=e.displayOriginX,n+=e.displayOriginY;var r=e.input;return!(!r||!r.hitAreaCallback(r.hitArea,t,n,e))&&(r.localX=t,r.localY=n,!0)},pointWithinInteractiveObject:function(e,t,n){return!!e.hitArea&&(t+=e.gameObject.displayOriginX,n+=e.gameObject.displayOriginY,e.localX=t,e.localY=n,e.hitAreaCallback(e.hitArea,t,n,e))},transformPointer:function(e,t,n,r){var i=e.position,o=e.prevPosition;o.x=i.x,o.y=i.y;var a=this.scaleManager.transformX(t),s=this.scaleManager.transformY(n),u=e.smoothFactor;r&&0!==u?(i.x=a*u+o.x*(1-u),i.y=s*u+o.y*(1-u)):(i.x=a,i.y=s)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var e=0;e<this.pointers.length;e++)this.pointers[e].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});e.exports=p},function(e,t,n){var r=n(93),i=n(0),o=n(22),a=n(51),s=n(143),u=n(1),l=new i({initialize:function(e){this.manager=e,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=u,this.onKeyUp=u,e.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputKeyboard,this.target=e.inputKeyboardEventTarget,this.addCapture(e.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var e=this;this.onKeyDown=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.events.emit(a.MANAGER_PROCESS);var n=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!n&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}},this.onKeyUp=function(t){if(!t.defaultPrevented&&e.enabled&&e.manager){e.queue.push(t),e.manager.events.emit(a.MANAGER_PROCESS);var n=t.altKey||t.ctrlKey||t.shiftKey||t.metaKey;e.preventDefault&&!n&&e.captures.indexOf(t.keyCode)>-1&&t.preventDefault()}};var t=this.target;t&&(t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var e=this.target;e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(e){"string"===typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,n=0;n<e.length;n++){var r=e[n];"string"===typeof r&&(r=s[r.trim().toUpperCase()]),-1===t.indexOf(r)&&t.push(r)}this.preventDefault=t.length>0},removeCapture:function(e){"string"===typeof e&&(e=e.split(",")),Array.isArray(e)||(e=[e]);for(var t=this.captures,n=0;n<e.length;n++){var i=e[n];"string"===typeof i&&(i=s[i.toUpperCase()]),r(t,i)}this.preventDefault=t.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});e.exports=l},function(e,t,n){var r=n(0),i=n(191),o=n(51),a=n(1),s=new r({initialize:function(e){this.manager=e,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,e.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputMouse,this.target=e.inputMouseEventTarget,this.passive=e.inputMousePassive,this.preventDefaultDown=e.inputMousePreventDefaultDown,this.preventDefaultUp=e.inputMousePreventDefaultUp,this.preventDefaultMove=e.inputMousePreventDefaultMove,this.preventDefaultWheel=e.inputMousePreventDefaultWheel,this.target?"string"===typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),this},requestPointerLock:function(){if(i.pointerLock){var e=this.target;e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock()}},releasePointerLock:function(){i.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var e=this.target;if(e){var t=this,n=this.manager,r=n.canvas,o=window&&window.focus&&n.game.config.autoFocus;this.onMouseMove=function(e){!e.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onMouseMove(e),t.preventDefaultMove&&e.preventDefault())},this.onMouseDown=function(e){o&&window.focus(),!e.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onMouseDown(e),t.preventDefaultDown&&e.target===r&&e.preventDefault())},this.onMouseDownWindow=function(e){!e.defaultPrevented&&t.enabled&&n&&n.enabled&&e.target!==r&&n.onMouseDown(e)},this.onMouseUp=function(e){!e.defaultPrevented&&t.enabled&&n&&n.enabled&&(n.onMouseUp(e),t.preventDefaultUp&&e.target===r&&e.preventDefault())},this.onMouseUpWindow=function(e){!e.defaultPrevented&&t.enabled&&n&&n.enabled&&e.target!==r&&n.onMouseUp(e)},this.onMouseOver=function(e){!e.defaultPrevented&&t.enabled&&n&&n.enabled&&n.setCanvasOver(e)},this.onMouseOut=function(e){!e.defaultPrevented&&t.enabled&&n&&n.enabled&&n.setCanvasOut(e)},this.onMouseWheel=function(e){!e.defaultPrevented&&t.enabled&&n&&n.enabled&&n.onMouseWheel(e),t.preventDefaultWheel&&e.target===r&&e.preventDefault()};var a={passive:!0};if(e.addEventListener("mousemove",this.onMouseMove),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("mouseup",this.onMouseUp),e.addEventListener("mouseover",this.onMouseOver,a),e.addEventListener("mouseout",this.onMouseOut,a),this.preventDefaultWheel?e.addEventListener("wheel",this.onMouseWheel,{passive:!1}):e.addEventListener("wheel",this.onMouseWheel,a),window&&n.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,a),window.top.addEventListener("mouseup",this.onMouseUpWindow,a)}catch(s){window.addEventListener("mousedown",this.onMouseDownWindow,a),window.addEventListener("mouseup",this.onMouseUpWindow,a),this.isTop=!1}i.pointerLock&&(this.pointerLockChange=function(e){var r=t.target;t.locked=document.pointerLockElement===r||document.mozPointerLockElement===r||document.webkitPointerLockElement===r,n.onPointerLockChange(e)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("mouseover",this.onMouseOver),e.removeEventListener("mouseout",this.onMouseOut),window&&((e=this.isTop?window.top:window).removeEventListener("mousedown",this.onMouseDownWindow),e.removeEventListener("mouseup",this.onMouseUpWindow)),i.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=s},function(e,t,n){var r=n(349),i=n(0),o=n(50),a=n(124),s=n(360),u=n(3),l=n(105),c=new i({initialize:function(e,t){this.manager=e,this.id=t,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new u,this.prevPosition=new u,this.midPoint=new u(-1,-1),this.velocity=new u,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===t,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(e){var t=e.getWorldPoint(this.x,this.y);return this.worldX=t.x,this.worldY=t.y,this},positionToCamera:function(e,t){return e.getWorldPoint(this.x,this.y,t)},updateMotion:function(){var e=this.position.x,t=this.position.y,n=this.midPoint.x,i=this.midPoint.y;if(e!==n||t!==i){var o=s(this.motionFactor,n,e),u=s(this.motionFactor,i,t);a(o,e,.1)&&(o=e),a(u,t,.1)&&(u=t),this.midPoint.set(o,u);var l=e-o,c=t-u;this.velocity.set(l,c),this.angle=r(o,u,e,t),this.distance=Math.sqrt(l*l+c*c)}},up:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),0===this.buttons&&(this.isDown=!1,this.upTime=e.timeStamp,this.wasTouch=!1)},down:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.button=e.button,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),0===e.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),l.macOS&&e.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=e.timeStamp),this.wasTouch=!1},move:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.locked&&(this.movementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.movementY=e.movementY||e.mozMovementY||e.webkitMovementY||0),this.moveTime=e.timeStamp,this.wasTouch=!1},wheel:function(e){"buttons"in e&&(this.buttons=e.buttons),this.event=e,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.deltaX=e.deltaX,this.deltaY=e.deltaY,this.deltaZ=e.deltaZ,this.wasTouch=!1},touchstart:function(e,t){e.pointerId&&(this.pointerId=e.pointerId),this.identifier=e.identifier,this.target=e.target,this.active=!0,this.buttons=1,this.event=t,this.downElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=t.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(e,t){this.event=t,this.manager.transformPointer(this,e.pageX,e.pageY,!0),this.moveTime=t.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(e,t){this.buttons=0,this.event=t,this.upElement=e.target,this.manager.transformPointer(this,e.pageX,e.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?r(this.downX,this.downY,this.x,this.y):r(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(e,t){void 0===e&&(e=10),void 0===t&&(t=[]);for(var n=this.prevPosition.x,r=this.prevPosition.y,i=this.position.x,o=this.position.y,a=0;a<e;a++){var u=1/e*a;t[a]={x:s(u,n,i),y:s(u,r,o)}}return t},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},time:{get:function(){return this.event?this.event.timeStamp:0}}});e.exports=c},function(e,t,n){var r=n(0),i=n(51),o=n(1),a=new r({initialize:function(e){this.manager=e,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.onTouchOver=o,this.onTouchOut=o,e.events.once(i.MANAGER_BOOT,this.boot,this)},boot:function(){var e=this.manager.config;this.enabled=e.inputTouch,this.target=e.inputTouchEventTarget,this.capture=e.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),e.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),this},startListeners:function(){var e=this,t=this.manager.canvas,n=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(r){n&&window.focus(),!r.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchStart(r),e.capture&&r.cancelable&&r.target===t&&r.preventDefault())},this.onTouchStartWindow=function(n){!n.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&n.target!==t&&e.manager.onTouchStart(n)},this.onTouchMove=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchMove(t),e.capture&&t.cancelable&&t.preventDefault())},this.onTouchEnd=function(n){!n.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchEnd(n),e.capture&&n.cancelable&&n.target===t&&n.preventDefault())},this.onTouchEndWindow=function(n){!n.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&n.target!==t&&e.manager.onTouchEnd(n)},this.onTouchCancel=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&(e.manager.onTouchCancel(t),e.capture&&t.preventDefault())},this.onTouchCancelWindow=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.onTouchCancel(t)},this.onTouchOver=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOver(t)},this.onTouchOut=function(t){!t.defaultPrevented&&e.enabled&&e.manager&&e.manager.enabled&&e.manager.setCanvasOut(t)};var r=this.target;if(r){var i={passive:!0},o={passive:!1};r.addEventListener("touchstart",this.onTouchStart,this.capture?o:i),r.addEventListener("touchmove",this.onTouchMove,this.capture?o:i),r.addEventListener("touchend",this.onTouchEnd,this.capture?o:i),r.addEventListener("touchcancel",this.onTouchCancel,this.capture?o:i),r.addEventListener("touchover",this.onTouchOver,this.capture?o:i),r.addEventListener("touchout",this.onTouchOut,this.capture?o:i),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,o),window.addEventListener("touchend",this.onTouchEndWindow,o),window.addEventListener("touchcancel",this.onTouchCancelWindow,o)),this.enabled=!0}},stopListeners:function(){var e=this.target;e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("touchcancel",this.onTouchCancel),e.removeEventListener("touchover",this.onTouchOver),e.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});e.exports=a},function(e,t,n){var r=n(0),i=n(22),o=n(9),a=n(8),s=n(16),u=n(5),l=n(2),c=n(24),h=n(93),f=new r({Extends:o,initialize:function(e){o.call(this),this.game=e,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],e.isBooted?this.boot():e.events.once(i.BOOT,this.boot,this)},boot:function(){var e,t,n,r,o,a,s,u=this.game.config,c=u.installGlobalPlugins;for(c=c.concat(this._pendingGlobal),e=0;e<c.length;e++)t=c[e],n=l(t,"key",null),r=l(t,"plugin",null),o=l(t,"start",!1),a=l(t,"mapping",null),s=l(t,"data",null),n&&(r?this.install(n,r,o,a,s):console.warn("Missing `plugin` for key: "+n));for(c=(c=u.installScenePlugins).concat(this._pendingScene),e=0;e<c.length;e++)t=c[e],n=l(t,"key",null),r=l(t,"plugin",null),a=l(t,"mapping",null),n&&(r?this.installScenePlugin(n,r,a):console.warn("Missing `plugin` for key: "+n));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(i.DESTROY,this.destroy,this)},addToScene:function(e,t,n){var r,i,o,a=this.game,s=e.scene,u=e.settings.map,l=e.settings.isBooted;for(r=0;r<t.length;r++)a[i=t[r]]?(e[i]=a[i],u.hasOwnProperty(i)&&(s[u[i]]=e[i])):"game"===i&&u.hasOwnProperty(i)&&(s[u[i]]=a);for(var h=0;h<n.length;h++)for(o=n[h],r=0;r<o.length;r++)if(i=o[r],c.hasCore(i)){var f=c.getCore(i),d=f.mapping,p=new f.plugin(s,this,d);e[d]=p,f.custom?s[d]=p:u.hasOwnProperty(d)&&(s[u[d]]=p),l&&p.boot()}for(o=this.plugins,r=0;r<o.length;r++){var v=o[r];v.mapping&&(s[v.mapping]=v.plugin)}},getDefaultScenePlugins:function(){var e=this.game.config.defaultPlugins;return e=e.concat(this.scenePlugins)},installScenePlugin:function(e,t,n,r,i){if(void 0===i&&(i=!1),"function"===typeof t){if(c.hasCore(e)){if(!i&&c.hasCore(e))return void console.warn("Scene Plugin key in use: "+e)}else c.register(e,t,n,!0),this.scenePlugins.push(e);if(r){var o=new t(r,this,e);r.sys[e]=o,n&&""!==n&&(r[n]=o),o.boot()}}else console.warn("Invalid Scene Plugin: "+e)},install:function(e,t,n,r,i){if(void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=null),"function"!==typeof t)return console.warn("Invalid Plugin: "+e),null;if(c.hasCustom(e))return console.warn("Plugin key in use: "+e),null;if(null!==r&&(n=!0),this.game.isBooted){if(c.registerCustom(e,t,r,i),n)return this.start(e)}else this._pendingGlobal.push({key:e,plugin:t,start:n,mapping:r,data:i});return null},getIndex:function(e){for(var t=this.plugins,n=0;n<t.length;n++)if(t[n].key===e)return n;return-1},getEntry:function(e){var t=this.getIndex(e);if(-1!==t)return this.plugins[t]},isActive:function(e){var t=this.getEntry(e);return t&&t.active},start:function(e,t){void 0===t&&(t=e);var n=this.getEntry(t);return n&&!n.active?(n.active=!0,n.plugin.start()):n||(n=this.createEntry(e,t)),n?n.plugin:null},createEntry:function(e,t){var n=c.getCustom(e);if(n){var r=new n.plugin(this);n={key:t,plugin:r,active:!0,mapping:n.mapping,data:n.data},this.plugins.push(n),r.init(n.data),r.start()}return n},stop:function(e){var t=this.getEntry(e);return t&&t.active&&(t.active=!1,t.plugin.stop()),this},get:function(e,t){void 0===t&&(t=!0);var n=this.getEntry(e);if(n)return n.plugin;var r=this.getClass(e);return r&&t?(n=this.createEntry(e,e))?n.plugin:null:r||null},getClass:function(e){return c.getCustomClass(e)},removeGlobalPlugin:function(e){var t=this.getEntry(e);t&&h(this.plugins,t),c.removeCustom(e)},removeScenePlugin:function(e){h(this.scenePlugins,e),c.remove(e)},registerGameObject:function(e,t,n){return t&&u.register(e,t),n&&s.register(e,n),this},removeGameObject:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!0),t&&u.remove(e),n&&s.remove(e),this},registerFileType:function(e,t,n){a.register(e,t),n&&n.sys.load&&(n.sys.load[e]=t)},destroy:function(){for(var e=0;e<this.plugins.length;e++)this.plugins[e].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});e.exports=f},function(e,t,n){var r=n(201),i=n(0),o=n(9),a=n(104),s=n(22),u=n(401),l=n(407),c=n(402),h=n(1),f=n(10),d=n(416),p=n(76),v=n(3),g=new i({Extends:o,initialize:function(e){o.call(this),this.game=e,this.canvas,this.canvasBounds=new f,this.parent=null,this.parentIsWindow=!1,this.parentSize=new d,this.gameSize=new d,this.baseSize=new d,this.displaySize=new d,this.scaleMode=r.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new v(1,1),this.autoRound=!1,this.autoCenter=r.CENTER.NO_CENTER,this.orientation=r.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:h,windowResize:h,fullScreenChange:h,fullScreenError:h}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var e=this.game;this.canvas=e.canvas,this.fullscreen=e.device.fullscreen,this.scaleMode!==r.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===r.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),e.events.on(s.PRE_STEP,this.step,this),e.events.once(s.READY,this.refresh,this),e.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(e){this.getParent(e),this.getParentBounds();var t=e.width,n=e.height,i=e.scaleMode,o=e.zoom,a=e.autoRound;if("string"===typeof t){var s=this.parentSize.width;0===s&&(s=window.innerWidth);var u=parseInt(t,10)/100;t=Math.floor(s*u)}if("string"===typeof n){var l=this.parentSize.height;0===l&&(l=window.innerHeight);var h=parseInt(n,10)/100;n=Math.floor(l*h)}this.scaleMode=i,this.autoRound=a,this.autoCenter=e.autoCenter,this.resizeInterval=e.resizeInterval,a&&(t=Math.floor(t),n=Math.floor(n)),this.gameSize.setSize(t,n),o===r.ZOOM.MAX_ZOOM&&(o=this.getMaxZoom()),this.zoom=o,1!==o&&(this._resetZoom=!0),this.baseSize.setSize(t,n),a&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),e.minWidth>0&&this.displaySize.setMin(e.minWidth*o,e.minHeight*o),e.maxWidth>0&&this.displaySize.setMax(e.maxWidth*o,e.maxHeight*o),this.displaySize.setSize(t,n),this.orientation=c(t,n)},getParent:function(e){var t=e.parent;if(null!==t){if(this.parent=l(t),this.parentIsWindow=this.parent===document.body,e.expandParent&&e.scaleMode!==r.SCALE_MODE.NONE){var n=this.parent.getBoundingClientRect();(this.parentIsWindow||0===n.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",n=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==n.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}e.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=l(e.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var e=this.parentSize,t=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(t.height=u(!0));var n=t.width,r=t.height;return(e.width!==n||e.height!==r)&&(e.setSize(n,r),!0)},lockOrientation:function(e){var t=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!t&&t.call(screen,e)},setParentSize:function(e,t){return this.parentSize.setSize(e,t),this.refresh()},setGameSize:function(e,t){var n=this.autoRound;n&&(e=Math.floor(e),t=Math.floor(t));var r=this.width,i=this.height;return this.gameSize.resize(e,t),this.baseSize.resize(e,t),n&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(e/t),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(r,i)},resize:function(e,t){var n=this.zoom,r=this.autoRound;r&&(e=Math.floor(e),t=Math.floor(t));var i=this.width,o=this.height;this.gameSize.resize(e,t),this.baseSize.resize(e,t),r&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(e*n,t*n),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var a=this.canvas.style,s=e*n,u=t*n;return r&&(s=Math.floor(s),u=Math.floor(u)),s===e&&u===t||(a.width=s+"px",a.height=u+"px"),this.refresh(i,o)},setZoom:function(e){return this.zoom=e,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var n=this.game.domContainer;if(n){this.baseSize.setCSS(n);var r=this.canvas.style,i=n.style;i.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",i.marginLeft=r.marginLeft,i.marginTop=r.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,e,t),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var e=c(this.width,this.height);e!==this.orientation&&(this.orientation=e,this.emit(a.ORIENTATION_CHANGE,e))}},updateScale:function(){var e,t,n=this.canvas.style,i=this.gameSize.width,o=this.gameSize.height,a=this.zoom,s=this.autoRound;this.scaleMode===r.SCALE_MODE.NONE?(this.displaySize.setSize(i*a,o*a),e=this.displaySize.width,t=this.displaySize.height,s&&(e=Math.floor(e),t=Math.floor(t)),this._resetZoom&&(n.width=e+"px",n.height=t+"px",this._resetZoom=!1)):this.scaleMode===r.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),e=this.displaySize.width,t=this.displaySize.height,s&&(e=Math.floor(e),t=Math.floor(t)),this.canvas.width=e,this.canvas.height=t):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),e=this.displaySize.width,t=this.displaySize.height,s&&(e=Math.floor(e),t=Math.floor(t)),n.width=e+"px",n.height=t+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var e=p(this.parentSize.width,this.gameSize.width,0,!0),t=p(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(e,t),1)},updateCenter:function(){var e=this.autoCenter;if(e!==r.CENTER.NO_CENTER){var t=this.canvas,n=t.style,i=t.getBoundingClientRect(),o=i.width,a=i.height,s=Math.floor((this.parentSize.width-o)/2),u=Math.floor((this.parentSize.height-a)/2);e===r.CENTER.CENTER_HORIZONTALLY?u=0:e===r.CENTER.CENTER_VERTICALLY&&(s=0),n.marginLeft=s+"px",n.marginTop=u+"px"}},updateBounds:function(){var e=this.canvasBounds,t=this.canvas.getBoundingClientRect();e.x=t.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),e.y=t.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),e.width=t.width,e.height=t.height},transformX:function(e){return(e-this.canvasBounds.left)*this.displayScale.x},transformY:function(e){return(e-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(e){void 0===e&&(e={navigationUI:"hide"});var t=this.fullscreen;if(t.available){if(!t.active){var n=this.getFullscreenTarget();t.keyboard?n[t.request](Element.ALLOW_KEYBOARD_INPUT):n[t.request](e)}}else this.emit(a.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(e){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,e)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var e=document.createElement("div");e.style.margin="0",e.style.padding="0",e.style.width="100%",e.style.height="100%",this.fullscreenTarget=e,this._createdFullscreenTarget=!0}return this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)),this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var e=this.fullscreenTarget;if(e&&e.parentNode){var t=e.parentNode;t.insertBefore(this.canvas,e),t.removeChild(e)}}},stopFullscreen:function(){var e=this.fullscreen;if(!e.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;e.active&&document[e.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(e){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(e)},startListeners:function(){var e=this,t=this.listeners;t.orientationChange=function(){e.updateBounds(),e._checkOrientation=!0,e.dirty=!0},t.windowResize=function(){e.updateBounds(),e.dirty=!0},window.addEventListener("orientationchange",t.orientationChange,!1),window.addEventListener("resize",t.windowResize,!1),this.fullscreen.available&&(t.fullScreenChange=function(t){return e.onFullScreenChange(t)},t.fullScreenError=function(t){return e.onFullScreenError(t)},["webkit","moz",""].forEach((function(e){document.addEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.addEventListener(e+"fullscreenerror",t.fullScreenError,!1)})),document.addEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.addEventListener("MSFullscreenError",t.fullScreenError,!1))},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(e,t){this.parent&&(this._lastCheck+=t,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var e=this.listeners;window.removeEventListener("orientationchange",e.orientationChange,!1),window.removeEventListener("resize",e.windowResize,!1),["webkit","moz",""].forEach((function(t){document.removeEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.removeEventListener(t+"fullscreenerror",e.fullScreenError,!1)})),document.removeEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",e.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===r.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===r.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});e.exports=g},function(e,t,n){var r=n(18),i=n(0),o=n(76),a=n(3),s=new i({initialize:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=e),void 0===n&&(n=0),void 0===r&&(r=null),this._width=e,this._height=t,this._parent=r,this.aspectMode=n,this.aspectRatio=0===t?1:e/t,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(e){return void 0===e&&(e=0),this.aspectMode=e,this.setSize(this._width,this._height)},setSnap:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.snapTo.set(e,t),this.setSize(this._width,this._height)},setParent:function(e){return this._parent=e,this.setSize(this._width,this._height)},setMin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.minWidth=r(e,0,this.maxWidth),this.minHeight=r(t,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(e,t){return void 0===e&&(e=Number.MAX_VALUE),void 0===t&&(t=e),this.maxWidth=r(e,this.minWidth,Number.MAX_VALUE),this.maxHeight=r(t,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(e,t){switch(void 0===e&&(e=0),void 0===t&&(t=e),this.aspectMode){case s.NONE:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(t,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(e,t,!0);break;case s.ENVELOP:this.constrain(e,t,!1)}return this},setAspectRatio:function(e){return this.aspectRatio=e,this.setSize(this._width,this._height)},resize:function(e,t){return this._width=this.getNewWidth(o(e,this.snapTo.x)),this._height=this.getNewHeight(o(t,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(e,t){return void 0===t&&(t=!0),e=r(e,this.minWidth,this.maxWidth),t&&this._parent&&e>this._parent.width&&(e=Math.max(this.minWidth,this._parent.width)),e},getNewHeight:function(e,t){return void 0===t&&(t=!0),e=r(e,this.minHeight,this.maxHeight),t&&this._parent&&e>this._parent.height&&(e=Math.max(this.minHeight,this._parent.height)),e},constrain:function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=e),void 0===n&&(n=!0),e=this.getNewWidth(e),t=this.getNewHeight(t);var r=this.snapTo,i=0===t?1:e/t;return n&&this.aspectRatio>i||!n&&this.aspectRatio<i?(t=(e=o(e,r.x))/this.aspectRatio,r.y>0&&(e=(t=o(t,r.y))*this.aspectRatio)):(n&&this.aspectRatio<i||!n&&this.aspectRatio>i)&&(e=(t=o(t,r.y))*this.aspectRatio,r.x>0&&(t=(e=o(e,r.x))*(1/this.aspectRatio))),this._width=e,this._height=t,this},fitTo:function(e,t){return this.constrain(e,t,!0)},envelop:function(e,t){return this.constrain(e,t,!1)},setWidth:function(e){return this.setSize(e,this._height)},setHeight:function(e){return this.setSize(this._width,e)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(e){e&&e.style&&(e.style.width=this._width+"px",e.style.height=this._height+"px")},copy:function(e){return e.setAspectMode(this.aspectMode),e.aspectRatio=this.aspectRatio,e.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(e){this.setSize(e,this._height)}},height:{get:function(){return this._height},set:function(e){this.setSize(this._width,e)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,e.exports=s},function(e,t,n){var r=n(0),i=n(144),o=n(20),a=n(22),s=n(6),u=n(95),l=n(1),c=n(418),h=n(204),f=new r({initialize:function(e,t){if(this.game=e,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++)this._pending.push({key:"default",scene:t[n],autoStart:0===n,data:{}})}e.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var e,t,n,r;for(e=0;e<this._pending.length;e++){var i;n=(t=this._pending[e]).key,(r=t.scene)instanceof c?i=this.createSceneFromInstance(n,r):"object"===typeof r?i=this.createSceneFromObject(n,r):"function"===typeof r&&(i=this.createSceneFromFunction(n,r)),n=i.sys.settings.key,this.keys[n]=i,this.scenes.push(i),this._data[n]&&(i.sys.settings.data=this._data[n].data,this._data[n].autoStart&&(t.autoStart=!0)),(t.autoStart||i.sys.settings.active)&&this._start.push(n)}for(this._pending.length=0,this._data={},this.isBooted=!0,e=0;e<this._start.length;e++)t=this._start[e],this.start(t);this._start.length=0}},processQueue:function(){var e=this._pending.length,t=this._queue.length;if(0!==e||0!==t){var n,r;if(e){for(n=0;n<e;n++)r=this._pending[n],this.add(r.key,r.scene,r.autoStart,r.data);for(n=0;n<this._start.length;n++)r=this._start[n],this.start(r);return this._start.length=0,void(this._pending.length=0)}for(n=0;n<this._queue.length;n++)this[(r=this._queue[n]).op](r.keyA,r.keyB);this._queue.length=0}},add:function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r={}),this.isProcessing||!this.isBooted?(this._pending.push({key:e,scene:t,autoStart:n,data:r}),this.isBooted||(this._data[e]={data:r}),null):(e=this.getKey(e,t),t instanceof c?i=this.createSceneFromInstance(e,t):"object"===typeof t?(t.key=e,i=this.createSceneFromObject(e,t)):"function"===typeof t&&(i=this.createSceneFromFunction(e,t)),i.sys.settings.data=r,e=i.sys.settings.key,this.keys[e]=i,this.scenes.push(i),(n||i.sys.settings.active)&&(this._pending.length?this._start.push(e):this.start(e)),i);var i},remove:function(e){if(this.isProcessing)this._queue.push({op:"remove",keyA:e,keyB:null});else{var t=this.getScene(e);if(!t||t.sys.isTransitioning())return this;var n=this.scenes.indexOf(t),r=t.sys.settings.key;n>-1&&(delete this.keys[r],this.scenes.splice(n,1),this._start.indexOf(r)>-1&&(n=this._start.indexOf(r),this._start.splice(n,1)),t.sys.destroy())}return this},bootScene:function(e){var t,n=e.sys,r=n.settings;n.sceneUpdate=l,e.init&&(e.init.call(e,r.data),r.status=i.INIT,r.isTransition&&n.events.emit(o.TRANSITION_INIT,r.transitionFrom,r.transitionDuration)),n.load&&(t=n.load).reset(),t&&e.preload?(e.preload.call(e),0===t.list.size?this.create(e):(r.status=i.LOADING,t.once(u.COMPLETE,this.loadComplete,this),t.start())):this.create(e)},loadComplete:function(e){this.create(e.scene)},payloadComplete:function(e){this.bootScene(e.scene)},update:function(e,t){this.processQueue(),this.isProcessing=!0;for(var n=this.scenes.length-1;n>=0;n--){var r=this.scenes[n].sys;r.settings.status>i.START&&r.settings.status<=i.RUNNING&&r.step(e,t)}},render:function(e){for(var t=0;t<this.scenes.length;t++){var n=this.scenes[t].sys;n.settings.visible&&n.settings.status>=i.LOADING&&n.settings.status<i.SLEEPING&&n.render(e)}this.isProcessing=!1},create:function(e){var t=e.sys,n=t.settings;e.create&&(n.status=i.CREATING,e.create.call(e,n.data),n.status===i.DESTROYED)||(n.isTransition&&t.events.emit(o.TRANSITION_START,n.transitionFrom,n.transitionDuration),e.update&&(t.sceneUpdate=e.update),n.status=i.RUNNING,t.events.emit(o.CREATE,e))},createSceneFromFunction:function(e,t){var n=new t;if(n instanceof c){var r=n.sys.settings.key;if(""!==r&&(e=r),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return this.createSceneFromInstance(e,n)}return n.sys=new h(n),n.sys.settings.key=e,n.sys.init(this.game),n},createSceneFromInstance:function(e,t){return""===t.sys.settings.key&&(t.sys.settings.key=e),t.sys.init(this.game),t},createSceneFromObject:function(e,t){var n=new c(t),r=n.sys.settings.key;""!==r?e=r:n.sys.settings.key=e,n.sys.init(this.game);for(var i=["init","preload","create","update","render"],o=0;o<i.length;o++){var a=s(t,i[o],null);a&&(n[i[o]]=a)}if(t.hasOwnProperty("extend"))for(var u in t.extend)if(t.extend.hasOwnProperty(u)){var l=t.extend[u];"data"===u&&n.hasOwnProperty("data")&&"object"===typeof l?n.data.merge(l):"sys"!==u&&(n[u]=l)}return n},getKey:function(e,t){if(e||(e="default"),"function"===typeof t)return e;if(t instanceof c?e=t.sys.settings.key:"object"===typeof t&&t.hasOwnProperty("key")&&(e=t.key),this.keys.hasOwnProperty(e))throw new Error("Cannot add a Scene with duplicate key: "+e);return e},getScenes:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1);for(var n=[],r=this.scenes,i=0;i<r.length;i++){var o=r[i];o&&(!e||e&&o.sys.isActive())&&n.push(o)}return t?n.reverse():n},getScene:function(e){if("string"===typeof e){if(this.keys[e])return this.keys[e]}else for(var t=0;t<this.scenes.length;t++)if(e===this.scenes[t])return e;return null},isActive:function(e){var t=this.getScene(e);return t?t.sys.isActive():null},isPaused:function(e){var t=this.getScene(e);return t?t.sys.isPaused():null},isVisible:function(e){var t=this.getScene(e);return t?t.sys.isVisible():null},isSleeping:function(e){var t=this.getScene(e);return t?t.sys.isSleeping():null},pause:function(e,t){var n=this.getScene(e);return n&&n.sys.pause(t),this},resume:function(e,t){var n=this.getScene(e);return n&&n.sys.resume(t),this},sleep:function(e,t){var n=this.getScene(e);return n&&!n.sys.isTransitioning()&&n.sys.sleep(t),this},wake:function(e,t){var n=this.getScene(e);return n&&n.sys.wake(t),this},run:function(e,t){var n=this.getScene(e);if(!n){for(var r=0;r<this._pending.length;r++)if(this._pending[r].key===e){this.queueOp("start",e,t);break}return this}n.sys.isSleeping()?n.sys.wake(t):n.sys.isPaused()?n.sys.resume(t):this.start(e,t)},start:function(e,t){if(!this.isBooted)return this._data[e]={autoStart:!0,data:t},this;var n=this.getScene(e);if(n){var r,o=n.sys;if(o.isActive()||o.isPaused())o.shutdown(),o.sceneUpdate=l,o.start(t);else if(o.sceneUpdate=l,o.start(t),o.load&&(r=o.load),r&&o.settings.hasOwnProperty("pack")&&(r.reset(),r.addPack({payload:o.settings.pack})))return o.settings.status=i.LOADING,r.once(u.COMPLETE,this.payloadComplete,this),r.start(),this;this.bootScene(n)}return this},stop:function(e,t){var n=this.getScene(e);return n&&!n.sys.isTransitioning()&&n.sys.shutdown(t),this},switch:function(e,t){var n=this.getScene(e),r=this.getScene(t);return n&&r&&n!==r&&(this.sleep(e),this.isSleeping(t)?this.wake(t):this.start(t)),this},getAt:function(e){return this.scenes[e]},getIndex:function(e){var t=this.getScene(e);return this.scenes.indexOf(t)},bringToTop:function(e){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t<this.scenes.length){var n=this.getScene(e);this.scenes.splice(t,1),this.scenes.push(n)}}return this},sendToBack:function(e){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:e,keyB:null});else{var t=this.getIndex(e);if(-1!==t&&t>0){var n=this.getScene(e);this.scenes.splice(t,1),this.scenes.unshift(n)}}return this},moveDown:function(e){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t>0){var n=t-1,r=this.getScene(e),i=this.getAt(n);this.scenes[t]=i,this.scenes[n]=r}}return this},moveUp:function(e){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:e,keyB:null});else{var t=this.getIndex(e);if(t<this.scenes.length-1){var n=t+1,r=this.getScene(e),i=this.getAt(n);this.scenes[t]=i,this.scenes[n]=r}}return this},moveAbove:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:e,keyB:t});else{var n=this.getIndex(e),r=this.getIndex(t);if(-1!==n&&-1!==r){var i=this.getAt(r);this.scenes.splice(r,1),this.scenes.splice(n+1,0,i)}}return this},moveBelow:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:e,keyB:t});else{var n=this.getIndex(e),r=this.getIndex(t);if(-1!==n&&-1!==r){var i=this.getAt(r);this.scenes.splice(r,1),0===n?this.scenes.unshift(i):this.scenes.splice(n,0,i)}}return this},queueOp:function(e,t,n){return this._queue.push({op:e,keyA:t,keyB:n}),this},swapPosition:function(e,t){if(e===t)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:e,keyB:t});else{var n=this.getIndex(e),r=this.getIndex(t);if(n!==r&&-1!==n&&-1!==r){var i=this.getAt(n);this.scenes[n]=this.scenes[r],this.scenes[r]=i}}return this},dump:function(){for(var e=[],t=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],n=0;n<this.scenes.length;n++){var r=this.scenes[n].sys,o=!r.settings.visible||r.settings.status!==i.RUNNING&&r.settings.status!==i.PAUSED?"[-] ":"[*] ";o+=r.settings.key+" ("+t[r.settings.status]+")",e.push(o)}console.log(e.join("\n"))},destroy:function(){for(var e=0;e<this.scenes.length;e++)this.scenes[e].sys.destroy();this.update=l,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});e.exports=f},function(e,t,n){var r=n(0),i=n(204),o=new r({initialize:function(e){this.sys=new i(this,e),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});e.exports=o},function(e,t,n){var r=n(2),i=n(205);e.exports=function(e){var t=e.game.config.defaultPhysicsSystem,n=r(e.settings,"physics",!1);if(t||n){var o=[];if(t&&o.push(i(t+"Physics")),n)for(var a in n)a=i(a.concat("Physics")),-1===o.indexOf(a)&&o.push(a);return o}}},function(e,t,n){var r=n(2);e.exports=function(e){var t=e.plugins.getDefaultScenePlugins(),n=r(e.settings,"plugins",!1);return Array.isArray(n)?n:t||[]}},function(e,t,n){var r=n(144),i=n(6),o=n(127),a=n(978),s={create:function(e){return"string"===typeof e?e={key:e}:void 0===e&&(e={}),{status:r.PENDING,key:i(e,"key",""),active:i(e,"active",!1),visible:i(e,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:i(e,"pack",!1),cameras:i(e,"cameras",null),map:i(e,"map",o(a,i(e,"mapAdd",{}))),physics:i(e,"physics",{}),loader:i(e,"loader",{}),plugins:i(e,"plugins",!1),input:i(e,"input",{})}}};e.exports=s},function(e,t,n){var r=n(31),i=n(423),o=n(0),a=n(38),s=n(33),u=n(9),l=n(106),c=n(22),h=n(388),f=n(6),d=n(425),p=n(206),v=new o({Extends:u,initialize:function(e){u.call(this),this.game=e,this.name="TextureManager",this.list={},this._tempCanvas=r.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,e.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(l.LOAD,this.updatePending,this),this.on(l.ERROR,this.updatePending,this);var e=this.game.config;this.addBase64("__DEFAULT",e.defaultImage),this.addBase64("__MISSING",e.missingImage),this.addBase64("__WHITE",e.whiteImage),this.game.events.once(c.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(l.LOAD),this.off(l.ERROR),this.emit(l.READY))},checkKey:function(e){return!this.exists(e)||(console.error("Texture key already in use: "+e),!1)},remove:function(e){if("string"===typeof e){if(!this.exists(e))return console.warn("No texture found matching key: "+e),this;e=this.get(e)}return this.list.hasOwnProperty(e.key)&&(e.destroy(),this.emit(l.REMOVE,e.key)),this},removeKey:function(e){return this.list.hasOwnProperty(e)&&delete this.list[e],this},addBase64:function(e,t){if(this.checkKey(e)){var n=this,r=new Image;r.onerror=function(){n.emit(l.ERROR,e)},r.onload=function(){var t=n.create(e,r);d.Image(t,0),n.emit(l.ADD,e,t),n.emit(l.LOAD,e,t)},r.src=t}return this},getBase64:function(e,t,n,i){void 0===n&&(n="image/png"),void 0===i&&(i=.92);var o="",a=this.getFrame(e,t);if(a&&(a.source.isRenderTexture||a.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(a){var s=a.canvasData,u=r.create2D(this,s.width,s.height);u.getContext("2d").drawImage(a.source.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height),o=u.toDataURL(n,i),r.remove(u)}return o},addImage:function(e,t,n){var r=null;return this.checkKey(e)&&(r=this.create(e,t),d.Image(r,0),n&&r.setDataSource(n),this.emit(l.ADD,e,r)),r},addGLTexture:function(e,t,n,r){var i=null;return this.checkKey(e)&&(void 0===n&&(n=t.width),void 0===r&&(r=t.height),(i=this.create(e,t,n,r)).add("__BASE",0,0,0,n,r),this.emit(l.ADD,e,i)),i},addRenderTexture:function(e,t){var n=null;return this.checkKey(e)&&((n=this.create(e,t)).add("__BASE",0,0,0,t.width,t.height),this.emit(l.ADD,e,n)),n},generate:function(e,t){if(this.checkKey(e)){var n=r.create(this,1,1);return t.canvas=n,h(t),this.addCanvas(e,n)}return null},createCanvas:function(e,t,n){if(void 0===t&&(t=256),void 0===n&&(n=256),this.checkKey(e)){var i=r.create(this,t,n,s.CANVAS,!0);return this.addCanvas(e,i)}return null},addCanvas:function(e,t,n){void 0===n&&(n=!1);var r=null;return n?r=new i(this,e,t,t.width,t.height):this.checkKey(e)&&(r=new i(this,e,t,t.width,t.height),this.list[e]=r,this.emit(l.ADD,e,r)),r},addAtlas:function(e,t,n,r){return Array.isArray(n.textures)||Array.isArray(n.frames)?this.addAtlasJSONArray(e,t,n,r):this.addAtlasJSONHash(e,t,n,r)},addAtlasJSONArray:function(e,t,n,r){var i=null;if(this.checkKey(e)){if(i=this.create(e,t),Array.isArray(n))for(var o=1===n.length,a=0;a<i.source.length;a++){var s=o?n[0]:n[a];d.JSONArray(i,a,s)}else d.JSONArray(i,0,n);r&&i.setDataSource(r),this.emit(l.ADD,e,i)}return i},addAtlasJSONHash:function(e,t,n,r){var i=null;if(this.checkKey(e)){if(i=this.create(e,t),Array.isArray(n))for(var o=0;o<n.length;o++)d.JSONHash(i,o,n[o]);else d.JSONHash(i,0,n);r&&i.setDataSource(r),this.emit(l.ADD,e,i)}return i},addAtlasXML:function(e,t,n,r){var i=null;return this.checkKey(e)&&(i=this.create(e,t),d.AtlasXML(i,0,n),r&&i.setDataSource(r),this.emit(l.ADD,e,i)),i},addUnityAtlas:function(e,t,n,r){var i=null;return this.checkKey(e)&&(i=this.create(e,t),d.UnityYAML(i,0,n),r&&i.setDataSource(r),this.emit(l.ADD,e,i)),i},addSpriteSheet:function(e,t,n){var r=null;if(this.checkKey(e)){var i=(r=this.create(e,t)).source[0].width,o=r.source[0].height;d.SpriteSheet(r,0,0,0,i,o,n),this.emit(l.ADD,e,r)}return r},addSpriteSheetFromAtlas:function(e,t){if(!this.checkKey(e))return null;var n=f(t,"atlas",null),r=f(t,"frame",null);if(n&&r){var i=this.get(n).get(r);if(i){var o=this.create(e,i.source.image);return i.trimmed?d.SpriteSheetFromAtlas(o,i,t):d.SpriteSheet(o,0,i.cutX,i.cutY,i.cutWidth,i.cutHeight,t),this.emit(l.ADD,e,o),o}}},create:function(e,t,n,r){var i=null;return this.checkKey(e)&&(i=new p(this,e,t,n,r),this.list[e]=i),i},exists:function(e){return this.list.hasOwnProperty(e)},get:function(e){return void 0===e&&(e="__DEFAULT"),this.list[e]?this.list[e]:e instanceof p?e:this.list.__MISSING},cloneFrame:function(e,t){if(this.list[e])return this.list[e].get(t).clone()},getFrame:function(e,t){if(this.list[e])return this.list[e].get(t)},getTextureKeys:function(){var e=[];for(var t in this.list)"__DEFAULT"!==t&&"__MISSING"!==t&&e.push(t);return e},getPixel:function(e,t,n,r){var i=this.getFrame(n,r);if(i){e-=i.x,t-=i.y;var o=i.data.cut;if(e+=o.x,t+=o.y,e>=o.x&&e<o.r&&t>=o.y&&t<o.b){var s=this._tempContext;s.clearRect(0,0,1,1),s.drawImage(i.source.image,e,t,1,1,0,0,1,1);var u=s.getImageData(0,0,1,1);return new a(u.data[0],u.data[1],u.data[2],u.data[3])}}return null},getPixelAlpha:function(e,t,n,r){var i=this.getFrame(n,r);if(i){e-=i.x,t-=i.y;var o=i.data.cut;if(e+=o.x,t+=o.y,e>=o.x&&e<o.r&&t>=o.y&&t<o.b){var a=this._tempContext;return a.clearRect(0,0,1,1),a.drawImage(i.source.image,e,t,1,1,0,0,1,1),a.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(e,t,n){return this.list[t]&&(e.texture=this.list[t],e.frame=e.texture.get(n)),e},renameTexture:function(e,t){var n=this.get(e);return!(!n||e===t)&&(n.key=t,this.list[t]=n,delete this.list[e],!0)},each:function(e,t){for(var n=[null],r=1;r<arguments.length;r++)n.push(arguments[r]);for(var i in this.list)n[0]=this.list[i],e.apply(t,n)},destroy:function(){for(var e in this.list)this.list[e].destroy();this.list={},this.game=null,r.remove(this._tempCanvas)}});e.exports=v},function(e,t,n){var r=n(0),i=n(18),o=n(38),a=n(33),s=n(138),u=n(206),l=new r({Extends:u,initialize:function(e,t,n,r,i){u.call(this,e,t,n,r,i),this.add("__BASE",0,0,0,r,i),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=r,this.height=i,this.imageData=this.context.getImageData(0,0,r,i),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(e,t,n){return this.context.drawImage(n,e,t),this.update()},drawFrame:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=this.manager.getFrame(e,t);if(i){var o=i.canvasData,a=i.cutWidth,s=i.cutHeight,u=i.source.resolution;return this.context.drawImage(i.source.image,o.x,o.y,a,s,n,r,a/u,s/u),this.update()}return this},setPixel:function(e,t,n,r,i,o){if(void 0===o&&(o=255),e=Math.abs(Math.floor(e)),t=Math.abs(Math.floor(t)),this.getIndex(e,t)>-1){var a=this.context.getImageData(e,t,1,1);a.data[0]=n,a.data[1]=r,a.data[2]=i,a.data[3]=o,this.context.putImageData(a,e,t)}return this},putData:function(e,t,n,r,i,o,a){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=e.width),void 0===a&&(a=e.height),this.context.putImageData(e,t,n,r,i,o,a),this},getData:function(e,t,n,r){return e=i(Math.floor(e),0,this.width-1),t=i(Math.floor(t),0,this.height-1),n=i(n,1,this.width-e),r=i(r,1,this.height-t),this.context.getImageData(e,t,n,r)},getPixel:function(e,t,n){n||(n=new o);var r=this.getIndex(e,t);if(r>-1){var i=this.data,a=i[r+0],s=i[r+1],u=i[r+2],l=i[r+3];n.setTo(a,s,u,l)}return n},getPixels:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=this.width),void 0===r&&(r=n),e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t));for(var a=i(e,0,this.width),s=i(e+n,0,this.width),u=i(t,0,this.height),l=i(t+r,0,this.height),c=new o,h=[],f=u;f<l;f++){for(var d=[],p=a;p<s;p++)c=this.getPixel(p,f,c),d.push({x:p,y:f,color:c.color,alpha:c.alphaGL});h.push(d)}return h},getIndex:function(e,t){return e=Math.abs(Math.round(e)),t=Math.abs(Math.round(t)),e<this.width&&t<this.height?4*(e+t*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(e,t,n,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=this.width),void 0===r&&(r=this.height),this.context.clearRect(e,t,n,r),this.update()},setSize:function(e,t){return void 0===t&&(t=e),e===this.width&&t===this.height||(this.canvas.width=e,this.canvas.height=t,this._source.width=e,this._source.height=t,this._source.isPowerOf2=s(e,t),this.frames.__BASE.setSize(e,t,0,0),this.width=e,this.height=t,this.refresh()),this},destroy:function(){u.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});e.exports=l},function(e,t,n){var r=n(31),i=n(0),o=n(138),a=n(168),s=new i({initialize:function(e,t,n,r,i){void 0===i&&(i=!1);var s=e.manager.game;this.renderer=s.renderer,this.texture=e,this.source=t,this.image=t,this.compressionAlgorithm=null,this.resolution=1,this.width=n||t.naturalWidth||t.videoWidth||t.width||0,this.height=r||t.naturalHeight||t.videoHeight||t.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=t instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&t instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===t.type,this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&t instanceof WebGLTexture,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=i,this.init(s)},init:function(e){var t=this.renderer;t&&(t.gl?this.isCanvas?this.glTexture=t.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=t.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=t.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=t.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),e.config.antialias||this.setFilter(1)},setFilter:function(e){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,e),this.scaleMode=e},setFlipY:function(e){return void 0===e&&(e=!0),this.flipY=e,this},update:function(){var e=this.renderer.gl;e&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):e&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&r.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});e.exports=s},function(e,t,n){e.exports={AtlasXML:n(979),Canvas:n(980),Image:n(981),JSONArray:n(982),JSONHash:n(983),SpriteSheet:n(984),SpriteSheetFromAtlas:n(985),UnityYAML:n(986)}},function(e,t,n){var r=n(427),i=n(430),o=n(432),a={create:function(e){var t=e.config.audio,n=e.device.audio;return t.noAudio||!n.webAudio&&!n.audioData?new i(e):n.webAudio&&!t.disableWebAudio?new o(e):new r(e)}};e.exports=a},function(e,t,n){var r=n(145),i=n(0),o=n(70),a=n(429),s=new i({Extends:r,initialize:function(e){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,r.call(this,e)},add:function(e,t){var n=new a(this,e,t);return this.sounds.push(n),n},unlock:function(){this.locked=!1;var e=this;if(this.game.cache.audio.entries.each((function(t,n){for(var r=0;r<n.length;r++)if("true"===n[r].dataset.locked)return e.locked=!0,!1;return!0})),this.locked){var t=!1,n=function(){t=!0},r=function r(){if(t)t=!1;else{document.body.removeEventListener("touchmove",n),document.body.removeEventListener("touchend",r);var i=[];if(e.game.cache.audio.entries.each((function(e,t){for(var n=0;n<t.length;n++){var r=t[n];"true"===r.dataset.locked&&i.push(r)}return!0})),0!==i.length){var o=i[i.length-1];o.oncanplaythrough=function(){o.oncanplaythrough=null,i.forEach((function(e){e.dataset.locked="false"})),e.unlocked=!0},i.forEach((function(e){e.load()}))}}};this.once(o.UNLOCKED,(function(){for(this.forEachActiveSound((function(e){null===e.currentMarker&&0===e.duration&&(e.duration=e.tags[0].duration),e.totalDuration=e.tags[0].duration}));this.lockedActionsQueue.length;){var e=this.lockedActionsQueue.shift();e.sound[e.prop].apply?e.sound[e.prop].apply(e.sound,e.value||[]):e.sound[e.prop]=e.value}}),this),document.body.addEventListener("touchmove",n,!1),document.body.addEventListener("touchend",r,!1)}},onBlur:function(){this.forEachActiveSound((function(e){e.isPlaying&&(this.onBlurPausedSounds.push(e),e.onBlur())}))},onFocus:function(){this.onBlurPausedSounds.forEach((function(e){e.onFocus()})),this.onBlurPausedSounds.length=0},destroy:function(){r.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(e,t,n){return"true"===e.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:e,prop:t,value:n}),!0)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return this._mute},set:function(e){this._mute=e,this.forEachActiveSound((function(e){e.updateMute()})),this.emit(o.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this._volume},set:function(e){this._volume=e,this.forEachActiveSound((function(e){e.updateVolume()})),this.emit(o.GLOBAL_VOLUME,this,e)}}});e.exports=s},function(e,t,n){var r=n(78);e.exports=function(e,t,n,i,o){if(void 0===i&&(i=0),void 0===o&&(o=e.length),r(e,i,o))for(var a=i;a<o;a++){var s=e[a];if(!t||t&&void 0===n&&s.hasOwnProperty(t)||t&&void 0!==n&&s[t]===n)return s}return null}},function(e,t,n){var r=n(146),i=n(0),o=n(70),a=n(18),s=new i({Extends:r,initialize:function(e,t,n){if(void 0===n&&(n={}),this.tags=e.game.cache.audio.get(t),!this.tags)throw new Error('There is no audio asset with key "'+t+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,r.call(this,e,t,n)},play:function(e,t){return!this.manager.isLocked(this,"play",[e,t])&&!!r.prototype.play.call(this,e,t)&&!!this.pickAndPlayAudioTag()&&(this.emit(o.PLAY,this),!0)},pause:function(){return!this.manager.isLocked(this,"pause")&&!(this.startTime>0)&&!!r.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return!this.manager.isLocked(this,"resume")&&!(this.startTime>0)&&!!r.prototype.resume.call(this)&&!!this.pickAndPlayAudioTag()&&(this.emit(o.RESUME,this),!0)},stop:function(){return!this.manager.isLocked(this,"stop")&&!!r.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var e=this.currentConfig.seek,t=this.currentConfig.delay,n=(this.currentMarker?this.currentMarker.start:0)+e;return this.previousTime=n,this.audio.currentTime=n,this.applyConfig(),0===t?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*t,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var e=0;e<this.tags.length;e++){var t=this.tags[e];if("false"===t.dataset.used)return t.dataset.used="true",this.audio=t,!0}if(!this.manager.override)return!1;var n=[];this.manager.forEachActiveSound((function(e){e.key===this.key&&e.audio&&n.push(e)}),this),n.sort((function(e,t){return e.loop===t.loop?t.seek/t.duration-e.seek/e.duration:e.loop?1:-1}));var r=n[0];return this.audio=r.audio,r.reset(),r.audio=null,r.startTime=0,r.previousTime=0,!0},playCatchPromise:function(){var e=this.audio.play();e&&e.catch((function(e){console.warn(e)}))},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){r.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(e){if(this.isPlaying)if(this.startTime>0)this.startTime<e-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,e-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var t=this.currentMarker?this.currentMarker.start:0,n=t+this.duration,r=this.audio.currentTime;if(this.currentConfig.loop)r>=n-this.manager.loopEndOffset?(this.audio.currentTime=t+Math.max(0,r-n),r=this.audio.currentTime):r<t&&(this.audio.currentTime+=t,r=this.audio.currentTime),r<this.previousTime&&this.emit(o.LOOPED,this);else if(r>=n)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(o.COMPLETE,this);this.previousTime=r}},destroy:function(){r.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){r.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(e){this.currentConfig.mute=e,this.manager.isLocked(this,"mute",e)||(this.updateMute(),this.emit(o.MUTE,this,e))}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.currentConfig.volume},set:function(e){this.currentConfig.volume=e,this.manager.isLocked(this,"volume",e)||(this.updateVolume(),this.emit(o.VOLUME,this,e))}},setVolume:function(e){return this.volume=e,this},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.manager.isLocked(this,o.RATE,e)||(this.calculateRate(),this.emit(o.RATE,this,e))}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.manager.isLocked(this,o.DETUNE,e)||(this.calculateRate(),this.emit(o.DETUNE,this,e))}},setDetune:function(e){return this.detune=e,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.isLocked(this,"seek",e)||this.startTime>0||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.isPlaying?(this.previousTime=e,this.audio.currentTime=e):this.isPaused&&(this.currentConfig.seek=e),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.manager.isLocked(this,"loop",e)||(this.audio&&(this.audio.loop=e),this.emit(o.LOOP,this,e))}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.currentConfig.pan},set:function(e){this.currentConfig.pan=e,this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});e.exports=s},function(e,t,n){var r=n(145),i=n(0),o=n(9),a=n(431),s=n(1),u=new i({Extends:o,initialize:function(e){o.call(this),this.game=e,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(e,t){var n=new a(this,e,t);return this.sounds.push(n),n},addAudioSprite:function(e,t){var n=this.add(e,t);return n.spritemap={},n},play:function(e,t){return!1},playAudioSprite:function(e,t,n){return!1},remove:function(e){return r.prototype.remove.call(this,e)},removeByKey:function(e){return r.prototype.removeByKey.call(this,e)},pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,forEachActiveSound:function(e,t){r.prototype.forEachActiveSound.call(this,e,t)},destroy:function(){r.prototype.destroy.call(this)}});e.exports=u},function(e,t,n){var r=n(146),i=n(0),o=n(9),a=n(17),s=function(){return!1},u=function(){return this},l=new i({Extends:o,initialize:function(e,t,n){void 0===n&&(n={}),o.call(this),this.manager=e,this.key=t,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},n),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:s,updateMarker:s,removeMarker:function(){return null},play:s,pause:s,resume:s,stop:s,destroy:function(){r.prototype.destroy.call(this)},setMute:u,setVolume:u,setRate:u,setDetune:u,setSeek:u,setLoop:u,setPan:u});e.exports=l},function(e,t,n){var r=n(433),i=n(145),o=n(0),a=n(70),s=n(22),u=n(434),l=new o({Extends:i,initialize:function(e){this.context=this.createAudioContext(e),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),i.call(this,e),this.locked&&e.isBooted?this.unlock():e.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(e){var t=e.config.audio;return t.context?(t.context.resume(),t.context):window.hasOwnProperty("AudioContext")?new AudioContext:window.hasOwnProperty("webkitAudioContext")?new window.webkitAudioContext:void 0},setAudioContext:function(e){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=e,this.masterMuteNode=e.createGain(),this.masterVolumeNode=e.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(e.destination),this.destination=this.masterMuteNode,this},add:function(e,t){var n=new u(this,e,t);return this.sounds.push(n),n},decodeAudio:function(e,t){var n;n=Array.isArray(e)?e:[{key:e,data:t}];for(var i=this.game.cache.audio,o=n.length,s=0;s<n.length;s++){var u=n[s],l=u.key,c=u.data;"string"===typeof c&&(c=r(c));var h=function(e,t){i.add(e,t),this.emit(a.DECODED,e),0===--o&&this.emit(a.DECODED_ALL)}.bind(this,l),f=function(e,t){console.error("Error decoding audio: "+e+" - ",t?t.message:""),0===--o&&this.emit(a.DECODED_ALL)}.bind(this,l);this.context.decodeAudioData(c,h,f)}},unlock:function(){var e=this,t=document.body,n=function n(){if(e.context&&t){var r=t.removeEventListener;e.context.resume().then((function(){r("touchstart",n),r("touchend",n),r("click",n),r("keydown",n),e.unlocked=!0}),(function(){r("touchstart",n),r("touchend",n),r("click",n),r("keydown",n)}))}};t&&(t.addEventListener("touchstart",n,!1),t.addEventListener("touchend",n,!1),t.addEventListener("click",n,!1),t.addEventListener("keydown",n,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var e=this.context;"suspended"!==e.state&&"interrupted"!==e.state||this.locked||e.resume()},update:function(e,t){i.prototype.update.call(this,e,t);var n=this.context;n&&"interrupted"===n.state&&n.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var e=this;this.context.close().then((function(){e.context=null}))}i.prototype.destroy.call(this)},setMute:function(e){return this.mute=e,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(e){this.masterMuteNode.gain.setValueAtTime(e?0:1,0),this.emit(a.GLOBAL_MUTE,this,e)}},setVolume:function(e){return this.volume=e,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(e){this.masterVolumeNode.gain.setValueAtTime(e,0),this.emit(a.GLOBAL_VOLUME,this,e)}}});e.exports=l},function(e,t){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),i=0;i<n.length;i++)r[n.charCodeAt(i)]=i;e.exports=function(e){var t,n,i,o,a=(e=e.substr(e.indexOf(",")+1)).length,s=.75*a,u=0;"="===e[a-1]&&(s--,"="===e[a-2]&&s--);for(var l=new ArrayBuffer(s),c=new Uint8Array(l),h=0;h<a;h+=4)t=r[e.charCodeAt(h)],n=r[e.charCodeAt(h+1)],i=r[e.charCodeAt(h+2)],o=r[e.charCodeAt(h+3)],c[u++]=t<<2|n>>4,c[u++]=(15&n)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l}},function(e,t,n){var r=n(146),i=n(0),o=n(70),a=new i({Extends:r,initialize:function(e,t,n){if(void 0===n&&(n={}),this.audioBuffer=e.game.cache.audio.get(t),!this.audioBuffer)throw new Error('Audio key "'+t+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=e.context.createGain(),this.volumeNode=e.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),e.context.createStereoPanner?(this.pannerNode=e.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(e.destination)):this.volumeNode.connect(e.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,r.call(this,e,t,n)},play:function(e,t){return!!r.prototype.play.call(this,e,t)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&!!r.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&!!r.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return!!r.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0)},createAndStartBufferSource:function(){var e=this.currentConfig.seek,t=this.currentConfig.delay,n=this.manager.context.currentTime+t,r=(this.currentMarker?this.currentMarker.start:0)+e,i=this.duration-e;this.playTime=n-e,this.startTime=n,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,n),Math.max(0,r),Math.max(0,i)),this.resetConfig()},createAndStartLoopBufferSource:function(){var e=this.getLoopTime(),t=this.currentMarker?this.currentMarker.start:0,n=this.duration;this.loopTime=e,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,e),Math.max(0,t),Math.max(0,n))},createBufferSource:function(){var e=this,t=this.manager.context.createBufferSource();return t.buffer=this.audioBuffer,t.connect(this.muteNode),t.onended=function(t){t.target===e.source&&(e.currentConfig.loop?e.hasLooped=!0:e.hasEnded=!0)},t},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),r.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,r.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){r.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){r.prototype.calculateRate.call(this);var e=this.manager.context.currentTime;this.source&&"number"===typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,e),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,e)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var e=0,t=0;t<this.rateUpdates.length;t++)e+=((t<this.rateUpdates.length-1?this.rateUpdates[t+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[t].time)*this.rateUpdates[t].rate;return e},getLoopTime:function(){for(var e=0,t=0;t<this.rateUpdates.length-1;t++)e+=(this.rateUpdates[t+1].time-this.rateUpdates[t].time)*this.rateUpdates[t].rate;var n=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+n.time+(this.duration-e)/n.rate},rate:{get:function(){return this.currentConfig.rate},set:function(e){this.currentConfig.rate=e,this.calculateRate(),this.emit(o.RATE,this,e)}},setRate:function(e){return this.rate=e,this},detune:{get:function(){return this.currentConfig.detune},set:function(e){this.currentConfig.detune=e,this.calculateRate(),this.emit(o.DETUNE,this,e)}},setDetune:function(e){return this.detune=e,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(e){this.currentConfig.mute=e,this.muteNode.gain.setValueAtTime(e?0:1,0),this.emit(o.MUTE,this,e)}},setMute:function(e){return this.mute=e,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(e){this.currentConfig.volume=e,this.volumeNode.gain.setValueAtTime(e,0),this.emit(o.VOLUME,this,e)}},setVolume:function(e){return this.volume=e,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(e){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(e=Math.min(Math.max(0,e),this.duration),this.currentConfig.seek=e,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,e))}},setSeek:function(e){return this.seek=e,this},loop:{get:function(){return this.currentConfig.loop},set:function(e){this.currentConfig.loop=e,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),e&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,e)}},setLoop:function(e){return this.loop=e,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(e){this.currentConfig.pan=e,this.pannerNode&&this.pannerNode.pan.setValueAtTime(e,this.manager.context.currentTime),this.emit(o.PAN,this,e)}},setPan:function(e){return this.pan=e,this}});e.exports=a},function(e,t){e.exports=function(e){for(var t=e.length,n=e[0].length,r=new Array(n),i=0;i<n;i++){r[i]=new Array(t);for(var o=t-1;o>-1;o--)r[i][o]=e[o][i]}return r}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return e<t?-1:e>t?1:0}e.exports=function e(t,i,o,a,s){for(void 0===o&&(o=0),void 0===a&&(a=t.length-1),void 0===s&&(s=r);a>o;){if(a-o>600){var u=a-o+1,l=i-o+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1);e(t,i,Math.max(o,Math.floor(i-l*h/u+f)),Math.min(a,Math.floor(i+(u-l)*h/u+f)),s)}var d=t[i],p=o,v=a;for(n(t,o,i),s(t[a],d)>0&&n(t,o,a);p<v;){for(n(t,p,v),p++,v--;s(t[p],d)<0;)p++;for(;s(t[v],d)>0;)v--}0===s(t[o],d)?n(t,o,v):n(t,++v,a),v<=i&&(o=v+1),i<=v&&(a=v-1)}}},function(e,t,n){var r=n(6),i=n(131),o=function(e,t,n){for(var r=[],i=0;i<e.length;i++)for(var o=0;o<t.length;o++)for(var a=0;a<n;a++)r.push({a:e[i],b:t[o]});return r};e.exports=function(e,t,n){var a=r(n,"max",0),s=r(n,"qty",1),u=r(n,"random",!1),l=r(n,"randomB",!1),c=r(n,"repeat",0),h=r(n,"yoyo",!1),f=[];if(l&&i(t),-1===c)if(0===a)c=0;else{var d=e.length*t.length*s;h&&(d*=2),c=Math.ceil(a/d)}for(var p=0;p<=c;p++){var v=o(e,t,s);u&&i(v),f=f.concat(v),h&&(v.reverse(),f=f.concat(v))}return a&&f.splice(a),f}},function(e,t,n){e.exports={PROCESS_QUEUE_ADD:n(1041),PROCESS_QUEUE_REMOVE:n(1042)}},function(e,t,n){var r=n(13);e.exports=function(e,t){var n=r(t,"anims",null);if(null===n)return e;if("string"===typeof n)e.anims.play(n);else if("object"===typeof n){var i=e.anims,o=r(n,"key",void 0);if(o){var a=r(n,"startFrame",void 0),s=r(n,"delay",0),u=r(n,"repeat",0),l=r(n,"repeatDelay",0),c=r(n,"yoyo",!1),h=r(n,"play",!1),f=r(n,"delayedPlay",0),d={key:o,delay:s,repeat:u,repeatDelay:l,yoyo:c,startFrame:a};h?i.play(d):f>0?i.playAfterDelay(d,f):i.load(d)}}return e}},function(e,t,n){var r=n(0),i=n(109),o=new r({initialize:function(e,t,n,r,i){this.parent=e,this.x=t,this.y=n,this.frame=r,this.data={},this.tint=16777215,this._visible=i,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(e){return void 0===e?this.frame=this.parent.frame:e instanceof i&&e.texture===this.parent.texture?this.frame=e:this.frame=this.parent.texture.get(e),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(e,t,n){return this.x=e,this.y=t,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(e,t){return this.x=e,this.y=t,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},setVisible:function(e){return this.visible=e,this},setAlpha:function(e){return this.alpha=e,this},setTint:function(e){return this.tint=e,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(e){this.parent.dirty|=this._visible!==e,this._visible=e}},alpha:{get:function(){return this._alpha},set:function(e){this.parent.dirty|=this._alpha>0!==e>0,this._alpha=e}}});e.exports=o},function(e,t,n){var r=n(10);e.exports=function(e,t,n){void 0===n&&(n=new r);var i=Math.min(e.x,t.x),o=Math.min(e.y,t.y),a=Math.max(e.right,t.right)-i,s=Math.max(e.bottom,t.bottom)-o;return n.setTo(i,o,a,s)}},function(e,t,n){var r=n(0),i=n(11),o=n(1055),a=n(15),s=n(7),u=n(202),l=n(20),c=n(140),h=new r({Extends:a,Mixins:[i.AlphaSingle,i.BlendMode,i.Depth,i.Origin,i.ScrollFactor,i.Transform,i.Visible,o],initialize:function(e,t,n,r,i,o){a.call(this,e,"DOMElement"),this.parent=e.sys.game.domContainer,this.cache=e.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(t,n),"string"===typeof r?"#"===r[0]?this.setElement(r.substr(1),i,o):this.createElement(r,i,o):r&&this.setElement(r,i,o),e.sys.events.on(l.SLEEP,this.handleSceneEvent,this),e.sys.events.on(l.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(e){var t=this.node,n=t.style;t&&(n.display=e.settings.visible?"block":"none")},setSkew:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.skewX=e,this.skewY=t,this},setPerspective:function(e){return this.parent.style.perspective=e+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(e){this.parent.style.perspective=e+"px"}},addListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.addEventListener(e[t],this.handler,!1)}return this},removeListener:function(e){if(this.node){e=e.split(" ");for(var t=0;t<e.length;t++)this.node.removeEventListener(e[t],this.handler)}return this},dispatchNativeEvent:function(e){this.emit(e.type,e)},createElement:function(e,t,n){return this.setElement(document.createElement(e),t,n)},setElement:function(e,t,n){var r;if(this.removeElement(),"string"===typeof e?("#"===e[0]&&(e=e.substr(1)),r=document.getElementById(e)):"object"===typeof e&&1===e.nodeType&&(r=e),!r)return this;if(this.node=r,t&&s(t))for(var i in t)r.style[i]=t[i];else"string"===typeof t&&(r.style=t);return r.style.zIndex="0",r.style.display="inline",r.style.position="absolute",r.phaser=this,this.parent&&this.parent.appendChild(r),n&&(r.innerText=n),this.updateSize()},createFromCache:function(e,t){var n=this.cache.get(e);return n&&this.createFromHTML(n,t),this},createFromHTML:function(e,t){void 0===t&&(t="div"),this.removeElement();var n=document.createElement(t);return this.node=n,n.style.zIndex="0",n.style.display="inline",n.style.position="absolute",n.phaser=this,this.parent&&this.parent.appendChild(n),n.innerHTML=e,this.updateSize()},removeElement:function(){return this.node&&(u(this.node),this.node=null),this},updateSize:function(){var e=this.node,t=e.getBoundingClientRect();return this.width=e.clientWidth,this.height=e.clientHeight,this.displayWidth=t.width||0,this.displayHeight=t.height||0,this},getChildByProperty:function(e,t){if(this.node)for(var n=this.node.querySelectorAll("*"),r=0;r<n.length;r++)if(n[r][e]===t)return n[r];return null},getChildByID:function(e){return this.getChildByProperty("id",e)},getChildByName:function(e){return this.getChildByProperty("name",e)},setClassName:function(e){return this.node&&(this.node.className=e,this.updateSize()),this},setText:function(e){return this.node&&(this.node.innerText=e,this.updateSize()),this},setHTML:function(e){return this.node&&(this.node.innerHTML=e,this.updateSize()),this},preUpdate:function(){var e=this.parentContainer,t=this.node;t&&e&&!e.willRender()&&(t.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(l.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(l.WAKE,this.handleSceneEvent,this)}});e.exports=h},function(e,t,n){var r=n(1056),i=n(15),o=n(25),a=new o,s=new o,u=new o;e.exports=function(e,t,n,o){if(t.node){var l=t.node.style,c=t.scene.sys.settings;if(!l||!c.visible||i.RENDER_MASK!==t.renderFlags||0!==t.cameraFilter&&t.cameraFilter&n.id||t.parentContainer&&!t.parentContainer.willRender())l.display="none";else{var h=t.parentContainer,f=n.alpha*t.alpha;h&&(f*=h.alpha);var d=a,p=s,v=u,g=0,m=0,y="0%",x="0%";o?(g=t.width*t.scaleX*t.originX,m=t.height*t.scaleY*t.originY,p.applyITRS(t.x-g,t.y-m,t.rotation,t.scaleX,t.scaleY),d.copyFrom(n.matrix),d.multiplyWithOffset(o,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),p.e=t.x-g,p.f=t.y-m,d.multiply(p,v)):(g=t.width*t.originX,m=t.height*t.originY,p.applyITRS(t.x-g,t.y-m,t.rotation,t.scaleX,t.scaleY),d.copyFrom(n.matrix),y=100*t.originX+"%",x=100*t.originY+"%",p.e-=n.scrollX*t.scrollFactorX,p.f-=n.scrollY*t.scrollFactorY,d.multiply(p,v)),t.transformOnly||(l.display="block",l.opacity=f,l.zIndex=t._depth,l.pointerEvents=t.pointerEvents,l.mixBlendMode=r[t._blendMode]),l.transform=v.getCSSMatrix()+" skew("+t.skewX+"rad, "+t.skewY+"rad) rotate3d("+t.rotate3d.x+","+t.rotate3d.y+","+t.rotate3d.z+","+t.rotate3d.w+t.rotate3dAngle+")",l.transformOrigin=y+" "+x}}}},function(e,t,n){var r=n(0),i=n(11),o=n(15),a=n(1060),s=new r({Extends:o,Mixins:[i.Alpha,i.BlendMode,i.Depth,i.Flip,i.Origin,i.ScrollFactor,i.Size,i.Texture,i.Tint,i.Transform,i.Visible,a],initialize:function(e){o.call(this,e,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});e.exports=s},function(e,t,n){var r=n(218),i=n(98),o=n(14),a=n(4);e.exports=function(e,t,n){void 0===n&&(n=new a);var s=i(t,0,o.PI2);return r(e,s,n)}},function(e,t,n){var r=n(447),i=n(218),o=n(98),a=n(14);e.exports=function(e,t,n,s){void 0===s&&(s=[]),!t&&n>0&&(t=r(e)/n);for(var u=0;u<t;u++){var l=o(u/t,0,a.PI2);s.push(i(e,l))}return s}},function(e,t){e.exports=function(e){var t=e.width/2,n=e.height/2,r=Math.pow(t-n,2)/Math.pow(t+n,2);return Math.PI*(t+n)*(1+3*r/(10+Math.sqrt(4-3*r)))}},function(e,t,n){var r=n(217),i=n(30);e.exports=function(e,t,n,o,a,s){var u=t.commandBuffer,l=u.length,c=a||e.currentContext;if(0!==l&&i(e,c,t,n,o)){n.addToRenderList(t);var h=1,f=1,d=0,p=0,v=1,g=0,m=0,y=0;c.beginPath();for(var x=0;x<l;++x)switch(u[x]){case r.ARC:c.arc(u[x+1],u[x+2],u[x+3],u[x+4],u[x+5],u[x+6]),x+=7;break;case r.LINE_STYLE:v=u[x+1],d=u[x+2],h=u[x+3],g=(16711680&d)>>>16,m=(65280&d)>>>8,y=255&d,c.strokeStyle="rgba("+g+","+m+","+y+","+h+")",c.lineWidth=v,x+=3;break;case r.FILL_STYLE:p=u[x+1],f=u[x+2],g=(16711680&p)>>>16,m=(65280&p)>>>8,y=255&p,c.fillStyle="rgba("+g+","+m+","+y+","+f+")",x+=2;break;case r.BEGIN_PATH:c.beginPath();break;case r.CLOSE_PATH:c.closePath();break;case r.FILL_PATH:s||c.fill();break;case r.STROKE_PATH:s||c.stroke();break;case r.FILL_RECT:s?c.rect(u[x+1],u[x+2],u[x+3],u[x+4]):c.fillRect(u[x+1],u[x+2],u[x+3],u[x+4]),x+=4;break;case r.FILL_TRIANGLE:c.beginPath(),c.moveTo(u[x+1],u[x+2]),c.lineTo(u[x+3],u[x+4]),c.lineTo(u[x+5],u[x+6]),c.closePath(),s||c.fill(),x+=6;break;case r.STROKE_TRIANGLE:c.beginPath(),c.moveTo(u[x+1],u[x+2]),c.lineTo(u[x+3],u[x+4]),c.lineTo(u[x+5],u[x+6]),c.closePath(),s||c.stroke(),x+=6;break;case r.LINE_TO:c.lineTo(u[x+1],u[x+2]),x+=2;break;case r.MOVE_TO:c.moveTo(u[x+1],u[x+2]),x+=2;break;case r.LINE_FX_TO:c.lineTo(u[x+1],u[x+2]),x+=5;break;case r.MOVE_FX_TO:c.moveTo(u[x+1],u[x+2]),x+=5;break;case r.SAVE:c.save();break;case r.RESTORE:c.restore();break;case r.TRANSLATE:c.translate(u[x+1],u[x+2]),x+=2;break;case r.SCALE:c.scale(u[x+1],u[x+2]),x+=2;break;case r.ROTATE:c.rotate(u[x+1]),x+=1;break;case r.GRADIENT_FILL_STYLE:x+=5;break;case r.GRADIENT_LINE_STYLE:x+=6}c.restore()}}},function(e,t,n){var r=n(0),i=n(137),o=n(80),a=n(2),s=n(68),u=new r({initialize:function(e,t,n,r){void 0===r&&(r=!1),this.propertyKey=t,this.propertyValue=n,this.defaultValue=n,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=r,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(e)},loadConfig:function(e,t){void 0===e&&(e={}),t&&(this.propertyKey=t),this.propertyValue=a(e,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(e){return this.propertyValue=e,this.setMethods()},setMethods:function(){var e=this.propertyValue,t=typeof e;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,"number"===t)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(e))this.onEmit=this.randomStaticValueEmit;else if("function"===t)this.emitOnly?this.onEmit=e:this.onUpdate=e;else if("object"===t&&this.hasBoth(e,"start","end")){this.start=e.start,this.end=e.end;var n=this.has(e,"random");if(n&&(this.onEmit=this.randomRangedValueEmit),this.has(e,"steps"))this.steps=e.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var r=this.has(e,"ease")?e.ease:"Linear";this.ease=o(r,e.easeParams),n||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if("object"===t&&this.hasBoth(e,"min","max"))this.start=e.min,this.end=e.max,this.onEmit=this.randomRangedValueEmit;else if("object"===t&&this.has(e,"random")){var i=e.random;Array.isArray(i)&&(this.start=i[0],this.end=i[1]),this.onEmit=this.randomRangedValueEmit}else"object"===t&&this.hasEither(e,"onEmit","onUpdate")&&(this.has(e,"onEmit")&&(this.onEmit=e.onEmit),this.has(e,"onUpdate")&&(this.onUpdate=e.onUpdate));return this},has:function(e,t){return e.hasOwnProperty(t)},hasBoth:function(e,t,n){return e.hasOwnProperty(t)&&e.hasOwnProperty(n)},hasEither:function(e,t,n){return e.hasOwnProperty(t)||e.hasOwnProperty(n)},defaultEmit:function(e,t,n){return n},defaultUpdate:function(e,t,n,r){return r},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var e=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[e]},randomRangedValueEmit:function(e,t){var n=i(this.start,this.end);return e&&e.data[t]&&(e.data[t].min=n),n},steppedEmit:function(){var e=this.counter,t=this.counter+(this.end-this.start)/this.steps;return this.counter=s(t,this.start,this.end),e},easedValueEmit:function(e,t){if(e&&e.data[t]){var n=e.data[t];n.min=this.start,n.max=this.end}return this.start},easeValueUpdate:function(e,t,n){var r=e.data[t];return(r.max-r.min)*this.ease(n)+r.min}});e.exports=u},function(e,t,n){var r=n(0),i=n(2),o=new r({initialize:function(e,t,n,r,o){if("object"===typeof e){var a=e;e=i(a,"x",0),t=i(a,"y",0),n=i(a,"power",0),r=i(a,"epsilon",100),o=i(a,"gravity",50)}else void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=100),void 0===o&&(o=50);this.x=e,this.y=t,this.active=!0,this._gravity=o,this._power=0,this._epsilon=0,this.power=n,this.epsilon=r},update:function(e,t){var n=this.x-e.x,r=this.y-e.y,i=n*n+r*r;if(0!==i){var o=Math.sqrt(i);i<this._epsilon&&(i=this._epsilon);var a=this._power*t/(i*o)*100;e.velocityX+=n*a,e.velocityY+=r*a}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(e){this._epsilon=e*e}},power:{get:function(){return this._power/this._gravity},set:function(e){this._power=e*this._gravity}},gravity:{get:function(){return this._gravity},set:function(e){var t=this.power;this._gravity=e,this.power=t}}});e.exports=o},function(e,t,n){var r=n(0),i=n(36),o=n(50),a=new r({initialize:function(e){this.emitter=e,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(e,t){var n=this.emitter;this.frame=n.getFrame(),n.emitZone&&n.emitZone.getPoint(this),this.x+=void 0===e?n.x.onEmit(this,"x"):e,this.y+=void 0===t?n.y.onEmit(this,"y"):t,this.life=n.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var r=n.speedX.onEmit(this,"speedX"),a=n.speedY?n.speedY.onEmit(this,"speedY"):r;if(n.radial){var s=i(n.angle.onEmit(this,"angle"));this.velocityX=Math.cos(s)*Math.abs(r),this.velocityY=Math.sin(s)*Math.abs(a)}else if(n.moveTo){var u=n.moveToX.onEmit(this,"moveToX"),l=n.moveToY?n.moveToY.onEmit(this,"moveToY"):u,c=Math.atan2(l-this.y,u-this.x),h=o(this.x,this.y,u,l)/(this.life/1e3);this.velocityX=Math.cos(c)*h,this.velocityY=Math.sin(c)*h}else this.velocityX=r,this.velocityY=a;n.acceleration&&(this.accelerationX=n.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=n.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=n.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=n.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=n.delay.onEmit(this,"delay"),this.scaleX=n.scaleX.onEmit(this,"scaleX"),this.scaleY=n.scaleY?n.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=n.rotate.onEmit(this,"rotate"),this.rotation=i(this.angle),this.bounce=n.bounce.onEmit(this,"bounce"),this.alpha=n.alpha.onEmit(this,"alpha"),this.tint=n.tint.onEmit(this,"tint")},computeVelocity:function(e,t,n,r){var i=this.velocityX,o=this.velocityY,a=this.accelerationX,s=this.accelerationY,u=this.maxVelocityX,l=this.maxVelocityY;i+=e.gravityX*n,o+=e.gravityY*n,a&&(i+=a*n),s&&(o+=s*n),i>u?i=u:i<-u&&(i=-u),o>l?o=l:o<-l&&(o=-l),this.velocityX=i,this.velocityY=o;for(var c=0;c<r.length;c++)r[c].update(this,t,n)},checkBounds:function(e){var t=e.bounds,n=-this.bounce;this.x<t.x&&e.collideLeft?(this.x=t.x,this.velocityX*=n):this.x>t.right&&e.collideRight&&(this.x=t.right,this.velocityX*=n),this.y<t.y&&e.collideTop?(this.y=t.y,this.velocityY*=n):this.y>t.bottom&&e.collideBottom&&(this.y=t.bottom,this.velocityY*=n)},update:function(e,t,n){if(this.delayCurrent>0)return this.delayCurrent-=e,!1;var r=this.emitter,o=1-this.lifeCurrent/this.life;return this.lifeT=o,this.computeVelocity(r,e,t,n),this.x+=this.velocityX*t,this.y+=this.velocityY*t,r.bounds&&this.checkBounds(r),r.deathZone&&r.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=r.scaleX.onUpdate(this,"scaleX",o,this.scaleX),r.scaleY?this.scaleY=r.scaleY.onUpdate(this,"scaleY",o,this.scaleY):this.scaleY=this.scaleX,this.angle=r.rotate.onUpdate(this,"rotate",o,this.angle),this.rotation=i(this.angle),this.alpha=r.alpha.onUpdate(this,"alpha",o,this.alpha),this.tint=r.tint.onUpdate(this,"tint",o,this.tint),this.lifeCurrent-=e,this.lifeCurrent<=0)}});e.exports=a},function(e,t,n){var r=n(35),i=n(0),o=n(11),a=n(453),s=n(454),u=n(449),l=n(2),c=n(210),h=n(455),f=n(126),d=n(451),p=n(456),v=n(10),g=n(79),m=n(3),y=n(68),x=new i({Mixins:[o.BlendMode,o.Mask,o.ScrollFactor,o.Visible],initialize:function(e,t){this.manager=e,this.texture=e.texture,this.frames=[e.defaultFrame],this.defaultFrame=e.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=d,this.x=new u(t,"x",0,!0),this.y=new u(t,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new u(t,"accelerationX",0,!0),this.accelerationY=new u(t,"accelerationY",0,!0),this.maxVelocityX=new u(t,"maxVelocityX",1e4,!0),this.maxVelocityY=new u(t,"maxVelocityY",1e4,!0),this.speedX=new u(t,"speedX",0,!0),this.speedY=new u(t,"speedY",0,!0),this.moveTo=!1,this.moveToX=new u(t,"moveToX",0,!0),this.moveToY=new u(t,"moveToY",0,!0),this.bounce=new u(t,"bounce",0,!0),this.scaleX=new u(t,"scaleX",1),this.scaleY=new u(t,"scaleY",1),this.tint=new u(t,"tint",16777215),this.alpha=new u(t,"alpha",1),this.lifespan=new u(t,"lifespan",1e3,!0),this.angle=new u(t,"angle",{min:0,max:360},!0),this.rotate=new u(t,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new u(t,"quantity",1,!0),this.delay=new u(t,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=r.NORMAL,this.follow=null,this.followOffset=new m,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,t&&this.fromJSON(t)},fromJSON:function(e){if(!e)return this;var t=0,n="";for(t=0;t<this.configFastMap.length;t++)n=this.configFastMap[t],f(e,n)&&(this[n]=l(e,n));for(t=0;t<this.configOpMap.length;t++)n=this.configOpMap[t],f(e,n)&&this[n].loadConfig(e);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,f(e,"speed")&&(this.speedX.loadConfig(e,"speed"),this.speedY=null),(h(e,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),f(e,"scale")&&(this.scaleX.loadConfig(e,"scale"),this.scaleY=null),f(e,"callbackScope")){var r=l(e,"callbackScope",null);this.emitCallbackScope=r,this.deathCallbackScope=r}return f(e,"emitZone")&&this.setEmitZone(e.emitZone),f(e,"deathZone")&&this.setDeathZone(e.deathZone),f(e,"bounds")&&this.setBounds(e.bounds),f(e,"followOffset")&&this.followOffset.setFromObject(l(e,"followOffset",0)),f(e,"frame")&&this.setFrame(e.frame),f(e,"reserve")&&this.reserve(e.reserve),this},toJSON:function(e){void 0===e&&(e={});var t=0,n="";for(t=0;t<this.configFastMap.length;t++)e[n=this.configFastMap[t]]=this[n];for(t=0;t<this.configOpMap.length;t++)this[n=this.configOpMap[t]]&&(e[n]=this[n].toJSON());return this.speedY||(delete e.speedX,e.speed=this.speedX.toJSON()),this.scaleY||(delete e.scaleX,e.scale=this.scaleX.toJSON()),e},startFollow:function(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=!1),this.follow=e,this.followOffset.set(t,n),this.trackVisible=r,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return c(this.frames);var e=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=y(this.currentFrame+1,0,this._frameLength)),e},setFrame:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=1),this.randomFrame=t,this.frameQuantity=n,this.currentFrame=0,this._frameCounter=0;var r=typeof e;if(Array.isArray(e)||"string"===r||"number"===r)this.manager.setEmitterFrames(e,this);else if("object"===r){var i=e;(e=l(i,"frames",null))&&this.manager.setEmitterFrames(e,this);var o=l(i,"cycle",!1);this.randomFrame=!o,this.frameQuantity=l(i,"quantity",n)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(e){return void 0===e&&(e=!0),this.radial=e,this},setPosition:function(e,t){return this.x.onChange(e),this.y.onChange(t),this},setBounds:function(e,t,n,r){if("object"===typeof e){var i=e;e=i.x,t=i.y,n=f(i,"w")?i.w:i.width,r=f(i,"h")?i.h:i.height}return this.bounds?this.bounds.setTo(e,t,n,r):this.bounds=new v(e,t,n,r),this},setSpeedX:function(e){return this.speedX.onChange(e),this.radial=!1,this},setSpeedY:function(e){return this.speedY&&(this.speedY.onChange(e),this.radial=!1),this},setSpeed:function(e){return this.speedX.onChange(e),this.speedY=null,this.radial=!0,this},setScaleX:function(e){return this.scaleX.onChange(e),this},setScaleY:function(e){return this.scaleY.onChange(e),this},setScale:function(e){return this.scaleX.onChange(e),this.scaleY=null,this},setGravityX:function(e){return this.gravityX=e,this},setGravityY:function(e){return this.gravityY=e,this},setGravity:function(e,t){return this.gravityX=e,this.gravityY=t,this},setAlpha:function(e){return this.alpha.onChange(e),this},setTint:function(e){return this.tint.onChange(e),this},setEmitterAngle:function(e){return this.angle.onChange(e),this},setAngle:function(e){return this.angle.onChange(e),this},setLifespan:function(e){return this.lifespan.onChange(e),this},setQuantity:function(e){return this.quantity.onChange(e),this},setFrequency:function(e,t){return this.frequency=e,this._counter=0,t&&this.quantity.onChange(t),this},setEmitZone:function(e){if(void 0===e)this.emitZone=null;else{var t=l(e,"type","random"),n=l(e,"source",null);switch(t){case"random":this.emitZone=new p(n);break;case"edge":var r=l(e,"quantity",1),i=l(e,"stepRate",0),o=l(e,"yoyo",!1),a=l(e,"seamless",!0);this.emitZone=new s(n,r,i,o,a)}}return this},setDeathZone:function(e){if(void 0===e)this.deathZone=null;else{var t=l(e,"type","onEnter"),n=l(e,"source",null);if(n&&"function"===typeof n.contains){var r="onEnter"===t;this.deathZone=new a(n,r)}}return this},reserve:function(e){for(var t=this.dead,n=0;n<e;n++)t.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(e,t){return void 0===e?(this.emitCallback=null,this.emitCallbackScope=null):"function"===typeof e&&(this.emitCallback=e,t&&(this.emitCallbackScope=t)),this},onParticleDeath:function(e,t){return void 0===e?(this.deathCallback=null,this.deathCallbackScope=null):"function"===typeof e&&(this.deathCallback=e,t&&(this.deathCallbackScope=t)),this},killAll:function(){for(var e=this.dead,t=this.alive;t.length>0;)e.push(t.pop());return this},forEachAlive:function(e,t){for(var n=this.alive,r=n.length,i=0;i<r;++i)e.call(t,n[i],this);return this},forEachDead:function(e,t){for(var n=this.dead,r=n.length,i=0;i<r;++i)e.call(t,n[i],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return g(this.alive,this.depthSortCallback),this},flow:function(e,t){return void 0===t&&(t=1),this.frequency=e,this.quantity.onChange(t),this.start()},explode:function(e,t,n){return this.frequency=-1,this.emitParticle(e,t,n)},emitParticleAt:function(e,t,n){return this.emitParticle(n,e,t)},emitParticle:function(e,t,n){if(!this.atLimit()){void 0===e&&(e=this.quantity.onEmit());for(var r=this.dead,i=this.follow?this.follow.x+this.followOffset.x:t,o=this.follow?this.follow.y+this.followOffset.y:n,a=0;a<e;a++){var s=r.pop();if(s||(s=new this.particleClass(this)),s.fire(i,o),this.particleBringToTop?this.alive.push(s):this.alive.unshift(s),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,s,this),this.atLimit())break}return s}},preUpdate:function(e,t){var n=(t*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var r=this.manager.getProcessors(),i=this.alive,o=this.dead,a=0,s=[],u=i.length;for(a=0;a<u;a++){var l=i[a];l.update(t,n,r)&&s.push({index:a,particle:l})}if((u=s.length)>0){var c=this.deathCallback,h=this.deathCallbackScope;for(a=u-1;a>=0;a--){var f=s[a];i.splice(f.index,1),o.push(f.particle),c&&c.call(h,f.particle),f.particle.resetPosition()}}this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=t,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(e,t){return e.y-t.y}});e.exports=x},function(e,t,n){var r=new(n(0))({initialize:function(e,t){this.source=e,this.killOnEnter=t},willKill:function(e){var t=this.source.contains(e.x,e.y);return t&&this.killOnEnter||!t&&!this.killOnEnter}});e.exports=r},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!0),this.source=e,this.points=[],this.quantity=t,this.stepRate=n,this.yoyo=r,this.counter=-1,this.seamless=i,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var e=this.points[0],t=this.points[this.points.length-1];e.x===t.x&&e.y===t.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(e){return this.source=e,this.updateSource()},getPoint:function(e){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var t=this.points[this.counter];t&&(e.x=t.x,e.y=t.y)}});e.exports=r},function(e,t){e.exports=function(e,t){for(var n=0;n<t.length;n++)if(e.hasOwnProperty(t[n]))return!0;return!1}},function(e,t,n){var r=n(0),i=n(3),o=new r({initialize:function(e){this.source=e,this._tempVec=new i},getPoint:function(e){var t=this._tempVec;this.source.getRandomPoint(t),e.x=t.x,e.y=t.y}});e.exports=o},function(e,t,n){var r=n(0),i=n(11),o=n(73),a=new r({Extends:o,Mixins:[i.PathFollower],initialize:function(e,t,n,r,i,a){o.call(this,e,n,r,i,a),this.path=t},preUpdate:function(e,t){this.anims.update(e,t),this.pathUpdate(e)}});e.exports=a},function(e,t){e.exports=function(e,t,n){var r=e.canvas,i=e.context,o=e.style,a=[],s=0,u=n.length;o.maxLines>0&&o.maxLines<n.length&&(u=o.maxLines),o.syncFont(r,i);for(var l=0;l<u;l++){var c=o.strokeThickness;c+=i.measureText(n[l]).width,o.wordWrap&&(c-=i.measureText(" ").width),a[l]=Math.ceil(c),s=Math.max(s,a[l])}var h=t.fontSize+o.strokeThickness,f=h*u,d=e.lineSpacing;return u>1&&(f+=d*(u-1)),{width:s,height:f,lines:u,lineWidths:a,lineSpacing:d,lineHeight:h}}},function(e,t,n){var r=n(0),i=n(13),o=n(6),a=n(460),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xc3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},u=new r({initialize:function(e,t){this.parent=e,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(t,!1,!0);var n=o(t,"metrics",!1);this.metrics=n?{ascent:o(n,"ascent",0),descent:o(n,"descent",0),fontSize:o(n,"fontSize",0)}:a(this)},setStyle:function(e,t,n){for(var r in void 0===t&&(t=!0),void 0===n&&(n=!1),e&&e.hasOwnProperty("fontSize")&&"number"===typeof e.fontSize&&(e.fontSize=e.fontSize.toString()+"px"),s){var a=n?s[r][1]:this[r];this[r]="wordWrapCallback"===r||"wordWrapCallbackScope"===r?o(e,s[r][0],a):i(e,s[r][0],a)}var u=o(e,"font",null);null!==u&&this.setFont(u,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var l=o(e,"fill",null);return null!==l&&(this.color=l),t?this.update(!0):this.parent},syncFont:function(e,t){t.font=this._font},syncStyle:function(e,t){t.textBaseline="alphabetic",t.fillStyle=this.color,t.strokeStyle=this.stroke,t.lineWidth=this.strokeThickness,t.lineCap="round",t.lineJoin="round"},syncShadow:function(e,t){t?(e.shadowOffsetX=this.shadowOffsetX,e.shadowOffsetY=this.shadowOffsetY,e.shadowColor=this.shadowColor,e.shadowBlur=this.shadowBlur):(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor=0,e.shadowBlur=0)},update:function(e){return e&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(e,t){void 0===t&&(t=!0);var n=e,r="",i="";if("string"!==typeof e)n=o(e,"fontFamily","Courier"),r=o(e,"fontSize","16px"),i=o(e,"fontStyle","");else{var a=e.split(" "),s=0;i=a.length>2?a[s++]:"",r=a[s++]||"16px",n=a[s++]||"Courier"}return n===this.fontFamily&&r===this.fontSize&&i===this.fontStyle||(this.fontFamily=n,this.fontSize=r,this.fontStyle=i,t&&this.update(!0)),this.parent},setFontFamily:function(e){return this.fontFamily!==e&&(this.fontFamily=e,this.update(!0)),this.parent},setFontStyle:function(e){return this.fontStyle!==e&&(this.fontStyle=e,this.update(!0)),this.parent},setFontSize:function(e){return"number"===typeof e&&(e=e.toString()+"px"),this.fontSize!==e&&(this.fontSize=e,this.update(!0)),this.parent},setTestString:function(e){return this.testString=e,this.update(!0)},setFixedSize:function(e,t){return this.fixedWidth=e,this.fixedHeight=t,e&&(this.parent.width=e),t&&(this.parent.height=t),this.update(!1)},setBackgroundColor:function(e){return this.backgroundColor=e,this.update(!1)},setFill:function(e){return this.color=e,this.update(!1)},setColor:function(e){return this.color=e,this.update(!1)},setResolution:function(e){return this.resolution=e,this.update(!1)},setStroke:function(e,t){return void 0===t&&(t=this.strokeThickness),void 0===e&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===e&&this.strokeThickness===t||(this.stroke=e,this.strokeThickness=t,this.update(!0)),this.parent},setShadow:function(e,t,n,r,i,o){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n="#000"),void 0===r&&(r=0),void 0===i&&(i=!1),void 0===o&&(o=!0),this.shadowOffsetX=e,this.shadowOffsetY=t,this.shadowColor=n,this.shadowBlur=r,this.shadowStroke=i,this.shadowFill=o,this.update(!1)},setShadowOffset:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.shadowOffsetX=e,this.shadowOffsetY=t,this.update(!1)},setShadowColor:function(e){return void 0===e&&(e="#000"),this.shadowColor=e,this.update(!1)},setShadowBlur:function(e){return void 0===e&&(e=0),this.shadowBlur=e,this.update(!1)},setShadowStroke:function(e){return this.shadowStroke=e,this.update(!1)},setShadowFill:function(e){return this.shadowFill=e,this.update(!1)},setWordWrapWidth:function(e,t){return void 0===t&&(t=!1),this.wordWrapWidth=e,this.wordWrapUseAdvanced=t,this.update(!1)},setWordWrapCallback:function(e,t){return void 0===t&&(t=null),this.wordWrapCallback=e,this.wordWrapCallbackScope=t,this.update(!1)},setAlign:function(e){return void 0===e&&(e="left"),this.align=e,this.update(!1)},setMaxLines:function(e){return void 0===e&&(e=0),this.maxLines=e,this.update(!1)},getTextMetrics:function(){var e=this.metrics;return{ascent:e.ascent,descent:e.descent,fontSize:e.fontSize}},toJSON:function(){var e={};for(var t in s)e[t]=this[t];return e.metrics=this.getTextMetrics(),e},destroy:function(){this.parent=void 0}});e.exports=u},function(e,t,n){var r=n(31);e.exports=function(e){var t=r.create(this),n=t.getContext("2d");e.syncFont(t,n);var i=n.measureText(e.testString);if("actualBoundingBoxAscent"in i){var o=i.actualBoundingBoxAscent,a=i.actualBoundingBoxDescent;return r.remove(t),{ascent:o,descent:a,fontSize:o+a}}var s=Math.ceil(i.width*e.baselineX),u=s,l=2*u;u=u*e.baselineY|0,t.width=s,t.height=l,n.fillStyle="#f00",n.fillRect(0,0,s,l),n.font=e._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(e.testString,0,u);var c={ascent:0,descent:0,fontSize:0},h=n.getImageData(0,0,s,l);if(!h)return c.ascent=u,c.descent=u+6,c.fontSize=c.ascent+c.descent,r.remove(t),c;var f,d,p=h.data,v=p.length,g=4*s,m=0,y=!1;for(f=0;f<u;f++){for(d=0;d<g;d+=4)if(255!==p[m+d]){y=!0;break}if(y)break;m+=g}for(c.ascent=u-f,m=v-g,y=!1,f=l;f>u;f--){for(d=0;d<g;d+=4)if(255!==p[m+d]){y=!0;break}if(y)break;m-=g}return c.descent=f-u,c.fontSize=c.ascent+c.descent,r.remove(t),c}},function(e,t,n){var r=n(1097),i=n(0),o=n(36),a=n(59),s=n(65),u=n(14),l=n(34),c=new i({Extends:l,Mixins:[r],initialize:function(e,t,n,r,i,o,a,u,c){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=128),void 0===i&&(i=0),void 0===o&&(o=360),void 0===a&&(a=!1),l.call(this,e,"Arc",new s(0,0,r)),this._startAngle=i,this._endAngle=o,this._anticlockwise=a,this._iterations=.01,this.setPosition(t,n);var h=2*this.geom.radius;this.setSize(h,h),void 0!==u&&this.setFillStyle(u,c),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(e){this._iterations=e,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(e){this.geom.radius=e;var t=2*e;this.setSize(t,t),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(e){this._startAngle=e,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(e){this._endAngle=e,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(e){this._anticlockwise=e,this.updateData()}},setRadius:function(e){return this.radius=e,this},setIterations:function(e){return void 0===e&&(e=.01),this.iterations=e,this},setStartAngle:function(e,t){return this._startAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},setEndAngle:function(e,t){return this._endAngle=e,void 0!==t&&(this._anticlockwise=t),this.updateData()},updateData:function(){var e=this._iterations,t=e,n=this.geom.radius,r=o(this._startAngle),i=o(this._endAngle),s=n,l=n;i-=r,this._anticlockwise?i<-u.PI2?i=-u.PI2:i>0&&(i=-u.PI2+i%u.PI2):i>u.PI2?i=u.PI2:i<0&&(i=u.PI2+i%u.PI2);for(var c,h=[s+Math.cos(r)*n,l+Math.sin(r)*n];t<1;)c=i*t+r,h.push(s+Math.cos(c)*n,l+Math.sin(c)*n),t+=e;return c=i+r,h.push(s+Math.cos(c)*n,l+Math.sin(c)*n),h.push(s+Math.cos(r)*n,l+Math.sin(r)*n),this.pathIndexes=a(h),this.pathData=h,this}});e.exports=c},function(e,t,n){var r=n(0),i=n(1100),o=n(59),a=n(10),s=n(34),u=new r({Extends:s,Mixins:[i],initialize:function(e,t,n,r,i,o){void 0===t&&(t=0),void 0===n&&(n=0),s.call(this,e,"Curve",r),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(t,n),void 0!==i&&this.setFillStyle(i,o),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){var e=this._curveBounds,t=this._smoothness;this.geom.getBounds(e,t),this.setSize(e.width,e.height),this.updateDisplayOrigin();for(var n=[],r=this.geom.getPoints(t),i=0;i<r.length;i++)n.push(r[i].x,r[i].y);return n.push(r[0].x,r[0].y),this.pathIndexes=o(n),this.pathData=n,this}});e.exports=u},function(e,t,n){var r=n(0),i=n(59),o=n(1103),a=n(111),s=n(34),u=new r({Extends:s,Mixins:[o],initialize:function(e,t,n,r,i,o,u){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=128),void 0===i&&(i=128),s.call(this,e,"Ellipse",new a(r/2,i/2,r,i)),this._smoothness=64,this.setPosition(t,n),this.width=r,this.height=i,void 0!==o&&this.setFillStyle(o,u),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(e){this._smoothness=e,this.updateData()}},setSize:function(e,t){return this.width=e,this.height=t,this.geom.setPosition(e/2,t/2),this.geom.setSize(e,t),this.updateData()},setSmoothness:function(e){return this._smoothness=e,this.updateData()},updateData:function(){for(var e=[],t=this.geom.getPoints(this._smoothness),n=0;n<t.length;n++)e.push(t[n].x,t[n].y);return e.push(t[0].x,t[0].y),this.pathIndexes=i(e),this.pathData=e,this}});e.exports=u},function(e,t,n){var r=n(0),i=n(34),o=n(1106),a=new r({Extends:i,Mixins:[o],initialize:function(e,t,n,r,o,a,s,u,l,c,h){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=128),void 0===o&&(o=128),void 0===a&&(a=32),void 0===s&&(s=32),i.call(this,e,"Grid",null),this.cellWidth=a,this.cellHeight=s,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(t,n),this.setSize(r,o),this.setFillStyle(u,l),void 0!==c&&this.setOutlineStyle(c,h),this.updateDisplayOrigin()},setFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showCells=!1:(this.fillColor=e,this.fillAlpha=t,this.showCells=!0),this},setAltFillStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showAltCells=!1:(this.altFillColor=e,this.altFillAlpha=t,this.showAltCells=!0),this},setOutlineStyle:function(e,t){return void 0===t&&(t=1),void 0===e?this.showOutline=!1:(this.outlineFillColor=e,this.outlineFillAlpha=t,this.showOutline=!0),this}});e.exports=a},function(e,t,n){var r=n(1109),i=n(0),o=n(34),a=new i({Extends:o,Mixins:[r],initialize:function(e,t,n,r,i,a,s,u){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=48),void 0===i&&(i=32),void 0===a&&(a=15658734),void 0===s&&(s=10066329),void 0===u&&(u=13421772),o.call(this,e,"IsoBox",null),this.projection=4,this.fillTop=a,this.fillLeft=s,this.fillRight=u,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(t,n),this.setSize(r,i),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setFaces:function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),this.showTop=e,this.showLeft=t,this.showRight=n,this},setFillStyle:function(e,t,n){return this.fillTop=e,this.fillLeft=t,this.fillRight=n,this.isFilled=!0,this}});e.exports=a},function(e,t,n){var r=n(0),i=n(1112),o=n(34),a=new r({Extends:o,Mixins:[i],initialize:function(e,t,n,r,i,a,s,u,l){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=48),void 0===i&&(i=32),void 0===a&&(a=!1),void 0===s&&(s=15658734),void 0===u&&(u=10066329),void 0===l&&(l=13421772),o.call(this,e,"IsoTriangle",null),this.projection=4,this.fillTop=s,this.fillLeft=u,this.fillRight=l,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=a,this.isFilled=!0,this.setPosition(t,n),this.setSize(r,i),this.updateDisplayOrigin()},setProjection:function(e){return this.projection=e,this},setReversed:function(e){return this.isReversed=e,this},setFaces:function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),this.showTop=e,this.showLeft=t,this.showRight=n,this},setFillStyle:function(e,t,n){return this.fillTop=e,this.fillLeft=t,this.fillRight=n,this.isFilled=!0,this}});e.exports=a},function(e,t,n){var r=n(0),i=n(34),o=n(47),a=n(1115),s=new r({Extends:i,Mixins:[a],initialize:function(e,t,n,r,a,s,u,l,c){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===s&&(s=128),void 0===u&&(u=0),i.call(this,e,"Line",new o(r,a,s,u));var h=Math.max(1,this.geom.right-this.geom.left),f=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(t,n),this.setSize(h,f),void 0!==l&&this.setStrokeStyle(1,l,c),this.updateDisplayOrigin()},setLineWidth:function(e,t){return void 0===t&&(t=e),this._startWidth=e,this._endWidth=t,this.lineWidth=e,this},setTo:function(e,t,n,r){return this.geom.setTo(e,t,n,r),this}});e.exports=s},function(e,t,n){var r=n(1118),i=n(0),o=n(59),a=n(469),s=n(227),u=n(34),l=n(472),c=new i({Extends:u,Mixins:[r],initialize:function(e,t,n,r,i,o){void 0===t&&(t=0),void 0===n&&(n=0),u.call(this,e,"Polygon",new s(r));var l=a(this.geom);this.setPosition(t,n),this.setSize(l.width,l.height),void 0!==i&&this.setFillStyle(i,o),this.updateDisplayOrigin(),this.updateData()},smooth:function(e){void 0===e&&(e=1);for(var t=0;t<e;t++)l(this.geom);return this.updateData()},updateData:function(){for(var e=[],t=this.geom.points,n=0;n<t.length;n++)e.push(t[n].x,t[n].y);return e.push(t[0].x,t[0].y),this.pathIndexes=o(e),this.pathData=e,this}});e.exports=c},function(e,t,n){var r=n(10);e.exports=function(e,t){void 0===t&&(t=new r);for(var n,i=1/0,o=1/0,a=-i,s=-o,u=0;u<e.points.length;u++)n=e.points[u],i=Math.min(i,n.x),o=Math.min(o,n.y),a=Math.max(a,n.x),s=Math.max(s,n.y);return t.x=i,t.y=o,t.width=a-i,t.height=s-o,t}},function(e,t,n){var r=n(67),i=n(47),o=n(471);e.exports=function(e,t,n,a){void 0===a&&(a=[]);var s=e.points,u=o(e);!t&&n>0&&(t=u/n);for(var l=0;l<t;l++)for(var c=u*(l/t),h=0,f=0;f<s.length;f++){var d=s[f],p=s[(f+1)%s.length],v=new i(d.x,d.y,p.x,p.y),g=r(v);if(!(c<h||c>h+g)){var m=v.getPoint((c-h)/g);a.push(m);break}h+=g}return a}},function(e,t,n){var r=n(67),i=n(47);e.exports=function(e){for(var t=e.points,n=0,o=0;o<t.length;o++){var a=t[o],s=t[(o+1)%t.length],u=new i(a.x,a.y,s.x,s.y);n+=r(u)}return n}},function(e,t){var n=function(e,t){return e[0]=t[0],e[1]=t[1],e};e.exports=function(e){var t,r=[],i=e.points;for(t=0;t<i.length;t++)r.push([i[t].x,i[t].y]);var o=[];for(r.length>0&&o.push(n([0,0],r[0])),t=0;t<r.length-1;t++){var a=r[t],s=r[t+1],u=a[0],l=a[1],c=s[0],h=s[1];o.push([.85*u+.15*c,.85*l+.15*h]),o.push([.15*u+.85*c,.15*l+.85*h])}return r.length>1&&o.push(n([0,0],r[r.length-1])),e.setTo(o)}},function(e,t,n){var r=n(0),i=n(10),o=n(34),a=n(1121),s=new r({Extends:o,Mixins:[a],initialize:function(e,t,n,r,a,s,u){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=128),void 0===a&&(a=128),o.call(this,e,"Rectangle",new i(0,0,r,a)),this.setPosition(t,n),this.setSize(r,a),void 0!==s&&this.setFillStyle(s,u),this.updateDisplayOrigin(),this.updateData()},setSize:function(e,t){return this.width=e,this.height=t,this.geom.setSize(e,t),this.updateData(),this},updateData:function(){var e=[],t=this.geom,n=this._tempLine;return t.getLineA(n),e.push(n.x1,n.y1,n.x2,n.y2),t.getLineB(n),e.push(n.x2,n.y2),t.getLineC(n),e.push(n.x2,n.y2),t.getLineD(n),e.push(n.x2,n.y2),this.pathData=e,this}});e.exports=s},function(e,t,n){var r=n(1124),i=n(0),o=n(59),a=n(34),s=new i({Extends:a,Mixins:[r],initialize:function(e,t,n,r,i,o,s,u){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=5),void 0===i&&(i=32),void 0===o&&(o=64),a.call(this,e,"Star",null),this._points=r,this._innerRadius=i,this._outerRadius=o,this.setPosition(t,n),this.setSize(2*o,2*o),void 0!==s&&this.setFillStyle(s,u),this.updateDisplayOrigin(),this.updateData()},setPoints:function(e){return this._points=e,this.updateData()},setInnerRadius:function(e){return this._innerRadius=e,this.updateData()},setOuterRadius:function(e){return this._outerRadius=e,this.updateData()},points:{get:function(){return this._points},set:function(e){this._points=e,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(e){this._innerRadius=e,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(e){this._outerRadius=e,this.updateData()}},updateData:function(){var e=[],t=this._points,n=this._innerRadius,r=this._outerRadius,i=Math.PI/2*3,a=Math.PI/t,s=r,u=r;e.push(s,u+-r);for(var l=0;l<t;l++)e.push(s+Math.cos(i)*r,u+Math.sin(i)*r),i+=a,e.push(s+Math.cos(i)*n,u+Math.sin(i)*n),i+=a;return e.push(s,u+-r),this.pathIndexes=o(e),this.pathData=e,this}});e.exports=s},function(e,t,n){var r=n(0),i=n(34),o=n(82),a=n(1127),s=new r({Extends:i,Mixins:[a],initialize:function(e,t,n,r,a,s,u,l,c,h,f){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=128),void 0===s&&(s=64),void 0===u&&(u=0),void 0===l&&(l=128),void 0===c&&(c=128),i.call(this,e,"Triangle",new o(r,a,s,u,l,c));var d=this.geom.right-this.geom.left,p=this.geom.bottom-this.geom.top;this.setPosition(t,n),this.setSize(d,p),void 0!==h&&this.setFillStyle(h,f),this.updateDisplayOrigin(),this.updateData()},setTo:function(e,t,n,r,i,o){return this.geom.setTo(e,t,n,r,i,o),this.updateData()},updateData:function(){var e=[],t=this.geom,n=this._tempLine;return t.getLineA(n),e.push(n.x1,n.y1,n.x2,n.y2),t.getLineB(n),e.push(n.x2,n.y2),t.getLineC(n),e.push(n.x2,n.y2),this.pathData=e,this}});e.exports=s},function(e,t,n){var r=n(4),i=n(67);e.exports=function(e,t,n){void 0===n&&(n=new r);var o=e.getLineA(),a=e.getLineB(),s=e.getLineC();if(t<=0||t>=1)return n.x=o.x1,n.y=o.y1,n;var u=i(o),l=i(a),c=i(s),h=(u+l+c)*t,f=0;return h<u?(f=h/u,n.x=o.x1+(o.x2-o.x1)*f,n.y=o.y1+(o.y2-o.y1)*f):h>u+l?(f=(h-=u+l)/c,n.x=s.x1+(s.x2-s.x1)*f,n.y=s.y1+(s.y2-s.y1)*f):(f=(h-=u)/l,n.x=a.x1+(a.x2-a.x1)*f,n.y=a.y1+(a.y2-a.y1)*f),n}},function(e,t,n){var r=n(67),i=n(4);e.exports=function(e,t,n,o){void 0===o&&(o=[]);var a=e.getLineA(),s=e.getLineB(),u=e.getLineC(),l=r(a),c=r(s),h=r(u),f=l+c+h;!t&&n>0&&(t=f/n);for(var d=0;d<t;d++){var p=f*(d/t),v=0,g=new i;p<l?(v=p/l,g.x=a.x1+(a.x2-a.x1)*v,g.y=a.y1+(a.y2-a.y1)*v):p>l+c?(v=(p-=l+c)/h,g.x=u.x1+(u.x2-u.x1)*v,g.y=u.y1+(u.y2-u.y1)*v):(v=(p-=l)/c,g.x=s.x1+(s.x2-s.x1)*v,g.y=s.y1+(s.y2-s.y1)*v),o.push(g)}return o}},function(e,t){e.exports=function(e,t,n){if(!e||"number"===typeof e)return!1;if(e.hasOwnProperty(t))return e[t]=n,!0;if(-1!==t.indexOf(".")){for(var r=t.split("."),i=e,o=e,a=0;a<r.length;a++){if(!i.hasOwnProperty(r[a]))return!1;o=i,i=i[r[a]]}return o[r[r.length-1]]=n,!0}return!1}},function(e,t,n){var r=n(116),i=n(117);e.exports=function(e,t,n,o,a,s,u){if(void 0===o&&(o=!1),void 0===s&&(s=16777215),void 0===u&&(u=1),e.length===t.length){var l,c,h,f,d,p,v,g,m,y,x,b={faces:[],vertices:[]},w=o?3:2,k=Array.isArray(s),E=Array.isArray(u);if(Array.isArray(n)&&n.length>0)for(l=0;l<n.length;l++){var _=n[l],T=2*n[l],A=n[l]*w;c=e[A],h=e[A+1],f=o?e[A+2]:0,d=t[T],p=t[T+1],v=k?s[_]:s,g=E?u[_]:u,m=0,y=0,x=0,a&&(m=a[A],y=a[A+1],x=o?a[A+2]:0),b.vertices.push(new i(c,h,f,d,p,v,g,m,y,x))}else{var S=0,C=0;for(l=0;l<e.length;l+=w)c=e[l],h=e[l+1],f=o?e[l+2]:0,d=t[S],p=t[S+1],v=k?s[C]:s,g=E?u[C]:u,m=0,y=0,x=0,a&&(m=a[l],y=a[l+1],x=o?a[l+2]:0),b.vertices.push(new i(c,h,f,d,p,v,g,m,y,x)),S+=2,C++}for(l=0;l<b.vertices.length;l+=3){var I=b.vertices[l],P=b.vertices[l+1],O=b.vertices[l+2];b.faces.push(new r(I,P,O))}return b}console.warn("GenerateVerts: vertices and uvs count not equal")}},function(e,t,n){var r=n(116),i=n(69),o=n(39),a=n(117),s=new o,u=new o,l=new i;e.exports=function(e,t,n,i,o,c,h,f,d,p){void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),void 0===d&&(d=0),void 0===p&&(p=!0);var v={faces:[],verts:[]},g=e.materials;s.set(i,o,c),u.set(h,f,d),l.fromRotationXYTranslation(u,s,p);for(var m=0;m<e.models.length;m++)for(var y=e.models[m],x=y.vertices,b=y.textureCoords,w=y.faces,k=0;k<w.length;k++){var E=w[k],_=E.vertices[0],T=E.vertices[1],A=E.vertices[2],S=x[_.vertexIndex],C=x[T.vertexIndex],I=x[A.vertexIndex],P=_.textureCoordsIndex,O=T.textureCoordsIndex,R=A.textureCoordsIndex,M=-1===P?{u:0,v:1}:b[P],D=-1===O?{u:0,v:0}:b[O],L=-1===R?{u:1,v:1}:b[R],N=16777215;""!==E.material&&g[E.material]&&(N=g[E.material]);var F=new a(S.x*n,S.y*n,S.z*n,M.u,M.v,N).transformMat4(l),B=new a(C.x*n,C.y*n,C.z*n,D.u,D.v,N).transformMat4(l),U=new a(I.x*n,I.y*n,I.z*n,L.u,L.v,N).transformMat4(l);v.verts.push(F,B,U),v.faces.push(new r(F,B,U))}return t&&(t.faces=t.faces.concat(v.faces),t.vertices=t.vertices.concat(v.verts)),v}},function(e,t,n){var r=n(65),i=n(0),o=n(11),a=n(200),s=n(12),u=new i({Extends:r,Mixins:[o.ScrollFactor,o.Visible],initialize:function(e,t,n,i,o,s,u){r.call(this,e,t,n),this.color=new a(i,o,s),this.intensity=u,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(e){return!(u.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&e.id)},setColor:function(e){var t=s.getFloatsFromUintRGB(e);return this.color.set(t[0],t[1],t[2]),this},setIntensity:function(e){return this.intensity=e,this},setRadius:function(e){return this.radius=e,this}});u.RENDER_MASK=15,e.exports=u},function(e,t,n){var r=n(151),i=n(0),o=n(50),a=n(481),s=n(150),u=n(200),l=n(74),c=n(79),h=n(12),f=new i({initialize:function(){this.lights=[],this.ambientColor=new u(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(e,t,n,r,i,o){return this.systems.displayList.add(new s(this.scene,e,t,n,r,i,o))},enable:function(){return-1===this.maxLights&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(e){for(var t=this.lights,n=e.worldView,i=[],a=0;a<t.length;a++){var s=t[a];s.willRender(e)&&r(s,n)&&i.push({light:s,distance:o(s.x,s.y,n.centerX,n.centerY)})}return i.length>this.maxLights&&(c(i,this.sortByDistance),i=i.slice(0,this.maxLights)),this.visibleLights=i.length,i},sortByDistance:function(e,t){return e.distance>=t.distance},setAmbientColor:function(e){var t=h.getFloatsFromUintRGB(e);return this.ambientColor.set(t[0],t[1],t[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=128),void 0===r&&(r=16777215),void 0===i&&(i=1);var o=h.getFloatsFromUintRGB(r),s=new a(e,t,n,o[0],o[1],o[2],i);return this.lights.push(s),s},removeLight:function(e){var t=this.lights.indexOf(e);return t>=0&&l(this.lights,t),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});e.exports=f},function(e,t,n){var r=n(56),i=n(17),o={Circle:n(1191),Ellipse:n(1201),Intersects:n(484),Line:n(1221),Mesh:n(1243),Point:n(1246),Polygon:n(1260),Rectangle:n(502),Triangle:n(1293)};o=i(!1,o,r),e.exports=o},function(e,t,n){e.exports={CircleToCircle:n(231),CircleToRectangle:n(151),GetCircleToCircle:n(1211),GetCircleToRectangle:n(1212),GetLineToCircle:n(232),GetLineToLine:n(485),GetLineToPoints:n(486),GetLineToPolygon:n(487),GetLineToRectangle:n(234),GetRaysFromPointToPolygon:n(1213),GetRectangleIntersection:n(1214),GetRectangleToRectangle:n(1215),GetRectangleToTriangle:n(1216),GetTriangleToCircle:n(1217),GetTriangleToLine:n(492),GetTriangleToTriangle:n(1218),LineToCircle:n(233),LineToLine:n(96),LineToRectangle:n(488),PointToLine:n(496),PointToLineSegment:n(1219),RectangleToRectangle:n(152),RectangleToTriangle:n(489),RectangleToValues:n(1220),TriangleToCircle:n(491),TriangleToLine:n(493),TriangleToTriangle:n(494)}},function(e,t,n){var r=n(39);e.exports=function(e,t,n){var i=e.x1,o=e.y1,a=e.x2,s=e.y2,u=t.x1,l=t.y1,c=a-i,h=s-o,f=t.x2-u,d=t.y2-l;if(0===c||0===d*c-f*h)return!1;var p=(c*(l-o)+h*(i-u))/(f*h-d*c),v=(u+f*p-i)/c;return v<0||p<0||p>1?null:(void 0===n&&(n=new r),n.set(i+c*v,o+h*v,v))}},function(e,t,n){var r=n(39),i=n(485),o=new(n(47)),a=new r;e.exports=function(e,t,n){void 0===n&&(n=new r);var s=!1;n.set(),a.set();for(var u=t[0],l=1;l<t.length;l++){var c=t[l];o.setTo(u.x,u.y,c.x,c.y),u=c,i(e,o,a)&&(!s||a.z<n.z)&&(n.copy(a),s=!0)}return s?n:null}},function(e,t,n){var r=n(39),i=n(140),o=n(486),a=new r;e.exports=function(e,t,n){void 0===n&&(n=new i),Array.isArray(t)||(t=[t]);var r=!1;n.set(),a.set();for(var s=0;s<t.length;s++)o(e,t[s].points,a)&&(!r||a.z<n.z)&&(n.set(a.x,a.y,a.z,s),r=!0);return r?n:null}},function(e,t){e.exports=function(e,t){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=t.x,s=t.y,u=t.right,l=t.bottom,c=0;if(n>=a&&n<=u&&r>=s&&r<=l||i>=a&&i<=u&&o>=s&&o<=l)return!0;if(n<a&&i>=a){if((c=r+(o-r)*(a-n)/(i-n))>s&&c<=l)return!0}else if(n>u&&i<=u&&(c=r+(o-r)*(u-n)/(i-n))>=s&&c<=l)return!0;if(r<s&&o>=s){if((c=n+(i-n)*(s-r)/(o-r))>=a&&c<=u)return!0}else if(r>l&&o<=l&&(c=n+(i-n)*(l-r)/(o-r))>=a&&c<=u)return!0;return!1}},function(e,t,n){var r=n(96),i=n(57),o=n(235),a=n(490);e.exports=function(e,t){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var n=t.getLineA(),s=t.getLineB(),u=t.getLineC();if(i(e,n.x1,n.y1)||i(e,n.x2,n.y2))return!0;if(i(e,s.x1,s.y1)||i(e,s.x2,s.y2))return!0;if(i(e,u.x1,u.y1)||i(e,u.x2,u.y2))return!0;var l=e.getLineA(),c=e.getLineB(),h=e.getLineC(),f=e.getLineD();if(r(n,l)||r(n,c)||r(n,h)||r(n,f))return!0;if(r(s,l)||r(s,c)||r(s,h)||r(s,f))return!0;if(r(u,l)||r(u,c)||r(u,h)||r(u,f))return!0;var d=a(e);return o(t,d,!0).length>0}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x,y:e.y}),t.push({x:e.right,y:e.y}),t.push({x:e.right,y:e.bottom}),t.push({x:e.x,y:e.bottom}),t}},function(e,t,n){var r=n(233),i=n(115);e.exports=function(e,t){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)&&(!!i(e,t.x,t.y)||!!r(e.getLineA(),t)||!!r(e.getLineB(),t)||!!r(e.getLineC(),t))}},function(e,t,n){var r=n(4),i=n(493),o=n(96);e.exports=function(e,t,n){if(void 0===n&&(n=[]),i(e,t))for(var a=e.getLineA(),s=e.getLineB(),u=e.getLineC(),l=[new r,new r,new r],c=[o(a,t,l[0]),o(s,t,l[1]),o(u,t,l[2])],h=0;h<3;h++)c[h]&&n.push(l[h]);return n}},function(e,t,n){var r=n(96);e.exports=function(e,t){return!(!e.contains(t.x1,t.y1)&&!e.contains(t.x2,t.y2))||!!r(e.getLineA(),t)||!!r(e.getLineB(),t)||!!r(e.getLineC(),t)}},function(e,t,n){var r=n(235),i=n(495),o=n(96);e.exports=function(e,t){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var n=e.getLineA(),a=e.getLineB(),s=e.getLineC(),u=t.getLineA(),l=t.getLineB(),c=t.getLineC();if(o(n,u)||o(n,l)||o(n,c))return!0;if(o(a,u)||o(a,l)||o(a,c))return!0;if(o(s,u)||o(s,l)||o(s,c))return!0;var h=i(e),f=r(t,h,!0);return f.length>0||(h=i(t),(f=r(e,h,!0)).length>0)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=[]),t.push({x:e.x1,y:e.y1}),t.push({x:e.x2,y:e.y2}),t.push({x:e.x3,y:e.y3}),t}},function(e,t){e.exports=function(e,t,n){void 0===n&&(n=1);var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=e.x,u=e.y,l=(o-r)*(o-r)+(a-i)*(a-i);if(0===l)return!1;var c=((s-r)*(o-r)+(u-i)*(a-i))/l;if(c<0)return Math.sqrt((r-s)*(r-s)+(i-u)*(i-u))<=n;if(c>=0&&c<=1){var h=((i-u)*(o-r)-(r-s)*(a-i))/l;return Math.abs(h)*Math.sqrt(l)<=n}return Math.sqrt((o-s)*(o-s)+(a-u)*(a-u))<=n}},function(e,t,n){var r=n(14),i=n(68),o=n(97);e.exports=function(e){var t=o(e)-r.TAU;return i(t,-Math.PI,Math.PI)}},function(e,t){var n=!0,r="untitled",i="",o="";function a(e){var t=e.indexOf("#");return t>-1?e.substring(0,t):e}function s(e){return 0===e.models.length&&e.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),i="",e.models[e.models.length-1]}function u(e,t){var n=e.length>=2?e[1]:r;t.models.push({faces:[],name:n,textureCoords:[],vertexNormals:[],vertices:[]}),i=""}function l(e){2===e.length&&(i=e[1])}function c(e,t){var n=e.length,r=n>=2?parseFloat(e[1]):0,i=n>=3?parseFloat(e[2]):0,o=n>=4?parseFloat(e[3]):0;s(t).vertices.push({x:r,y:i,z:o})}function h(e,t){var r=e.length,i=r>=2?parseFloat(e[1]):0,o=r>=3?parseFloat(e[2]):0,a=r>=4?parseFloat(e[3]):0;isNaN(i)&&(i=0),isNaN(o)&&(o=0),isNaN(a)&&(a=0),n&&(o=1-o),s(t).textureCoords.push({u:i,v:o,w:a})}function f(e,t){var n=e.length,r=n>=2?parseFloat(e[1]):0,i=n>=3?parseFloat(e[2]):0,o=n>=4?parseFloat(e[3]):0;s(t).vertexNormals.push({x:r,y:i,z:o})}function d(e,t){var n=e.length-1;if(!(n<3)){for(var r={group:i,material:o,vertices:[]},a=0;a<n;a++){var u=e[a+1].split("/"),l=u.length;if(!(l<1||l>3)){var c=0,h=0,f=0;c=parseInt(u[0],10),l>1&&""!==u[1]&&(h=parseInt(u[1],10)),l>2&&(f=parseInt(u[2],10)),0!==c&&(c<0&&(c=s(t).vertices.length+1+c),h-=1,c-=1,f-=1,r.vertices.push({textureCoordsIndex:h,vertexIndex:c,vertexNormalIndex:f}))}}s(t).faces.push(r)}}function p(e,t){e.length>=2&&t.materialLibraries.push(e[1])}function v(e){e.length>=2&&(o=e[1])}e.exports=function(e,t){void 0===t&&(t=!0),n=t;var r={materials:{},materialLibraries:[],models:[]};i="",o="";for(var s=e.split("\n"),g=0;g<s.length;g++){var m=a(s[g]).replace(/\s\s+/g," ").trim().split(" ");switch(m[0].toLowerCase()){case"o":u(m,r);break;case"g":l(m);break;case"v":c(m,r);break;case"vt":h(m,r);break;case"vn":f(m,r);break;case"f":d(m,r);break;case"mtllib":p(m,r);break;case"usemtl":v(m)}}return r}},function(e,t,n){var r=n(103);e.exports=function(e){for(var t={},n=e.split("\n"),i="",o=0;o<n.length;o++){var a=n[o].trim();if(0!==a.indexOf("#")&&""!==a){var s=a.replace(/\s\s+/g," ").trim().split(" ");switch(s[0].toLowerCase()){case"newmtl":i=s[1];break;case"kd":var u=Math.floor(255*s[1]),l=s.length>=2?Math.floor(255*s[2]):u,c=s.length>=3?Math.floor(255*s[3]):u;t[i]=r(u,l,c)}}}return t}},function(e,t){e.exports=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},function(e,t){e.exports=function(e){return e.x*e.x+e.y*e.y}},function(e,t,n){var r=n(10);r.Area=n(1267),r.Ceil=n(1268),r.CeilAll=n(1269),r.CenterOn=n(190),r.Clone=n(1270),r.Contains=n(57),r.ContainsPoint=n(1271),r.ContainsRect=n(503),r.CopyFrom=n(1272),r.Decompose=n(490),r.Equals=n(1273),r.FitInside=n(1274),r.FitOutside=n(1275),r.Floor=n(1276),r.FloorAll=n(1277),r.FromPoints=n(199),r.FromXY=n(1278),r.GetAspectRatio=n(237),r.GetCenter=n(1279),r.GetPoint=n(171),r.GetPoints=n(306),r.GetSize=n(1280),r.Inflate=n(1281),r.Intersection=n(1282),r.MarchingAnts=n(316),r.MergePoints=n(1283),r.MergeRect=n(1284),r.MergeXY=n(1285),r.Offset=n(1286),r.OffsetPoint=n(1287),r.Overlaps=n(1288),r.Perimeter=n(130),r.PerimeterPoint=n(1289),r.Random=n(174),r.RandomOutside=n(1290),r.SameDimensions=n(1291),r.Scale=n(1292),r.Union=n(441),e.exports=r},function(e,t){e.exports=function(e,t){return!(t.width*t.height>e.width*e.height)&&t.x>e.x&&t.x<e.right&&t.right>e.x&&t.right<e.right&&t.y>e.y&&t.y<e.bottom&&t.bottom>e.y&&t.bottom<e.bottom}},function(e,t,n){var r=n(4);e.exports=function(e,t){return void 0===t&&(t=new r),t.x=(e.x1+e.x2+e.x3)/3,t.y=(e.y1+e.y2+e.y3)/3,t}},function(e,t){e.exports=function(e,t,n){return e.x1+=t,e.y1+=n,e.x2+=t,e.y2+=n,e.x3+=t,e.y3+=n,e}},function(e,t,n){var r=n(4);function i(e,t,n,r){var i=e-n,o=t-r,a=i*i+o*o;return Math.sqrt(a)}e.exports=function(e,t){void 0===t&&(t=new r);var n=e.x1,o=e.y1,a=e.x2,s=e.y2,u=e.x3,l=e.y3,c=i(u,l,a,s),h=i(n,o,u,l),f=i(a,s,n,o),d=c+h+f;return t.x=(n*c+a*h+u*f)/d,t.y=(o*c+s*h+l*f)/d,t}},function(e,t){e.exports=function(e,t){return function(n,r,i,o){var a=e.getPixelAlpha(r,i,o.texture.key,o.frame.name);return a&&a>=t}}},function(e,t){e.exports=function(e,t,n){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:t,hitAreaCallback:n,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(e,t,n){var r=new(n(0))({initialize:function(e,t){this.pad=e,this.events=e.events,this.index=t,this.value=0,this.threshold=.1},update:function(e){this.value=e},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});e.exports=r},function(e,t,n){var r=n(0),i=n(239),o=new r({initialize:function(e,t){this.pad=e,this.events=e.manager,this.index=t,this.value=0,this.threshold=1,this.pressed=!1},update:function(e){this.value=e;var t=this.pad,n=this.index;e>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(i.BUTTON_DOWN,t,this,e),this.pad.emit(i.GAMEPAD_BUTTON_DOWN,n,e,this)):this.pressed&&(this.pressed=!1,this.events.emit(i.BUTTON_UP,t,this,e),this.pad.emit(i.GAMEPAD_BUTTON_UP,n,e,this))},destroy:function(){this.pad=null,this.events=null}});e.exports=o},function(e,t,n){var r=n(509),i=n(510),o=n(0),a=n(9),s=n(3),u=new o({Extends:a,initialize:function(e,t){a.call(this),this.manager=e,this.pad=t,this.id=t.id,this.index=t.index;for(var n=[],o=0;o<t.buttons.length;o++)n.push(new i(this,o));this.buttons=n;var u=[];for(o=0;o<t.axes.length;o++)u.push(new r(this,o));this.axes=u,this.vibration=t.vibrationActuator;var l={value:0,pressed:!1};this._LCLeft=n[14]?n[14]:l,this._LCRight=n[15]?n[15]:l,this._LCTop=n[12]?n[12]:l,this._LCBottom=n[13]?n[13]:l,this._RCLeft=n[2]?n[2]:l,this._RCRight=n[1]?n[1]:l,this._RCTop=n[3]?n[3]:l,this._RCBottom=n[0]?n[0]:l,this._FBLeftTop=n[4]?n[4]:l,this._FBLeftBottom=n[6]?n[6]:l,this._FBRightTop=n[5]?n[5]:l,this._FBRightBottom=n[7]?n[7]:l;var c={value:0};this._HAxisLeft=u[0]?u[0]:c,this._VAxisLeft=u[1]?u[1]:c,this._HAxisRight=u[2]?u[2]:c,this._VAxisRight=u[3]?u[3]:c,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(e){return this.axes[e].getValue()},setAxisThreshold:function(e){for(var t=0;t<this.axes.length;t++)this.axes[t].threshold=e},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(e){return this.buttons[e].value},isButtonDown:function(e){return this.buttons[e].pressed},update:function(e){if(!(e.timestamp<this._created)){var t,n=this.buttons,r=e.buttons,i=n.length;for(t=0;t<i;t++)n[t].update(r[t].value);var o=this.axes,a=e.axes;for(i=o.length,t=0;t<i;t++)o[t].update(a[t]);i>=2&&(this.leftStick.set(o[0].getValue(),o[1].getValue()),i>=4&&this.rightStick.set(o[2].getValue(),o[3].getValue()))}},destroy:function(){var e;for(this.removeAllListeners(),this.manager=null,this.pad=null,e=0;e<this.buttons.length;e++)this.buttons[e].destroy();for(e=0;e<this.axes.length;e++)this.axes[e].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});e.exports=u},function(e,t,n){var r=n(0),i=n(9),o=n(154),a=new r({Extends:i,initialize:function(e,t){i.call(this),this.plugin=e,this.keyCode=t,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(e){return this.emitOnRepeat=e,this},onDown:function(e){this.originalEvent=e,this.enabled&&(this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.location=e.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,e):(this.isDown=!0,this.isUp=!1,this.timeDown=e.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,e)))},onUp:function(e){this.originalEvent=e,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=e.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,e))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});e.exports=a},function(e,t,n){var r=n(0),i=n(154),o=n(2),a=n(514),s=n(516),u=new r({initialize:function(e,t,n){if(void 0===n&&(n={}),t.length<2)return!1;this.manager=e,this.enabled=!0,this.keyCodes=[];for(var r=0;r<t.length;r++){var u=t[r];"string"===typeof u?this.keyCodes.push(u.toUpperCase().charCodeAt(0)):"number"===typeof u?this.keyCodes.push(u):u.hasOwnProperty("keyCode")&&this.keyCodes.push(u.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(n,"resetOnWrongKey",!0),this.maxKeyDelay=o(n,"maxKeyDelay",0),this.resetOnMatch=o(n,"resetOnMatch",!1),this.deleteOnMatch=o(n,"deleteOnMatch",!1);var l=this;this.onKeyDown=function(e){!l.matched&&l.enabled&&a(e,l)&&(l.manager.emit(i.COMBO_MATCH,l,e),l.resetOnMatch?s(l):l.deleteOnMatch&&l.destroy())},this.manager.on(i.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(i.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});e.exports=u},function(e,t,n){var r=n(515);e.exports=function(e,t){if(t.matched)return!0;var n=!1,i=!1;if(e.keyCode===t.current)if(t.index>0&&t.maxKeyDelay>0){var o=t.timeLastMatched+t.maxKeyDelay;e.timeStamp<=o&&(i=!0,n=r(e,t))}else i=!0,n=r(e,t);return!i&&t.resetOnWrongKey&&(t.index=0,t.current=t.keyCodes[0]),n&&(t.timeLastMatched=e.timeStamp,t.matched=!0,t.timeMatched=e.timeStamp),n}},function(e,t){e.exports=function(e,t){return t.timeLastMatched=e.timeStamp,t.index++,t.index===t.size||(t.current=t.keyCodes[t.index],!1)}},function(e,t){e.exports=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e}},function(e,t,n){var r=n(240);e.exports=function(e,t){var n=r(t,e.xhrSettings),i=new XMLHttpRequest;if(i.open("GET",e.src,n.async,n.user,n.password),i.responseType=e.xhrSettings.responseType,i.timeout=n.timeout,n.headers)for(var o in n.headers)i.setRequestHeader(o,n.headers[o]);return n.header&&n.headerValue&&i.setRequestHeader(n.header,n.headerValue),n.requestedWith&&i.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&i.overrideMimeType(n.overrideMimeType),n.withCredentials&&(i.withCredentials=!0),i.onload=e.onLoad.bind(e,i),i.onerror=e.onError.bind(e,i),i.onprogress=e.onProgress.bind(e),i.send(),i}},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(519),l=n(7),c=new r({Extends:o,initialize:function(e,t,n,r,i){if(l(t)){var a=t;t=s(a,"key"),r=s(a,"xhrSettings"),i=s(a,"context",i)}var u={type:"audio",cache:e.cacheManager.audio,extension:n.type,responseType:"arraybuffer",key:t,url:n.url,xhrSettings:r,config:{context:i}};o.call(this,e,u)},onProcess:function(){this.state=i.FILE_PROCESSING;var e=this;this.config.context.decodeAudioData(this.xhrLoader.response,(function(t){e.data=t,e.onProcessComplete()}),(function(t){console.error("Error decoding audio: "+e.key+" - ",t?t.message:null),e.onProcessError()})),this.config.context=null}});c.create=function(e,t,n,r,i){var o=e.systems.game,a=o.config.audio,h=o.device.audio;l(t)&&(n=s(t,"url",[]),r=s(t,"config",{}));var f=c.getAudioURL(o,n);return f?h.webAudio&&!a.disableWebAudio?new c(e,t,f,i,o.sound.context):new u(e,t,f,r):null},c.getAudioURL=function(e,t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r=s(t[n],"url",t[n]);if(0===r.indexOf("blob:")||0===r.indexOf("data:"))return{url:r,type:""};var i=r.match(/\.([a-zA-Z0-9]+)($|\?)/);if(i=s(t[n],"type",i?i[1]:"").toLowerCase(),e.device.audio[i])return{url:r,type:i}}return null},a.register("audio",(function(e,t,n,r){var i,o=this.systems.game,a=o.config.audio,s=o.device.audio;if(a.noAudio||!s.webAudio&&!s.audioData)return this;if(Array.isArray(e))for(var u=0;u<e.length;u++)(i=c.create(this,e[u]))&&this.addFile(i);else(i=c.create(this,e,t,n,r))&&this.addFile(i);return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(95),o=n(23),a=n(2),s=n(155),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r){if(u(t)){var i=t;t=a(i,"key"),r=a(i,"config",r)}var s={type:"audio",cache:e.cacheManager.audio,extension:n.type,key:t,url:n.url,config:r};o.call(this,e,s),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];t.oncanplaythrough=null,t.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(e){var t=e.target;t.oncanplaythrough=null,t.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(i.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var e=this.config&&this.config.instances||1;this.filesTotal=e,this.filesLoaded=0,this.percentComplete=0;for(var t=0;t<e;t++){var n=new Audio;n.dataset||(n.dataset={}),n.dataset.name=this.key+("0"+t).slice(-2),n.dataset.used="false",this.locked?n.dataset.locked="true":(n.dataset.locked="false",n.preload="auto",n.oncanplaythrough=this.onProgress.bind(this),n.onerror=this.onError.bind(this)),this.data.push(n)}for(t=0;t<this.data.length;t++)(n=this.data[t]).src=s(this,this.loader.baseURL),this.locked||n.load();this.locked&&setTimeout(this.onLoad.bind(this))}});e.exports=l},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r){var i="js";if(u(t)){var a=t;t=s(a,"key"),n=s(a,"url"),r=s(a,"xhrSettings"),i=s(a,"extension",i)}var l={type:"script",cache:!1,extension:i,responseType:"text",key:t,url:n,xhrSettings:r};o.call(this,e,l)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,n));return this})),e.exports=l},function(e,t,n){var r=n(522),i=n(157),o=n(0),a=n(62),s=n(524),u=n(525),l=new o({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},collider:function(e,t,n,r,i){return this.world.addCollider(e,t,n,r,i)},overlap:function(e,t,n,r,i){return this.world.addOverlap(e,t,n,r,i)},existing:function(e,t){var n=t?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(e,n),e},staticImage:function(e,t,n,i){var o=new r(this.scene,e,t,n,i);return this.sys.displayList.add(o),this.world.enableBody(o,a.STATIC_BODY),o},image:function(e,t,n,i){var o=new r(this.scene,e,t,n,i);return this.sys.displayList.add(o),this.world.enableBody(o,a.DYNAMIC_BODY),o},staticSprite:function(e,t,n,r){var o=new i(this.scene,e,t,n,r);return this.sys.displayList.add(o),this.sys.updateList.add(o),this.world.enableBody(o,a.STATIC_BODY),o},sprite:function(e,t,n,r){var o=new i(this.scene,e,t,n,r);return this.sys.displayList.add(o),this.sys.updateList.add(o),this.world.enableBody(o,a.DYNAMIC_BODY),o},staticGroup:function(e,t){return this.sys.updateList.add(new u(this.world,this.world.scene,e,t))},group:function(e,t){return this.sys.updateList.add(new s(this.world,this.world.scene,e,t))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=l},function(e,t,n){var r=n(0),i=n(243),o=n(125),a=new r({Extends:o,Mixins:[i.Acceleration,i.Angular,i.Bounce,i.Debug,i.Drag,i.Enable,i.Friction,i.Gravity,i.Immovable,i.Mass,i.Pushable,i.Size,i.Velocity],initialize:function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.body=null}});e.exports=a},function(e,t,n){var r=n(244),i=n(65),o=n(231),a=n(151);e.exports=function(e,t,n,s,u,l){var c=r(e,t-s,n-s,2*s,2*s,u,l);if(0===c.length)return c;for(var h=new i(t,n,s),f=new i,d=[],p=0;p<c.length;p++){var v=c[p];v.isCircle?(f.setTo(v.center.x,v.center.y,v.halfWidth),o(h,f)&&d.push(v)):a(h,v)&&d.push(v)}return d}},function(e,t,n){var r=n(157),i=n(0),o=n(62),a=n(2),s=n(113),u=n(7),l=new i({Extends:s,initialize:function(e,t,n,i){if(n||i)if(u(n))i=n,n=null,i.internalCreateCallback=this.createCallbackHandler,i.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(n)&&u(n[0])){i=n[0];var l=this;n.forEach((function(e){e.internalCreateCallback=l.createCallbackHandler,e.internalRemoveCallback=l.removeCallbackHandler})),n=null}else i={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else i={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=e,i.classType=a(i,"classType",r),this.physicsType=o.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(i,"collideWorldBounds",!1),setBoundsRectangle:a(i,"customBoundsRectangle",null),setAccelerationX:a(i,"accelerationX",0),setAccelerationY:a(i,"accelerationY",0),setAllowDrag:a(i,"allowDrag",!0),setAllowGravity:a(i,"allowGravity",!0),setAllowRotation:a(i,"allowRotation",!0),setBounceX:a(i,"bounceX",0),setBounceY:a(i,"bounceY",0),setDragX:a(i,"dragX",0),setDragY:a(i,"dragY",0),setEnable:a(i,"enable",!0),setGravityX:a(i,"gravityX",0),setGravityY:a(i,"gravityY",0),setFrictionX:a(i,"frictionX",0),setFrictionY:a(i,"frictionY",0),setMaxVelocityX:a(i,"maxVelocityX",1e4),setMaxVelocityY:a(i,"maxVelocityY",1e4),setVelocityX:a(i,"velocityX",0),setVelocityY:a(i,"velocityY",0),setAngularVelocity:a(i,"angularVelocity",0),setAngularAcceleration:a(i,"angularAcceleration",0),setAngularDrag:a(i,"angularDrag",0),setMass:a(i,"mass",1),setImmovable:a(i,"immovable",!1)},s.call(this,t,n,i),this.type="PhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,o.DYNAMIC_BODY);var t=e.body;for(var n in this.defaults)t[n](this.defaults[n])},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},setVelocity:function(e,t,n){void 0===n&&(n=0);for(var r=this.getChildren(),i=0;i<r.length;i++)r[i].body.velocity.set(e+i*n,t+i*n);return this},setVelocityX:function(e,t){void 0===t&&(t=0);for(var n=this.getChildren(),r=0;r<n.length;r++)n[r].body.velocity.x=e+r*t;return this},setVelocityY:function(e,t){void 0===t&&(t=0);for(var n=this.getChildren(),r=0;r<n.length;r++)n[r].body.velocity.y=e+r*t;return this}});e.exports=l},function(e,t,n){var r=n(157),i=n(0),o=n(62),a=n(2),s=n(113),u=n(7),l=new i({Extends:s,initialize:function(e,t,n,i){n||i?u(n)?(i=n,n=null,i.internalCreateCallback=this.createCallbackHandler,i.internalRemoveCallback=this.removeCallbackHandler,i.createMultipleCallback=this.createMultipleCallbackHandler,i.classType=a(i,"classType",r)):Array.isArray(n)&&u(n[0])?(i=n,n=null,i.forEach((function(e){e.internalCreateCallback=this.createCallbackHandler,e.internalRemoveCallback=this.removeCallbackHandler,e.createMultipleCallback=this.createMultipleCallbackHandler,e.classType=a(e,"classType",r)}))):i={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:i={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:r},this.world=e,this.physicsType=o.STATIC_BODY,s.call(this,t,n,i),this.type="StaticPhysicsGroup"},createCallbackHandler:function(e){e.body||this.world.enableBody(e,o.STATIC_BODY)},removeCallbackHandler:function(e){e.body&&this.world.disableBody(e)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var e=this.children.entries,t=0;t<e.length;t++)e[t].body.reset();return this}});e.exports=l},function(e,t,n){var r=n(350),i=n(527),o=n(18),a=n(0),s=n(528),u=n(62),l=n(50),c=n(9),h=n(245),f=n(124),d=n(354),p=n(355),v=n(246),g=n(247),m=n(529),y=n(6),x=n(14),b=n(211),w=n(530),k=n(10),E=n(531),_=n(532),T=n(537),A=n(538),S=n(149),C=n(539),I=n(248),P=n(25),O=n(3),R=n(68),M=new a({Extends:c,initialize:function(e,t){c.call(this),this.scene=e,this.bodies=new S,this.staticBodies=new S,this.pendingDestroy=new S,this.colliders=new b,this.gravity=new O(y(t,"gravity.x",0),y(t,"gravity.y",0)),this.bounds=new k(y(t,"x",0),y(t,"y",0),y(t,"width",e.sys.scale.width),y(t,"height",e.sys.scale.height)),this.checkCollision={up:y(t,"checkCollision.up",!0),down:y(t,"checkCollision.down",!0),left:y(t,"checkCollision.left",!0),right:y(t,"checkCollision.right",!0)},this.fps=y(t,"fps",60),this.fixedStep=y(t,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=y(t,"timeScale",1),this.OVERLAP_BIAS=y(t,"overlapBias",4),this.TILE_BIAS=y(t,"tileBias",16),this.forceX=y(t,"forceX",!1),this.isPaused=y(t,"isPaused",!1),this._total=0,this.drawDebug=y(t,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:y(t,"debugShowBody",!0),debugShowStaticBody:y(t,"debugShowStaticBody",!0),debugShowVelocity:y(t,"debugShowVelocity",!0),bodyDebugColor:y(t,"debugBodyColor",16711935),staticBodyDebugColor:y(t,"debugStaticBodyColor",255),velocityDebugColor:y(t,"debugVelocityColor",65280)},this.maxEntries=y(t,"maxEntries",16),this.useTree=y(t,"useTree",!0),this.tree=new E(this.maxEntries),this.staticTree=new E(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new P,this._tempMatrix2=new P,this.drawDebug&&this.createDebugGraphic()},enable:function(e,t){void 0===t&&(t=u.DYNAMIC_BODY),Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(r.isParent)for(var i=r.getChildren(),o=0;o<i.length;o++){var a=i[o];a.isParent?this.enable(a,t):this.enableBody(a,t)}else this.enableBody(r,t)}},enableBody:function(e,t){return void 0===t&&(t=u.DYNAMIC_BODY),e.body||(t===u.DYNAMIC_BODY?e.body=new i(this,e):t===u.STATIC_BODY&&(e.body=new C(this,e))),this.add(e.body),e},add:function(e){return e.physicsType===u.DYNAMIC_BODY?this.bodies.set(e):e.physicsType===u.STATIC_BODY&&(this.staticBodies.set(e),this.staticTree.insert(e)),e.enable=!0,e},disable:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];if(n.isParent)for(var r=n.getChildren(),i=0;i<r.length;i++){var o=r[i];o.isParent?this.disable(o):this.disableBody(o.body)}else this.disableBody(n.body)}},disableBody:function(e){this.remove(e),e.enable=!1},remove:function(e){e.physicsType===u.DYNAMIC_BODY?(this.tree.remove(e),this.bodies.delete(e)):e.physicsType===u.STATIC_BODY&&(this.staticBodies.delete(e),this.staticTree.remove(e))},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},setBounds:function(e,t,n,r,i,o,a,s){return this.bounds.setTo(e,t,n,r),void 0!==i&&this.setBoundsCollision(i,o,a,s),this},setBoundsCollision:function(e,t,n,r){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),this.checkCollision.left=e,this.checkCollision.right=t,this.checkCollision.up=n,this.checkCollision.down=r,this},pause:function(){return this.isPaused=!0,this.emit(h.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(h.RESUME),this},addCollider:function(e,t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=n);var o=new s(this,!1,e,t,n,r,i);return this.colliders.add(o),o},addOverlap:function(e,t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=n);var o=new s(this,!0,e,t,n,r,i);return this.colliders.add(o),o},removeCollider:function(e){return this.colliders.remove(e),this},setFPS:function(e){return this.fps=e,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(e,t){if(!this.isPaused&&0!==this.bodies.size){var n,r,i=this._frameTime,o=this._frameTimeMS*this.timeScale;this._elapsed+=t;var a=this.bodies.entries,s=this._elapsed>=o;for(this.fixedStep||(i=.001*t,s=!0,this._elapsed=0),n=0;n<a.length;n++)(r=a[n]).enable&&r.preUpdate(s,i);if(s){this._elapsed-=o,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(a));var u=this.colliders.update();for(n=0;n<u.length;n++){var l=u[n];l.active&&l.update()}this.emit(h.WORLD_STEP,i)}for(;this._elapsed>=o;)this._elapsed-=o,this.step(i)}},step:function(e){var t,n,r=this.bodies.entries,i=r.length;for(t=0;t<i;t++)(n=r[t]).enable&&n.update(e);this.useTree&&(this.tree.clear(),this.tree.load(r));var o=this.colliders.update();for(t=0;t<o.length;t++){var a=o[t];a.active&&a.update()}this.emit(h.WORLD_STEP,e),this.stepsLastFrame++},postUpdate:function(){var e,t,n=this.bodies.entries,r=n.length,i=this.bodies,o=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,e=0;e<r;e++)(t=n[e]).enable&&t.postUpdate();if(this.drawDebug){var a=this.debugGraphic;for(a.clear(),e=0;e<r;e++)(t=n[e]).willDrawDebug()&&t.drawDebug(a);for(r=(n=o.entries).length,e=0;e<r;e++)(t=n[e]).willDrawDebug()&&t.drawDebug(a)}var s=this.pendingDestroy;if(s.size>0){var l=this.tree,c=this.staticTree;for(r=(n=s.entries).length,e=0;e<r;e++)(t=n[e]).physicsType===u.DYNAMIC_BODY?(l.remove(t),i.delete(t)):t.physicsType===u.STATIC_BODY&&(c.remove(t),o.delete(t)),t.world=void 0,t.gameObject=void 0;s.clear()}},updateMotion:function(e,t){e.allowRotation&&this.computeAngularVelocity(e,t),this.computeVelocity(e,t)},computeAngularVelocity:function(e,t){var n=e.angularVelocity,r=e.angularAcceleration,i=e.angularDrag,a=e.maxAngular;r?n+=r*t:e.allowDrag&&i&&(d(n-(i*=t),0,.1)?n-=i:p(n+i,0,.1)?n+=i:n=0);var s=(n=o(n,-a,a))-e.angularVelocity;e.angularVelocity+=s,e.rotation+=e.angularVelocity*t},computeVelocity:function(e,t){var n=e.velocity.x,r=e.acceleration.x,i=e.drag.x,a=e.maxVelocity.x,s=e.velocity.y,u=e.acceleration.y,l=e.drag.y,c=e.maxVelocity.y,h=e.speed,v=e.maxSpeed,g=e.allowDrag,m=e.useDamping;e.allowGravity&&(n+=(this.gravity.x+e.gravity.x)*t,s+=(this.gravity.y+e.gravity.y)*t),r?n+=r*t:g&&i&&(m?(n*=i=Math.pow(i,t),h=Math.sqrt(n*n+s*s),f(h,0,.001)&&(n=0)):d(n-(i*=t),0,.01)?n-=i:p(n+i,0,.01)?n+=i:n=0),u?s+=u*t:g&&l&&(m?(s*=l=Math.pow(l,t),h=Math.sqrt(n*n+s*s),f(h,0,.001)&&(s=0)):d(s-(l*=t),0,.01)?s-=l:p(s+l,0,.01)?s+=l:s=0),n=o(n,-a,a),s=o(s,-c,c),e.velocity.set(n,s),v>-1&&h>v&&(e.velocity.normalize().scale(v),h=v),e.speed=h},separate:function(e,t,n,r,i,o){if(!o&&!e.enable||!t.enable||e.checkCollision.none||t.checkCollision.none||!this.intersects(e,t))return!1;if(n&&!1===n.call(r,e.gameObject,t.gameObject))return!1;if(e.isCircle&&t.isCircle)return this.separateCircle(e,t,i);if(e.isCircle!==t.isCircle){var a=e.isCircle?t:e,s=e.isCircle?e:t,u={x:a.x,y:a.y,right:a.right,bottom:a.bottom},l=s.center;if((l.y<u.y||l.y>u.bottom)&&(l.x<u.x||l.x>u.right))return this.separateCircle(e,t,i)}var c=!1,f=!1;i?(c=T(e,t,i,this.OVERLAP_BIAS),f=A(e,t,i,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(c=T(e,t,i,this.OVERLAP_BIAS),this.intersects(e,t)&&(f=A(e,t,i,this.OVERLAP_BIAS))):(f=A(e,t,i,this.OVERLAP_BIAS),this.intersects(e,t)&&(c=T(e,t,i,this.OVERLAP_BIAS)));var d=c||f;return d&&(i?(e.onOverlap||t.onOverlap)&&this.emit(h.OVERLAP,e.gameObject,t.gameObject,e,t):(e.onCollide||t.onCollide)&&this.emit(h.COLLIDE,e.gameObject,t.gameObject,e,t)),d},separateCircle:function(e,t,n,i){v(e,t,!1,i),g(e,t,!1,i);var o=0;if(e.isCircle!==t.isCircle){var a={x:t.isCircle?e.position.x:t.position.x,y:t.isCircle?e.position.y:t.position.y,right:t.isCircle?e.right:t.right,bottom:t.isCircle?e.bottom:t.bottom},s={x:e.isCircle?e.center.x:t.center.x,y:e.isCircle?e.center.y:t.center.y,radius:e.isCircle?e.halfWidth:t.halfWidth};s.y<a.y?s.x<a.x?o=l(s.x,s.y,a.x,a.y)-s.radius:s.x>a.right&&(o=l(s.x,s.y,a.right,a.y)-s.radius):s.y>a.bottom&&(s.x<a.x?o=l(s.x,s.y,a.x,a.bottom)-s.radius:s.x>a.right&&(o=l(s.x,s.y,a.right,a.bottom)-s.radius)),o*=-1}else o=e.halfWidth+t.halfWidth-l(e.center.x,e.center.y,t.center.x,t.center.y);if(e.overlapR=o,t.overlapR=o,n||0===o||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return 0!==o&&(e.onOverlap||t.onOverlap)&&this.emit(h.OVERLAP,e.gameObject,t.gameObject,e,t),0!==o;var u=e.center.x-t.center.x,c=e.center.y-t.center.y,f=Math.sqrt(Math.pow(u,2)+Math.pow(c,2)),d=(t.center.x-e.center.x)/f||0,p=(t.center.y-e.center.y)/f||0,m=2*(e.velocity.x*d+e.velocity.y*p-t.velocity.x*d-t.velocity.y*p)/(e.mass+t.mass);(e.immovable||t.immovable)&&(m*=2),e.immovable||(e.velocity.x=e.velocity.x-m/e.mass*d,e.velocity.y=e.velocity.y-m/e.mass*p),t.immovable||(t.velocity.x=t.velocity.x+m/t.mass*d,t.velocity.y=t.velocity.y+m/t.mass*p),e.immovable||t.immovable||(o/=2);var y=r(e.center,t.center),b=(o+x.EPSILON)*Math.cos(y),w=(o+x.EPSILON)*Math.sin(y);return e.immovable||(e.x-=b,e.y-=w,e.updateCenter()),t.immovable||(t.x+=b,t.y+=w,t.updateCenter()),e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,(e.onCollide||t.onCollide)&&this.emit(h.COLLIDE,e.gameObject,t.gameObject,e,t),!0},intersects:function(e,t){return e!==t&&(e.isCircle||t.isCircle?e.isCircle?t.isCircle?l(e.center.x,e.center.y,t.center.x,t.center.y)<=e.halfWidth+t.halfWidth:this.circleBodyIntersects(e,t):this.circleBodyIntersects(t,e):!(e.right<=t.position.x||e.bottom<=t.position.y||e.position.x>=t.right||e.position.y>=t.bottom))},circleBodyIntersects:function(e,t){var n=o(e.center.x,t.left,t.right),r=o(e.center.y,t.top,t.bottom);return(e.center.x-n)*(e.center.x-n)+(e.center.y-r)*(e.center.y-r)<=e.halfWidth*e.halfWidth},overlap:function(e,t,n,r,i){return void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=n),this.collideObjects(e,t,n,r,i,!0)},collide:function(e,t,n,r,i){return void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=n),this.collideObjects(e,t,n,r,i,!1)},collideObjects:function(e,t,n,r,i,o){var a,s;e.isParent&&void 0===e.physicsType&&(e=e.children.entries),t&&t.isParent&&void 0===t.physicsType&&(t=t.children.entries);var u=Array.isArray(e),l=Array.isArray(t);if(this._total=0,u||l)if(!u&&l)for(a=0;a<t.length;a++)this.collideHandler(e,t[a],n,r,i,o);else if(u&&!l)if(t)for(a=0;a<e.length;a++)this.collideHandler(e[a],t,n,r,i,o);else for(a=0;a<e.length;a++){var c=e[a];for(s=a+1;s<e.length;s++)a!==s&&this.collideHandler(c,e[s],n,r,i,o)}else for(a=0;a<e.length;a++)for(s=0;s<t.length;s++)this.collideHandler(e[a],t[s],n,r,i,o);else this.collideHandler(e,t,n,r,i,o);return this._total>0},collideHandler:function(e,t,n,r,i,o){if(void 0===t&&e.isParent)return this.collideGroupVsGroup(e,e,n,r,i,o);if(!e||!t)return!1;if(e.body){if(t.body)return this.collideSpriteVsSprite(e,t,n,r,i,o);if(t.isParent)return this.collideSpriteVsGroup(e,t,n,r,i,o);if(t.isTilemap)return this.collideSpriteVsTilemapLayer(e,t,n,r,i,o)}else if(e.isParent){if(t.body)return this.collideSpriteVsGroup(t,e,n,r,i,o);if(t.isParent)return this.collideGroupVsGroup(e,t,n,r,i,o);if(t.isTilemap)return this.collideGroupVsTilemapLayer(e,t,n,r,i,o)}else if(e.isTilemap){if(t.body)return this.collideSpriteVsTilemapLayer(t,e,n,r,i,o);if(t.isParent)return this.collideGroupVsTilemapLayer(t,e,n,r,i,o)}},collideSpriteVsSprite:function(e,t,n,r,i,o){return!(!e.body||!t.body)&&(this.separate(e.body,t.body,r,i,o)&&(n&&n.call(i,e,t),this._total++),!0)},collideSpriteVsGroup:function(e,t,n,r,i,o){var a,s,l,c=e.body;if(0!==t.length&&c&&c.enable&&!c.checkCollision.none)if(this.useTree||t.physicsType===u.STATIC_BODY){var h=this.treeMinMax;h.minX=c.left,h.minY=c.top,h.maxX=c.right,h.maxY=c.bottom;var f=t.physicsType===u.DYNAMIC_BODY?this.tree.search(h):this.staticTree.search(h);for(s=f.length,a=0;a<s;a++)c!==(l=f[a])&&l.enable&&!l.checkCollision.none&&t.contains(l.gameObject)&&this.separate(c,l,r,i,o,!0)&&(n&&n.call(i,c.gameObject,l.gameObject),this._total++)}else{var d=t.getChildren(),p=t.children.entries.indexOf(e);for(s=d.length,a=0;a<s;a++)(l=d[a].body)&&a!==p&&l.enable&&this.separate(c,l,r,i,o)&&(n&&n.call(i,c.gameObject,l.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(e,t,n,r,i,o){var a=e.getChildren();if(0===a.length)return!1;for(var s=!1,u=0;u<a.length;u++)a[u].body&&this.collideSpriteVsTilemapLayer(a[u],t,n,r,i,o)&&(s=!0);return s},collideTiles:function(e,t,n,r,i){return!(!e.body.enable||0===t.length)&&this.collideSpriteVsTilesHandler(e,t,n,r,i,!1,!1)},overlapTiles:function(e,t,n,r,i){return!(!e.body.enable||0===t.length)&&this.collideSpriteVsTilesHandler(e,t,n,r,i,!0,!1)},collideSpriteVsTilemapLayer:function(e,t,n,r,i,o){var a=e.body;if(!a.enable||a.checkCollision.none)return!1;var s=a.position.x,u=a.position.y,l=a.width,c=a.height,h=t.layer;if(h.tileWidth>h.baseTileWidth){var f=(h.tileWidth-h.baseTileWidth)*t.scaleX;s-=f,l+=f}h.tileHeight>h.baseTileHeight&&(c+=(h.tileHeight-h.baseTileHeight)*t.scaleY);var d=m(s,u,l,c,null,t.scene.cameras.main,t.layer);return 0!==d.length&&this.collideSpriteVsTilesHandler(e,d,n,r,i,o,!0)},collideSpriteVsTilesHandler:function(e,t,n,r,i,o,a){for(var s,u,l=e.body,c={left:0,right:0,top:0,bottom:0},f=!1,d=0;d<t.length;d++){var p=(u=(s=t[d]).tilemapLayer).tileToWorldXY(s.x,s.y);c.left=p.x,c.top=p.y,s.baseHeight!==s.height&&(c.top-=(s.height-s.baseHeight)*u.scaleY),c.right=c.left+s.width*u.scaleX,c.bottom=c.top+s.height*u.scaleY,I(c,l)&&(!r||r.call(i,e,s))&&w(s,e)&&(o||_(d,l,s,c,u,this.TILE_BIAS,a))&&(this._total++,f=!0,n&&n.call(i,e,s),o&&l.onOverlap?this.emit(h.TILE_OVERLAP,e,s,l):l.onCollide&&this.emit(h.TILE_COLLIDE,e,s,l))}return f},collideGroupVsGroup:function(e,t,n,r,i,o){if(0!==e.length&&0!==t.length)for(var a=e.getChildren(),s=0;s<a.length;s++)this.collideSpriteVsGroup(a[s],t,n,r,i,o)},wrap:function(e,t){e.body?this.wrapObject(e,t):e.getChildren?this.wrapArray(e.getChildren(),t):Array.isArray(e)?this.wrapArray(e,t):this.wrapObject(e,t)},wrapArray:function(e,t){for(var n=0;n<e.length;n++)this.wrapObject(e[n],t)},wrapObject:function(e,t){void 0===t&&(t=0),e.x=R(e.x,this.bounds.left-t,this.bounds.right+t),e.y=R(e.y,this.bounds.top-t,this.bounds.bottom+t)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});e.exports=M},function(e,t,n){var r=n(0),i=n(62),o=n(245),a=n(196),s=n(10),u=n(57),l=n(3),c=new r({initialize:function(e,t){var n=t.displayWidth?t.displayWidth:64,r=t.displayHeight?t.displayHeight:64;this.world=e,this.gameObject=t,this.transform={x:t.x,y:t.y,rotation:t.angle,scaleX:t.scaleX,scaleY:t.scaleY,displayOriginX:t.displayOriginX,displayOriginY:t.displayOriginY},this.debugShowBody=e.defaults.debugShowBody,this.debugShowVelocity=e.defaults.debugShowVelocity,this.debugBodyColor=e.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new l,this.position=new l(t.x-t.scaleX*t.displayOriginX,t.y-t.scaleY*t.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=n,this.height=r,this.sourceWidth=n,this.sourceHeight=r,t.frame&&(this.sourceWidth=t.frame.realWidth,this.sourceHeight=t.frame.realHeight),this.halfWidth=Math.abs(n/2),this.halfHeight=Math.abs(r/2),this.center=new l(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new l,this.newVelocity=new l,this.deltaMax=new l,this.acceleration=new l,this.allowDrag=!0,this.drag=new l,this.allowGravity=!0,this.gravity=new l,this.bounce=new l,this.worldBounce=null,this.customBoundsRectangle=e.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new l(1e4,1e4),this.maxSpeed=-1,this.friction=new l(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=i.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=i.DYNAMIC_BODY,this._sx=t.scaleX,this._sy=t.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s},updateBounds:function(){var e=this.gameObject,t=this.transform;if(e.parentContainer){var n=e.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);t.x=n.tx,t.y=n.ty,t.rotation=a(n.rotation),t.scaleX=n.scaleX,t.scaleY=n.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY}else t.x=e.x,t.y=e.y,t.rotation=e.angle,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.displayOriginX=e.displayOriginX,t.displayOriginY=e.displayOriginY;var r=!1;if(this.syncBounds){var i=e.getBounds(this._bounds);this.width=i.width,this.height=i.height,r=!0}else{var o=Math.abs(t.scaleX),s=Math.abs(t.scaleY);this._sx===o&&this._sy===s||(this.width=this.sourceWidth*o,this.height=this.sourceHeight*s,this._sx=o,this._sy=s,r=!0)}r&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var e=this.transform;this.position.x=e.x+e.scaleX*(this.offset.x-e.displayOriginX),this.position.y=e.y+e.scaleY*(this.offset.y-e.displayOriginY),this.updateCenter()},resetFlags:function(e){void 0===e&&(e=!1);var t=this.wasTouching,n=this.touching,r=this.blocked;e?(t.none=!0,t.up=!1,t.down=!1,t.left=!1,t.right=!1):(t.none=n.none,t.up=n.up,t.down=n.down,t.left=n.left,t.right=n.right),n.none=!0,n.up=!1,n.down=!1,n.left=!1,n.right=!1,r.none=!0,r.up=!1,r.down=!1,r.left=!1,r.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(e,t){e&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),e&&this.update(t)},update:function(e){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,e);var t=this.velocity.x,n=this.velocity.y;this.newVelocity.set(t*e,n*e),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(n,t),this.speed=Math.sqrt(t*t+n*n),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(o.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var e=this.position.x-this.prevFrame.x,t=this.position.y-this.prevFrame.y;if(this.moves){var n=this.deltaMax.x,r=this.deltaMax.y;0!==n&&0!==e&&(e<0&&e<-n?e=-n:e>0&&e>n&&(e=n)),0!==r&&0!==t&&(t<0&&t<-r?t=-r:t>0&&t>r&&(t=r)),this.gameObject.x+=e,this.gameObject.y+=t}e<0?this.facing=i.FACING_LEFT:e>0&&(this.facing=i.FACING_RIGHT),t<0?this.facing=i.FACING_UP:t>0&&(this.facing=i.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=e,this._ty=t},setBoundsRectangle:function(e){return this.customBoundsRectangle=e||this.world.bounds,this},checkWorldBounds:function(){var e=this.position,t=this.customBoundsRectangle,n=this.world.checkCollision,r=this.worldBounce?-this.worldBounce.x:-this.bounce.x,i=this.worldBounce?-this.worldBounce.y:-this.bounce.y,o=!1;return e.x<t.x&&n.left?(e.x=t.x,this.velocity.x*=r,this.blocked.left=!0,o=!0):this.right>t.right&&n.right&&(e.x=t.right-this.width,this.velocity.x*=r,this.blocked.right=!0,o=!0),e.y<t.y&&n.up?(e.y=t.y,this.velocity.y*=i,this.blocked.up=!0,o=!0):this.bottom>t.bottom&&n.down&&(e.y=t.bottom-this.height,this.velocity.y*=i,this.blocked.down=!0,o=!0),o&&(this.blocked.none=!1,this.updateCenter()),o},setOffset:function(e,t){return void 0===t&&(t=e),this.offset.set(e,t),this},setSize:function(e,t,n){void 0===n&&(n=!0);var r=this.gameObject;if(!e&&r.frame&&(e=r.frame.realWidth),!t&&r.frame&&(t=r.frame.realHeight),this.sourceWidth=e,this.sourceHeight=t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),n&&r.getCenter){var i=(r.width-e)/2,o=(r.height-t)/2;this.offset.set(i,o)}return this.isCircle=!1,this.radius=0,this},setCircle:function(e,t,n){return void 0===t&&(t=this.offset.x),void 0===n&&(n=this.offset.y),e>0?(this.isCircle=!0,this.radius=e,this.sourceWidth=2*e,this.sourceHeight=2*e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,n),this.updateCenter()):this.isCircle=!1,this},reset:function(e,t){this.stop();var n=this.gameObject;n.setPosition(e,t),n.getTopLeft?n.getTopLeft(this.position):this.position.set(e,t),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=n.angle,this.preRotation=n.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?this.radius>0&&e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom&&(this.center.x-e)*(this.center.x-e)+(this.center.y-t)*(this.center.y-t)<=this.radius*this.radius:u(this,e,t)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,n=t.x+this.halfWidth,r=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor),this.isCircle?e.strokeCircle(n,r,this.width/2):(this.checkCollision.up&&e.lineBetween(t.x,t.y,t.x+this.width,t.y),this.checkCollision.right&&e.lineBetween(t.x+this.width,t.y,t.x+this.width,t.y+this.height),this.checkCollision.down&&e.lineBetween(t.x,t.y+this.height,t.x+this.width,t.y+this.height),this.checkCollision.left&&e.lineBetween(t.x,t.y,t.x,t.y+this.height))),this.debugShowVelocity&&(e.lineStyle(e.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),e.lineBetween(n,r,n+this.velocity.x/2,r+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(e,t,n,r){void 0===e&&(e=!0),this.collideWorldBounds=e;var i=void 0!==t,o=void 0!==n;return(i||o)&&(this.worldBounce||(this.worldBounce=new l),i&&(this.worldBounce.x=t),o&&(this.worldBounce.y=n)),void 0!==r&&(this.onWorldBounds=r),this},setVelocity:function(e,t){return this.velocity.set(e,t),e=this.velocity.x,t=this.velocity.y,this.speed=Math.sqrt(e*e+t*t),this},setVelocityX:function(e){this.velocity.x=e;var t=e,n=this.velocity.y;return this.speed=Math.sqrt(t*t+n*n),this},setVelocityY:function(e){this.velocity.y=e;var t=this.velocity.x,n=e;return this.speed=Math.sqrt(t*t+n*n),this},setMaxVelocity:function(e,t){return this.maxVelocity.set(e,t),this},setMaxVelocityX:function(e){return this.maxVelocity.x=e,this},setMaxVelocityY:function(e){return this.maxVelocity.y=e,this},setMaxSpeed:function(e){return this.maxSpeed=e,this},setBounce:function(e,t){return this.bounce.set(e,t),this},setBounceX:function(e){return this.bounce.x=e,this},setBounceY:function(e){return this.bounce.y=e,this},setAcceleration:function(e,t){return this.acceleration.set(e,t),this},setAccelerationX:function(e){return this.acceleration.x=e,this},setAccelerationY:function(e){return this.acceleration.y=e,this},setAllowDrag:function(e){return void 0===e&&(e=!0),this.allowDrag=e,this},setAllowGravity:function(e){return void 0===e&&(e=!0),this.allowGravity=e,this},setAllowRotation:function(e){return void 0===e&&(e=!0),this.allowRotation=e,this},setDrag:function(e,t){return this.drag.set(e,t),this},setDamping:function(e){return this.useDamping=e,this},setDragX:function(e){return this.drag.x=e,this},setDragY:function(e){return this.drag.y=e,this},setGravity:function(e,t){return this.gravity.set(e,t),this},setGravityX:function(e){return this.gravity.x=e,this},setGravityY:function(e){return this.gravity.y=e,this},setFriction:function(e,t){return this.friction.set(e,t),this},setFrictionX:function(e){return this.friction.x=e,this},setFrictionY:function(e){return this.friction.y=e,this},setAngularVelocity:function(e){return this.angularVelocity=e,this},setAngularAcceleration:function(e){return this.angularAcceleration=e,this},setAngularDrag:function(e){return this.angularDrag=e,this},setMass:function(e){return this.mass=e,this},setImmovable:function(e){return void 0===e&&(e=!0),this.immovable=e,this},setEnable:function(e){return void 0===e&&(e=!0),this.enable=e,this},processX:function(e,t,n,r){this.x+=e,this.updateCenter(),null!==t&&(this.velocity.x=t);var i=this.blocked;n&&(i.left=!0),r&&(i.right=!0)},processY:function(e,t,n,r){this.y+=e,this.updateCenter(),null!==t&&(this.velocity.y=t);var i=this.blocked;n&&(i.up=!0),r&&(i.down=!0)},x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=c},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r,i,o,a){this.world=e,this.name="",this.active=!0,this.overlapOnly=t,this.object1=n,this.object2=r,this.collideCallback=i,this.processCallback=o,this.callbackContext=a},setName:function(e){return this.name=e,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});e.exports=r},function(e,t,n){var r=n(26),i=n(3),o=new i,a=new i;e.exports=function(e,t,n,i,s,u,l){var c=l.tilemapLayer.tilemap._convert.WorldToTileXY;c(e,t,!0,o,u,l);var h=o.x,f=o.y;c(e+n,t+i,!1,a,u,l);var d=Math.ceil(a.x),p=Math.ceil(a.y);return r(h,f,d-h,p-f,s,l)}},function(e,t){e.exports=function(e,t){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,t,e):!e.layer.callbacks[e.index]||!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,t,e)}},function(e,t,n){var r,o=n(436);function a(e){if(!(this instanceof a))return new a(e,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function s(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function u(e,t){l(e,0,e.children.length,t,e)}function l(e,t,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=t;a<n;a++)o=e.children[a],c(i,e.leaf?r(o):o);return i}function c(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function h(e,t){return e.minX-t.minX}function f(e,t){return e.minY-t.minY}function d(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function v(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function m(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(e,t,n,r,i){for(var a,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=r||(a=t+Math.ceil((n-t)/r/2)*r,o(e,a,t,n,i),s.push(t,a,a,n))}a.prototype=(i(r={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!m(e,t))return n;for(var i,o,a,s,u=[];t;){for(i=0,o=t.children.length;i<o;i++)a=t.children[i],m(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):g(e,s)?this._all(a,n):u.push(a));t=u.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!m(e,t))return!1;for(var r,i,o,a,s=[];t;){for(r=0,i=t.children.length;r<i;r++)if(o=t.children[r],m(e,a=t.leaf?n(o):o)){if(t.leaf||g(e,a))return!0;s.push(o)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(e,t){if(!e)return this;for(var n,r,i,o,a=this.data,u=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),o=!0),a.leaf&&-1!==(i=s(e,a.children,t)))return a.children.splice(i,1),l.push(a),this._condense(l),this;o||a.leaf||!g(a,u)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:h,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,o=n-t+1,a=this._maxEntries;if(o<=a)return u(i=y(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=y([])).leaf=!1,i.height=r;var s,l,c,h,f=Math.ceil(o/a),d=f*Math.ceil(Math.sqrt(a));for(x(e,t,n,d,this.compareMinX),s=t;s<=n;s+=d)for(x(e,s,c=Math.min(s+d-1,n),f,this.compareMinY),l=s;l<=c;l+=f)h=Math.min(l+f-1,c),i.children.push(this._build(e,l,h,r-1));return u(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,o,a,s,u,l,c,h,f,p;r.push(t),!t.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,o=t.children.length;i<o;i++)u=d(a=t.children[i]),f=e,p=a,(l=(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),c(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=y(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,u(n,this.toBBox),u(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,o,a,s,u,c,h;for(u=c=1/0,r=t;r<=n-t;r++)a=v(i=l(e,0,r,this.toBBox),o=l(e,r,n,this.toBBox)),s=d(i)+d(o),a<u?(u=a,h=r,c=s<c?s:c):a===u&&s<c&&(c=s,h=r);return h},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:h,i=e.leaf?this.compareMinY:f;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,o,a=this.toBBox,s=l(e,0,t,a),u=l(e,n-t,n,a),h=p(s)+p(u);for(i=t;i<n-t;i++)o=e.children[i],c(s,e.leaf?a(o):o),h+=p(s);for(i=n-t-1;i>=t;i--)o=e.children[i],c(u,e.leaf?a(o):o),h+=p(u);return h},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)c(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():u(e[n],this.toBBox)}},"compareMinX",(function(e,t){return e.left-t.left})),i(r,"compareMinY",(function(e,t){return e.top-t.top})),i(r,"toBBox",(function(e){return{minX:e.left,minY:e.top,maxX:e.right,maxY:e.bottom}})),r),e.exports=a},function(e,t,n){var r=n(533),i=n(535),o=n(248);e.exports=function(e,t,n,a,s,u,l){var c=a.left,h=a.top,f=a.right,d=a.bottom,p=n.faceLeft||n.faceRight,v=n.faceTop||n.faceBottom;if(l||(p=!0,v=!0),!p&&!v)return!1;var g=0,m=0,y=0,x=1;if(t.deltaAbsX()>t.deltaAbsY()?y=-1:t.deltaAbsX()<t.deltaAbsY()&&(x=-1),0!==t.deltaX()&&0!==t.deltaY()&&p&&v&&(y=Math.min(Math.abs(t.position.x-f),Math.abs(t.right-c)),x=Math.min(Math.abs(t.position.y-d),Math.abs(t.bottom-h))),y<x){if(p&&0!==(g=r(t,n,c,f,u,l))&&!o(a,t))return!0;v&&(m=i(t,n,h,d,u,l))}else{if(v&&0!==(m=i(t,n,h,d,u,l))&&!o(a,t))return!0;p&&(g=r(t,n,c,f,u,l))}return 0!==g||0!==m}},function(e,t,n){var r=n(534);e.exports=function(e,t,n,i,o,a){var s=0,u=t.faceLeft,l=t.faceRight,c=t.collideLeft,h=t.collideRight;return a||(u=!0,l=!0,c=!0,h=!0),e.deltaX()<0&&h&&e.checkCollision.left?l&&e.x<i&&(s=e.x-i)<-o&&(s=0):e.deltaX()>0&&c&&e.checkCollision.right&&u&&e.right>n&&(s=e.right-n)>o&&(s=0),0!==s&&(e.customSeparateX?e.overlapX=s:r(e,s)),s}},function(e,t){e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.left=!0):t>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=t,0===e.bounce.x?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x}},function(e,t,n){var r=n(536);e.exports=function(e,t,n,i,o,a){var s=0,u=t.faceTop,l=t.faceBottom,c=t.collideUp,h=t.collideDown;return a||(u=!0,l=!0,c=!0,h=!0),e.deltaY()<0&&h&&e.checkCollision.up?l&&e.y<i&&(s=e.y-i)<-o&&(s=0):e.deltaY()>0&&c&&e.checkCollision.down&&u&&e.bottom>n&&(s=e.bottom-n)>o&&(s=0),0!==s&&(e.customSeparateY?e.overlapY=s:r(e,s)),s}},function(e,t){e.exports=function(e,t){t<0?(e.blocked.none=!1,e.blocked.up=!0):t>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=t,0===e.bounce.y?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y}},function(e,t,n){var r=n(246),i=n(1389);e.exports=function(e,t,n,o){var a=r(e,t,n,o),s=e.immovable,u=t.immovable;if(n||0===a||s&&u||e.customSeparateX||t.customSeparateX)return 0!==a||e.embedded&&t.embedded;var l=i.Set(e,t,a);return s||u?(s?i.RunImmovableBody1(l):u&&i.RunImmovableBody2(l),!0):l>0||i.Check()}},function(e,t,n){var r=n(247),i=n(1390);e.exports=function(e,t,n,o){var a=r(e,t,n,o),s=e.immovable,u=t.immovable;if(n||0===a||s&&u||e.customSeparateY||t.customSeparateY)return 0!==a||e.embedded&&t.embedded;var l=i.Set(e,t,a);return s||u?(s?i.RunImmovableBody1(l):u&&i.RunImmovableBody2(l),!0):l>0||i.Check()}},function(e,t,n){var r=n(66),i=n(0),o=n(62),a=n(57),s=n(3),u=new i({initialize:function(e,t){var n=t.displayWidth?t.displayWidth:64,r=t.displayHeight?t.displayHeight:64;this.world=e,this.gameObject=t,this.debugShowBody=e.defaults.debugShowStaticBody,this.debugBodyColor=e.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(t.x-n*t.originX,t.y-r*t.originY),this.width=n,this.height=r,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=o.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(e,t){return e&&e!==this.gameObject&&(this.gameObject.body=null,e.body=this,this.gameObject=e),t&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var e=this.gameObject;return e.getTopLeft(this.position),this.width=e.displayWidth,this.height=e.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(e,t){return void 0===t&&(t=e),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(e,t),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(e,t,n){void 0===n&&(n=!0);var r=this.gameObject;if(!e&&r.frame&&(e=r.frame.realWidth),!t&&r.frame&&(t=r.frame.realHeight),this.world.staticTree.remove(this),this.width=e,this.height=t,this.halfWidth=Math.floor(e/2),this.halfHeight=Math.floor(t/2),n&&r.getCenter){var i=r.displayWidth/2,o=r.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(i-this.halfWidth,o-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(e,t,n){return void 0===t&&(t=this.offset.x),void 0===n&&(n=this.offset.y),e>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=e,this.width=2*e,this.height=2*e,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(t,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(e,t){var n=this.gameObject;void 0===e&&(e=n.x),void 0===t&&(t=n.y),this.world.staticTree.remove(this),n.setPosition(e,t),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(e){return e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom,e},hitTest:function(e,t){return this.isCircle?r(this,e,t):a(this,e,t)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(e){var t=this.position,n=t.x+this.halfWidth,r=t.y+this.halfHeight;this.debugShowBody&&(e.lineStyle(e.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?e.strokeCircle(n,r,this.width/2):e.strokeRect(t.x,t.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(e){return e<=0&&(e=.1),this.mass=e,this},x:{get:function(){return this.position.x},set:function(e){this.world.staticTree.remove(this),this.position.x=e,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(e){this.world.staticTree.remove(this),this.position.y=e,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});e.exports=u},function(e,t,n){var r=new(n(0))({initialize:function(e){this.pluginManager=e,this.game=e.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=r},function(e,t,n){var r=new(n(3));e.exports=function(e,t,n,i){var o=n.tilemapLayer,a=o.cullPaddingX,s=o.cullPaddingY,u=o.tilemap.tileToWorldXY(e,t,r,i,o);return u.x>i.worldView.x+o.scaleX*n.tileWidth*(-a-.5)&&u.x<i.worldView.right+o.scaleX*n.tileWidth*(a-.5)&&u.y>i.worldView.y+o.scaleY*n.tileHeight*(-s-1)&&u.y<i.worldView.bottom+o.scaleY*n.tileHeight*(s-.5)}},function(e,t,n){var r=n(26);e.exports=function(e,t,n,i,o,a,s){for(var u=r(n,i,o,a,null,s),l=0;l<u.length;l++)u[l]&&u[l].index===e&&(u[l].index=t)}},function(e,t,n){var r=n(10),i=n(139),o=n(76),a=new r;e.exports=function(e,t){var n=e.tilemapLayer.tilemap,r=e.tilemapLayer,s=Math.floor(n.tileWidth*r.scaleX),u=Math.floor(n.tileHeight*r.scaleY),l=o(t.worldView.x-r.x,s,0,!0)-r.cullPaddingX,c=i(t.worldView.right-r.x,s,0,!0)+r.cullPaddingX,h=o(t.worldView.y-r.y,u,0,!0)-r.cullPaddingY,f=i(t.worldView.bottom-r.y,u,0,!0)+r.cullPaddingY;return a.setTo(l,h,c-l,f-h)}},function(e,t,n){var r=n(543),i=n(159);e.exports=function(e,t,n,o){void 0===n&&(n=[]),void 0===o&&(o=0),n.length=0;var a=e.tilemapLayer,s=r(e,t);return(a.skipCull||1!==a.scrollFactorX||1!==a.scrollFactorY)&&(s.left=0,s.right=e.width,s.top=0,s.bottom=e.height),i(e,s,o,n),n}},function(e,t,n){var r=n(546),i=n(159);e.exports=function(e,t,n,o){void 0===n&&(n=[]),void 0===o&&(o=0),n.length=0;var a=e.tilemapLayer;if(!a.skipCull&&1===a.scrollFactorX&&1===a.scrollFactorY){var s=r(e,t);i(e,s,o,n)}return n}},function(e,t,n){var r=n(139),i=n(76);e.exports=function(e,t){var n=e.tilemapLayer.tilemap,o=e.tilemapLayer,a=Math.floor(n.tileWidth*o.scaleX),s=Math.floor(n.tileHeight*o.scaleY),u=e.hexSideLength,l=(s-u)/2+u;return{left:i(t.worldView.x-o.x,a,0,!0)-o.cullPaddingX,right:r(t.worldView.right-o.x,a,0,!0)+o.cullPaddingX,top:i(t.worldView.y-o.y,l,0,!0)-o.cullPaddingY,bottom:r(t.worldView.bottom-o.y,l,0,!0)+o.cullPaddingY}}},function(e,t,n){var r=n(541);e.exports=function(e,t,n,i){void 0===n&&(n=[]),void 0===i&&(i=0),n.length=0;var o,a,s,u=e.tilemapLayer,l=e.data,c=e.width,h=e.height,f=c,d=h;if(!u.skipCull)if(0===i){for(a=0;a<d;a++)for(o=0;l[a]&&o<f;o++)if(r(o,a,e,t)){if(!(s=l[a][o])||-1===s.index||!s.visible||0===s.alpha)continue;n.push(s)}}else if(1===i){for(a=0;a<d;a++)for(o=f;l[a]&&o>=0;o--)if(r(o,a,e,t)){if(!(s=l[a][o])||-1===s.index||!s.visible||0===s.alpha)continue;n.push(s)}}else if(2===i){for(a=d;a>=0;a--)for(o=0;l[a]&&o<f;o++)if(r(o,a,e,t)){if(!(s=l[a][o])||-1===s.index||!s.visible||0===s.alpha)continue;n.push(s)}}else if(3===i)for(a=d;a>=0;a--)for(o=f;l[a]&&o>=0;o--)if(r(o,a,e,t)){if(!(s=l[a][o])||-1===s.index||!s.visible||0===s.alpha)continue;n.push(s)}return u.tilesDrawn=n.length,u.tilesTotal=c*h,n}},function(e,t,n){var r=n(549),i=n(159);e.exports=function(e,t,n,o){void 0===n&&(n=[]),void 0===o&&(o=0),n.length=0;var a=e.tilemapLayer;if(!a.skipCull&&1===a.scrollFactorX&&1===a.scrollFactorY){var s=r(e,t);i(e,s,o,n)}return n}},function(e,t,n){var r=n(139),i=n(76);e.exports=function(e,t){var n=e.tilemapLayer.tilemap,o=e.tilemapLayer,a=Math.floor(n.tileWidth*o.scaleX),s=Math.floor(n.tileHeight*o.scaleY);return{left:i(t.worldView.x-o.x,a,0,!0)-o.cullPaddingX,right:r(t.worldView.right-o.x,a,0,!0)+o.cullPaddingX,top:i(t.worldView.y-o.y,s/2,0,!0)-o.cullPaddingY,bottom:r(t.worldView.bottom-o.y,s/2,0,!0)+o.cullPaddingY}}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o){n||(n=new r);var a=o.baseTileWidth,s=o.baseTileHeight,u=o.tilemapLayer,l=0,c=0;u&&(i||(i=u.scene.cameras.main),l=u.x+i.scrollX*(1-u.scrollFactorX),a*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var h=o.hexSideLength,f=l+e*a+t%2*(a/2),d=c+t*((s-h)/2+h);return n.set(f,d)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o){n||(n=new r);var a=o.baseTileWidth,s=o.baseTileHeight,u=o.tilemapLayer,l=0,c=0;u&&(i||(i=u.scene.cameras.main),l=u.x+i.scrollX*(1-u.scrollFactorX),a*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var h=l+a/2*(e-t),f=c+(e+t)*(s/2);return n.set(h,f)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o){n||(n=new r);var a=o.baseTileWidth,s=o.baseTileHeight,u=o.tilemapLayer,l=0,c=0;u&&(i||(i=u.scene.cameras.main),l=u.x+i.scrollX*(1-u.scrollFactorX),a*=u.scaleX,c=u.y+i.scrollY*(1-u.scrollFactorY),s*=u.scaleY);var h=l+e*a+t%2*(a/2),f=c+t*(s/2);return n.set(h,f)}},function(e,t,n){var r=n(253),i=n(254),o=n(3);e.exports=function(e,t,n,a,s){return n||(n=new o(0,0)),n.x=r(e,a,s),n.y=i(t,a,s),n}},function(e,t){e.exports=function(e,t,n){var r=n.baseTileHeight,i=n.tilemapLayer,o=0;i&&(void 0===t&&(t=i.scene.cameras.main),o=i.y+t.scrollY*(1-i.scrollFactorY),r*=i.scaleY);var a=i.tilemap.hexSideLength;return o+e*((r-a)/2+a)}},function(e,t){e.exports=function(e,t,n){var r=n.baseTileHeight,i=n.tilemapLayer,o=0;return i&&(void 0===t&&(t=i.scene.cameras.main),o=i.y+t.scrollY*(1-i.scrollFactorY),r*=i.scaleY),o+e*(r/2)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o,a){i||(i=new r);var s=a.baseTileWidth,u=a.baseTileHeight,l=a.tilemapLayer;l&&(o||(o=l.scene.cameras.main),t-=l.y+o.scrollY*(1-l.scrollFactorY),u*=l.scaleY,e-=l.x+o.scrollX*(1-l.scrollFactorX),s*=l.scaleX);var c=a.hexSideLength,h=(u-c)/2+c,f=n?Math.floor(t/h):t/h,d=n?Math.floor((e-f%2*.5*s)/s):(e-f%2*.5*s)/s;return i.set(d,f)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o,a){i||(i=new r);var s=a.baseTileWidth,u=a.baseTileHeight,l=a.tilemapLayer;l&&(o||(o=l.scene.cameras.main),t-=l.y+o.scrollY*(1-l.scrollFactorY),u*=l.scaleY,e-=l.x+o.scrollX*(1-l.scrollFactorX),s*=l.scaleX);var c=n?Math.floor((e/(s/2)+t/(u/2))/2):(e/(s/2)+t/(u/2))/2,h=n?Math.floor((t/(u/2)-e/(s/2))/2):(t/(u/2)-e/(s/2))/2;return i.set(c,h)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o,a){i||(i=new r);var s=a.baseTileWidth,u=a.baseTileHeight,l=a.tilemapLayer;l&&(o||(o=l.scene.cameras.main),t-=l.y+o.scrollY*(1-l.scrollFactorY),u*=l.scaleY,e-=l.x+o.scrollX*(1-l.scrollFactorX),s*=l.scaleX);var c=n?Math.floor(t/(u/2)):t/(u/2),h=n?Math.floor((e+c%2*.5*s)/s):(e+c%2*.5*s)/s;return i.set(h,c)}},function(e,t,n){var r=n(255),i=n(256),o=n(3);e.exports=function(e,t,n,a,s,u){return void 0===n&&(n=!0),a||(a=new o(0,0)),a.x=r(e,n,s,u),a.y=i(t,n,s,u),a}},function(e,t){e.exports=function(e,t,n,r){var i=r.baseTileHeight,o=r.tilemapLayer;o&&(n||(n=o.scene.cameras.main),e-=o.y+n.scrollY*(1-o.scrollFactorY),i*=o.scaleY);var a=r.hexSideLength,s=(i-a)/2+a;return t?Math.floor(e/s):e/s}},function(e,t){e.exports=function(e,t,n,r){var i=r.baseTileHeight,o=r.tilemapLayer;return o&&(n||(n=o.scene.cameras.main),e-=o.y+n.scrollY*(1-o.scrollFactorY),i*=o.scaleY),t?Math.floor(e/(i/2)):e/(i/2)}},function(e,t,n){var r=n(119);e.exports=function(e,t,n){if(r(e,t,n)){var i=n.data[t][e];return null!==i&&i.index>-1}return!1}},function(e,t,n){var r=n(85),i=n(119),o=n(252);e.exports=function(e,t,n,a,s){if(void 0===n&&(n=!0),void 0===a&&(a=!0),!i(e,t,s))return null;var u=s.data[t][e];return u?(s.data[t][e]=n?null:new r(s,-1,e,t,s.tileWidth,s.tileHeight),a&&u&&u.collides&&o(e,t,s),u):null}},function(e,t,n){var r=n(40),i=n(259),o=n(565),a=n(566),s=n(577);e.exports=function(e,t,n,u,l,c){var h;switch(t){case r.ARRAY_2D:h=i(e,n,u,l,c);break;case r.CSV:h=o(e,n,u,l,c);break;case r.TILED_JSON:h=a(e,n,c);break;case r.WELTMEISTER:h=s(e,n,c);break;default:console.warn("Unrecognized tilemap data format: "+t),h=null}return h}},function(e,t,n){var r=n(40),i=n(259);e.exports=function(e,t,n,o,a){var s=t.trim().split("\n").map((function(e){return e.split(",")})),u=i(e,s,n,o,a);return u.format=r.CSV,u}},function(e,t,n){var r=n(567),i=n(568),o=n(29),a=n(40),s=n(258),u=n(121),l=n(569),c=n(570),h=n(573),f=n(575);e.exports=function(e,t,n){var d=new u({width:t.width,height:t.height,name:e,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:s(t.orientation),format:a.TILED_JSON,version:t.version,properties:t.properties,renderOrder:t.renderorder,infinite:t.infinite});d.orientation===o.HEXAGONAL&&(d.hexSideLength=t.hexsidelength),d.layers=h(t,n),d.images=l(t);var p=f(t);return d.tilesets=p.tilesets,d.imageCollections=p.imageCollections,d.objects=c(t),d.tiles=i(d),r(d),d}},function(e,t,n){var r=n(17);e.exports=function(e){for(var t,n,i,o,a,s=0;s<e.layers.length;s++){t=e.layers[s],o=null;for(var u=0;u<t.data.length;u++){a=t.data[u];for(var l=0;l<a.length;l++)null===(n=a[l])||n.index<0||(i=e.tiles[n.index][2],o=e.tilesets[i],n.width=o.tileWidth,n.height=o.tileHeight,o.tileProperties&&o.tileProperties[n.index-o.firstgid]&&(n.properties=r(n.properties,o.tileProperties[n.index-o.firstgid])))}}}},function(e,t,n){var r=n(122);e.exports=function(e){var t,n,i=[];for(t=0;t<e.imageCollections.length;t++)for(var o=e.imageCollections[t],a=o.images,s=0;s<a.length;s++){var u=a[s];(n=new r(u.image,u.gid,o.imageWidth,o.imageHeight,0,0)).updateTileData(o.imageWidth,o.imageHeight),e.tilesets.push(n)}for(t=0;t<e.tilesets.length;t++)for(var l=(n=e.tilesets[t]).tileMargin,c=n.tileMargin,h=0,f=0,d=0,p=n.firstgid;p<n.firstgid+n.total&&(i[p]=[l,c,t],l+=n.tileWidth+n.tileSpacing,++h!==n.total)&&(++f!==n.columns||(l=n.tileMargin,c+=n.tileHeight+n.tileSpacing,f=0,++d!==n.rows));p++);return i}},function(e,t,n){var r=n(2),i=n(161);e.exports=function(e){for(var t=[],n=[],o=i(e);o.i<o.layers.length||n.length>0;)if(o.i>=o.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=n.pop()}else{var a=o.layers[o.i];if(o.i++,"imagelayer"===a.type){var s=r(a,"offsetx",0)+r(a,"startx",0),u=r(a,"offsety",0)+r(a,"starty",0);t.push({name:o.name+a.name,image:a.image,x:o.x+s+a.x,y:o.y+u+a.y,alpha:o.opacity*a.opacity,visible:o.visible&&a.visible,properties:r(a,"properties",{})})}else if("group"===a.type){var l=i(e,a,o);n.push(o),o=l}}return t}},function(e,t,n){var r=n(2),i=n(260),o=n(572),a=n(161);e.exports=function(e){for(var t=[],n=[],s=a(e);s.i<s.layers.length||n.length>0;)if(s.i>=s.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=n.pop()}else{var u=s.layers[s.i];if(s.i++,u.opacity*=s.opacity,u.visible=s.visible&&u.visible,"objectgroup"===u.type){u.name=s.name+u.name;for(var l=s.x+r(u,"startx",0)+r(u,"offsetx",0),c=s.y+r(u,"starty",0)+r(u,"offsety",0),h=[],f=0;f<u.objects.length;f++){var d=i(u.objects[f],l,c);h.push(d)}var p=new o(u);p.objects=h,t.push(p)}else if("group"===u.type){var v=a(e,u,s);n.push(s),s=v}}return t}},function(e,t,n){var r=n(126);e.exports=function(e,t){for(var n={},i=0;i<t.length;i++){var o=t[i];r(e,o)&&(n[o]=e[o])}return n}},function(e,t,n){var r=n(0),i=n(2),o=new r({initialize:function(e){void 0===e&&(e={}),this.name=i(e,"name","object layer"),this.opacity=i(e,"opacity",1),this.properties=i(e,"properties",{}),this.propertyTypes=i(e,"propertytypes",{}),this.type=i(e,"type","objectgroup"),this.visible=i(e,"visible",!0),this.objects=i(e,"objects",[])}});e.exports=o},function(e,t,n){var r=n(574),i=n(29),o=n(161),a=n(258),s=n(2),u=n(120),l=n(261),c=n(85);e.exports=function(e,t){for(var n=s(e,"infinite",!1),h=[],f=[],d=o(e);d.i<d.layers.length||f.length>0;)if(d.i>=d.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=f.pop()}else{var p=d.layers[d.i];if(d.i++,"tilelayer"===p.type)if(p.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+p.name+"'");else{if(p.encoding&&"base64"===p.encoding){if(p.chunks)for(var v=0;v<p.chunks.length;v++)p.chunks[v].data=r(p.chunks[v].data);p.data&&(p.data=r(p.data)),delete p.encoding}var g,m,y,x,b=[],w=0;if(n){var k=s(p,"startx",0)+p.x,E=s(p,"starty",0)+p.y;(g=new u({name:d.name+p.name,x:d.x+s(p,"offsetx",0)+k*e.tilewidth,y:d.y+s(p,"offsety",0)+E*e.tileheight,width:p.width,height:p.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:d.opacity*p.opacity,visible:d.visible&&p.visible,properties:s(p,"properties",[]),orientation:a(e.orientation)})).orientation===i.HEXAGONAL&&(g.hexSideLength=e.hexsidelength);for(var _=0;_<p.height;_++){b.push([null]);for(var T=0;T<p.width;T++)b[_][T]=null}for(_=0,N=p.chunks.length;_<N;_++)for(var A=p.chunks[_],S=A.x-k,C=A.y-E,I=0,P=0,O=A.data.length;P<O;P++){var R=w+S,M=I+C;(m=l(A.data[P])).gid>0?((y=new c(g,m.gid,R,M,e.tilewidth,e.tileheight)).rotation=m.rotation,y.flipX=m.flipped,b[M][R]=y):(x=t?null:new c(g,-1,R,M,e.tilewidth,e.tileheight),b[M][R]=x),++w===A.width&&(I++,w=0)}}else{(g=new u({name:d.name+p.name,x:d.x+s(p,"offsetx",0)+p.x,y:d.y+s(p,"offsety",0)+p.y,width:p.width,height:p.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,alpha:d.opacity*p.opacity,visible:d.visible&&p.visible,properties:s(p,"properties",[]),orientation:a(e.orientation)})).orientation===i.HEXAGONAL&&(g.hexSideLength=e.hexsidelength);for(var D=[],L=0,N=p.data.length;L<N;L++)(m=l(p.data[L])).gid>0?((y=new c(g,m.gid,w,b.length,e.tilewidth,e.tileheight)).rotation=m.rotation,y.flipX=m.flipped,D.push(y)):(x=t?null:new c(g,-1,w,b.length,e.tilewidth,e.tileheight),D.push(x)),++w===p.width&&(b.push(D),w=0,D=[])}g.data=b,h.push(g)}else if("group"===p.type){var F=o(e,p,d);f.push(d),d=F}}return h}},function(e,t){e.exports=function(e){for(var t=window.atob(e),n=t.length,r=new Array(n/4),i=0;i<n;i+=4)r[i/4]=(t.charCodeAt(i)|t.charCodeAt(i+1)<<8|t.charCodeAt(i+2)<<16|t.charCodeAt(i+3)<<24)>>>0;return r}},function(e,t,n){var r=n(122),i=n(576),o=n(260),a=n(1453);e.exports=function(e){for(var t,n=[],s=[],u=null,l=0;l<e.tilesets.length;l++){var c=e.tilesets[l];if(c.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(c.image){var h=new r(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing);if(e.version>1){var f=void 0,d=void 0;if(Array.isArray(c.tiles)){f=f||{},d=d||{};for(var p=0;p<c.tiles.length;p++){var v=c.tiles[p];if(v.properties){var g={};v.properties.forEach((function(e){g[e.name]=e.value})),d[v.id]=g}if(v.objectgroup&&((f[v.id]||(f[v.id]={})).objectgroup=v.objectgroup,v.objectgroup.objects)){var m=v.objectgroup.objects.map((function(e){return o(e)}));f[v.id].objectgroup.objects=m}v.animation&&((f[v.id]||(f[v.id]={})).animation=v.animation),v.type&&((f[v.id]||(f[v.id]={})).type=v.type)}}Array.isArray(c.wangsets)&&(f=f||{},d=d||{},a(c.wangsets,f)),f&&(h.tileData=f,h.tileProperties=d)}else if(c.tileproperties&&(h.tileProperties=c.tileproperties),c.tiles)for(t in h.tileData=c.tiles,h.tileData){var y=h.tileData[t].objectgroup;if(y&&y.objects){var x=y.objects.map((function(e){return o(e)}));h.tileData[t].objectgroup.objects=x}}h.updateTileData(c.imagewidth,c.imageheight),n.push(h)}else{var b=new i(c.name,c.firstgid,c.tilewidth,c.tileheight,c.margin,c.spacing,c.properties),w=0;for(p=0;p<c.tiles.length;p++){var k=(v=c.tiles[p]).image,E=parseInt(v.id,10),_=c.firstgid+E;b.addImage(_,k),w=Math.max(E,w)}b.maxId=w,s.push(b)}u&&(u.lastgid=c.firstgid-1),u=c}return{tilesets:n,imageCollections:s}}},function(e,t,n){var r=new(n(0))({initialize:function(e,t,n,r,i,o,a){(void 0===n||n<=0)&&(n=32),(void 0===r||r<=0)&&(r=32),void 0===i&&(i=0),void 0===o&&(o=0),this.name=e,this.firstgid=0|t,this.imageWidth=0|n,this.imageHeight=0|r,this.imageMargin=0|i,this.imageSpacing=0|o,this.properties=a||{},this.images=[],this.total=0},containsImageIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},addImage:function(e,t){return this.images.push({gid:e,image:t}),this.total++,this}});e.exports=r},function(e,t,n){var r=n(40),i=n(121),o=n(578),a=n(579);e.exports=function(e,t,n){if(0===t.layer.length)return console.warn("No layers found in the Weltmeister map: "+e),null;for(var s=0,u=0,l=0;l<t.layer.length;l++)t.layer[l].width>s&&(s=t.layer[l].width),t.layer[l].height>u&&(u=t.layer[l].height);var c=new i({width:s,height:u,name:e,tileWidth:t.layer[0].tilesize,tileHeight:t.layer[0].tilesize,format:r.WELTMEISTER});return c.layers=o(t,n),c.tilesets=a(t),c}},function(e,t,n){var r=n(120),i=n(85);e.exports=function(e,t){for(var n=[],o=0;o<e.layer.length;o++){for(var a=e.layer[o],s=new r({name:a.name,width:a.width,height:a.height,tileWidth:a.tilesize,tileHeight:a.tilesize,visible:1===a.visible}),u=[],l=[],c=0;c<a.data.length;c++){for(var h=0;h<a.data[c].length;h++){var f,d=a.data[c][h]-1;f=d>-1?new i(s,d,h,c,a.tilesize,a.tilesize):t?null:new i(s,-1,h,c,a.tilesize,a.tilesize),u.push(f)}l.push(u),u=[]}s.data=l,n.push(s)}return n}},function(e,t,n){var r=n(122);e.exports=function(e){for(var t=[],n=[],i=0;i<e.layer.length;i++){var o=e.layer[i],a=o.tilesetName;""!==a&&-1===n.indexOf(a)&&(n.push(a),t.push(new r(a,0,o.tilesize,o.tilesize,0,0)))}return t}},function(e,t,n){var r=n(0),i=n(36),o=n(40),a=n(2),s=n(120),u=n(29),l=n(362),c=n(74),h=n(73),f=n(85),d=n(251),p=n(581),v=n(122),g=new r({initialize:function(e,t){this.scene=e,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.width=t.width,this.height=t.height,this.orientation=t.orientation,this.renderOrder=t.renderOrder,this.format=t.format,this.version=t.version,this.properties=t.properties,this.widthInPixels=t.widthInPixels,this.heightInPixels=t.heightInPixels,this.imageCollections=t.imageCollections,this.images=t.images,this.layers=t.layers,this.tilesets=t.tilesets,this.objects=t.objects,this.currentLayerIndex=0,this.hexSideLength=t.hexSideLength;var n=this.orientation;this._convert={WorldToTileXY:d.GetWorldToTileXYFunction(n),WorldToTileX:d.GetWorldToTileXFunction(n),WorldToTileY:d.GetWorldToTileYFunction(n),TileToWorldXY:d.GetTileToWorldXYFunction(n),TileToWorldX:d.GetTileToWorldXFunction(n),TileToWorldY:d.GetTileToWorldYFunction(n)}},createBlankDynamicLayer:function(e,t,n,r,i,o,a,s){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(e,t,n,r,i,o,a,s)},createDynamicLayer:function(e,t,n,r){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(e,t,n,r)},createStaticLayer:function(e,t,n,r){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(e,t,n,r)},setRenderOrder:function(e){var t=["right-down","left-down","right-up","left-up"];return"number"===typeof e&&(e=t[e]),t.indexOf(e)>-1&&(this.renderOrder=e),this},addTilesetImage:function(e,t,n,r,i,a,s){if(void 0===e)return null;if(void 0!==t&&null!==t||(t=e),!this.scene.sys.textures.exists(t))return console.warn("Invalid Tileset Image: "+t),null;var u=this.scene.sys.textures.get(t),l=this.getTilesetIndex(e);if(null===l&&this.format===o.TILED_JSON)return console.warn("No data found for Tileset: "+e),null;var c=this.tilesets[l];return c?(c.setTileSize(n,r),c.setSpacing(i,a),c.setImage(u),c):(void 0===n&&(n=this.tileWidth),void 0===r&&(r=this.tileHeight),void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=0),(c=new v(e,s,n,r,i,a)).setImage(u),this.tilesets.push(c),c)},copy:function(e,t,n,r,i,o,a,s){return null!==(s=this.getLayer(s))?(d.Copy(e,t,n,r,i,o,a,s),this):null},createBlankLayer:function(e,t,n,r,i,o,a,u){if(void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=this.width),void 0===o&&(o=this.height),void 0===a&&(a=this.tileWidth),void 0===u&&(u=this.tileHeight),null!==this.getLayerIndex(e))return console.warn("Invalid Tilemap Layer ID: "+e),null;for(var l,c=new s({name:e,tileWidth:a,tileHeight:u,width:i,height:o,orientation:this.orientation}),h=0;h<o;h++){l=[];for(var d=0;d<i;d++)l.push(new f(c,-1,d,h,a,u,this.tileWidth,this.tileHeight));c.data.push(l)}this.layers.push(c),this.currentLayerIndex=this.layers.length-1;var v=new p(this.scene,this,this.currentLayerIndex,t,n,r);return v.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(v),v},createLayer:function(e,t,n,r){var i=this.getLayerIndex(e);if(null===i)return console.warn("Invalid Tilemap Layer ID: "+e),"string"===typeof e&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var o=this.layers[i];if(o.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+e),null;this.currentLayerIndex=i,void 0===n&&(n=o.x),void 0===r&&(r=o.y);var a=new p(this.scene,this,i,t,n,r);return a.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(a),a},createFromObjects:function(e,t){var n=[],r=this.getObjectLayer(e);if(!r)return console.warn("createFromObjects: Invalid objectLayerName given: "+e),n;Array.isArray(t)||(t=[t]);for(var o=r.objects,s=0;s<t.length;s++){for(var u,c=t[s],f=a(c,"id",null),d=a(c,"gid",null),p=a(c,"name",null),v=[],g=0;g<o.length;g++)u=o[g],(null===f&&null===d&&null===p||null!==f&&u.id===f||null!==d&&u.gid===d||null!==p&&u.name===p)&&v.push(u);for(var m=a(c,"classType",h),y=a(c,"scene",this.scene),x=a(c,"container",null),b=a(c,"key",null),w=a(c,"frame",null),k=0;k<v.length;k++){u=v[k];var E=new m(y);E.setName(u.name),E.setPosition(u.x,u.y),E.setTexture(b,w),u.width&&(E.displayWidth=u.width),u.height&&(E.displayHeight=u.height);var _={x:E.originX*u.width,y:(E.originY-1)*u.height};if(u.rotation){var T=i(u.rotation);l(_,T),E.rotation=T}if(E.x+=_.x,E.y+=_.y,void 0===u.flippedHorizontal&&void 0===u.flippedVertical||E.setFlip(u.flippedHorizontal,u.flippedVertical),u.visible||(E.visible=!1),Array.isArray(u.properties))u.properties.forEach((function(e){var t=e.name;void 0!==E[t]?E[t]=e.value:E.setData(t,e.value)}));else for(var A in u.properties)void 0!==E[A]?E[A]=u.properties[A]:E.setData(A,u.properties[A]);x?x.add(E):y.add.existing(E),n.push(E)}}return n},createFromTiles:function(e,t,n,r,i,o){return null===(o=this.getLayer(o))?null:d.CreateFromTiles(e,t,n,r,i,o)},fill:function(e,t,n,r,i,o,a){return void 0===o&&(o=!0),null===(a=this.getLayer(a))?null:(d.Fill(e,t,n,r,i,o,a),this)},filterObjects:function(e,t,n){if("string"===typeof e){var r=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+r),null}return e.objects.filter(t,n)},filterTiles:function(e,t,n,r,i,o,a,s){return null===(s=this.getLayer(s))?null:d.FilterTiles(e,t,n,r,i,o,a,s)},findByIndex:function(e,t,n,r){return null===(r=this.getLayer(r))?null:d.FindByIndex(e,t,n,r)},findObject:function(e,t,n){if("string"===typeof e){var r=e;if(!(e=this.getObjectLayer(e)))return console.warn("No object layer found with the name: "+r),null}return e.objects.find(t,n)||null},findTile:function(e,t,n,r,i,o,a,s){return null===(s=this.getLayer(s))?null:d.FindTile(e,t,n,r,i,o,a,s)},forEachTile:function(e,t,n,r,i,o,a,s){return null===(s=this.getLayer(s))?null:(d.ForEachTile(e,t,n,r,i,o,a,s),this)},getImageIndex:function(e){return this.getIndex(this.images,e)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map((function(e){return e.name})):[]},getIndex:function(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return n;return null},getLayer:function(e){var t=this.getLayerIndex(e);return null!==t?this.layers[t]:null},getObjectLayer:function(e){var t=this.getIndex(this.objects,e);return null!==t?this.objects[t]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map((function(e){return e.name})):[]},getLayerIndex:function(e){return void 0===e?this.currentLayerIndex:"string"===typeof e?this.getLayerIndexByName(e):"number"===typeof e&&e<this.layers.length?e:e instanceof p?e.layerIndex:null},getLayerIndexByName:function(e){return this.getIndex(this.layers,e)},getTileAt:function(e,t,n,r){return null===(r=this.getLayer(r))?null:d.GetTileAt(e,t,n,r)},getTileAtWorldXY:function(e,t,n,r,i){return null===(i=this.getLayer(i))?null:d.GetTileAtWorldXY(e,t,n,r,i)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map((function(e){return e.name})):[]},getTilesWithin:function(e,t,n,r,i,o){return null===(o=this.getLayer(o))?null:d.GetTilesWithin(e,t,n,r,i,o)},getTilesWithinShape:function(e,t,n,r){return null===(r=this.getLayer(r))?null:d.GetTilesWithinShape(e,t,n,r)},getTilesWithinWorldXY:function(e,t,n,r,i,o,a){return null===(a=this.getLayer(a))?null:d.GetTilesWithinWorldXY(e,t,n,r,i,o,a)},getTileset:function(e){var t=this.getIndex(this.tilesets,e);return null!==t?this.tilesets[t]:null},getTilesetIndex:function(e){return this.getIndex(this.tilesets,e)},hasTileAt:function(e,t,n){return null===(n=this.getLayer(n))?null:d.HasTileAt(e,t,n)},hasTileAtWorldXY:function(e,t,n,r){return null===(r=this.getLayer(r))?null:d.HasTileAtWorldXY(e,t,n,r)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(e){this.setLayer(e)}},putTileAt:function(e,t,n,r,i){return void 0===r&&(r=!0),null===(i=this.getLayer(i))?null:d.PutTileAt(e,t,n,r,i)},putTileAtWorldXY:function(e,t,n,r,i,o){return void 0===r&&(r=!0),null===(o=this.getLayer(o))?null:d.PutTileAtWorldXY(e,t,n,r,i,o)},putTilesAt:function(e,t,n,r,i){return void 0===r&&(r=!0),null===(i=this.getLayer(i))?null:(d.PutTilesAt(e,t,n,r,i),this)},randomize:function(e,t,n,r,i,o){return null===(o=this.getLayer(o))?null:(d.Randomize(e,t,n,r,i,o),this)},calculateFacesAt:function(e,t,n){return null===(n=this.getLayer(n))?null:(d.CalculateFacesAt(e,t,n),this)},calculateFacesWithin:function(e,t,n,r,i){return null===(i=this.getLayer(i))?null:(d.CalculateFacesWithin(e,t,n,r,i),this)},removeLayer:function(e){var t=this.getLayerIndex(e);if(null!==t){c(this.layers,t);for(var n=t;n<this.layers.length;n++)this.layers[n].tilemapLayer&&this.layers[n].tilemapLayer.layerIndex--;return this.currentLayerIndex===t&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(e){var t=this.getLayerIndex(e);return null!==t?((e=this.layers[t]).destroy(),c(this.layers,t),this.currentLayerIndex===t&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var e=this.layers,t=0;t<e.length;t++)e[t].tilemapLayer&&e[t].tilemapLayer.destroy(!1);return e.length=0,this.currentLayerIndex=0,this},removeTile:function(e,t,n){void 0===t&&(t=-1),void 0===n&&(n=!0);var r=[];Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var o=e[i];r.push(this.removeTileAt(o.x,o.y,!0,n,o.tilemapLayer)),t>-1&&this.putTileAt(t,o.x,o.y,n,o.tilemapLayer)}return r},removeTileAt:function(e,t,n,r,i){return void 0===n&&(n=!0),void 0===r&&(r=!0),null===(i=this.getLayer(i))?null:d.RemoveTileAt(e,t,n,r,i)},removeTileAtWorldXY:function(e,t,n,r,i,o){return void 0===n&&(n=!0),void 0===r&&(r=!0),null===(o=this.getLayer(o))?null:d.RemoveTileAtWorldXY(e,t,n,r,i,o)},renderDebug:function(e,t,n){return null===(n=this.getLayer(n))?null:(this.orientation===u.ORTHOGONAL&&d.RenderDebug(e,t,n),this)},renderDebugFull:function(e,t){for(var n=this.layers,r=0;r<n.length;r++)d.RenderDebug(e,t,n[r]);return this},replaceByIndex:function(e,t,n,r,i,o,a){return null===(a=this.getLayer(a))?null:(d.ReplaceByIndex(e,t,n,r,i,o,a),this)},setCollision:function(e,t,n,r,i){return void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!0),null===(r=this.getLayer(r))?null:(d.SetCollision(e,t,n,r,i),this)},setCollisionBetween:function(e,t,n,r,i){return void 0===n&&(n=!0),void 0===r&&(r=!0),null===(i=this.getLayer(i))?null:(d.SetCollisionBetween(e,t,n,r,i),this)},setCollisionByProperty:function(e,t,n,r){return void 0===t&&(t=!0),void 0===n&&(n=!0),null===(r=this.getLayer(r))?null:(d.SetCollisionByProperty(e,t,n,r),this)},setCollisionByExclusion:function(e,t,n,r){return void 0===t&&(t=!0),void 0===n&&(n=!0),null===(r=this.getLayer(r))?null:(d.SetCollisionByExclusion(e,t,n,r),this)},setCollisionFromCollisionGroup:function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!0),null===(n=this.getLayer(n))?null:(d.SetCollisionFromCollisionGroup(e,t,n),this)},setTileIndexCallback:function(e,t,n,r){return null===(r=this.getLayer(r))?null:(d.SetTileIndexCallback(e,t,n,r),this)},setTileLocationCallback:function(e,t,n,r,i,o,a){return null===(a=this.getLayer(a))?null:(d.SetTileLocationCallback(e,t,n,r,i,o,a),this)},setLayer:function(e){var t=this.getLayerIndex(e);return null!==t&&(this.currentLayerIndex=t),this},setBaseTileSize:function(e,t){this.tileWidth=e,this.tileHeight=t,this.widthInPixels=this.width*e,this.heightInPixels=this.height*t;for(var n=0;n<this.layers.length;n++){this.layers[n].baseTileWidth=e,this.layers[n].baseTileHeight=t;for(var r=this.layers[n].data,i=this.layers[n].width,o=this.layers[n].height,a=0;a<o;a++)for(var s=0;s<i;s++){var u=r[a][s];null!==u&&u.setSize(void 0,void 0,e,t)}}return this},setLayerTileSize:function(e,t,n){if(null===(n=this.getLayer(n)))return this;n.tileWidth=e,n.tileHeight=t;for(var r=n.data,i=n.width,o=n.height,a=0;a<o;a++)for(var s=0;s<i;s++){var u=r[a][s];null!==u&&u.setSize(e,t)}return this},shuffle:function(e,t,n,r,i){return null===(i=this.getLayer(i))?null:(d.Shuffle(e,t,n,r,i),this)},swapByIndex:function(e,t,n,r,i,o,a){return null===(a=this.getLayer(a))?null:(d.SwapByIndex(e,t,n,r,i,o,a),this)},tileToWorldX:function(e,t,n){return null===(n=this.getLayer(n))?null:this._convert.TileToWorldX(e,t,n)},tileToWorldY:function(e,t,n){return null===(n=this.getLayer(n))?null:this._convert.TileToWorldY(e,t,n)},tileToWorldXY:function(e,t,n,r,i){return null===(i=this.getLayer(i))?null:this._convert.TileToWorldXY(e,t,n,r,i)},weightedRandomize:function(e,t,n,r,i,o){return null===(o=this.getLayer(o))?null:(d.WeightedRandomize(t,n,r,i,e,o),this)},worldToTileX:function(e,t,n,r){return null===(r=this.getLayer(r))?null:this._convert.WorldToTileX(e,t,n,r)},worldToTileY:function(e,t,n,r){return null===(r=this.getLayer(r))?null:this._convert.WorldToTileY(e,t,n,r)},worldToTileXY:function(e,t,n,r,i,o){return null===(o=this.getLayer(o))?null:this._convert.WorldToTileXY(e,t,n,r,i,o)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});e.exports=g},function(e,t,n){var r=n(0),i=n(11),o=n(15),a=n(251),s=n(1456),u=new r({Extends:o,Mixins:[i.Alpha,i.BlendMode,i.ComputedSize,i.Depth,i.Flip,i.GetBounds,i.Origin,i.Pipeline,i.Transform,i.Visible,i.ScrollFactor,s],initialize:function(e,t,n,r,i,s){o.call(this,e,"TilemapLayer"),this.isTilemap=!0,this.tilemap=t,this.layerIndex=n,this.layer=t.layers[n],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(r),this.setAlpha(this.layer.alpha),this.setPosition(i,s),this.setOrigin(),this.setSize(t.tileWidth*this.layer.width,t.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(e){var t=[],n=[],r=this.tilemap;Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var o=e[i];if("string"===typeof o&&(o=r.getTileset(o)),o){n.push(o);for(var a=o.firstgid,s=0;s<o.total;s++)t[a+s]=o}}this.gidMap=t,this.tileset=n},setRenderOrder:function(e){return"string"===typeof e&&(e=["right-down","left-down","right-up","left-up"].indexOf(e)),e>=0&&e<4&&(this._renderOrder=e),this},calculateFacesAt:function(e,t){return a.CalculateFacesAt(e,t,this.layer),this},calculateFacesWithin:function(e,t,n,r){return a.CalculateFacesWithin(e,t,n,r,this.layer),this},createFromTiles:function(e,t,n,r,i){return a.CreateFromTiles(e,t,n,r,i,this.layer)},cull:function(e){return this.cullCallback(this.layer,e,this.culledTiles,this._renderOrder)},copy:function(e,t,n,r,i,o,s){return a.Copy(e,t,n,r,i,o,s,this.layer),this},fill:function(e,t,n,r,i,o){return a.Fill(e,t,n,r,i,o,this.layer),this},filterTiles:function(e,t,n,r,i,o,s){return a.FilterTiles(e,t,n,r,i,o,s,this.layer)},findByIndex:function(e,t,n){return a.FindByIndex(e,t,n,this.layer)},findTile:function(e,t,n,r,i,o,s){return a.FindTile(e,t,n,r,i,o,s,this.layer)},forEachTile:function(e,t,n,r,i,o,s){return a.ForEachTile(e,t,n,r,i,o,s,this.layer),this},getTileAt:function(e,t,n){return a.GetTileAt(e,t,n,this.layer)},getTileAtWorldXY:function(e,t,n,r){return a.GetTileAtWorldXY(e,t,n,r,this.layer)},getTilesWithin:function(e,t,n,r,i){return a.GetTilesWithin(e,t,n,r,i,this.layer)},getTilesWithinShape:function(e,t,n){return a.GetTilesWithinShape(e,t,n,this.layer)},getTilesWithinWorldXY:function(e,t,n,r,i,o){return a.GetTilesWithinWorldXY(e,t,n,r,i,o,this.layer)},hasTileAt:function(e,t){return a.HasTileAt(e,t,this.layer)},hasTileAtWorldXY:function(e,t,n){return a.HasTileAtWorldXY(e,t,n,this.layer)},putTileAt:function(e,t,n,r){return a.PutTileAt(e,t,n,r,this.layer)},putTileAtWorldXY:function(e,t,n,r,i){return a.PutTileAtWorldXY(e,t,n,r,i,this.layer)},putTilesAt:function(e,t,n,r){return a.PutTilesAt(e,t,n,r,this.layer),this},randomize:function(e,t,n,r,i){return a.Randomize(e,t,n,r,i,this.layer),this},removeTileAt:function(e,t,n,r){return a.RemoveTileAt(e,t,n,r,this.layer)},removeTileAtWorldXY:function(e,t,n,r,i){return a.RemoveTileAtWorldXY(e,t,n,r,i,this.layer)},renderDebug:function(e,t){return a.RenderDebug(e,t,this.layer),this},replaceByIndex:function(e,t,n,r,i,o){return a.ReplaceByIndex(e,t,n,r,i,o,this.layer),this},setSkipCull:function(e){return void 0===e&&(e=!0),this.skipCull=e,this},setCullPadding:function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1),this.cullPaddingX=e,this.cullPaddingY=t,this},setCollision:function(e,t,n,r){return a.SetCollision(e,t,n,this.layer,r),this},setCollisionBetween:function(e,t,n,r){return a.SetCollisionBetween(e,t,n,r,this.layer),this},setCollisionByProperty:function(e,t,n){return a.SetCollisionByProperty(e,t,n,this.layer),this},setCollisionByExclusion:function(e,t,n){return a.SetCollisionByExclusion(e,t,n,this.layer),this},setCollisionFromCollisionGroup:function(e,t){return a.SetCollisionFromCollisionGroup(e,t,this.layer),this},setTileIndexCallback:function(e,t,n){return a.SetTileIndexCallback(e,t,n,this.layer),this},setTileLocationCallback:function(e,t,n,r,i,o){return a.SetTileLocationCallback(e,t,n,r,i,o,this.layer),this},shuffle:function(e,t,n,r){return a.Shuffle(e,t,n,r,this.layer),this},swapByIndex:function(e,t,n,r,i,o){return a.SwapByIndex(e,t,n,r,i,o,this.layer),this},tileToWorldX:function(e,t){return this.tilemap.tileToWorldX(e,t,this)},tileToWorldY:function(e,t){return this.tilemap.tileToWorldY(e,t,this)},tileToWorldXY:function(e,t,n,r){return this.tilemap.tileToWorldXY(e,t,n,r,this)},weightedRandomize:function(e,t,n,r,i){return a.WeightedRandomize(t,n,r,i,e,this.layer),this},worldToTileX:function(e,t,n){return this.tilemap.worldToTileX(e,t,n,this)},worldToTileY:function(e,t,n){return this.tilemap.worldToTileY(e,t,n,this)},worldToTileXY:function(e,t,n,r,i){return this.tilemap.worldToTileXY(e,t,n,r,i,this)},destroy:function(e){void 0===e&&(e=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),e&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))}});e.exports=u},function(e,t,n){var r=n(0),i=n(2),o=new r({initialize:function(e){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(e)},reset:function(e){return this.delay=i(e,"delay",0),this.repeat=i(e,"repeat",0),this.loop=i(e,"loop",!1),this.callback=i(e,"callback",void 0),this.callbackScope=i(e,"callbackScope",this.callback),this.args=i(e,"args",[]),this.timeScale=i(e,"timeScale",1),this.startAt=i(e,"startAt",0),this.paused=i(e,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var e=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/e}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return.001*this.getRemaining()},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return.001*this.getOverallRemaining()},remove:function(e){void 0===e&&(e=!1),this.elapsed=this.delay,this.hasDispatched=!e,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});e.exports=o},function(e,t,n){var r=n(1465);e.exports=function(e){var t,n=[];if(e.hasOwnProperty("props"))for(t in e.props)"_"!==t.substr(0,1)&&n.push({key:t,value:e.props[t]});else for(t in e)-1===r.indexOf(t)&&"_"!==t.substr(0,1)&&n.push({key:t,value:e[t]});return n}},function(e,t,n){var r=n(6);e.exports=function(e){var t=r(e,"tweens",null);return null===t?[]:("function"===typeof t&&(t=t.call()),Array.isArray(t)||(t=[t]),t)}},function(e,t,n){var r=n(265),i=n(13),o=n(99),a=n(80),s=n(162),u=n(6),l=n(264),c=n(266),h=n(268);e.exports=function(e,t,n){void 0===n&&(n=r);var f=u(t,"from",0),d=u(t,"to",1),p=[{value:f}],v=s(t,"delay",n.delay),g=s(t,"duration",n.duration),m=u(t,"easeParams",n.easeParams),y=a(u(t,"ease",n.ease),m),x=s(t,"hold",n.hold),b=s(t,"repeat",n.repeat),w=s(t,"repeatDelay",n.repeatDelay),k=o(t,"yoyo",n.yoyo),E=[],_=l("value",d),T=h(p[0],0,"value",_.getEnd,_.getStart,_.getActive,y,v,g,k,x,b,w,!1,!1);T.start=f,T.current=f,T.to=d,E.push(T);var A=new c(e,E,p);A.offset=i(t,"offset",null),A.completeDelay=i(t,"completeDelay",0),A.loop=Math.round(i(t,"loop",0)),A.loopDelay=Math.round(i(t,"loopDelay",0)),A.paused=o(t,"paused",!1),A.useFrames=o(t,"useFrames",!1);for(var S=u(t,"callbackScope",A),C=[A,null],I=c.TYPES,P=0;P<I.length;P++){var O=I[P],R=u(t,O,!1);if(R){var M=u(t,O+"Scope",S),D=u(t,O+"Params",[]);A.setCallback(O,R,C.concat(D),M)}}return A}},function(e,t,n){var r=n(80),i=n(6),o=n(14);e.exports=function(e,t){var n;void 0===t&&(t={});var a=i(t,"start",0),s=i(t,"ease",null),u=i(t,"grid",null),l=i(t,"from",0),c="first"===l,h="center"===l,f="last"===l,d="number"===typeof l,p=Array.isArray(e),v=p?parseFloat(e[0]):parseFloat(e),g=p?parseFloat(e[1]):0,m=Math.max(v,g);if(p&&(a+=v),u){var y=u[0],x=u[1],b=0,w=0,k=0,E=0,_=[];f?(b=y-1,w=x-1):d?(b=l%y,w=Math.floor(l/y)):h&&(b=(y-1)/2,w=(x-1)/2);for(var T=o.MIN_SAFE_INTEGER,A=0;A<x;A++){_[A]=[];for(var S=0;S<y;S++){k=b-S,E=w-A;var C=Math.sqrt(k*k+E*E);C>T&&(T=C),_[A][S]=C}}}var I=s?r(s):null;return n=u?function(e,t,n,r){var i,o=0,s=r%y,u=Math.floor(r/y);if(s>=0&&s<y&&u>=0&&u<x&&(o=_[u][s]),p){var l=g-v;i=I?o/T*l*I(o/T):o/T*l}else i=I?o*v*I(o/T):o*v;return i+a}:function(e,t,n,r,i){var o,s,u;return i--,c?o=r:h?o=Math.abs(i/2-r):f?o=i-r:d&&(o=Math.abs(l-r)),p?(u=h?(g-v)/i*(2*o):(g-v)/i*o,s=I?u*I(o/i):u):s=I?i*m*I(o/i):o*v,s+a},n}},function(e,t,n){var r=n(77),i=n(265),o=n(13),a=n(99),s=n(80),u=n(162),l=n(263),c=n(584),h=n(6),f=n(588),d=n(163);e.exports=function(e,t){var n=new f(e);n.completeDelay=o(t,"completeDelay",0),n.loop=Math.round(o(t,"loop",0)),n.loopDelay=Math.round(o(t,"loopDelay",0)),n.paused=a(t,"paused",!1),n.useFrames=a(t,"useFrames",!1);var p=h(t,"callbackScope",n),v=[n],g=h(t,"onStart",!1);if(g){var m=h(t,"onStartScope",p),y=h(t,"onStartParams",[]);n.setCallback("onStart",g,v.concat(y),m)}var x=h(t,"onUpdate",!1);if(x){var b=h(t,"onUpdateScope",p),w=h(t,"onUpdateParams",[]);n.setCallback("onUpdate",x,v.concat(w),b)}var k=h(t,"onLoop",!1);if(k){var E=h(t,"onLoopScope",p),_=h(t,"onLoopParams",[]);n.setCallback("onLoop",k,v.concat(_),E)}var T=h(t,"onYoyo",!1);if(T){var A=h(t,"onYoyoScope",p),S=h(t,"onYoyoParams",[]);n.setCallback("onYoyo",T,v.concat(null,S),A)}var C=h(t,"onComplete",!1);if(C){var I=h(t,"onCompleteScope",p),P=h(t,"onCompleteParams",[]);n.setCallback("onComplete",C,v.concat(P),I)}var O=c(t);if(0===O.length)return n.paused=!0,n;var R=r(i);R.targets=l(t);var M=o(t,"totalDuration",0);R.duration=M>0?Math.floor(M/O.length):u(t,"duration",R.duration),R.delay=u(t,"delay",R.delay),R.easeParams=h(t,"easeParams",R.easeParams),R.ease=s(h(t,"ease",R.ease),R.easeParams),R.hold=u(t,"hold",R.hold),R.repeat=u(t,"repeat",R.repeat),R.repeatDelay=u(t,"repeatDelay",R.repeatDelay),R.yoyo=a(t,"yoyo",R.yoyo),R.flipX=a(t,"flipX",R.flipX),R.flipY=a(t,"flipY",R.flipY);for(var D=0;D<O.length;D++)n.queue(d(n,O[D],R));return n}},function(e,t,n){var r=n(0),i=n(9),o=n(267),a=n(163),s=n(100),u=new r({Extends:i,initialize:function(e){i.call(this),this.manager=e,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING_ADD,this._pausedState=s.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(e,t){this.emit(e,this),t&&t.func.apply(t.scope,t.params)},setTimeScale:function(e){return this.timeScale=e,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===s.ACTIVE},add:function(e){return this.queue(a(this,e))},queue:function(e){return this.isPlaying()||(e.parent=this,e.parentIsTimeline=!0,this.data.push(e),this.totalData=this.data.length),this},hasOffset:function(e){return null!==e.offset},isOffsetAbsolute:function(e){return"number"===typeof e},isOffsetRelative:function(e){if("string"===typeof e){var t=e[0];if("-"===t||"+"===t)return!0}return!1},getRelativeOffset:function(e,t){var n=e[0],r=parseFloat(e.substr(2)),i=t;switch(n){case"+":i+=r;break;case"-":i-=r}return Math.max(0,i)},calcDuration:function(){for(var e=0,t=0,n=0,r=0;r<this.totalData;r++){var i=this.data[r];i.init(),this.hasOffset(i)?this.isOffsetAbsolute(i.offset)?(i.calculatedOffset=i.offset,0===i.offset&&(n=0)):this.isOffsetRelative(i.offset)&&(i.calculatedOffset=this.getRelativeOffset(i.offset,e)):i.calculatedOffset=n,e=i.totalDuration+i.calculatedOffset,t+=i.totalDuration,n+=i.totalDuration}this.duration=t,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=s.PAUSED,!1)},resetTweens:function(e){for(var t=0;t<this.totalData;t++)this.data[t].play(e)},setCallback:function(e,t,n,r){return-1!==u.TYPES.indexOf(e)&&(this.callbacks[e]={func:t,scope:r,params:n}),this},makeActive:function(e){return this.manager.makeActive(e)},play:function(){if(this.state!==s.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=s.ACTIVE,this.dispatchTimelineEvent(o.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=s.LOOP_DELAY):(this.state=s.ACTIVE,this.dispatchTimelineEvent(o.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=s.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=s.PENDING_REMOVE,this.dispatchTimelineEvent(o.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(e,t){if(this.state!==s.PAUSED){switch(this.useFrames&&(t=1*this.manager.timeScale),t*=this.timeScale,this.elapsed+=t,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=t,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case s.ACTIVE:for(var n=this.totalData,r=0;r<this.totalData;r++)this.data[r].update(e,t)&&n--;this.dispatchTimelineEvent(o.TIMELINE_UPDATE,this.callbacks.onUpdate),0===n&&this.nextState();break;case s.LOOP_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=s.ACTIVE,this.dispatchTimelineEvent(o.TIMELINE_LOOP,this.callbacks.onLoop));break;case s.COMPLETE_DELAY:this.countdown-=t,this.countdown<=0&&(this.state=s.PENDING_REMOVE,this.dispatchTimelineEvent(o.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===s.PENDING_REMOVE}},stop:function(){this.state=s.PENDING_REMOVE},pause:function(){if(this.state!==s.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=s.PAUSED,this.emit(o.TIMELINE_PAUSE,this),this},resume:function(){return this.state===s.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(o.TIMELINE_RESUME,this)),this},hasTarget:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].hasTarget(e))return!0;return!1},destroy:function(){for(var e=0;e<this.data.length;e++)this.data[e].stop()}});u.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],e.exports=u},function(e,t,n){var r=n(86),i=n(41),o=n(32),a=n(2),s=n(64),u={parseBody:function(e,t,n,r){void 0===r&&(r={});for(var s=a(n,"fixtures",[]),u=[],l=0;l<s.length;l++)for(var c=this.parseFixture(s[l]),h=0;h<c.length;h++)u.push(c[h]);var f=o.clone(n,!0);o.extend(f,r,!0),delete f.fixtures,delete f.type;var d=i.create(f);return i.setParts(d,u),i.setPosition(d,{x:e,y:t}),d},parseFixture:function(e){var t,n=o.extend({},!1,e);if(delete n.circle,delete n.vertices,e.circle){var i=a(e.circle,"x"),s=a(e.circle,"y"),u=a(e.circle,"radius");t=[r.circle(i,s,u,n)]}else e.vertices&&(t=this.parseVertices(e.vertices,n));return t},parseVertices:function(e,t){void 0===t&&(t={});for(var n=[],a=0;a<e.length;a++)s.clockwiseSort(e[a]),n.push(i.create(o.extend({position:s.centre(e[a]),vertices:e[a]},t)));return r.flagCoincidentParts(n)}};e.exports=u},function(e,t,n){var r=n(86),i=n(41),o={parseBody:function(e,t,n,o){var a;void 0===o&&(o={});var s=n.vertices;if(1===s.length)o.vertices=s[0],a=i.create(o),r.flagCoincidentParts(a.parts);else{for(var u=[],l=0;l<s.length;l++){var c=i.create({vertices:s[l]});u.push(c)}r.flagCoincidentParts(u),o.parts=u,a=i.create(o)}return a.label=n.label,i.setPosition(a,{x:e,y:t}),a}};e.exports=o},function(e,t,n){var r={};e.exports=r;var i=n(118),o=n(128),a=n(32),s=n(41),u=n(86);r.stack=function(e,t,n,r,o,a,u){for(var l,c=i.create({label:"Stack"}),h=e,f=t,d=0,p=0;p<r;p++){for(var v=0,g=0;g<n;g++){var m=u(h,f,g,p,l,d);if(m){var y=m.bounds.max.y-m.bounds.min.y,x=m.bounds.max.x-m.bounds.min.x;y>v&&(v=y),s.translate(m,{x:.5*x,y:.5*y}),h=m.bounds.max.x+o,i.addBody(c,m),l=m,d+=1}else h+=o}f+=v+a,h=e}return c},r.chain=function(e,t,n,r,s,u){for(var l=e.bodies,c=1;c<l.length;c++){var h=l[c-1],f=l[c],d=h.bounds.max.y-h.bounds.min.y,p=h.bounds.max.x-h.bounds.min.x,v=f.bounds.max.y-f.bounds.min.y,g={bodyA:h,pointA:{x:p*t,y:d*n},bodyB:f,pointB:{x:(f.bounds.max.x-f.bounds.min.x)*r,y:v*s}},m=a.extend(g,u);i.addConstraint(e,o.create(m))}return e.label+=" Chain",e},r.mesh=function(e,t,n,r,s){var u,l,c,h,f,d=e.bodies;for(u=0;u<n;u++){for(l=1;l<t;l++)c=d[l-1+u*t],h=d[l+u*t],i.addConstraint(e,o.create(a.extend({bodyA:c,bodyB:h},s)));if(u>0)for(l=0;l<t;l++)c=d[l+(u-1)*t],h=d[l+u*t],i.addConstraint(e,o.create(a.extend({bodyA:c,bodyB:h},s))),r&&l>0&&(f=d[l-1+(u-1)*t],i.addConstraint(e,o.create(a.extend({bodyA:f,bodyB:h},s)))),r&&l<t-1&&(f=d[l+1+(u-1)*t],i.addConstraint(e,o.create(a.extend({bodyA:f,bodyB:h},s))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,n,i,o,a,u){return r.stack(e,t,n,i,o,a,(function(t,r,a,l,c,h){var f=Math.min(i,Math.ceil(n/2)),d=c?c.bounds.max.x-c.bounds.min.x:0;if(!(l>f)&&!(a<(l=f-l)||a>n-1-l))return 1===h&&s.translate(c,{x:(a+(n%2===1?1:-1))*d,y:0}),u(e+(c?a*d:0)+a*o,r,a,l,c,h)}))},r.newtonsCradle=function(e,t,n,r,a){for(var s=i.create({label:"Newtons Cradle"}),l=0;l<n;l++){var c=u.circle(e+l*(1.9*r),t+a,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=o.create({pointA:{x:e+l*(1.9*r),y:t},bodyB:c});i.addBody(s,c),i.addConstraint(s,h)}return s},r.car=function(e,t,n,r,a){var l=s.nextGroup(!0),c=.5*-n+20,h=.5*n-20,f=i.create({label:"Car"}),d=u.rectangle(e,t,n,r,{collisionFilter:{group:l},chamfer:{radius:.5*r},density:2e-4}),p=u.circle(e+c,t+0,a,{collisionFilter:{group:l},friction:.8}),v=u.circle(e+h,t+0,a,{collisionFilter:{group:l},friction:.8}),g=o.create({bodyB:d,pointB:{x:c,y:0},bodyA:p,stiffness:1,length:0}),m=o.create({bodyB:d,pointB:{x:h,y:0},bodyA:v,stiffness:1,length:0});return i.addBody(f,d),i.addBody(f,p),i.addBody(f,v),i.addConstraint(f,g),i.addConstraint(f,m),f},r.softBody=function(e,t,n,i,o,s,l,c,h,f){h=a.extend({inertia:1/0},h),f=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var d=r.stack(e,t,n,i,o,s,(function(e,t){return u.circle(e,t,c,h)}));return r.mesh(d,n,i,l,f),d.label="Soft Body",d}},function(e,t,n){var r={};e.exports=r,n(84);var i=n(32);r.pathToVertices=function(e,t){"undefined"===typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,a,s,u,l,c,h,f,d,p,v=[],g=0,m=0,y=0;t=t||15;var x=function(e,t,n){var r=n%2===1&&n>1;if(!f||e!=f.x||t!=f.y){f&&r?(d=f.x,p=f.y):(d=0,p=0);var i={x:d+e,y:p+t};!r&&f||(f=i),v.push(i),m=d+e,y=p+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":m=e.x,y=e.y;break;case"H":m=e.x;break;case"V":y=e.y}x(m,y,e.pathSegType)}};for(r._svgPathToAbsolute(e),a=e.getTotalLength(),l=[],n=0;n<e.pathSegList.numberOfItems;n+=1)l.push(e.pathSegList.getItem(n));for(c=l.concat();g<a;){if((u=l[e.getPathSegAtLength(g)])!=h){for(;c.length&&c[0]!=u;)b(c.shift());h=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=e.getPointAtLength(g),x(s.x,s.y,0)}g+=t}for(n=0,o=c.length;n<o;++n)b(c[n]);return v},r._svgPathToAbsolute=function(e){for(var t,n,r,i,o,a,s=e.pathSegList,u=0,l=0,c=s.numberOfItems,h=0;h<c;++h){var f=s.getItem(h),d=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in f&&(u=f.x),"y"in f&&(l=f.y);else switch("x1"in f&&(r=u+f.x1),"x2"in f&&(o=u+f.x2),"y1"in f&&(i=l+f.y1),"y2"in f&&(a=l+f.y2),"x"in f&&(u+=f.x),"y"in f&&(l+=f.y),d){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(u,l),h);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(u,l),h);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(u),h);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(l),h);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(u,l,r,i,o,a),h);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(u,l,o,a),h);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(u,l,r,i),h);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(u,l),h);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(u,l,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),h);break;case"z":case"Z":u=t,l=n}"M"!=d&&"m"!=d||(t=u,n=l)}}},function(e,t,n){var r=n(86),i=n(41),o=n(0),a=n(249),s=n(9),u=n(2),l=n(126),c=n(64),h=new o({Extends:s,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(e,t,n){s.call(this),this.tile=t,this.world=e,t.physics.matterBody&&t.physics.matterBody.destroy(),t.physics.matterBody=this;var r=u(n,"body",null),i=u(n,"addToWorld",!0);if(r)this.setBody(r,i);else{var o=t.getCollisionGroup();u(o,"objects",[]).length>0?this.setFromTileCollision(n):this.setFromTileRectangle(n)}},setFromTileRectangle:function(e){void 0===e&&(e={}),l(e,"isStatic")||(e.isStatic=!0),l(e,"addToWorld")||(e.addToWorld=!0);var t=this.tile.getBounds(),n=t.x+t.width/2,i=t.y+t.height/2,o=r.rectangle(n,i,t.width,t.height,e);return this.setBody(o,e.addToWorld),this},setFromTileCollision:function(e){void 0===e&&(e={}),l(e,"isStatic")||(e.isStatic=!0),l(e,"addToWorld")||(e.addToWorld=!0);for(var t=this.tile.tilemapLayer.scaleX,n=this.tile.tilemapLayer.scaleY,o=this.tile.getLeft(),a=this.tile.getTop(),s=this.tile.getCollisionGroup(),h=u(s,"objects",[]),f=[],d=0;d<h.length;d++){var p=h[d],v=o+p.x*t,g=a+p.y*n,m=p.width*t,y=p.height*n,x=null;if(p.rectangle)x=r.rectangle(v+m/2,g+y/2,m,y,e);else if(p.ellipse)x=r.circle(v+m/2,g+y/2,m/2,e);else if(p.polygon||p.polyline){var b=(p.polygon?p.polygon:p.polyline).map((function(e){return{x:e.x*t,y:e.y*n}})),w=c.create(b),k=c.centre(w);v+=k.x,g+=k.y,x=r.fromVertices(v,g,w,e)}x&&f.push(x)}return 1===f.length?this.setBody(f[0],e.addToWorld):f.length>1&&(e.parts=f,this.setBody(i.create(e),e.addToWorld)),this},setBody:function(e,t){return void 0===t&&(t=!0),this.body&&this.removeBody(),this.body=e,this.body.gameObject=this,t&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});e.exports=h},function(e,t,n){var r=n(1399);r.Body=n(41),r.Composite=n(118),r.World=n(596),r.Detector=n(273),r.Grid=n(597),r.Pairs=n(598),r.Pair=n(250),r.Query=n(1400),r.Resolver=n(599),r.SAT=n(274),r.Constraint=n(128),r.Common=n(32),r.Engine=n(1401),r.Events=n(166),r.Sleeping=n(165),r.Plugin=n(595),r.Bodies=n(86),r.Composites=n(591),r.Axes=n(271),r.Bounds=n(84),r.Svg=n(592),r.Vector=n(83),r.Vertices=n(64),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,e.exports=r},function(e,t,n){var r={};e.exports=r;var i=n(32);r._registry={},r.register=function(e){if(r.isPlugin(e)||i.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],n=r.versionParse(e.version).number,o=r.versionParse(t.version).number;n>o?(i.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):n<o?i.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&i.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"===typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var n=e.for&&r.dependencyParse(e.for);return!e.for||t.name===n.name&&r.versionSatisfies(t.version,n.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=r.dependencies(e),o=i.topologicalSort(n),a=[],s=0;s<o.length;s+=1)if(o[s]!==e.name){var u=r.resolve(o[s]);u?r.isUsed(e,u.name)||(r.isFor(u,e)||(i.warn("Plugin.use:",r.toString(u),"is for",u.for,"but installed on",r.toString(e)+"."),u._warned=!0),u.install?u.install(e):(i.warn("Plugin.use:",r.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(a.push("\ud83d\udd36 "+r.toString(u)),delete u._warned):a.push("\u2705 "+r.toString(u)),e.used.push(u.name)):a.push("\u274c "+o[s])}a.length>0&&!u.silent&&i.info(a.join("  "))}else i.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var n=r.dependencyParse(e),o=n.name;if(!(o in(t=t||{}))){e=r.resolve(e)||e,t[o]=i.map(e.uses||[],(function(t){r.isPlugin(t)&&r.register(t);var o=r.dependencyParse(t),a=r.resolve(t);return a&&!r.versionSatisfies(a.version,o.range)?(i.warn("Plugin.dependencies:",r.toString(a),"does not satisfy",r.toString(o),"used by",r.toString(n)+"."),a._warned=!0,e._warned=!0):a||(i.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(n),"could not be resolved."),e._warned=!0),o.name}));for(var a=0;a<t[o].length;a+=1)r.dependencies(t[o][a],t);return t}},r.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),r=n?e.substr(1):e,o=i.map(r.split("."),(function(e){return Number(e)}));return{isRange:n,version:r,range:e,operator:n?e[0]:"",parts:o,prerelease:t[1],number:1e8*o[0]+1e4*o[1]+o[2]}},r.versionSatisfies=function(e,t){t=t||"*";var n=r.versionParse(t),i=n.parts,o=r.versionParse(e),a=o.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return a[0]===i[0]&&a[1]===i[1]&&a[2]>=i[2];if("^"===n.operator)return i[0]>0?a[0]===i[0]&&o.number>=n.number:i[1]>0?a[1]===i[1]&&a[2]>=i[2]:a[2]===i[2]}return e===t||"*"===e}},function(e,t,n){var r={};e.exports=r;var i=n(118),o=(n(128),n(32));r.create=function(e){var t=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return o.extend(t,n,e)}},function(e,t,n){var r={};e.exports=r;var i=n(250),o=n(273),a=n(32);r.create=function(e){var t={controller:r,detector:o.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(t,e)},r.update=function(e,t,n,i){var o,a,s,u,l,c=n.world,h=e.buckets,f=!1,d=n.metrics;for(d.broadphaseTests=0,o=0;o<t.length;o++){var p=t[o];if((!p.isSleeping||i)&&!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y)){var v=r._getRegion(e,p);if(!p.region||v.id!==p.region.id||i){d.broadphaseTests+=1,p.region&&!i||(p.region=v);var g=r._regionUnion(v,p.region);for(a=g.startCol;a<=g.endCol;a++)for(s=g.startRow;s<=g.endRow;s++){u=h[l=r._getBucketId(a,s)];var m=a>=v.startCol&&a<=v.endCol&&s>=v.startRow&&s<=v.endRow,y=a>=p.region.startCol&&a<=p.region.endCol&&s>=p.region.startRow&&s<=p.region.endRow;!m&&y&&y&&u&&r._bucketRemoveBody(e,u,p),(p.region===v||m&&!y||i)&&(u||(u=r._createBucket(h,l)),r._bucketAddBody(e,u,p))}p.region=v,f=!0}}}f&&(e.pairsList=r._createActivePairsList(e))},r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},r._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),o=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return r._createRegion(n,i,o,a)},r._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),o=Math.floor(n.max.x/e.bucketWidth),a=Math.floor(n.min.y/e.bucketHeight),s=Math.floor(n.max.y/e.bucketHeight);return r._createRegion(i,o,a,s)},r._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];if(!(n.id===o.id||n.isStatic&&o.isStatic)){var a=i.id(n,o),s=e.pairs[a];s?s[2]+=1:e.pairs[a]=[n,o,1]}}t.push(n)},r._bucketRemoveBody=function(e,t,n){t.splice(t.indexOf(n),1);for(var r=0;r<t.length;r++){var o=t[r],a=i.id(n,o),s=e.pairs[a];s&&(s[2]-=1)}},r._createActivePairsList=function(e){var t,n,r=[];t=a.keys(e.pairs);for(var i=0;i<t.length;i++)(n=e.pairs[t[i]])[2]>0?r.push(n):delete e.pairs[t[i]];return r}},function(e,t,n){var r={};e.exports=r;var i=n(250),o=n(32);r._pairMaxIdleLife=1e3,r.create=function(e){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,n){var r,o,a,s,u=e.list,l=e.table,c=e.collisionStart,h=e.collisionEnd,f=e.collisionActive;for(c.length=0,h.length=0,f.length=0,s=0;s<u.length;s++)u[s].confirmedActive=!1;for(s=0;s<t.length;s++)(r=t[s]).collided&&((a=l[o=i.id(r.bodyA,r.bodyB)])?(a.isActive?f.push(a):c.push(a),i.update(a,r,n),a.confirmedActive=!0):(a=i.create(r,n),l[o]=a,c.push(a),u.push(a)));for(s=0;s<u.length;s++)(a=u[s]).isActive&&!a.confirmedActive&&(i.setActive(a,!1,n),h.push(a))},r.removeOld=function(e,t){var n,i,o,a,s=e.list,u=e.table,l=[];for(a=0;a<s.length;a++)(i=(n=s[a]).collision).bodyA.isSleeping||i.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>r._pairMaxIdleLife&&l.push(a);for(a=0;a<l.length;a++)delete u[(n=s[o=l[a]-a]).id],s.splice(o,1)},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},function(e,t,n){var r={};e.exports=r;var i=n(64),o=n(83),a=n(32),s=n(84);r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(e){var t,n,r;for(t=0;t<e.length;t++)(n=e[t]).isActive&&(r=n.activeContacts.length,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t,n){var i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,x,b=n*r._positionDampen;for(i=0;i<t.length;i++){var w=t[i];w.previousPositionImpulse.x=w.positionImpulse.x,w.previousPositionImpulse.y=w.positionImpulse.y}for(i=0;i<e.length;i++)(s=e[i]).isActive&&!s.isSensor&&(l=(u=s.collision).parentA,c=u.parentB,h=u.normal,p=l.previousPositionImpulse,v=c.previousPositionImpulse,d=u.penetration,m=v.x-p.x+d.x,y=v.y-p.y+d.y,f=(o=h.x)*m+(a=h.y)*y,s.separation=f,x=(f-s.slop)*b,(l.isStatic||c.isStatic)&&(x*=2),l.isStatic||l.isSleeping||(g=x/l.totalContacts,l.positionImpulse.x+=o*g,l.positionImpulse.y+=a*g),c.isStatic||c.isSleeping||(g=x/c.totalContacts,c.positionImpulse.x-=o*g,c.positionImpulse.y-=a*g))},r.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var a=0;a<n.parts.length;a++){var u=n.parts[a];i.translate(u.vertices,n.positionImpulse),s.update(u.bounds,u.vertices,n.velocity),u.position.x+=n.positionImpulse.x,u.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,o.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=r._positionWarming,n.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(e){var t,n,r,i,a,s,u,l,c,h,f,d,p,v,g=o._temp[0],m=o._temp[1];for(t=0;t<e.length;t++)if((r=e[t]).isActive&&!r.isSensor)for(i=r.activeContacts,s=(a=r.collision).parentA,u=a.parentB,l=a.normal,c=a.tangent,n=0;n<i.length;n++)f=(h=i[n]).vertex,d=h.normalImpulse,p=h.tangentImpulse,0===d&&0===p||(g.x=l.x*d+c.x*p,g.y=l.y*d+c.y*p,s.isStatic||s.isSleeping||(v=o.sub(f,s.position,m),s.positionPrev.x+=g.x*s.inverseMass,s.positionPrev.y+=g.y*s.inverseMass,s.anglePrev+=o.cross(v,g)*s.inverseInertia),u.isStatic||u.isSleeping||(v=o.sub(f,u.position,m),u.positionPrev.x-=g.x*u.inverseMass,u.positionPrev.y-=g.y*u.inverseMass,u.anglePrev-=o.cross(v,g)*u.inverseInertia))},r.solveVelocity=function(e,t){for(var n=t*t,i=o._temp[0],s=o._temp[1],u=o._temp[2],l=o._temp[3],c=o._temp[4],h=o._temp[5],f=0;f<e.length;f++){var d=e[f];if(d.isActive&&!d.isSensor){var p=d.collision,v=p.parentA,g=p.parentB,m=p.normal,y=p.tangent,x=d.activeContacts,b=1/x.length;v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,v.angularVelocity=v.angle-v.anglePrev,g.angularVelocity=g.angle-g.anglePrev;for(var w=0;w<x.length;w++){var k=x[w],E=k.vertex,_=o.sub(E,v.position,s),T=o.sub(E,g.position,u),A=o.add(v.velocity,o.mult(o.perp(_),v.angularVelocity),l),S=o.add(g.velocity,o.mult(o.perp(T),g.angularVelocity),c),C=o.sub(A,S,h),I=o.dot(m,C),P=o.dot(y,C),O=Math.abs(P),R=a.sign(P),M=(1+d.restitution)*I,D=a.clamp(d.separation+I,0,1)*r._frictionNormalMultiplier,L=P,N=1/0;O>d.friction*d.frictionStatic*D*n&&(N=O,L=a.clamp(d.friction*R*n,-N,N));var F=o.cross(_,m),B=o.cross(T,m),U=b/(v.inverseMass+g.inverseMass+v.inverseInertia*F*F+g.inverseInertia*B*B);if(M*=U,L*=U,I<0&&I*I>r._restingThresh*n)k.normalImpulse=0;else{var z=k.normalImpulse;k.normalImpulse=Math.min(k.normalImpulse+M,0),M=k.normalImpulse-z}if(P*P>r._restingThreshTangent*n)k.tangentImpulse=0;else{var V=k.tangentImpulse;k.tangentImpulse=a.clamp(k.tangentImpulse+L,-N,N),L=k.tangentImpulse-V}i.x=m.x*M+y.x*L,i.y=m.y*M+y.y*L,v.isStatic||v.isSleeping||(v.positionPrev.x+=i.x*v.inverseMass,v.positionPrev.y+=i.y*v.inverseMass,v.anglePrev+=o.cross(_,i)*v.inverseInertia),g.isStatic||g.isSleeping||(g.positionPrev.x-=i.x*g.inverseMass,g.positionPrev.y-=i.y*g.inverseMass,g.anglePrev-=o.cross(T,i)*g.inverseInertia)}}}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(276);e.exports=function(e,t,n,i){for(var o=e[0],a=1;a<e.length;a++){var s=e[a];r(s,o,t,n,i),o=s}return e}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o){return r(e,"angle",t,n,i,o)}},function(e,t){e.exports=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];t.call(n,i)}return e}},function(e,t){e.exports=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++){var i=e[r],o=!0;for(var a in t)i[a]!==t[a]&&(o=!1);if(o)return i}return null}},function(e,t){e.exports=function(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++){var i=e[r],o=!0;for(var a in t)i[a]!==t[a]&&(o=!1);if(o)return i}return null}},function(e,t,n){var r=n(289),i=n(123),o=n(2),a=n(1),s=new(n(129))({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1);e.exports=function(e,t){void 0===t&&(t={});var n=t.hasOwnProperty("width"),a=t.hasOwnProperty("height"),u=o(t,"width",-1),l=o(t,"height",-1),c=o(t,"cellWidth",1),h=o(t,"cellHeight",c),f=o(t,"position",i.TOP_LEFT),d=o(t,"x",0),p=o(t,"y",0),v=0,g=0,m=u*c,y=l*h;s.setPosition(d,p),s.setSize(c,h);for(var x=0;x<e.length;x++)if(r(e[x],s,f),n&&-1===u)s.x+=c;else if(a&&-1===l)s.y+=h;else if(a&&!n){if(g+=h,s.y+=h,g===y&&(g=0,v+=c,s.y=p,s.x+=c,v===m))break}else if(v+=c,s.x+=c,v===m&&(v=0,g+=h,s.x=d,s.y+=h,g===y))break;return e}},function(e,t,n){var r=n(18),i={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(e,t,n,i){return void 0===e&&(e=1),void 0===t?this.alpha=e:(this._alphaTL=r(e,0,1),this._alphaTR=r(t,0,1),this._alphaBL=r(n,0,1),this._alphaBR=r(i,0,1)),this},alpha:{get:function(){return this._alpha},set:function(e){var t=r(e,0,1);this._alpha=t,this._alphaTL=t,this._alphaTR=t,this._alphaBL=t,this._alphaBR=t,0===t?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(e){var t=r(e,0,1);this._alphaTL=t,0!==t&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(e){var t=r(e,0,1);this._alphaTR=t,0!==t&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(e){var t=r(e,0,1);this._alphaBL=t,0!==t&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(e){var t=r(e,0,1);this._alphaBR=t,0!==t&&(this.renderFlags|=2)}}};e.exports=i},function(e,t){e.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}}},function(e,t){var n={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,n,r){if(void 0===e)this.isCropped=!1;else if(this.frame){if("number"===typeof e)this.frame.setCropUVs(this._crop,e,t,n,r,this.flipX,this.flipY);else{var i=e;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};e.exports=n},function(e,t){e.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,t){return this.flipX=e,this.flipY=t,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(e,t,n){var r=n(10),i=n(308),o=n(3),a={prepareBoundsOutput:function(e,t){return void 0===t&&(t=!1),0!==this.rotation&&i(e,this.x,this.y,this.rotation),t&&this.parentContainer&&this.parentContainer.getBoundsTransformMatrix().transformPoint(e.x,e.y,e),e},getCenter:function(e){return void 0===e&&(e=new o),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,e},getTopLeft:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopCenter:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getTopRight:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(e,t)},getLeftCenter:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getRightCenter:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(e,t)},getBottomLeft:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomCenter:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBottomRight:function(e,t){return e||(e=new o),e.x=this.x-this.displayWidth*this.originX+this.displayWidth,e.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(e,t)},getBounds:function(e){var t,n,i,o,a,s,u,l;if(void 0===e&&(e=new r),this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(e),c.transformPoint(e.x,e.y,e),t=e.x,n=e.y,this.getTopRight(e),c.transformPoint(e.x,e.y,e),i=e.x,o=e.y,this.getBottomLeft(e),c.transformPoint(e.x,e.y,e),a=e.x,s=e.y,this.getBottomRight(e),c.transformPoint(e.x,e.y,e),u=e.x,l=e.y}else this.getTopLeft(e),t=e.x,n=e.y,this.getTopRight(e),i=e.x,o=e.y,this.getBottomLeft(e),a=e.x,s=e.y,this.getBottomRight(e),u=e.x,l=e.y;return e.x=Math.min(t,i,a,u),e.y=Math.min(n,o,s,l),e.width=Math.max(t,i,a,u)-e.x,e.height=Math.max(n,o,s,l)-e.y,e}};e.exports=a},function(e,t){e.exports="blur"},function(e,t){e.exports="boot"},function(e,t){e.exports="contextlost"},function(e,t){e.exports="contextrestored"},function(e,t){e.exports="destroy"},function(e,t){e.exports="focus"},function(e,t){e.exports="hidden"},function(e,t){e.exports="pause"},function(e,t){e.exports="postrender"},function(e,t){e.exports="poststep"},function(e,t){e.exports="prerender"},function(e,t){e.exports="prestep"},function(e,t){e.exports="ready"},function(e,t){e.exports="resume"},function(e,t){e.exports="step"},function(e,t){e.exports="visible"},function(e,t){e.exports="postrender"},function(e,t){e.exports="prerender"},function(e,t){e.exports="render"},function(e,t){e.exports="resize"},function(e,t){var n={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=e),this.originX=e,this.originY=t,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.displayOriginX=e,this.displayOriginY=t,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};e.exports=n},function(e,t,n){var r=n(36),i=n(99),o=n(6),a=n(100),s=n(3),u={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(e,t){void 0===t&&(t=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=e,t&&this.startFollow(t),this},setRotateToPath:function(e,t){return void 0===t&&(t=0),this.rotateToPath=e,this.pathRotationOffset=t,this},isFollowing:function(){var e=this.pathTween;return e&&e.isPlaying()},startFollow:function(e,t){void 0===e&&(e={}),void 0===t&&(t=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),"number"===typeof e&&(e={duration:e}),e.from=o(e,"from",0),e.to=o(e,"to",1);var u=i(e,"positionOnPath",!1);this.rotateToPath=i(e,"rotateToPath",!1),this.pathRotationOffset=o(e,"rotationOffset",0);var l=o(e,"startAt",t);if(l&&(e.onStart=function(e){var t=e.data[0];t.progress=l,t.elapsed=t.duration*l;var n=t.ease(t.progress);t.current=t.start+(t.end-t.start)*n,t.target[t.key]=t.current}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(e),this.path.getStartPoint(this.pathOffset),u&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var c=this.path.getPoint(.1);this.rotation=Math.atan2(c.y-this.y,c.x-this.x)+r(this.pathRotationOffset)}return this.pathConfig=e,this},pauseFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.pause(),this},resumeFollow:function(){var e=this.pathTween;return e&&e.isPaused()&&e.resume(),this},stopFollow:function(){var e=this.pathTween;return e&&e.isPlaying()&&e.stop(),this},pathUpdate:function(){var e=this.pathTween;if(e){var t=e.data[0],n=this.pathDelta,i=this.pathVector;if(n.copy(i).negate(),t.state===a.COMPLETE)return this.path.getPoint(1,i),n.add(i),i.add(this.pathOffset),void this.setPosition(i.x,i.y);if(t.state!==a.PLAYING_FORWARD&&t.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(e.getValue(),i),n.add(i),i.add(this.pathOffset);var o=this.x,s=this.y;this.setPosition(i.x,i.y);var u=this.x-o,l=this.y-s;if(0===u&&0===l)return;if(t.state!==this._prevDirection)return void(this._prevDirection=t.state);this.rotateToPath&&(this.rotation=Math.atan2(l,u)+r(this.pathRotationOffset))}}};e.exports=u},function(e,t){var n={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return void 0===e&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,t){return this.width=e,this.height=t,this},setDisplaySize:function(e,t){return this.displayWidth=e,this.displayHeight=t,this}};e.exports=n},function(e,t){var n={texture:null,frame:null,isCropped:!1,setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!0),this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};e.exports=n},function(e,t){var n={texture:null,frame:null,isCropped:!1,setCrop:function(e,t,n,r){if(void 0===e)this.isCropped=!1;else if(this.frame){if("number"===typeof e)this.frame.setCropUVs(this._crop,e,t,n,r,this.flipX,this.flipY);else{var i=e;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(e,t){return this.texture=this.scene.sys.textures.get(e),this.setFrame(t)},setFrame:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!0),this.frame=this.texture.get(e),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&t&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};e.exports=n},function(e,t){var n={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,t,n,r){return void 0===e&&(e=16777215),void 0===t&&(t=e,n=e,r=e),this.tintTopLeft=e,this.tintTopRight=t,this.tintBottomLeft=n,this.tintBottomRight=r,this.tintFill=!1,this},setTintFill:function(e,t,n,r){return this.setTint(e,t,n,r),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};e.exports=n},function(e,t){e.exports="changedata"},function(e,t){e.exports="changedata-"},function(e,t){e.exports="destroy"},function(e,t){e.exports="removedata"},function(e,t){e.exports="setdata"},function(e,t){e.exports="addedtoscene"},function(e,t){e.exports="destroy"},function(e,t){e.exports="removedfromscene"},function(e,t){e.exports="complete"},function(e,t){e.exports="created"},function(e,t){e.exports="error"},function(e,t){e.exports="loop"},function(e,t){e.exports="play"},function(e,t){e.exports="seeked"},function(e,t){e.exports="seeking"},function(e,t){e.exports="stop"},function(e,t){e.exports="timeout"},function(e,t){e.exports="unlocked"},function(e,t){e.exports="addedtoscene"},function(e,t){e.exports="boot"},function(e,t){e.exports="create"},function(e,t){e.exports="destroy"},function(e,t){e.exports="pause"},function(e,t){e.exports="postupdate"},function(e,t){e.exports="prerender"},function(e,t){e.exports="preupdate"},function(e,t){e.exports="ready"},function(e,t){e.exports="removedfromscene"},function(e,t){e.exports="render"},function(e,t){e.exports="resume"},function(e,t){e.exports="shutdown"},function(e,t){e.exports="sleep"},function(e,t){e.exports="start"},function(e,t){e.exports="transitioncomplete"},function(e,t){e.exports="transitioninit"},function(e,t){e.exports="transitionout"},function(e,t){e.exports="transitionstart"},function(e,t){e.exports="transitionwake"},function(e,t){e.exports="update"},function(e,t){e.exports="wake"},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o){return r(e,"alpha",t,n,i,o)}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o){return r(e,"x",t,n,i,o)}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o,a,s){return void 0!==n&&null!==n||(n=t),r(e,"x",t,i,a,s),r(e,"y",n,o,a,s)}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o){return r(e,"y",t,n,i,o)}},function(e,t){e.exports=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=6.28);for(var i=n,o=(r-n)/e.length,a=0;a<e.length;a++)e[a].x=t.x+t.radius*Math.cos(i),e[a].y=t.y+t.radius*Math.sin(i),i+=o;return e}},function(e,t){e.exports=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=6.28);for(var i=n,o=(r-n)/e.length,a=t.width/2,s=t.height/2,u=0;u<e.length;u++)e[u].x=t.x+a*Math.cos(i),e[u].y=t.y+s*Math.sin(i),i+=o;return e}},function(e,t,n){var r=n(172);e.exports=function(e,t){for(var n=r(t,e.length),i=0;i<e.length;i++){var o=e[i],a=n[i];o.x=a.x,o.y=a.y}return e}},function(e,t,n){var r=n(316),i=n(178),o=n(179);e.exports=function(e,t,n){void 0===n&&(n=0);var a=r(t,!1,e.length);n>0?i(a,n):n<0&&o(a,Math.abs(n));for(var s=0;s<e.length;s++)e[s].x=a[s].x,e[s].y=a[s].y;return e}},function(e,t,n){var r=n(317);e.exports=function(e,t,n){var i=r({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},n),o=r({x1:t.x2,y1:t.y2,x2:t.x3,y2:t.y3},n),a=r({x1:t.x3,y1:t.y3,x2:t.x1,y2:t.y1},n);i.pop(),o.pop(),a.pop();for(var s=(i=i.concat(o,a)).length/e.length,u=0,l=0;l<e.length;l++){var c=e[l],h=i[Math.floor(u)];c.x=h.x,c.y=h.y,u+=s}return e}},function(e,t){e.exports=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];i.anims&&i.anims.play(t,n)}return e}},function(e,t,n){var r=n(170);e.exports=function(e,t){for(var n=0;n<e.length;n++)r(t,e[n]);return e}},function(e,t,n){var r=n(180);e.exports=function(e,t){for(var n=0;n<e.length;n++)r(t,e[n]);return e}},function(e,t,n){var r=n(173);e.exports=function(e,t){for(var n=0;n<e.length;n++)r(t,e[n]);return e}},function(e,t,n){var r=n(174);e.exports=function(e,t){for(var n=0;n<e.length;n++)r(t,e[n]);return e}},function(e,t,n){var r=n(181);e.exports=function(e,t){for(var n=0;n<e.length;n++)r(t,e[n]);return e}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o){return r(e,"rotation",t,n,i,o)}},function(e,t,n){var r=n(182),i=n(50);e.exports=function(e,t,n){for(var o=t.x,a=t.y,s=0;s<e.length;s++){var u=e[s];r(u,o,a,n,Math.max(1,i(u.x,u.y,o,a)))}return e}},function(e,t,n){var r=n(182);e.exports=function(e,t,n,i){var o=t.x,a=t.y;if(0===i)return e;for(var s=0;s<e.length;s++)r(e[s],o,a,n,i);return e}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o){return r(e,"scaleX",t,n,i,o)}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o,a,s){return void 0!==n&&null!==n||(n=t),r(e,"scaleX",t,i,a,s),r(e,"scaleY",n,o,a,s)}},function(e,t,n){var r=n(46);e.exports=function(e,t,n,i,o){return r(e,"scaleY",t,n,i,o)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"alpha",t,n,i,o)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i){return r(e,"blendMode",t,0,n,i)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"depth",t,n,i,o)}},function(e,t){e.exports=function(e,t,n){for(var r=0;r<e.length;r++)e[r].setInteractive(t,n);return e}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o,a,s){return void 0!==n&&null!==n||(n=t),r(e,"originX",t,i,a,s),r(e,"originY",n,o,a,s),e.forEach((function(e){e.updateDisplayOrigin()})),e}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"rotation",t,n,i,o)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o,a,s){return void 0!==n&&null!==n||(n=t),r(e,"scaleX",t,i,a,s),r(e,"scaleY",n,o,a,s)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"scaleX",t,n,i,o)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"scaleY",t,n,i,o)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o,a,s){return void 0!==n&&null!==n||(n=t),r(e,"scrollFactorX",t,i,a,s),r(e,"scrollFactorY",n,o,a,s)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"scrollFactorX",t,n,i,o)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"scrollFactorY",t,n,i,o)}},function(e,t){e.exports=function(e,t,n,r,i){for(var o=0;o<e.length;o++)e[o].setTint(t,n,r,i);return e}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i){return r(e,"visible",t,0,n,i)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"x",t,n,i,o)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o,a,s){return void 0!==n&&null!==n||(n=t),r(e,"x",t,i,a,s),r(e,"y",n,o,a,s)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,i,o){return r(e,"y",t,n,i,o)}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i,o){var a,s,u,l,c,h;if(void 0===i&&(i=0),void 0===o&&(o=new r),e.length>1)if(0===i){var f=e.length-1;for(a=e[f].x,s=e[f].y,u=f-1;u>=0;u--)l=(h=e[u]).x,c=h.y,h.x=a,h.y=s,a=l,s=c;e[f].x=t,e[f].y=n}else{for(a=e[0].x,s=e[0].y,u=1;u<e.length;u++)l=(h=e[u]).x,c=h.y,h.x=a,h.y=s,a=l,s=c;e[0].x=t,e[0].y=n}else a=e[0].x,s=e[0].y,e[0].x=t,e[0].y=n;return o.x=a,o.y=s,o}},function(e,t,n){var r=n(131);e.exports=function(e){return r(e)}},function(e,t,n){var r=n(183);e.exports=function(e,t,n,i,o){void 0===o&&(o=!1);var a,s=Math.abs(i-n)/e.length;if(o)for(a=0;a<e.length;a++)e[a][t]+=r(a*s,n,i);else for(a=0;a<e.length;a++)e[a][t]=r(a*s,n,i);return e}},function(e,t,n){var r=n(184);e.exports=function(e,t,n,i,o){void 0===o&&(o=!1);var a,s=Math.abs(i-n)/e.length;if(o)for(a=0;a<e.length;a++)e[a][t]+=r(a*s,n,i);else for(a=0;a<e.length;a++)e[a][t]=r(a*s,n,i);return e}},function(e,t){e.exports=function(e,t,n,r,i){void 0===i&&(i=!1);var o,a=Math.abs(r-n)/e.length;if(i)for(o=0;o<e.length;o++)e[o][t]+=o*a+n;else for(o=0;o<e.length;o++)e[o][t]=o*a+n;return e}},function(e,t){e.exports=function(e){for(var t=0;t<e.length;t++)e[t].visible=!e[t].visible;return e}},function(e,t,n){var r=n(68);e.exports=function(e,t,n){void 0===n&&(n=0);for(var i=0;i<e.length;i++){var o=e[i];o.x=r(o.x,t.left-n,t.right+n),o.y=r(o.y,t.top-n,t.bottom+n)}return e}},function(e,t,n){e.exports={Animation:n(185),AnimationFrame:n(319),AnimationManager:n(321),AnimationState:n(164),Events:n(132)}},function(e,t){e.exports="add"},function(e,t){e.exports="animationcomplete"},function(e,t){e.exports="animationcomplete-"},function(e,t){e.exports="animationrepeat"},function(e,t){e.exports="animationrestart"},function(e,t){e.exports="animationstart"},function(e,t){e.exports="animationstop"},function(e,t){e.exports="animationupdate"},function(e,t){e.exports="pauseall"},function(e,t){e.exports="remove"},function(e,t){e.exports="resumeall"},function(e,t,n){e.exports={BaseCache:n(323),CacheManager:n(325),Events:n(324)}},function(e,t){e.exports="add"},function(e,t){e.exports="remove"},function(e,t,n){e.exports={Controls:n(739),Scene2D:n(742)}},function(e,t,n){e.exports={FixedKeyControl:n(740),SmoothedKeyControl:n(741)}},function(e,t,n){var r=n(0),i=n(6),o=new r({initialize:function(e){this.camera=i(e,"camera",null),this.left=i(e,"left",null),this.right=i(e,"right",null),this.up=i(e,"up",null),this.down=i(e,"down",null),this.zoomIn=i(e,"zoomIn",null),this.zoomOut=i(e,"zoomOut",null),this.zoomSpeed=i(e,"zoomSpeed",.01),this.minZoom=i(e,"minZoom",.001),this.maxZoom=i(e,"maxZoom",1e3),this.speedX=0,this.speedY=0;var t=i(e,"speed",null);"number"===typeof t?(this.speedX=t,this.speedY=t):(this.speedX=i(e,"speed.x",0),this.speedY=i(e,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this.up&&this.up.isDown?t.scrollY-=this.speedY*e|0:this.down&&this.down.isDown&&(t.scrollY+=this.speedY*e|0),this.left&&this.left.isDown?t.scrollX-=this.speedX*e|0:this.right&&this.right.isDown&&(t.scrollX+=this.speedX*e|0),this.zoomIn&&this.zoomIn.isDown?(t.zoom-=this.zoomSpeed,t.zoom<this.minZoom&&(t.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(t.zoom+=this.zoomSpeed,t.zoom>this.maxZoom&&(t.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=o},function(e,t,n){var r=n(0),i=n(6),o=new r({initialize:function(e){this.camera=i(e,"camera",null),this.left=i(e,"left",null),this.right=i(e,"right",null),this.up=i(e,"up",null),this.down=i(e,"down",null),this.zoomIn=i(e,"zoomIn",null),this.zoomOut=i(e,"zoomOut",null),this.zoomSpeed=i(e,"zoomSpeed",.01),this.minZoom=i(e,"minZoom",.001),this.maxZoom=i(e,"maxZoom",1e3),this.accelX=0,this.accelY=0;var t=i(e,"acceleration",null);"number"===typeof t?(this.accelX=t,this.accelY=t):(this.accelX=i(e,"acceleration.x",0),this.accelY=i(e,"acceleration.y",0)),this.dragX=0,this.dragY=0;var n=i(e,"drag",null);"number"===typeof n?(this.dragX=n,this.dragY=n):(this.dragX=i(e,"drag.x",0),this.dragY=i(e,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var r=i(e,"maxSpeed",null);"number"===typeof r?(this.maxSpeedX=r,this.maxSpeedY=r):(this.maxSpeedX=i(e,"maxSpeed.x",0),this.maxSpeedY=i(e,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(e){return this.camera=e,this},update:function(e){if(this.active){void 0===e&&(e=1);var t=this.camera;this._speedX>0?(this._speedX-=this.dragX*e,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*e,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*e,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*e,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(t.scrollX-=this._speedX*e|0),0!==this._speedY&&(t.scrollY-=this._speedY*e|0),0!==this._zoom&&(t.zoom+=this._zoom,t.zoom<this.minZoom?t.zoom=this.minZoom:t.zoom>this.maxZoom&&(t.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});e.exports=o},function(e,t,n){e.exports={Camera:n(326),BaseCamera:n(133),CameraManager:n(799),Effects:n(333),Events:n(37)}},function(e,t){e.exports="cameradestroy"},function(e,t){e.exports="camerafadeincomplete"},function(e,t){e.exports="camerafadeinstart"},function(e,t){e.exports="camerafadeoutcomplete"},function(e,t){e.exports="camerafadeoutstart"},function(e,t){e.exports="cameraflashcomplete"},function(e,t){e.exports="cameraflashstart"},function(e,t){e.exports="followupdate"},function(e,t){e.exports="camerapancomplete"},function(e,t){e.exports="camerapanstart"},function(e,t){e.exports="postrender"},function(e,t){e.exports="prerender"},function(e,t){e.exports="camerarotatecomplete"},function(e,t){e.exports="camerarotatestart"},function(e,t){e.exports="camerashakecomplete"},function(e,t){e.exports="camerashakestart"},function(e,t){e.exports="camerazoomcomplete"},function(e,t){e.exports="camerazoomstart"},function(e,t,n){var r=n(18),i=n(0),o=n(37),a=new i({initialize:function(e){this.camera=e,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,n,r,i,a,s,u){if(void 0===e&&(e=!0),void 0===t&&(t=1e3),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===a&&(a=!1),void 0===s&&(s=null),void 0===u&&(u=this.camera.scene),!a&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=t,this.direction=e,this.progress=0,this.red=n,this.green=r,this.blue=i,this.alpha=e?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=s,this._onUpdateScope=u;var l=e?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(l,this.camera,this,t,n,r,i),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=r(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(e){if(!this.isRunning&&!this.isComplete)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(e,t){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera,r=this.red/255,i=this.green/255,o=this.blue/255;return e.drawFillRect(n.x,n.y,n.width,n.height,t(o,i,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var e=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(e,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=a},function(e,t,n){var r=n(18),i=n(0),o=n(37),a=new i({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,n,r,i,a,s){return void 0===e&&(e=250),void 0===t&&(t=255),void 0===n&&(n=255),void 0===r&&(r=255),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===s&&(s=this.camera.scene),!i&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.red=t,this.green=n,this.blue=r,this.alpha=1,this._elapsed=0,this._onUpdate=a,this._onUpdateScope=s,this.camera.emit(o.FLASH_START,this.camera,this,e,t,n,r)),this.camera},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=r(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(e){if(!this.isRunning)return!1;var t=this.camera;return e.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",e.fillRect(t.x,t.y,t.width,t.height),!0},postRenderWebGL:function(e,t){if(!this.isRunning)return!1;var n=this.camera,r=this.red/255,i=this.green/255,o=this.blue/255;return e.drawFillRect(n.x,n.y,n.width,n.height,t(o,i,r,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=a},function(e,t,n){var r=n(18),i=n(0),o=n(134),a=n(37),s=n(3),u=new i({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,n,r,i,s,u){void 0===n&&(n=1e3),void 0===r&&(r=o.Linear),void 0===i&&(i=!1),void 0===s&&(s=null),void 0===u&&(u=this.camera.scene);var l=this.camera;return!i&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(l.scrollX,l.scrollY),this.destination.set(e,t),l.getScroll(e,t,this.current),"string"===typeof r&&o.hasOwnProperty(r)?this.ease=o[r]:"function"===typeof r&&(this.ease=r),this._elapsed=0,this._onUpdate=s,this._onUpdateScope=u,this.camera.emit(a.PAN_START,this.camera,this,n,e,t)),l},update:function(e,t){if(this.isRunning){this._elapsed+=t;var n=r(this._elapsed/this.duration,0,1);this.progress=n;var i=this.camera;if(this._elapsed<this.duration){var o=this.ease(n);i.getScroll(this.destination.x,this.destination.y,this.current);var a=this.source.x+(this.current.x-this.source.x)*o,s=this.source.y+(this.current.y-this.source.y)*o;i.setScroll(a,s),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,n,a,s)}else i.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,n,i.scrollX,i.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=u},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1.70158),e*e*((t+1)*e-t)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1.70158),--e*e*((t+1)*e+t)+1}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1.70158);var n=1.525*t;return(e*=2)<1?e*e*((n+1)*e-n)*.5:.5*((e-=2)*e*((n+1)*e+n)+2)}},function(e,t){e.exports=function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}},function(e,t){e.exports=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},function(e,t){e.exports=function(e){var t=!1;return e<.5?(e=1-2*e,t=!0):e=2*e-1,e<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5}},function(e,t){e.exports=function(e){return 1-Math.sqrt(1-e*e)}},function(e,t){e.exports=function(e){return Math.sqrt(1- --e*e)}},function(e,t){e.exports=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},function(e,t){e.exports=function(e){return e*e*e}},function(e,t){e.exports=function(e){return--e*e*e+1}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},function(e,t){e.exports=function(e,t,n){if(void 0===t&&(t=.1),void 0===n&&(n=.1),0===e)return 0;if(1===e)return 1;var r=n/4;return t<1?t=1:r=n*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/n)}},function(e,t){e.exports=function(e,t,n){if(void 0===t&&(t=.1),void 0===n&&(n=.1),0===e)return 0;if(1===e)return 1;var r=n/4;return t<1?t=1:r=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-r)*(2*Math.PI)/n)+1}},function(e,t){e.exports=function(e,t,n){if(void 0===t&&(t=.1),void 0===n&&(n=.1),0===e)return 0;if(1===e)return 1;var r=n/4;return t<1?t=1:r=n*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/n)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-r)*(2*Math.PI)/n)*.5+1}},function(e,t){e.exports=function(e){return Math.pow(2,10*(e-1))-.001}},function(e,t){e.exports=function(e){return 1-Math.pow(2,-10*e)}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e*e}},function(e,t){e.exports=function(e){return e*(2-e)}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},function(e,t){e.exports=function(e){return e*e*e*e}},function(e,t){e.exports=function(e){return 1- --e*e*e*e}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},function(e,t){e.exports=function(e){return e*e*e*e*e}},function(e,t){e.exports=function(e){return--e*e*e*e*e+1}},function(e,t){e.exports=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},function(e,t){e.exports=function(e){return 0===e?0:1===e?1:1-Math.cos(e*Math.PI/2)}},function(e,t){e.exports=function(e){return 0===e?0:1===e?1:Math.sin(e*Math.PI/2)}},function(e,t){e.exports=function(e){return 0===e?0:1===e?1:.5*(1-Math.cos(Math.PI*e))}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1),e<=0?0:e>=1?1:1/t*(1+(t*e|0))}},function(e,t,n){var r=n(18),i=n(0),o=n(37),a=n(3),s=new i({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(e,t,n,r,i){return void 0===e&&(e=100),void 0===t&&(t=.05),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=this.camera.scene),!n&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,"number"===typeof t?this.intensity.set(t):this.intensity.set(t.x,t.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=r,this._onUpdateScope=i,this.camera.emit(o.SHAKE_START,this.camera,this,e,t)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(e,t){if(this.isRunning)if(this._elapsed+=t,this.progress=r(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var n=this.intensity,i=this.camera.width,o=this.camera.height,a=this.camera.zoom;this._offsetX=(Math.random()*n.x*i*2-n.x*i)*a,this._offsetY=(Math.random()*n.y*o*2-n.y*o)*a,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});e.exports=s},function(e,t,n){var r=n(18),i=n(0),o=n(37),a=n(134),s=new i({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(e,t,n,r,i,s,u){void 0===n&&(n=1e3),void 0===r&&(r=a.Linear),void 0===i&&(i=!1),void 0===s&&(s=null),void 0===u&&(u=this.camera.scene),void 0===t&&(t=!1),this.shortestPath=t;var l=e;e<0?(l=-1*e,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;l-=Math.floor(l/c)*c;var h=this.camera;if(!i&&this.isRunning)return h;if(this.isRunning=!0,this.duration=n,this.progress=0,this.source=h.rotation,this.destination=l,"string"===typeof r&&a.hasOwnProperty(r)?this.ease=a[r]:"function"===typeof r&&(this.ease=r),this._elapsed=0,this._onUpdate=s,this._onUpdateScope=u,this.shortestPath){var f=0,d=0;(f=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+c)-this.source)<(d=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+c)-this.destination)?this.clockwise=!0:f>d&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,n,l),h},update:function(e,t){if(this.isRunning){this._elapsed+=t;var n=r(this._elapsed/this.duration,0,1);this.progress=n;var i=this.camera;if(this._elapsed<this.duration){var o=this.ease(n);this.current=i.rotation;var a=0,s=360*Math.PI/180,u=this.destination,l=this.current;!1===this.clockwise&&(u=this.current,l=this.destination),a=u>=l?Math.abs(u-l):Math.abs(u+s)-l;var c=0;c=this.clockwise?i.rotation+a*o:i.rotation-a*o,i.rotation=c,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,n,c)}else i.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,i,n,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});e.exports=s},function(e,t,n){var r=n(18),i=n(0),o=n(134),a=n(37),s=new i({initialize:function(e){this.camera=e,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(e,t,n,r,i,s){void 0===t&&(t=1e3),void 0===n&&(n=o.Linear),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===s&&(s=this.camera.scene);var u=this.camera;return!r&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.source=u.zoom,this.destination=e,"string"===typeof n&&o.hasOwnProperty(n)?this.ease=o[n]:"function"===typeof n&&(this.ease=n),this._elapsed=0,this._onUpdate=i,this._onUpdateScope=s,this.camera.emit(a.ZOOM_START,this.camera,this,t,e)),u},update:function(e,t){this.isRunning&&(this._elapsed+=t,this.progress=r(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});e.exports=s},function(e,t,n){var r=n(326),i=n(0),o=n(2),a=n(24),s=n(57),u=n(104),l=n(20),c=new i({initialize:function(e){this.scene=e,this.systems=e.sys,this.roundPixels=e.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,e.sys.events.once(l.BOOT,this.boot,this),e.sys.events.on(l.START,this.start,this)},boot:function(){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new r(0,0,e.scale.width,e.scale.height).setScene(this.scene),e.game.scale.on(u.RESIZE,this.onResize,this),this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){if(!this.main){var e=this.systems;e.settings.cameras?this.fromJSON(e.settings.cameras):this.add(),this.main=this.cameras[0]}var t=this.systems.events;t.on(l.UPDATE,this.update,this),t.once(l.SHUTDOWN,this.shutdown,this)},add:function(e,t,n,i,o,a){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=this.scene.sys.scale.width),void 0===i&&(i=this.scene.sys.scale.height),void 0===o&&(o=!1),void 0===a&&(a="");var s=new r(e,t,n,i);return s.setName(a),s.setScene(this.scene),s.setRoundPixels(this.roundPixels),s.id=this.getNextID(),this.cameras.push(s),o&&(this.main=s),s},addExisting:function(e,t){return void 0===t&&(t=!1),-1===this.cameras.indexOf(e)?(e.id=this.getNextID(),e.setRoundPixels(this.roundPixels),this.cameras.push(e),t&&(this.main=e),e):null},getNextID:function(){for(var e=this.cameras,t=1,n=0;n<32;n++){for(var r=!1,i=0;i<e.length;i++){var o=e[i];o&&o.id===t&&(r=!0)}if(!r)return t;t<<=1}return 0},getTotal:function(e){void 0===e&&(e=!1);for(var t=0,n=this.cameras,r=0;r<n.length;r++){var i=n[r];(!e||e&&i.visible)&&t++}return t},fromJSON:function(e){Array.isArray(e)||(e=[e]);for(var t=this.scene.sys.scale.width,n=this.scene.sys.scale.height,r=0;r<e.length;r++){var i=e[r],a=o(i,"x",0),s=o(i,"y",0),u=o(i,"width",t),l=o(i,"height",n),c=this.add(a,s,u,l);c.name=o(i,"name",""),c.zoom=o(i,"zoom",1),c.rotation=o(i,"rotation",0),c.scrollX=o(i,"scrollX",0),c.scrollY=o(i,"scrollY",0),c.roundPixels=o(i,"roundPixels",!1),c.visible=o(i,"visible",!0);var h=o(i,"backgroundColor",!1);h&&c.setBackgroundColor(h);var f=o(i,"bounds",null);if(f){var d=o(f,"x",0),p=o(f,"y",0),v=o(f,"width",t),g=o(f,"height",n);c.setBounds(d,p,v,g)}}return this},getCamera:function(e){for(var t=this.cameras,n=0;n<t.length;n++)if(t[n].name===e)return t[n];return null},getCamerasBelowPointer:function(e){for(var t=this.cameras,n=e.x,r=e.y,i=[],o=0;o<t.length;o++){var a=t[o];a.visible&&a.inputEnabled&&s(a,n,r)&&i.unshift(a)}return i},remove:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var n=0,r=this.cameras,i=0;i<e.length;i++){var o=r.indexOf(e[i]);-1!==o&&(t?r[o].destroy():r[o].renderList=[],r.splice(o,1),n++)}return!this.main&&r[0]&&(this.main=r[0]),n},render:function(e,t){for(var n=this.scene,r=this.cameras,i=0;i<this.cameras.length;i++){var o=r[i];if(o.visible&&o.alpha>0){o.preRender();var a=this.getVisibleChildren(t.getChildren(),o);e.render(n,a,o)}}},getVisibleChildren:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];i.willRender(t)&&n.push(i)}return n},resetAll:function(){for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(e,t){for(var n=0;n<this.cameras.length;n++)this.cameras[n].update(e,t)},onResize:function(e,t,n,r,i){for(var o=0;o<this.cameras.length;o++){var a=this.cameras[o];0===a._x&&0===a._y&&a._width===r&&a._height===i&&a.setSize(t.width,t.height)}},resize:function(e,t){for(var n=0;n<this.cameras.length;n++)this.cameras[n].setSize(e,t)},shutdown:function(){this.main=void 0;for(var e=0;e<this.cameras.length;e++)this.cameras[e].destroy();this.cameras=[];var t=this.systems.events;t.off(l.UPDATE,this.update,this),t.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});a.register("CameraManager",c,"cameras"),e.exports=c},function(e,t){e.exports="enterfullscreen"},function(e,t){e.exports="fullscreenfailed"},function(e,t){e.exports="fullscreenunsupported"},function(e,t){e.exports="leavefullscreen"},function(e,t){e.exports="orientationchange"},function(e,t){e.exports="resize"},function(e,t,n){e.exports={Config:n(346),CreateRenderer:n(366),DebugHeader:n(384),Events:n(22),TimeStep:n(385),VisibilityHandler:n(387)}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++h<t;)u&&u[h].run();h=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(136),i={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};e.exports=("function"===typeof importScripts||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(i.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(i.mspointer=!0),navigator.getGamepads&&(i.gamepads=!0),"onwheel"in window||r.ie&&"WheelEvent"in window?i.wheelEvent="wheel":"onmousewheel"in window?i.wheelEvent="mousewheel":r.firefox&&"MouseScrollEvent"in window&&(i.wheelEvent="DOMMouseScroll")),i)},function(e,t,n){var r=n(136),i={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};e.exports=function(){if("function"===typeof importScripts)return i;i.audioData=!!window.Audio,i.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var e=document.createElement("audio"),t=!!e.canPlayType;try{if(t&&(e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(i.ogg=!0),(e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||e.canPlayType("audio/opus;").replace(/^no$/,""))&&(i.opus=!0),e.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(i.mp3=!0),e.canPlayType("audio/wav").replace(/^no$/,"")&&(i.wav=!0),(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;").replace(/^no$/,""))&&(i.m4a=!0),e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(i.webm=!0),""!==e.canPlayType('audio/mp4;codecs="ec-3"')))if(r.edge)i.dolby=!0;else if(r.safari&&r.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var n=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10);(10===n&&o>=11||n>10)&&(i.dolby=!0)}}catch(a){}return i}()},function(e,t){var n={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};e.exports=function(){if("function"===typeof importScripts)return n;var e=document.createElement("video"),t=!!e.canPlayType;try{t&&(e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(n.ogg=!0),e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(n.h264=!0,n.mp4=!0),e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(n.webm=!0),e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(n.vp9=!0),e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(n.hls=!0))}catch(r){}return n}()},function(e,t){var n={available:!1,cancel:"",keyboard:!1,request:""};e.exports=function(){if("function"===typeof importScripts)return n;var e,t="Fullscreen",r="FullScreen",i=["request"+t,"request"+r,"webkitRequest"+t,"webkitRequest"+r,"msRequest"+t,"msRequest"+r,"mozRequest"+r,"mozRequest"+t];for(e=0;e<i.length;e++)if(document.documentElement[i[e]]){n.available=!0,n.request=i[e];break}var o=["cancel"+r,"exit"+t,"webkitCancel"+r,"webkitExit"+t,"msCancel"+r,"msExit"+t,"mozCancel"+r,"mozExit"+t];if(n.available)for(e=0;e<o.length;e++)if(document[o[e]]){n.cancel=o[e];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(n.keyboard=!0),Object.defineProperty(n,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),n}()},function(e,t,n){e.exports={Between:n(349),BetweenPoints:n(350),BetweenPointsY:n(813),BetweenY:n(814),CounterClockwise:n(815),Normalize:n(351),Random:n(816),RandomDegrees:n(817),Reverse:n(818),RotateTo:n(819),ShortestBetween:n(820),Wrap:n(269),WrapDegrees:n(270)}},function(e,t){e.exports=function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)}},function(e,t){e.exports=function(e,t,n,r){return Math.atan2(n-e,r-t)}},function(e,t,n){var r=n(14);e.exports=function(e){return e>Math.PI&&(e-=r.PI2),Math.abs(((e+r.TAU)%r.PI2-r.PI2)%r.PI2)}},function(e,t,n){var r=n(137);e.exports=function(){return r(-Math.PI,Math.PI)}},function(e,t,n){var r=n(137);e.exports=function(){return r(-180,180)}},function(e,t,n){var r=n(351);e.exports=function(e){return r(e+Math.PI)}},function(e,t,n){var r=n(14);e.exports=function(e,t,n){return void 0===n&&(n=.05),e===t||(Math.abs(t-e)<=n||Math.abs(t-e)>=r.PI2-n?e=t:(Math.abs(t-e)>Math.PI&&(t<e?t+=r.PI2:t-=r.PI2),t>e?e+=n:t<e&&(e-=n))),e}},function(e,t){e.exports=function(e,t){var n=t-e;return 0===n?0:n-360*Math.floor((n- -180)/360)}},function(e,t,n){e.exports={Between:n(50),BetweenPoints:n(352),BetweenPointsSquared:n(822),Chebyshev:n(823),Power:n(824),Snake:n(825),Squared:n(353)}},function(e,t){e.exports=function(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}},function(e,t){e.exports=function(e,t,n,r){return Math.max(Math.abs(e-n),Math.abs(t-r))}},function(e,t){e.exports=function(e,t,n,r,i){return void 0===i&&(i=2),Math.sqrt(Math.pow(n-e,i)+Math.pow(r-t,i))}},function(e,t){e.exports=function(e,t,n,r){return Math.abs(e-n)+Math.abs(t-r)}},function(e,t,n){e.exports={Back:n(334),Bounce:n(335),Circular:n(336),Cubic:n(337),Elastic:n(338),Expo:n(339),Linear:n(340),Quadratic:n(341),Quartic:n(342),Quintic:n(343),Sine:n(344),Stepped:n(345)}},function(e,t,n){e.exports={Ceil:n(828),Equal:n(124),Floor:n(829),GreaterThan:n(354),LessThan:n(355)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.ceil(e-t)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1e-4),Math.floor(e+t)}},function(e,t,n){e.exports={Bezier:n(831),CatmullRom:n(832),CubicBezier:n(358),Linear:n(833),QuadraticBezier:n(359),SmoothStep:n(360),SmootherStep:n(834)}},function(e,t,n){var r=n(356);e.exports=function(e,t){for(var n=0,i=e.length-1,o=0;o<=i;o++)n+=Math.pow(1-t,i-o)*Math.pow(t,o)*e[o]*r(i,o);return n}},function(e,t,n){var r=n(194);e.exports=function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i);return e[0]===e[n]?(t<0&&(o=Math.floor(i=n*(1+t))),r(i-o,e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n])):t<0?e[0]-(r(-i,e[0],e[0],e[1],e[1])-e[0]):t>1?e[n]-(r(i-n,e[n],e[n],e[n-1],e[n-1])-e[n]):r(i-o,e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2])}},function(e,t,n){var r=n(135);e.exports=function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i);return t<0?r(e[0],e[1],i):t>1?r(e[n],e[n-1],n-i):r(e[o],e[o+1>n?n:o+1],i-o)}},function(e,t,n){var r=n(183);e.exports=function(e,t,n){return t+(n-t)*r(e,0,1)}},function(e,t,n){e.exports={GetNext:n(361),IsSize:n(138),IsValue:n(836)}},function(e,t){e.exports=function(e){return e>0&&0===(e&e-1)}},function(e,t,n){e.exports={Ceil:n(139),Floor:n(76),To:n(838)}},function(e,t){e.exports=function(e,t,n,r){return void 0===n&&(n=0),0===t?e:(e-=n,e=t*Math.round(e/t),r?(n+e)/t:n+e)}},function(e,t,n){var r=new(n(0))({initialize:function(e){void 0===e&&(e=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],e&&this.init(e)},rnd:function(){var e=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|e,this.s0=this.s1,this.s1=this.s2,this.s2=e-this.c,this.s2},hash:function(e){var t,n=this.n;e=e.toString();for(var r=0;r<e.length;r++)t=.02519603282416938*(n+=e.charCodeAt(r)),t-=n=t>>>0,n=(t*=n)>>>0,n+=4294967296*(t-=n);return this.n=n,2.3283064365386963e-10*(n>>>0)},init:function(e){"string"===typeof e?this.state(e):this.sow(e)},sow:function(e){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,e)for(var t=0;t<e.length&&null!=e[t];t++){var n=e[t];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},between:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},realInRange:function(e,t){return this.frac()*(t-e)+e},normal:function(){return 1-2*this.frac()},uuid:function(){var e="",t="";for(t=e="";e++<36;t+=~e%5|3*e&4?(15^e?8^this.frac()*(20^e?16:4):4).toString(16):"-");return t},pick:function(e){return e[this.integerInRange(0,e.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(e){return e[~~(Math.pow(this.frac(),2)*(e.length-1)+.5)]},timestamp:function(e,t){return this.realInRange(e||9466848e5,t||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(e){return"string"===typeof e&&e.match(/^!rnd/)&&(e=e.split(","),this.c=parseFloat(e[1]),this.s0=parseFloat(e[2]),this.s1=parseFloat(e[3]),this.s2=parseFloat(e[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(this.frac()*(t+1)),r=e[n];e[n]=e[t],e[t]=r}return e}});e.exports=r},function(e,t){e.exports=function(e){for(var t=0,n=0;n<e.length;n++)t+=+e[n];return t/e.length}},function(e,t){e.exports=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=10);var r=Math.pow(n,-t);return Math.ceil(e*r)/r}},function(e,t){e.exports=function(e,t){return Math.abs(e-t)}},function(e,t,n){var r=n(18),i=n(0),o=n(69),a=n(1),s=new o,u=new i({initialize:function e(t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=e.DefaultOrder),this._x=t,this._y=n,this._z=r,this._order=i,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(e){this._x=e,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(e){this._y=e,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(e){this._z=e,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(e){this._order=e,this.onChangeCallback(this)}},set:function(e,t,n,r){return void 0===r&&(r=this._order),this._x=e,this._y=t,this._z=n,this._order=r,this.onChangeCallback(this),this},copy:function(e){return this.set(e.x,e.y,e.z,e.order)},setFromQuaternion:function(e,t,n){return void 0===t&&(t=this._order),void 0===n&&(n=!1),s.fromQuat(e),this.setFromRotationMatrix(s,t,n)},setFromRotationMatrix:function(e,t,n){void 0===t&&(t=this._order),void 0===n&&(n=!1);var i=e.val,o=i[0],a=i[4],s=i[8],u=i[1],l=i[5],c=i[9],h=i[2],f=i[6],d=i[10],p=0,v=0,g=0,m=.99999;switch(t){case"XYZ":v=Math.asin(r(s,-1,1)),Math.abs(s)<m?(p=Math.atan2(-c,d),g=Math.atan2(-a,o)):p=Math.atan2(f,l);break;case"YXZ":p=Math.asin(-r(c,-1,1)),Math.abs(c)<m?(v=Math.atan2(s,d),g=Math.atan2(u,l)):v=Math.atan2(-h,o);break;case"ZXY":p=Math.asin(r(f,-1,1)),Math.abs(f)<m?(v=Math.atan2(-h,d),g=Math.atan2(-a,l)):g=Math.atan2(u,o);break;case"ZYX":v=Math.asin(-r(h,-1,1)),Math.abs(h)<m?(p=Math.atan2(f,d),g=Math.atan2(u,o)):g=Math.atan2(-a,l);break;case"YZX":g=Math.asin(r(u,-1,1)),Math.abs(u)<m?(p=Math.atan2(-c,l),v=Math.atan2(-h,o)):v=Math.atan2(s,d);break;case"XZY":g=Math.asin(-r(a,-1,1)),Math.abs(a)<m?(p=Math.atan2(f,l),v=Math.atan2(s,o)):p=Math.atan2(-c,d)}return this._x=p,this._y=v,this._z=g,this._order=t,n&&this.onChangeCallback(this),this}});u.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],u.DefaultOrder="XYZ",e.exports=u},function(e,t){e.exports=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=10);var r=Math.pow(n,-t);return Math.floor(e*r)/r}},function(e,t){e.exports=function(e,t){return e/t/1e3}},function(e,t){e.exports=function(e){return e==parseFloat(e)?!(e%2):void 0}},function(e,t){e.exports=function(e){return e===parseFloat(e)?!(e%2):void 0}},function(e,t){e.exports=function(e,t,n){return Math.min(e+t,n)}},function(e,t){e.exports=function(e){var t=e.length;if(0===t)return 0;e.sort((function(e,t){return e-t}));var n=Math.floor(t/2);return t%2===0?(e[n]+e[n-1])/2:e[n]}},function(e,t){e.exports=function(e,t,n){return Math.max(e-t,n)}},function(e,t){e.exports=function(e,t,n,r){void 0===n&&(n=t+1);var i=(e-t)/(n-t);return i>1?void 0!==r?(i=(r-e)/(r-n))<0&&(i=0):i=1:i<0&&(i=0),i}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);var n=2*Math.random()*Math.PI;return e.x=Math.cos(n)*t,e.y=Math.sin(n)*t,e}},function(e,t){e.exports=function(e,t){void 0===t&&(t=1);var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*t;return e.x=Math.cos(n)*i,e.y=Math.sin(n)*i,e.z=r*t,e}},function(e,t){e.exports=function(e,t){return void 0===t&&(t=1),e.x=(2*Math.random()-1)*t,e.y=(2*Math.random()-1)*t,e.z=(2*Math.random()-1)*t,e.w=(2*Math.random()-1)*t,e}},function(e,t){e.exports=function(e,t,n,r,i){return e.x=t+i*Math.cos(r),e.y=n+i*Math.sin(r),e}},function(e,t){e.exports=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=10);var r=Math.pow(n,-t);return Math.round(e*r)/r}},function(e,t){e.exports=function(e,t,n,r){void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=1),r*=Math.PI/e;for(var i=[],o=[],a=0;a<e;a++)t+=(n-=t*r)*r,i[a]=n,o[a]=t;return{sin:o,cos:i,length:e}}},function(e,t,n){var r=n(3);e.exports=function(e,t,n,i){void 0===i&&(i=new r);var o=0,a=0;return e>0&&e<=t*n&&(o=e>t-1?e-(a=Math.floor(e/t))*t:e),i.set(o,a)}},function(e,t){e.exports=function(e,t,n){return Math.abs(e-t)<=n}},function(e,t,n){var r=n(39),i=n(69),o=n(365),a=new i,s=new o,u=new r;e.exports=function(e,t,n){return s.setAxisAngle(t,n),a.fromRotationTranslation(s,u.set(0,0,0)),e.transformMat4(a)}},function(e,t){e.exports="addtexture"},function(e,t){e.exports="onerror"},function(e,t){e.exports="onload"},function(e,t){e.exports="ready"},function(e,t){e.exports="removetexture"},function(e,t){e.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n")},function(e,t){e.exports="pipelineafterflush"},function(e,t){e.exports="pipelinebeforeflush"},function(e,t){e.exports="pipelinebind"},function(e,t){e.exports="pipelineboot"},function(e,t){e.exports="pipelinedestroy"},function(e,t){e.exports="pipelinerebind"},function(e,t){e.exports="pipelineresize"},function(e,t){e.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join("\n")},function(e,t){e.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join("\n")},function(e,t,n){e.exports={GenerateTexture:n(388),Palettes:n(889)}},function(e,t,n){e.exports={ARNE16:n(389),C64:n(890),CGA:n(891),JMP:n(892),MSX:n(893)}},function(e,t){e.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(e,t){e.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(e,t){e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(e,t){e.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(e,t,n){e.exports={Path:n(895),MoveTo:n(393),CubicBezier:n(390),Curve:n(94),Ellipse:n(391),Line:n(392),QuadraticBezier:n(394),Spline:n(395)}},function(e,t,n){var r=n(0),i=n(390),o=n(391),a=n(5),s=n(392),u=n(393),l=n(394),c=n(10),h=n(395),f=n(3),d=n(14),p=new r({initialize:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new f,this._tmpVec2A=new f,this._tmpVec2B=new f,"object"===typeof e?this.fromJSON(e):this.startPoint.set(e,t)},add:function(e){return this.curves.push(e),this},circleTo:function(e,t,n){return void 0===t&&(t=!1),this.ellipseTo(e,e,0,360,t,n)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);return e.equals(t)||this.curves.push(new s(t,e)),this},cubicBezierTo:function(e,t,n,r,o,a){var s,u,l,c=this.getEndPoint();return e instanceof f?(s=e,u=t,l=n):(s=new f(n,r),u=new f(o,a),l=new f(e,t)),this.add(new i(c,s,u,l))},quadraticBezierTo:function(e,t,n,r){var i,o,a=this.getEndPoint();return e instanceof f?(i=e,o=t):(i=new f(n,r),o=new f(e,t)),this.add(new l(a,i,o))},draw:function(e,t){for(var n=0;n<this.curves.length;n++){var r=this.curves[n];r.active&&r.draw(e,t)}return e},ellipseTo:function(e,t,n,r,i,a){var s=new o(0,0,e,t,n,r,i,a),u=this.getEndPoint(this._tmpVec2A),l=s.getStartPoint(this._tmpVec2B);return u.subtract(l),s.x=u.x,s.y=u.y,this.add(s)},fromJSON:function(e){this.curves=[],this.cacheLengths=[],this.startPoint.set(e.x,e.y),this.autoClose=e.autoClose;for(var t=0;t<e.curves.length;t++){var n=e.curves[t];switch(n.type){case"LineCurve":this.add(s.fromJSON(n));break;case"EllipseCurve":this.add(o.fromJSON(n));break;case"SplineCurve":this.add(h.fromJSON(n));break;case"CubicBezierCurve":this.add(i.fromJSON(n));break;case"QuadraticBezierCurve":this.add(l.fromJSON(n))}}return this},getBounds:function(e,t){void 0===e&&(e=new c),void 0===t&&(t=16),e.x=Number.MAX_VALUE,e.y=Number.MAX_VALUE;for(var n=new c,r=d.MIN_SAFE_INTEGER,i=d.MIN_SAFE_INTEGER,o=0;o<this.curves.length;o++){var a=this.curves[o];a.active&&(a.getBounds(n,t),e.x=Math.min(e.x,n.x),e.y=Math.min(e.y,n.y),r=Math.max(r,n.right),i=Math.max(i,n.bottom))}return e.right=r,e.bottom=i,e},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0;n<this.curves.length;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getEndPoint:function(e){return void 0===e&&(e=new f),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,e):e.copy(this.startPoint),e},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},getPoint:function(e,t){void 0===t&&(t=new f);for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var o=r[i]-n,a=this.curves[i],s=a.getLength(),u=0===s?0:1-o/s;return a.getPointAt(u,t)}i++}return null},getPoints:function(e){void 0===e&&(e=12);for(var t,n=[],r=0;r<this.curves.length;r++){var i=this.curves[r];if(i.active)for(var o=i.getResolution(e),a=i.getPoints(o),s=0;s<a.length;s++){var u=a[s];t&&t.equals(u)||(n.push(u),t=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},getRandomPoint:function(e){return void 0===e&&(e=new f),this.getPoint(Math.random(),e)},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getStartPoint:function(e){return void 0===e&&(e=new f),e.copy(this.startPoint)},getTangent:function(e,t){void 0===t&&(t=new f);for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var o=r[i]-n,a=this.curves[i],s=a.getLength(),u=0===s?0:1-o/s;return a.getTangentAt(u,t)}i++}return null},lineTo:function(e,t){e instanceof f?this._tmpVec2B.copy(e):this._tmpVec2B.set(e,t);var n=this.getEndPoint(this._tmpVec2A);return this.add(new s([n.x,n.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(e){return e.unshift(this.getEndPoint()),this.add(new h(e))},moveTo:function(e,t){return e instanceof f?this.add(new u(e.x,e.y)):this.add(new u(e,t))},toJSON:function(){for(var e=[],t=0;t<this.curves.length;t++)e.push(this.curves[t].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:e}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",(function(e,t){return new p(e,t)})),e.exports=p},function(e,t,n){e.exports={DataManager:n(101),DataManagerPlugin:n(897),Events:n(315)}},function(e,t,n){var r=n(0),i=n(101),o=n(24),a=n(20),s=new r({Extends:i,initialize:function(e){i.call(this,e,e.sys.events),this.scene=e,this.systems=e.sys,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){i.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",s,"data"),e.exports=s},function(e,t,n){e.exports={Align:n(899),BaseShader:n(396),Bounds:n(902),Canvas:n(906),Color:n(397),ColorMatrix:n(198),Masks:n(916),RGB:n(200)}},function(e,t,n){var r=n(123),i=n(17),o={In:n(900),To:n(901)};o=i(!1,o,r),e.exports=o},function(e,t,n){e.exports={BottomCenter:n(290),BottomLeft:n(291),BottomRight:n(292),Center:n(293),LeftCenter:n(295),QuickSet:n(289),RightCenter:n(296),TopCenter:n(297),TopLeft:n(298),TopRight:n(299)}},function(e,t,n){e.exports={BottomCenter:n(277),BottomLeft:n(278),BottomRight:n(279),LeftBottom:n(280),LeftCenter:n(281),LeftTop:n(282),QuickSet:n(276),RightBottom:n(283),RightCenter:n(284),RightTop:n(285),TopCenter:n(286),TopLeft:n(287),TopRight:n(288)}},function(e,t,n){e.exports={CenterOn:n(294),GetBottom:n(42),GetBounds:n(903),GetCenterX:n(87),GetCenterY:n(89),GetLeft:n(43),GetOffsetX:n(904),GetOffsetY:n(905),GetRight:n(44),GetTop:n(45),SetBottom:n(55),SetCenterX:n(88),SetCenterY:n(90),SetLeft:n(53),SetRight:n(54),SetTop:n(52)}},function(e,t,n){var r=n(42),i=n(43),o=n(44),a=n(45);e.exports=function(e,t){void 0===t&&(t={});var n=i(e),s=a(e);return t.x=n,t.y=s,t.width=o(e)-n,t.height=r(e)-s,t}},function(e,t){e.exports=function(e){return e.width*e.originX}},function(e,t){e.exports=function(e){return e.height*e.originY}},function(e,t,n){e.exports={CanvasInterpolation:n(367),CanvasPool:n(31),Smoothing:n(192),TouchAction:n(907),UserSelect:n(908)}},function(e,t){e.exports=function(e,t){return void 0===t&&(t="none"),e.style.msTouchAction=t,e.style["ms-touch-action"]=t,e.style["touch-action"]=t,e}},function(e,t){e.exports=function(e,t){return void 0===t&&(t="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach((function(n){e.style[n+"user-select"]=t})),e.style["-webkit-touch-callout"]=t,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e}},function(e,t,n){var r=n(103);e.exports=function(e){void 0===e&&(e=1024);var t,n=[],i=255,o=255,a=0,s=0;for(t=0;t<=i;t++)n.push({r:o,g:t,b:s,color:r(o,t,s)});for(a=255,t=i;t>=0;t--)n.push({r:t,g:a,b:s,color:r(t,a,s)});for(o=0,t=0;t<=i;t++,a--)n.push({r:o,g:a,b:t,color:r(o,a,t)});for(a=0,s=255,t=0;t<=i;t++,s--,o++)n.push({r:o,g:a,b:s,color:r(o,a,s)});if(1024===e)return n;var u=[],l=0,c=1024/e;for(t=0;t<e;t++)u.push(n[Math.floor(l)]),l+=c;return u}},function(e,t){e.exports=function(e){var t={r:e>>16&255,g:e>>8&255,b:255&e,a:255};return e>16777215&&(t.a=e>>>24),t}},function(e,t,n){var r=n(38),i=n(399);e.exports=function(e,t,n){var o=n,a=n,s=n;if(0!==t){var u=n<.5?n*(1+t):n+t-n*t,l=2*n-u;o=i(l,u,e+1/3),a=i(l,u,e),s=i(l,u,e-1/3)}return(new r).setGLTo(o,a,s,1)}},function(e,t,n){var r=n(188);e.exports=function(e,t){void 0===e&&(e=1),void 0===t&&(t=1);for(var n=[],i=0;i<=359;i++)n.push(r(i/359,e,t));return n}},function(e,t,n){var r=n(135),i=function(e,t,n,i,o,a,s,u){void 0===s&&(s=100),void 0===u&&(u=0);var l=u/s;return{r:r(e,i,l),g:r(t,o,l),b:r(n,a,l)}};e.exports={RGBWithRGB:i,ColorWithRGB:function(e,t,n,r,o,a){return void 0===o&&(o=100),void 0===a&&(a=0),i(e.r,e.g,e.b,t,n,r,o,a)},ColorWithColor:function(e,t,n,r){return void 0===n&&(n=100),void 0===r&&(r=0),i(e.r,e.g,e.b,t.r,t.g,t.b,n,r)}}},function(e,t,n){var r=n(195),i=n(38);e.exports=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=255),new i(r(e,t),r(e,t),r(e,t))}},function(e,t,n){var r=n(398);e.exports=function(e,t,n,i,o){return void 0===i&&(i=255),void 0===o&&(o="#"),"#"===o?"#"+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1,7):"0x"+r(i)+r(e)+r(t)+r(n)}},function(e,t,n){e.exports={BitmapMask:n(310),GeometryMask:n(311)}},function(e,t,n){var r={AddToDOM:n(142),DOMContentLoaded:n(400),GetInnerHeight:n(401),GetScreenOrientation:n(402),GetTarget:n(407),ParseXML:n(408),RemoveFromDOM:n(202),RequestAnimationFrame:n(386)};e.exports=r},function(e,t,n){e.exports={EventEmitter:n(919)}},function(e,t,n){var r=n(0),i=n(9),o=n(24),a=new r({Extends:i,initialize:function(){i.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",a,"events"),e.exports=a},function(e,t,n){var r=n(142),i=n(321),o=n(325),a=n(31),s=n(0),u=n(346),l=n(921),c=n(366),h=n(101),f=n(384),d=n(347),p=n(400),v=n(9),g=n(22),m=n(409),y=n(24),x=n(414),b=n(415),w=n(417),k=n(106),E=n(422),_=n(385),T=n(387),A=n(426),S=new s({initialize:function(e){this.config=new u(e),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new v,this.anims=new i(this),this.textures=new E(this),this.cache=new o(this),this.registry=new h(this),this.input=new m(this,this.config),this.scene=new w(this,this.config.sceneConfig),this.device=d,this.scale=new b(this,this.config),this.sound=null,this.sound=A.create(this),this.loop=new _(this,this.config.fps),this.plugins=new x(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,p(this.boot.bind(this))},boot:function(){y.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),l(this),f(this),r(this.canvas,this.config.parent),this.textures.once(k.READY,this.texturesReady,this),this.events.emit(g.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),T(this);var e=this.events;e.on(g.HIDDEN,this.onHidden,this),e.on(g.VISIBLE,this.onVisible,this),e.on(g.BLUR,this.onBlur,this),e.on(g.FOCUS,this.onFocus,this)},step:function(e,t){if(this.pendingDestroy)return this.runDestroy();var n=this.events;n.emit(g.PRE_STEP,e,t),n.emit(g.STEP,e,t),this.scene.update(e,t),n.emit(g.POST_STEP,e,t);var r=this.renderer;r.preRender(),n.emit(g.PRE_RENDER,r,e,t),this.scene.render(r),r.postRender(),n.emit(g.POST_RENDER,r,e,t)},headlessStep:function(e,t){if(this.pendingDestroy)return this.runDestroy();var n=this.events;n.emit(g.PRE_STEP,e,t),n.emit(g.STEP,e,t),this.scene.update(e,t),n.emit(g.POST_STEP,e,t),n.emit(g.PRE_RENDER),n.emit(g.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(e,t){void 0===t&&(t=!1),this.pendingDestroy=!0,this.removeCanvas=e,this.noReturn=t},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});e.exports=S},function(e,t,n){var r=n(142);e.exports=function(e){var t=e.config;if(t.parent&&t.domCreateContainer){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+e.scale.width+"px;","height: "+e.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+t.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),e.domContainer=n,r(n,t.parent)}}},function(e,t){e.exports="boot"},function(e,t){e.exports="destroy"},function(e,t){e.exports="dragend"},function(e,t){e.exports="dragenter"},function(e,t){e.exports="drag"},function(e,t){e.exports="dragleave"},function(e,t){e.exports="dragover"},function(e,t){e.exports="dragstart"},function(e,t){e.exports="drop"},function(e,t){e.exports="gameout"},function(e,t){e.exports="gameover"},function(e,t){e.exports="gameobjectdown"},function(e,t){e.exports="dragend"},function(e,t){e.exports="dragenter"},function(e,t){e.exports="drag"},function(e,t){e.exports="dragleave"},function(e,t){e.exports="dragover"},function(e,t){e.exports="dragstart"},function(e,t){e.exports="drop"},function(e,t){e.exports="gameobjectmove"},function(e,t){e.exports="gameobjectout"},function(e,t){e.exports="gameobjectover"},function(e,t){e.exports="pointerdown"},function(e,t){e.exports="pointermove"},function(e,t){e.exports="pointerout"},function(e,t){e.exports="pointerover"},function(e,t){e.exports="pointerup"},function(e,t){e.exports="wheel"},function(e,t){e.exports="gameobjectup"},function(e,t){e.exports="gameobjectwheel"},function(e,t){e.exports="boot"},function(e,t){e.exports="process"},function(e,t){e.exports="update"},function(e,t){e.exports="pointerdown"},function(e,t){e.exports="pointerdownoutside"},function(e,t){e.exports="pointermove"},function(e,t){e.exports="pointerout"},function(e,t){e.exports="pointerover"},function(e,t){e.exports="pointerup"},function(e,t){e.exports="pointerupoutside"},function(e,t){e.exports="wheel"},function(e,t){e.exports="pointerlockchange"},function(e,t){e.exports="preupdate"},function(e,t){e.exports="shutdown"},function(e,t){e.exports="start"},function(e,t){e.exports="update"},function(e,t){e.exports="addfile"},function(e,t){e.exports="complete"},function(e,t){e.exports="filecomplete"},function(e,t){e.exports="filecomplete-"},function(e,t){e.exports="loaderror"},function(e,t){e.exports="load"},function(e,t){e.exports="fileprogress"},function(e,t){e.exports="postprocess"},function(e,t){e.exports="progress"},function(e,t){e.exports="start"},function(e,t,n){e.exports={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(e,t){e.exports=function(e,t,n){if(n.getElementsByTagName("TextureAtlas")){var r=e.source[t];e.add("__BASE",t,0,0,r.width,r.height);for(var i,o=n.getElementsByTagName("SubTexture"),a=0;a<o.length;a++){var s=o[a].attributes,u=s.name.value,l=parseInt(s.x.value,10),c=parseInt(s.y.value,10),h=parseInt(s.width.value,10),f=parseInt(s.height.value,10);if(i=e.add(u,t,l,c,h,f),s.frameX){var d=Math.abs(parseInt(s.frameX.value,10)),p=Math.abs(parseInt(s.frameY.value,10)),v=parseInt(s.frameWidth.value,10),g=parseInt(s.frameHeight.value,10);i.setTrim(h,f,d,p,v,g)}}return e}console.warn("Invalid Texture Atlas XML given")}},function(e,t){e.exports=function(e,t){var n=e.source[t];return e.add("__BASE",t,0,0,n.width,n.height),e}},function(e,t){e.exports=function(e,t){var n=e.source[t];return e.add("__BASE",t,0,0,n.width,n.height),e}},function(e,t,n){var r=n(77);e.exports=function(e,t,n){if(n.frames||n.textures){var i=e.source[t];e.add("__BASE",t,0,0,i.width,i.height);for(var o,a=Array.isArray(n.textures)?n.textures[t].frames:n.frames,s=0;s<a.length;s++){var u=a[s];o=e.add(u.filename,t,u.frame.x,u.frame.y,u.frame.w,u.frame.h),u.trimmed&&o.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(o.rotated=!0,o.updateUVsInverted());var l=u.anchor||u.pivot;l&&(o.customPivot=!0,o.pivotX=l.x,o.pivotY=l.y),o.customData=r(u)}for(var c in n)"frames"!==c&&(Array.isArray(n[c])?e.customData[c]=n[c].slice(0):e.customData[c]=n[c]);return e}console.warn("Invalid Texture Atlas JSON Array")}},function(e,t,n){var r=n(77);e.exports=function(e,t,n){if(n.frames){var i=e.source[t];e.add("__BASE",t,0,0,i.width,i.height);var o,a=n.frames;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];o=e.add(s,t,u.frame.x,u.frame.y,u.frame.w,u.frame.h),u.trimmed&&o.setTrim(u.sourceSize.w,u.sourceSize.h,u.spriteSourceSize.x,u.spriteSourceSize.y,u.spriteSourceSize.w,u.spriteSourceSize.h),u.rotated&&(o.rotated=!0,o.updateUVsInverted());var l=u.anchor||u.pivot;l&&(o.customPivot=!0,o.pivotX=l.x,o.pivotY=l.y),o.customData=r(u)}for(var c in n)"frames"!==c&&(Array.isArray(n[c])?e.customData[c]=n[c].slice(0):e.customData[c]=n[c]);return e}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(e,t,n){var r=n(2);e.exports=function(e,t,n,i,o,a,s){var u=r(s,"frameWidth",null),l=r(s,"frameHeight",u);if(null===u)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=e.source[t];e.add("__BASE",t,0,0,c.width,c.height);var h=r(s,"startFrame",0),f=r(s,"endFrame",-1),d=r(s,"margin",0),p=r(s,"spacing",0),v=Math.floor((o-d+p)/(u+p))*Math.floor((a-d+p)/(l+p));0===v&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",e.key),(h>v||h<-v)&&(h=0),h<0&&(h=v+h),-1!==f&&(v=h+(f+1));for(var g=d,m=d,y=0,x=0,b=0;b<v;b++){y=0,x=0;var w=g+u,k=m+l;w>o&&(y=w-o),k>a&&(x=k-a),e.add(b,t,n+g,i+m,u-y,l-x),(g+=u+p)+u>o&&(g=d,m+=l+p)}return e}},function(e,t,n){var r=n(2);e.exports=function(e,t,n){var i=r(n,"frameWidth",null),o=r(n,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var a=e.source[0];e.add("__BASE",0,0,0,a.width,a.height);var s,u=r(n,"startFrame",0),l=r(n,"endFrame",-1),c=r(n,"margin",0),h=r(n,"spacing",0),f=t.cutX,d=t.cutY,p=t.cutWidth,v=t.cutHeight,g=t.realWidth,m=t.realHeight,y=Math.floor((g-c+h)/(i+h)),x=Math.floor((m-c+h)/(o+h)),b=y*x,w=t.x,k=i-w,E=i-(g-p-w),_=t.y,T=o-_,A=o-(m-v-_);(u>b||u<-b)&&(u=0),u<0&&(u=b+u),-1!==l&&(b=u+(l+1));for(var S=c,C=c,I=0,P=t.sourceIndex,O=0;O<x;O++){for(var R=0===O,M=O===x-1,D=0;D<y;D++){var L=0===D,N=D===y-1;if(s=e.add(I,P,f+S,d+C,i,o),L||R||N||M){var F=L?w:0,B=R?_:0,U=0,z=0;L&&(U+=i-k),N&&(U+=i-E),R&&(z+=o-T),M&&(z+=o-A);var V=i-U,j=o-z;s.cutWidth=V,s.cutHeight=j,s.setTrim(i,o,F,B,V,j)}S+=h,S+=L?k:N?E:i,I++}S=c,C+=h,C+=R?T:M?A:o}return e}},function(e,t){var n=0,r=function(e,t,r,i){var o=n-i.y-i.height;e.add(r,t,i.x,o,i.width,i.height)};e.exports=function(e,t,i){var o=e.source[t];e.add("__BASE",t,0,0,o.width,o.height),n=o.height;for(var a=i.split("\n"),s=/^[ ]*(- )*(\w+)+[: ]+(.*)/,u="",l="",c={x:0,y:0,width:0,height:0},h=0;h<a.length;h++){var f=a[h].match(s);if(f){var d="- "===f[1],p=f[2],v=f[3];if(d&&(l!==u&&(r(e,t,l,c),u=l),c={x:0,y:0,width:0,height:0}),"name"!==p)switch(p){case"x":case"y":case"width":case"height":c[p]=parseInt(v,10)}else l=v}}return l!==u&&r(e,t,l,c),e}},function(e,t){e.exports="complete"},function(e,t){e.exports="decoded"},function(e,t){e.exports="decodedall"},function(e,t){e.exports="destroy"},function(e,t){e.exports="detune"},function(e,t){e.exports="detune"},function(e,t){e.exports="mute"},function(e,t){e.exports="rate"},function(e,t){e.exports="volume"},function(e,t){e.exports="loop"},function(e,t){e.exports="looped"},function(e,t){e.exports="mute"},function(e,t){e.exports="pan"},function(e,t){e.exports="pauseall"},function(e,t){e.exports="pause"},function(e,t){e.exports="play"},function(e,t){e.exports="rate"},function(e,t){e.exports="resumeall"},function(e,t){e.exports="resume"},function(e,t){e.exports="seek"},function(e,t){e.exports="stopall"},function(e,t){e.exports="stop"},function(e,t){e.exports="unlocked"},function(e,t){e.exports="volume"},function(e,t,n){var r={Events:n(75),DisplayList:n(1012),GameObjectCreator:n(16),GameObjectFactory:n(5),UpdateList:n(1040),Components:n(11),GetCalcMatrix:n(19),BuildGameObject:n(28),BuildGameObjectAnimation:n(439),GameObject:n(15),BitmapText:n(148),Blitter:n(213),Bob:n(440),Container:n(214),DOMElement:n(442),DynamicBitmapText:n(215),Extern:n(444),Graphics:n(216),Group:n(113),Image:n(125),Layer:n(219),Particles:n(1074),PathFollower:n(457),RenderTexture:n(221),RetroFont:n(1082),Rope:n(223),Sprite:n(73),Text:n(224),GetTextSize:n(458),MeasureText:n(460),TextStyle:n(459),TileSprite:n(225),Zone:n(129),Video:n(226),Shape:n(34),Arc:n(461),Curve:n(462),Ellipse:n(463),Grid:n(464),IsoBox:n(465),IsoTriangle:n(466),Line:n(467),Polygon:n(468),Rectangle:n(473),Star:n(474),Triangle:n(475),Factories:{Blitter:n(1130),Container:n(1131),DOMElement:n(1132),DynamicBitmapText:n(1133),Extern:n(1134),Graphics:n(1135),Group:n(1136),Image:n(1137),Layer:n(1138),Particles:n(1139),PathFollower:n(1140),RenderTexture:n(1141),Rope:n(1142),Sprite:n(1143),StaticBitmapText:n(1144),Text:n(1145),TileSprite:n(1146),Zone:n(1147),Video:n(1148),Arc:n(1149),Curve:n(1150),Ellipse:n(1151),Grid:n(1152),IsoBox:n(1153),IsoTriangle:n(1154),Line:n(1155),Polygon:n(1156),Rectangle:n(1157),Star:n(1158),Triangle:n(1159)},Creators:{Blitter:n(1160),Container:n(1161),DynamicBitmapText:n(1162),Graphics:n(1163),Group:n(1164),Image:n(1165),Layer:n(1166),Particles:n(1167),RenderTexture:n(1168),Rope:n(1169),Sprite:n(1170),StaticBitmapText:n(1171),Text:n(1172),TileSprite:n(1173),Zone:n(1174),Video:n(1175)}};r.Shader=n(229),r.Mesh=n(230),r.PointLight=n(150),r.Factories.Shader=n(1184),r.Factories.Mesh=n(1185),r.Factories.PointLight=n(1186),r.Creators.Shader=n(1187),r.Creators.Mesh=n(1188),r.Creators.PointLight=n(1189),r.Light=n(481),r.LightsManager=n(482),r.LightsPlugin=n(1190),e.exports=r},function(e,t,n){var r=n(0),i=n(110),o=n(24),a=n(75),s=n(20),u=n(79),l=new r({Extends:i,initialize:function(e){i.call(this,e),this.sortChildrenFlag=!1,this.scene=e,this.systems=e.sys,this.events=e.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(e){e.displayList&&e.displayList!==this&&e.removeFromDisplayList(),e.displayList||(this.queueDepthSort(),e.displayList=this,e.emit(a.ADDED_TO_SCENE,e,this.scene),this.events.emit(s.ADDED_TO_SCENE,e,this.scene))},removeChildCallback:function(e){this.queueDepthSort(),e.displayList=null,e.emit(a.REMOVED_FROM_SCENE,e,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,e,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(e,t){return e._depth-t._depth},getChildren:function(){return this.list},shutdown:function(){for(var e=this.list,t=e.length;t--;)e[t].destroy(!0);e.length=0,this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",l,"displayList"),e.exports=l},function(e,t,n){e.exports={CheckMatrix:n(209),MatrixToString:n(1014),ReverseColumns:n(1015),ReverseRows:n(1016),Rotate180:n(1017),RotateLeft:n(1018),RotateMatrix:n(147),RotateRight:n(1019),Translate:n(1020),TransposeMatrix:n(435)}},function(e,t,n){var r=n(186),i=n(209);e.exports=function(e){var t="";if(!i(e))return t;for(var n=0;n<e.length;n++){for(var o=0;o<e[n].length;o++){var a=e[n][o].toString();t+="undefined"!==a?r(a,2):"?",o<e[n].length-1&&(t+=" |")}if(n<e.length-1){t+="\n";for(var s=0;s<e[n].length;s++)t+="---",s<e[n].length-1&&(t+="+");t+="\n"}}return t}},function(e,t){e.exports=function(e){return e.reverse()}},function(e,t){e.exports=function(e){for(var t=0;t<e.length;t++)e[t].reverse();return e}},function(e,t,n){var r=n(147);e.exports=function(e){return r(e,180)}},function(e,t,n){var r=n(147);e.exports=function(e){return r(e,90)}},function(e,t,n){var r=n(147);e.exports=function(e){return r(e,-90)}},function(e,t,n){var r=n(178),i=n(179);e.exports=function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),0!==n&&(n<0?r(e,Math.abs(n)):i(e,n)),0!==t)for(var o=0;o<e.length;o++){var a=e[o];t<0?r(a,Math.abs(t)):i(a,t)}return e}},function(e,t){e.exports=function(e,t,n,r,i){if(void 0===i&&(i=e),n>0){var o=n-e.length;if(o<=0)return null}if(!Array.isArray(t))return-1===e.indexOf(t)?(e.push(t),r&&r.call(i,t),t):null;for(var a=t.length-1;a>=0;)-1!==e.indexOf(t[a])&&t.splice(a,1),a--;if(0===(a=t.length))return null;n>0&&a>o&&(t.splice(o),a=o);for(var s=0;s<a;s++){var u=t[s];e.push(u),r&&r.call(i,u)}return t}},function(e,t){e.exports=function(e,t,n,r,i,o){if(void 0===n&&(n=0),void 0===o&&(o=e),r>0){var a=r-e.length;if(a<=0)return null}if(!Array.isArray(t))return-1===e.indexOf(t)?(e.splice(n,0,t),i&&i.call(o,t),t):null;for(var s=t.length-1;s>=0;)-1!==e.indexOf(t[s])&&t.pop(),s--;if(0===(s=t.length))return null;r>0&&s>a&&(t.splice(a),s=a);for(var u=s-1;u>=0;u--){var l=t[u];e.splice(n,0,l),i&&i.call(o,l)}return t}},function(e,t){e.exports=function(e,t){var n=e.indexOf(t);return-1!==n&&n<e.length&&(e.splice(n,1),e.push(t)),t}},function(e,t,n){var r=n(78);e.exports=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);var a=0;if(r(e,i,o))for(var s=i;s<o;s++)e[s][t]===n&&a++;return a}},function(e,t){e.exports=function(e,t,n){var r,i=[null];for(r=3;r<arguments.length;r++)i.push(arguments[r]);for(r=0;r<e.length;r++)i[0]=e[r],t.apply(n,i);return e}},function(e,t,n){var r=n(78);e.exports=function(e,t,n,i,o){if(void 0===i&&(i=0),void 0===o&&(o=e.length),r(e,i,o)){var a,s=[null];for(a=5;a<arguments.length;a++)s.push(arguments[a]);for(a=i;a<o;a++)s[0]=e[a],t.apply(n,s)}return e}},function(e,t){e.exports=function(e,t){var n=e.indexOf(t);if(n>0){var r=e[n-1],i=e.indexOf(r);e[n]=r,e[i]=t}return e}},function(e,t){e.exports=function(e,t,n){var r=e.indexOf(t);if(-1===r||n<0||n>=e.length)throw new Error("Supplied index out of bounds");return r!==n&&(e.splice(r,1),e.splice(n,0,t)),t}},function(e,t){e.exports=function(e,t){var n=e.indexOf(t);if(-1!==n&&n<e.length-1){var r=e[n+1],i=e.indexOf(r);e[n]=r,e[i]=t}return e}},function(e,t){e.exports=function(e,t,n){if(t===n)return e;var r=e.indexOf(t),i=e.indexOf(n);if(r<0||i<0)throw new Error("Supplied items must be elements of the same array");return r>i||(e.splice(r,1),i===e.length-1?e.push(t):e.splice(i,0,t)),e}},function(e,t){e.exports=function(e,t,n){if(t===n)return e;var r=e.indexOf(t),i=e.indexOf(n);if(r<0||i<0)throw new Error("Supplied items must be elements of the same array");return r<i||(e.splice(r,1),0===i?e.unshift(t):e.splice(i,0,t)),e}},function(e,t,n){var r=n(363);e.exports=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=null),void 0===n&&(n=1),null===t&&(t=e,e=0);for(var i=[],o=Math.max(r((t-e)/(n||1)),0),a=0;a<o;a++)i.push(e),e+=n;return i}},function(e,t,n){var r=n(74);e.exports=function(e,t,n,i){if(void 0===i&&(i=e),t<0||t>e.length-1)throw new Error("Index out of bounds");var o=r(e,t);return n&&n.call(i,o),o}},function(e,t,n){var r=n(78);e.exports=function(e,t,n,i,o){if(void 0===t&&(t=0),void 0===n&&(n=e.length),void 0===o&&(o=e),r(e,t,n)){var a=n-t,s=e.splice(t,a);if(i)for(var u=0;u<s.length;u++){var l=s[u];i.call(o,l)}return s}return[]}},function(e,t,n){var r=n(74);e.exports=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);var i=t+Math.floor(Math.random()*n);return r(e,i)}},function(e,t){e.exports=function(e,t,n){var r=e.indexOf(t),i=e.indexOf(n);return-1!==r&&-1===i&&(e[r]=n,!0)}},function(e,t){e.exports=function(e,t){var n=e.indexOf(t);return-1!==n&&n>0&&(e.splice(n,1),e.unshift(t)),t}},function(e,t,n){var r=n(78);e.exports=function(e,t,n,i,o){if(void 0===i&&(i=0),void 0===o&&(o=e.length),r(e,i,o))for(var a=i;a<o;a++){var s=e[a];s.hasOwnProperty(t)&&(s[t]=n)}return e}},function(e,t){e.exports=function(e,t,n){if(t===n)return e;var r=e.indexOf(t),i=e.indexOf(n);if(r<0||i<0)throw new Error("Supplied items must be elements of the same array");return e[r]=n,e[i]=t,e}},function(e,t,n){var r=n(0),i=n(211),o=n(24),a=n(20),s=new r({Extends:i,initialize:function(e){i.call(this),this.checkQueue=!0,this.scene=e,this.systems=e.sys,e.sys.events.once(a.BOOT,this.boot,this),e.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(a.PRE_UPDATE,this.update,this),e.on(a.UPDATE,this.sceneUpdate,this),e.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(e,t){for(var n=this._active,r=n.length,i=0;i<r;i++){var o=n[i];o.active&&o.preUpdate.call(o,e,t)}},shutdown:function(){for(var e=this._active.length;e--;)this._active[e].destroy(!0);for(e=this._pending.length;e--;)this._pending[e].destroy(!0);for(e=this._destroy.length;e--;)this._destroy[e].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var t=this.systems.events;t.off(a.PRE_UPDATE,this.update,this),t.off(a.UPDATE,this.sceneUpdate,this),t.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",s,"updateList"),e.exports=s},function(e,t){e.exports="add"},function(e,t){e.exports="remove"},function(e,t){e.exports=function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r)return r={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0};var i,o,a,s,u=e.text,l=u.length,c=e.maxWidth,h=e.wordWrapCharCode,f=Number.MAX_VALUE,d=Number.MAX_VALUE,p=0,v=0,g=e.fontData.chars,m=e.fontData.lineHeight,y=e.letterSpacing,x=0,b=0,w=0,k=null,E=e._align,_=0,T=0,A=e.fontSize/e.fontData.size,S=A*e.scaleX,C=A*e.scaleY,I=null,P=0,O=[],R=Number.MAX_VALUE,M=0,D=0,L=0,N=[],F=[],B=null;if(c>0){for(i=0;i<l;i++)if(10!==(w=u.charCodeAt(i))){if(k=g[w]){if(null!==I)var U=k.kerning[P];w===h?null!==B&&(N.push({word:B.word,i:B.i,x:B.x*S,y:B.y*C,w:B.w*S,h:B.h*C,cr:!1}),B=null):(null===B&&(B={word:"",i:i,x:x,y:b,w:0,h:m,cr:!1}),B.word=B.word.concat(u[i]),B.w+=k.xOffset+k.xAdvance+(void 0!==U?U:0)),x+=k.xAdvance+y,I=k,P=w}}else null!==B&&(N.push({word:B.word,i:B.i,x:B.x*S,y:B.y*C,w:B.w*S,h:B.h*C,cr:!0}),B=null),x=0,b+=m,I=null;var z;null!==B&&N.push({word:B.word,i:B.i,x:B.x*S,y:B.y*C,w:B.w*S,h:B.h*C,cr:!1}),x=0,b=0,I=null,P=0;var V=0,j=[];for(i=0;i<N.length;i++){var Y=N[i],W=Y.x,G=Y.x+Y.w;z&&(V=W-(W-(z.x+z.w)+z.w),z=null),W-V>c||G-V>c?(j.push(Y.i-1),Y.cr?(j.push(Y.i+Y.word.length),V=0,z=null):z=Y):Y.cr&&(j.push(Y.i+Y.word.length),V=0,z=null)}for(i=j.length-1;i>=0;i--)o=u,a=j[i],s="\n",u=o.substr(0,a)+s+o.substr(a+1);r.wrappedText=u,l=u.length,N=[],B=null}var H=0;for(i=0;i<l;i++)if(10!==(w=u.charCodeAt(i))){if(k=g[w]){if(_=x,T=b,null!==I){var X=k.kerning[P];_+=void 0!==X?X:0}f>_&&(f=_),d>T&&(d=T);var q=_+k.xAdvance,K=T+m;p<q&&(p=q),v<K&&(v=K);var $=k.xOffset+k.xAdvance+(void 0!==X?X:0);w===h?null!==B&&(N.push({word:B.word,i:B.i,x:B.x*S,y:B.y*C,w:B.w*S,h:B.h*C}),B=null):(null===B&&(B={word:"",i:H,x:x,y:b,w:0,h:m}),B.word=B.word.concat(u[i]),B.w+=$),F.push({i:H,char:u[i],code:w,x:(k.xOffset+x)*A,y:(k.yOffset+b)*A,w:k.width*A,h:k.height*A,t:b*A,r:q*A,b:m*A,line:D,glyph:k}),x+=k.xAdvance+y,I=k,P=w,L=q*A,H++}}else null!==B&&(N.push({word:B.word,i:B.i,x:B.x*S,y:B.y*C,w:B.w*S,h:B.h*C}),B=null),x=0,b+=m,I=null,O[D]=L,L>M&&(M=L),L<R&&(R=L),D++,L=0;if(null!==B&&N.push({word:B.word,i:B.i,x:B.x*S,y:B.y*C,w:B.w*S,h:B.h*C}),O[D]=L,L>M&&(M=L),L<R&&(R=L),E>0)for(var Q=0;Q<F.length;Q++){var J=F[Q];if(1===E){var Z=(M-O[J.line])/2;J.x+=Z,J.r+=Z}else if(2===E){var ee=M-O[J.line];J.x+=ee,J.r+=ee}}var te=r.local,ne=r.global,re=r.lines;return te.x=f*A,te.y=d*A,te.width=p*A,te.height=v*A,ne.x=e.x-e._displayOriginX+f*S,ne.y=e.y-e._displayOriginY+d*C,ne.width=p*S,ne.height=v*C,re.shortest=R,re.longest=M,re.lengths=O,t&&(te.x=Math.ceil(te.x),te.y=Math.ceil(te.y),te.width=Math.ceil(te.width),te.height=Math.ceil(te.height),ne.x=Math.ceil(ne.x),ne.y=Math.ceil(ne.y),ne.width=Math.ceil(ne.width),ne.height=Math.ceil(ne.height),re.shortest=Math.ceil(R),re.longest=Math.ceil(M)),n&&(e._displayOriginX=e.originX*te.width,e._displayOriginY=e.originY*te.height,ne.x=e.x-e._displayOriginX*e.scaleX,ne.y=e.y-e._displayOriginY*e.scaleY,t&&(ne.x=Math.ceil(ne.x),ne.y=Math.ceil(ne.y))),r.words=N,r.characters=F,r.lines.height=m,r.scale=A,r.scaleX=e.scaleX,r.scaleY=e.scaleY,r}},function(e,t,n){var r=n(212);e.exports=function(e,t,n,i,o,a,s){var u=e.sys.textures.get(n),l=u.get(i),c=e.sys.cache.xml.get(o);if(l&&c){var h=r(c,l,a,s,u);return e.sys.cache.bitmapFont.add(t,{data:h,texture:n,frame:i,fromAtlas:!0}),!0}return!1}},function(e,t,n){var r=n(1),i=n(1);r=n(1046),i=n(1048),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(1047),i=n(19),o=n(12);e.exports=function(e,t,n,a){if(0!==t._text.length){n.addToRenderList(t);var s,u,l,c=e.pipelines.set(t.pipeline,t),h=i(t,n,a).calc,f=n.roundPixels,d=n.alpha,p=t.charColors,v=t.tintFill,g=o.getTintAppendFloatAlpha,m=g(t.tintTopLeft,d*t._alphaTL),y=g(t.tintTopRight,d*t._alphaTR),x=g(t.tintBottomLeft,d*t._alphaBL),b=g(t.tintBottomRight,d*t._alphaBR),w=t.frame.glTexture,k=c.setGameObject(t),E=t.getTextBounds(!1).characters,_=t.dropShadowX,T=t.dropShadowY,A=0!==_||0!==T;if(e.pipelines.preBatch(t),A){var S=t.dropShadowColor,C=t.dropShadowAlpha,I=g(S,d*C*t._alphaTL),P=g(S,d*C*t._alphaTR),O=g(S,d*C*t._alphaBL),R=g(S,d*C*t._alphaBR);for(s=0;s<E.length;s++)l=(u=E[s]).glyph,32!==u.code&&0!==l.width&&0!==l.height&&r(c,t,u,l,_,T,h,f,I,P,O,R,1,w,k)}for(s=0;s<E.length;s++)if(l=(u=E[s]).glyph,32!==u.code&&0!==l.width&&0!==l.height)if(p[u.i]){var M=p[u.i],D=M.tintEffect,L=g(M.tintTL,d*t._alphaTL),N=g(M.tintTR,d*t._alphaTR),F=g(M.tintBL,d*t._alphaBL),B=g(M.tintBR,d*t._alphaBR);r(c,t,u,l,0,0,h,f,L,N,F,B,D,w,k)}else r(c,t,u,l,0,0,h,f,m,y,x,b,v,w,k);e.pipelines.postBatch(t)}}},function(e,t){e.exports=function(e,t,n,r,i,o,a,s,u,l,c,h,f,d,p){var v=n.x-t.displayOriginX+i,g=n.y-t.displayOriginY+o,m=v+n.w,y=g+n.h,x=a.getXRound(v,g,s),b=a.getYRound(v,g,s),w=a.getXRound(v,y,s),k=a.getYRound(v,y,s),E=a.getXRound(m,y,s),_=a.getYRound(m,y,s),T=a.getXRound(m,g,s),A=a.getYRound(m,g,s);e.batchQuad(t,x,b,w,k,E,_,T,A,r.u0,r.v0,r.u1,r.v1,u,l,c,h,f,d,p)}},function(e,t,n){var r=n(30);e.exports=function(e,t,n,i){var o=t._text,a=o.length,s=e.currentContext;if(0!==a&&r(e,s,t,n,i)){n.addToRenderList(t);var u=t.fromAtlas?t.frame:t.texture.frames.__BASE,l=t.fontData.chars,c=t.fontData.lineHeight,h=t._letterSpacing,f=0,d=0,p=0,v=null,g=0,m=0,y=0,x=0,b=0,w=0,k=null,E=0,_=u.source.image,T=u.cutX,A=u.cutY,S=t._fontSize/t.fontData.size,C=t._align,I=0,P=0,O=t.getTextBounds(!1);t.maxWidth>0&&(a=(o=O.wrappedText).length);var R=t._bounds.lines;1===C?P=(R.longest-R.lengths[0])/2:2===C&&(P=R.longest-R.lengths[0]),s.translate(-t.displayOriginX,-t.displayOriginY);for(var M=n.roundPixels,D=0;D<a;D++)if(10!==(p=o.charCodeAt(D))){if(v=l[p]){if(g=T+v.x,m=A+v.y,y=v.width,x=v.height,b=v.xOffset+f,w=v.yOffset+d,null!==k){var L=v.kerning[E];b+=void 0!==L?L:0}b*=S,w*=S,b+=P,f+=v.xAdvance+h,k=v,E=p,0!==y&&0!==x&&32!==p&&(M&&(b=Math.round(b),w=Math.round(w)),s.save(),s.translate(b,w),s.scale(S,S),s.drawImage(_,g,m,y,x,0,0,y,x),s.restore())}}else I++,1===C?P=(R.longest-R.lengths[I])/2:2===C&&(P=R.longest-R.lengths[I]),f=0,d+=c,k=null;s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1050),i=n(1051),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(25),i=n(12),o=new r;e.exports=function(e,t,n,r){var a=t.getRenderList();if(0!==a.length){var s=n.alpha*t.alpha;if(0!==s){n.addToRenderList(t);var u=e.pipelines.set(this.pipeline,t),l=n.scrollX*t.scrollFactorX,c=n.scrollY*t.scrollFactorY,h=o.copyFrom(n.matrix);r&&(h.multiplyWithOffset(r,-l,-c),l=0,c=0);var f=t.x-l,d=t.y-c,p=-1,v=n.roundPixels;e.pipelines.preBatch(t);for(var g=0;g<a.length;g++){var m=a[g],y=m.frame,x=m.alpha*s;if(0!==x){var b=y.width,w=y.height,k=f+m.x+y.x,E=d+m.y+y.y;m.flipX&&(b*=-1,k+=y.width),m.flipY&&(w*=-1,E+=y.height);var _=k+b,T=E+w,A=h.getX(k,E),S=h.getY(k,E),C=h.getX(_,T),I=h.getY(_,T),P=i.getTintAppendFloatAlpha(m.tint,x);if(y.sourceIndex!==p){var O=u.setGameObject(t,y);p=y.sourceIndex}v&&(A=Math.round(A),S=Math.round(S),C=Math.round(C),I=Math.round(I)),u.batchQuad(t,A,S,A,I,C,I,C,S,y.u0,y.v0,y.u1,y.v1,P,P,P,P,!1,y.glTexture,O)&&(p=-1)}}e.pipelines.postBatch(t)}}}},function(e,t){e.exports=function(e,t,n,r){var i=t.getRenderList();if(0!==i.length){var o=e.currentContext,a=n.alpha*t.alpha;if(0!==a){n.addToRenderList(t),o.globalCompositeOperation=e.blendModes[t.blendMode],o.imageSmoothingEnabled=!(!e.antialias||t.frame.source.scaleMode);var s=t.x-n.scrollX*t.scrollFactorX,u=t.y-n.scrollY*t.scrollFactorY;o.save(),r&&r.copyToContext(o);for(var l=n.roundPixels,c=0;c<i.length;c++){var h=i[c],f=h.flipX||h.flipY,d=h.frame,p=d.canvasData,v=d.x,g=d.y,m=1,y=1,x=h.alpha*a;0!==x&&(o.globalAlpha=x,f?(h.flipX&&(m=-1,v-=p.width),h.flipY&&(y=-1,g-=p.height),o.save(),o.translate(h.x+s,h.y+u),o.scale(m,y),o.drawImage(d.source.image,p.x,p.y,p.width,p.height,v,g,p.width,p.height),o.restore()):(l&&(v=Math.round(v),g=Math.round(g)),o.drawImage(d.source.image,p.x,p.y,p.width,p.height,v+h.x+s,g+h.y+u,p.width,p.height)))}o.restore()}}}},function(e,t,n){var r=n(1),i=n(1);r=n(1053),i=n(1054),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t){e.exports=function(e,t,n,r){n.addToRenderList(t);var i=t.list,o=i.length;if(0!==o){var a=t.localTransform;r?(a.loadIdentity(),a.multiply(r),a.translate(t.x,t.y),a.rotate(t.rotation),a.scale(t.scaleX,t.scaleY)):a.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),e.pipelines.preBatch(t);var s=-1!==t.blendMode;s||e.setBlendMode(0);for(var u=t.alpha,l=t.scrollFactorX,c=t.scrollFactorY,h=0;h<o;h++){var f=i[h];if(f.willRender(n)){var d,p,v,g;if(void 0!==f.alphaTopLeft)d=f.alphaTopLeft,p=f.alphaTopRight,v=f.alphaBottomLeft,g=f.alphaBottomRight;else{var m=f.alpha;d=m,p=m,v=m,g=m}var y=f.scrollFactorX,x=f.scrollFactorY;s||f.blendMode===e.currentBlendMode||e.setBlendMode(f.blendMode);var b=f.mask;b&&b.preRenderWebGL(e,f,n);var w=f.type;w!==e.currentType&&(e.newType=!0,e.currentType=w),e.nextTypeMatch=h<o-1&&i[h+1].type===e.currentType,f.setScrollFactor(y*l,x*c),f.setAlpha(d*u,p*u,v*u,g*u),f.renderWebGL(e,f,n,a),f.setAlpha(d,p,v,g),f.setScrollFactor(y,x),b&&b.postRenderWebGL(e,n),e.newType=!1}}e.pipelines.postBatch(t)}}},function(e,t){e.exports=function(e,t,n,r){n.addToRenderList(t);var i=t.list;if(0!==i.length){var o=t.localTransform;r?(o.loadIdentity(),o.multiply(r),o.translate(t.x,t.y),o.rotate(t.rotation),o.scale(t.scaleX,t.scaleY)):o.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var a=-1!==t.blendMode;a||e.setBlendMode(0);var s=t._alpha,u=t.scrollFactorX,l=t.scrollFactorY;t.mask&&t.mask.preRenderCanvas(e,null,n);for(var c=0;c<i.length;c++){var h=i[c];if(h.willRender(n)){var f=h.alpha,d=h.scrollFactorX,p=h.scrollFactorY;a||h.blendMode===e.currentBlendMode||e.setBlendMode(h.blendMode),h.setScrollFactor(d*u,p*l),h.setAlpha(f*s),h.renderCanvas(e,h,n,o),h.setAlpha(f),h.setScrollFactor(d,p)}}t.mask&&t.mask.postRenderCanvas(e)}}},function(e,t,n){var r=n(1),i=n(1);r=n(443),i=n(443),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t){e.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(e,t,n){var r=n(1),i=n(1);r=n(1058),i=n(1059),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(25),o=n(12),a=new i;e.exports=function(e,t,n,i){var s=t.text,u=s.length;if(0!==u){n.addToRenderList(t);var l=e.pipelines.set(t.pipeline,t),c=r(t,n,i),h=c.sprite,f=c.calc,d=a,p=t.cropWidth>0||t.cropHeight>0;p&&(l.flush(),e.pushScissor(f.tx,f.ty,t.cropWidth*f.scaleX,t.cropHeight*f.scaleY));var v,g,m=t.frame.glTexture,y=t.tintFill,x=o.getTintAppendFloatAlpha(t.tintTopLeft,n.alpha*t._alphaTL),b=o.getTintAppendFloatAlpha(t.tintTopRight,n.alpha*t._alphaTR),w=o.getTintAppendFloatAlpha(t.tintBottomLeft,n.alpha*t._alphaBL),k=o.getTintAppendFloatAlpha(t.tintBottomRight,n.alpha*t._alphaBR),E=l.setGameObject(t),_=0,T=0,A=0,S=0,C=t.letterSpacing,I=0,P=0,O=t.scrollX,R=t.scrollY,M=t.fontData,D=M.chars,L=M.lineHeight,N=t.fontSize/M.size,F=0,B=t._align,U=0,z=0,V=t.getTextBounds(!1);t.maxWidth>0&&(u=(s=V.wrappedText).length);var j=t._bounds.lines;1===B?z=(j.longest-j.lengths[0])/2:2===B&&(z=j.longest-j.lengths[0]);var Y=n.roundPixels,W=t.displayCallback,G=t.callbackData;e.pipelines.preBatch(t);for(var H=0;H<u;H++)if(10!==(A=s.charCodeAt(H))){if(v=D[A]){I=v.width,P=v.height;var X=v.xOffset+_-O,q=v.yOffset+T-R;if(null!==g){var K=v.kerning[S];X+=void 0!==K?K:0}if(_+=v.xAdvance+C,g=v,S=A,0!==I&&0!==P&&32!==A){if(N=t.fontSize/t.fontData.size,F=0,W){G.color=0,G.tint.topLeft=x,G.tint.topRight=b,G.tint.bottomLeft=w,G.tint.bottomRight=k,G.index=H,G.charCode=A,G.x=X,G.y=q,G.scale=N,G.rotation=F,G.data=v.data;var $=W(G);X=$.x,q=$.y,N=$.scale,F=$.rotation,$.color?(x=$.color,b=$.color,w=$.color,k=$.color):(x=$.tint.topLeft,b=$.tint.topRight,w=$.tint.bottomLeft,k=$.tint.bottomRight),x=o.getTintAppendFloatAlpha(x,n.alpha*t._alphaTL),b=o.getTintAppendFloatAlpha(b,n.alpha*t._alphaTR),w=o.getTintAppendFloatAlpha(w,n.alpha*t._alphaBL),k=o.getTintAppendFloatAlpha(k,n.alpha*t._alphaBR)}X*=N,q*=N,X-=t.displayOriginX,q-=t.displayOriginY,X+=z,d.applyITRS(X,q,F,N,N),f.multiply(d,h);var Q=v.u0,J=v.v0,Z=v.u1,ee=v.v1,te=I,ne=P,re=h.e,ie=h.f,oe=ne*h.c+h.e,ae=ne*h.d+h.f,se=te*h.a+ne*h.c+h.e,ue=te*h.b+ne*h.d+h.f,le=te*h.a+h.e,ce=te*h.b+h.f;Y&&(re=Math.round(re),ie=Math.round(ie),oe=Math.round(oe),ae=Math.round(ae),se=Math.round(se),ue=Math.round(ue),le=Math.round(le),ce=Math.round(ce)),l.batchQuad(t,re,ie,oe,ae,se,ue,le,ce,Q,J,Z,ee,x,b,w,k,y,m,E)}}}else U++,1===B?z=(j.longest-j.lengths[U])/2:2===B&&(z=j.longest-j.lengths[U]),_=0,T+=L,g=null;p&&(l.flush(),e.popScissor()),e.pipelines.postBatch(t)}}},function(e,t,n){var r=n(30);e.exports=function(e,t,n,i){var o=t._text,a=o.length,s=e.currentContext;if(0!==a&&r(e,s,t,n,i)){n.addToRenderList(t);var u=t.fromAtlas?t.frame:t.texture.frames.__BASE,l=t.displayCallback,c=t.callbackData,h=t.fontData.chars,f=t.fontData.lineHeight,d=t._letterSpacing,p=0,v=0,g=0,m=null,y=0,x=0,b=0,w=0,k=0,E=0,_=null,T=0,A=t.frame.source.image,S=u.cutX,C=u.cutY,I=0,P=0,O=t._fontSize/t.fontData.size,R=t._align,M=0,D=0;t.getTextBounds(!1);var L=t._bounds.lines;1===R?D=(L.longest-L.lengths[0])/2:2===R&&(D=L.longest-L.lengths[0]),s.translate(-t.displayOriginX,-t.displayOriginY);var N=n.roundPixels;t.cropWidth>0&&t.cropHeight>0&&(s.beginPath(),s.rect(0,0,t.cropWidth,t.cropHeight),s.clip());for(var F=0;F<a;F++)if(P=O,I=0,10!==(g=o.charCodeAt(F))){if(m=h[g]){if(y=S+m.x,x=C+m.y,b=m.width,w=m.height,k=m.xOffset+p-t.scrollX,E=m.yOffset+v-t.scrollY,null!==_){var B=m.kerning[T];k+=void 0!==B?B:0}if(l){c.index=F,c.charCode=g,c.x=k,c.y=E,c.scale=P,c.rotation=I,c.data=m.data;var U=l(c);k=U.x,E=U.y,P=U.scale,I=U.rotation}k*=P,E*=P,k+=D,p+=m.xAdvance+d,_=m,T=g,0!==b&&0!==w&&32!==g&&(N&&(k=Math.round(k),E=Math.round(E)),s.save(),s.translate(k,E),s.rotate(I),s.scale(P,P),s.drawImage(A,y,x,b,w,0,0,b,w),s.restore())}}else M++,1===R?D=(L.longest-L.lengths[M])/2:2===R&&(D=L.longest-L.lengths[M]),p=0,v+=f,_=null;s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1061),i=n(1062),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19);e.exports=function(e,t,n,i){e.pipelines.clear();var o=r(t,n,i).calc;t.render.call(t,e,n,o),e.pipelines.rebind()}},function(e,t){},function(e,t,n){var r=n(1),i=n(1);r=n(1064),i=n(448),i=n(448),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(217),i=n(19),o=n(25),a=n(12),s=function(e,t,n){this.x=e,this.y=t,this.width=n},u=function(e,t,n){this.points=[],this.pointsLength=1,this.points[0]=new s(e,t,n)},l=[],c=new o;e.exports=function(e,t,n,o){if(0!==t.commandBuffer.length){n.addToRenderList(t);var h=e.pipelines.set(t.pipeline,t);e.pipelines.preBatch(t);for(var f=i(t,n,o).calc,d=c.loadIdentity(),p=t.commandBuffer,v=n.alpha*t.alpha,g=1,m=h.fillTint,y=h.strokeTint,x=0,b=0,w=0,k=2*Math.PI,E=[],_=0,T=!0,A=null,S=a.getTintAppendFloatAlpha,C=0;C<p.length;C++)switch(p[C]){case r.BEGIN_PATH:E.length=0,A=null,T=!0;break;case r.CLOSE_PATH:T=!1,A&&A.points.length&&A.points.push(A.points[0]);break;case r.FILL_PATH:for(_=0;_<E.length;_++)h.batchFillPath(E[_].points,d,f);break;case r.STROKE_PATH:for(_=0;_<E.length;_++)h.batchStrokePath(E[_].points,g,T,d,f);break;case r.LINE_STYLE:g=p[++C];var I=S(p[++C],p[++C]*v);y.TL=I,y.TR=I,y.BL=I,y.BR=I;break;case r.FILL_STYLE:var P=S(p[++C],p[++C]*v);m.TL=P,m.TR=P,m.BL=P,m.BR=P;break;case r.GRADIENT_FILL_STYLE:var O=p[++C]*v,R=p[++C]*v,M=p[++C]*v,D=p[++C]*v;m.TL=S(p[++C],O),m.TR=S(p[++C],R),m.BL=S(p[++C],M),m.BR=S(p[++C],D);break;case r.GRADIENT_LINE_STYLE:g=p[++C];var L=p[++C]*v;y.TL=S(p[++C],L),y.TR=S(p[++C],L),y.BL=S(p[++C],L),y.BR=S(p[++C],L);break;case r.ARC:var N=0,F=p[++C],B=p[++C],U=p[++C],z=p[++C],V=p[++C],j=p[++C],Y=p[++C];for(V-=z,j?V<-k?V=-k:V>0&&(V=V%k-k):V>k?V=k:V<0&&(V=k+V%k),null===A&&(A=new u(F+Math.cos(z)*U,B+Math.sin(z)*U,g),E.push(A),N+=.01);N<1+Y;)w=V*N+z,x=F+Math.cos(w)*U,b=B+Math.sin(w)*U,A.points.push(new s(x,b,g)),N+=.01;w=V+z,x=F+Math.cos(w)*U,b=B+Math.sin(w)*U,A.points.push(new s(x,b,g));break;case r.FILL_RECT:h.batchFillRect(p[++C],p[++C],p[++C],p[++C],d,f);break;case r.FILL_TRIANGLE:h.batchFillTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],d,f);break;case r.STROKE_TRIANGLE:h.batchStrokeTriangle(p[++C],p[++C],p[++C],p[++C],p[++C],p[++C],g,d,f);break;case r.LINE_TO:null!==A?A.points.push(new s(p[++C],p[++C],g)):(A=new u(p[++C],p[++C],g),E.push(A));break;case r.MOVE_TO:A=new u(p[++C],p[++C],g),E.push(A);break;case r.SAVE:l.push(d.copyToArray());break;case r.RESTORE:d.copyFromArray(l.pop());break;case r.TRANSLATE:F=p[++C],B=p[++C],d.translate(F,B);break;case r.SCALE:F=p[++C],B=p[++C],d.scale(F,B);break;case r.ROTATE:d.rotate(p[++C])}e.pipelines.postBatch(t)}}},function(e,t,n){var r=n(1),i=n(1);r=n(1066),i=n(1067),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t){e.exports=function(e,t,n,r){n.addToRenderList(t),t.pipeline.batchSprite(t,n,r)}},function(e,t){e.exports=function(e,t,n,r){n.addToRenderList(t),e.batchSprite(t,t.frame,n,r)}},function(e,t,n){var r=n(1),i=n(1);r=n(1069),i=n(1070),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t){e.exports=function(e,t,n,r){n.addToRenderList(t),this.pipeline.batchSprite(t,n,r)}},function(e,t){e.exports=function(e,t,n,r){n.addToRenderList(t),e.batchSprite(t,t.frame,n,r)}},function(e,t,n){var r=n(1),i=n(1);r=n(1072),i=n(1073),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t){e.exports=function(e,t,n){var r=t.list,i=r.length;if(0!==i){t.depthSort(),e.pipelines.preBatch(t);var o=-1!==t.blendMode;o||e.setBlendMode(0);for(var a=t.alpha,s=0;s<i;s++){var u=r[s];if(u.willRender(n)){var l,c,h,f;if(void 0!==u.alphaTopLeft)l=u.alphaTopLeft,c=u.alphaTopRight,h=u.alphaBottomLeft,f=u.alphaBottomRight;else{var d=u.alpha;l=d,c=d,h=d,f=d}o||u.blendMode===e.currentBlendMode||e.setBlendMode(u.blendMode);var p=u.mask;p&&p.preRenderWebGL(e,u,n);var v=u.type;v!==e.currentType&&(e.newType=!0,e.currentType=v),e.nextTypeMatch=s<i-1&&r[s+1].type===e.currentType,u.setAlpha(l*a,c*a,h*a,f*a),u.renderWebGL(e,u,n),u.setAlpha(l,c,h,f),p&&p.postRenderWebGL(e,n),e.newType=!1}}e.pipelines.postBatch(t)}}},function(e,t){e.exports=function(e,t,n){var r=t.list;if(0!==r.length){t.depthSort();var i=-1!==t.blendMode;i||e.setBlendMode(0);var o=t._alpha;t.mask&&t.mask.preRenderCanvas(e,null,n);for(var a=0;a<r.length;a++){var s=r[a];if(s.willRender(n)){var u=s.alpha;i||s.blendMode===e.currentBlendMode||e.setBlendMode(s.blendMode),s.setAlpha(u*o),s.renderCanvas(e,s,n),s.setAlpha(u)}}t.mask&&t.mask.postRenderCanvas(e)}}},function(e,t,n){e.exports={EmitterOp:n(449),GravityWell:n(450),Particle:n(451),ParticleEmitter:n(452),ParticleEmitterManager:n(220),Zones:n(1078)}},function(e,t,n){var r=n(1),i=n(1);r=n(1076),i=n(1077),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(25),i=n(12),o=new r,a=new r,s=new r,u=new r;e.exports=function(e,t,n,r){var l=t.emitters.list,c=l.length;if(0!==c){var h=e.pipelines.set(t.pipeline),f=o,d=a,p=s,v=u;r?(v.loadIdentity(),v.multiply(r),v.translate(t.x,t.y),v.rotate(t.rotation),v.scale(t.scaleX,t.scaleY)):v.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);var g=n.roundPixels,m=t.defaultFrame.glTexture,y=i.getTintAppendFloatAlpha,x=h.setGameObject(t,t.defaultFrame);e.pipelines.preBatch(t);for(var b=0;b<c;b++){var w=l[b],k=w.alive,E=k.length;if(w.visible&&0!==E){n.addToRenderList(w);var _=w.scrollFactorX,T=w.scrollFactorY;e.setBlendMode(w.blendMode),w.mask&&(w.mask.preRenderWebGL(e,w,n),e.pipelines.set(t.pipeline));for(var A=0;A<E;A++){var S=k[A],C=S.alpha*n.alpha;if(!(C<=0)){p.applyITRS(S.x,S.y,S.rotation,S.scaleX,S.scaleY),f.copyFrom(n.matrix),f.multiplyWithOffset(v,-n.scrollX*_,-n.scrollY*T),p.e=S.x,p.f=S.y,f.multiply(p,d);var I=S.frame,P=-I.halfWidth,O=-I.halfHeight,R=P+I.width,M=O+I.height,D=d.getXRound(P,O,g),L=d.getYRound(P,O,g),N=d.getXRound(P,M,g),F=d.getYRound(P,M,g),B=d.getXRound(R,M,g),U=d.getYRound(R,M,g),z=d.getXRound(R,O,g),V=d.getYRound(R,O,g),j=y(S.tint,C);h.batchQuad(w,D,L,N,F,B,U,z,V,I.u0,I.v0,I.u1,I.v1,j,j,j,j,0,m,x)}}w.mask&&w.mask.postRenderWebGL(e,n)}}e.pipelines.postBatch(t)}}},function(e,t,n){var r=n(25),i=new r,o=new r,a=new r,s=new r;e.exports=function(e,t,n,r){var u=t.emitters.list,l=u.length;if(0!==l){var c=i.copyFrom(n.matrix),h=o,f=a,d=s;r?(d.loadIdentity(),d.multiply(r),d.translate(t.x,t.y),d.rotate(t.rotation),d.scale(t.scaleX,t.scaleY)):d.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY);for(var p=e.currentContext,v=n.roundPixels,g=0;g<l;g++){var m=u[g],y=m.alive,x=y.length;if(m.visible&&0!==x){n.addToRenderList(m);var b=m.scrollFactorX,w=m.scrollFactorY;p.save(),p.globalCompositeOperation=e.blendModes[m.blendMode];for(var k=0;k<x;k++){var E=y[k],_=E.alpha*n.alpha;if(!(_<=0)){f.applyITRS(E.x,E.y,E.rotation,E.scaleX,E.scaleY),c.copyFrom(n.matrix),c.multiplyWithOffset(d,-n.scrollX*b,-n.scrollY*w),f.e=E.x,f.f=E.y,c.multiply(f,h);var T=E.frame,A=T.canvasData,S=-T.halfWidth,C=-T.halfHeight;p.globalAlpha=_,p.save(),h.setToContext(p),v&&(S=Math.round(S),C=Math.round(C)),p.imageSmoothingEnabled=!(!e.antialias||T.source.scaleMode),p.drawImage(T.source.image,A.x,A.y,A.width,A.height,S,C,A.width,A.height),p.restore()}}p.restore()}}}}},function(e,t,n){e.exports={DeathZone:n(453),EdgeZone:n(454),RandomZone:n(456)}},function(e,t,n){var r=n(1),i=n(1);r=n(1080),i=n(1081),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(12);e.exports=function(e,t,n,i){n.addToRenderList(t);var o=n.alpha,a=t.renderTarget,s=a.width,u=a.height,l=r.getTintAppendFloatAlpha,c=e.pipelines.set(t.pipeline),h=c.setTexture2D(a.texture);e.pipelines.preBatch(t),c.batchTexture(t,a.texture,s,u,t.x,t.y,s,u,t.scaleX,t.scaleY,t.rotation,t.flipX,!t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,s,u,l(t.tintTopLeft,o*t._alphaTL),l(t.tintTopRight,o*t._alphaTR),l(t.tintBottomLeft,o*t._alphaBL),l(t.tintBottomRight,o*t._alphaBR),t.tintFill,0,0,n,i,!0,h),e.resetTextures(),e.pipelines.postBatch(t)}},function(e,t){e.exports=function(e,t,n,r){n.addToRenderList(t),e.batchSprite(t,t.frame,n,r)}},function(e,t,n){var r=n(1083),i=n(17),o={Parse:n(1084)};o=i(!1,o,r),e.exports=o},function(e,t){e.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(e,t,n){var r=n(6);e.exports=function(e,t){var n=t.width,i=t.height,o=Math.floor(n/2),a=Math.floor(i/2),s=r(t,"chars","");if(""!==s){var u=r(t,"image",""),l=e.sys.textures.getFrame(u),c=l.cutX,h=l.cutY,f=l.source.width,d=l.source.height,p=r(t,"offset.x",0),v=r(t,"offset.y",0),g=r(t,"spacing.x",0),m=r(t,"spacing.y",0),y=r(t,"lineSpacing",0),x=r(t,"charsPerRow",null);null===x&&(x=f/n)>s.length&&(x=s.length);for(var b=p,w=v,k={retroFont:!0,font:u,size:n,lineHeight:i+y,chars:{}},E=0,_=0;_<s.length;_++){var T=s.charCodeAt(_),A=(c+b)/f,S=(h+w)/d,C=(c+b+n)/f,I=(h+w+i)/d;k.chars[T]={x:b,y:w,width:n,height:i,centerX:o,centerY:a,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:A,v0:S,u1:C,v1:I},++E===x?(E=0,b=p,w+=i+m):b+=n+g}return{data:k,frame:null,texture:u}}}},function(e,t,n){var r=n(1),i=n(1);r=n(1086),i=n(1087),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(12);e.exports=function(e,t,n,o){n.addToRenderList(t);var a=e.pipelines.set(t.pipeline,t),s=r(t,n,o).calc,u=t.vertices,l=t.uv,c=t.colors,h=t.alphas,f=t.alpha,d=i.getTintAppendFloatAlpha,p=n.roundPixels,v=u.length,g=Math.floor(.5*v);a.flush(),e.pipelines.preBatch(t);var m=a.setGameObject(t),y=a.vertexViewF32,x=a.vertexViewU32,b=a.vertexCount*a.currentShader.vertexComponentCount-1,w=0,k=t.tintFill;t.dirty&&t.updateVertices();for(var E=t.debugCallback,_=[],T=0;T<v;T+=2){var A=u[T+0],S=u[T+1],C=A*s.a+S*s.c+s.e,I=A*s.b+S*s.d+s.f;p&&(C=Math.round(C),I=Math.round(I)),y[++b]=C,y[++b]=I,y[++b]=l[T+0],y[++b]=l[T+1],y[++b]=m,y[++b]=k,x[++b]=d(c[w],n.alpha*(h[w]*f)),w++,E&&(_[T+0]=C,_[T+1]=I)}E&&E.call(t,t,v,_),a.vertexCount+=g,e.pipelines.postBatch(t)}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(1),i=n(1);r=n(1089),i=n(1090),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(12);e.exports=function(e,t,n,i){if(0!==t.width&&0!==t.height){n.addToRenderList(t);var o=t.frame,a=o.width,s=o.height,u=r.getTintAppendFloatAlpha,l=e.pipelines.set(t.pipeline,t),c=l.setTexture2D(o.glTexture,t);e.pipelines.preBatch(t),l.batchTexture(t,o.glTexture,a,s,t.x,t.y,a/t.style.resolution,s/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,a,s,u(t.tintTopLeft,n.alpha*t._alphaTL),u(t.tintTopRight,n.alpha*t._alphaTR),u(t.tintBottomLeft,n.alpha*t._alphaBL),u(t.tintBottomRight,n.alpha*t._alphaBR),t.tintFill,0,0,n,i,!1,c),e.pipelines.postBatch(t)}}},function(e,t){e.exports=function(e,t,n,r){0!==t.width&&0!==t.height&&(n.addToRenderList(t),e.batchSprite(t,t.frame,n,r))}},function(e,t,n){var r=n(1),i=n(1);r=n(1092),i=n(1093),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(12);e.exports=function(e,t,n,i){t.updateCanvas();var o=t.width,a=t.height;if(0!==o&&0!==a){n.addToRenderList(t),e.pipelines.preBatch(t);var s=r.getTintAppendFloatAlpha,u=e.pipelines.set(t.pipeline,t),l=u.setTexture2D(t.fillPattern,t);u.batchTexture(t,t.fillPattern,t.displayFrame.width*t.tileScaleX,t.displayFrame.height*t.tileScaleY,t.x,t.y,o,a,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.originX*o,t.originY*a,0,0,o,a,s(t.tintTopLeft,n.alpha*t._alphaTL),s(t.tintTopRight,n.alpha*t._alphaTR),s(t.tintBottomLeft,n.alpha*t._alphaBL),s(t.tintBottomRight,n.alpha*t._alphaBR),t.tintFill,t.tilePositionX%t.displayFrame.width/t.displayFrame.width,t.tilePositionY%t.displayFrame.height/t.displayFrame.height,n,i,!1,l),e.pipelines.postBatch(t)}}},function(e,t){e.exports=function(e,t,n,r){t.updateCanvas(),n.addToRenderList(t),e.batchSprite(t,t.frame,n,r)}},function(e,t,n){var r=n(1),i=n(1);r=n(1095),i=n(1096),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t){e.exports=function(e,t,n,r){t.videoTexture&&(n.addToRenderList(t),t.pipeline.batchSprite(t,n,r))}},function(e,t){e.exports=function(e,t,n,r){t.videoTexture&&(n.addToRenderList(t),e.batchSprite(t,t.frame,n,r))}},function(e,t,n){var r=n(1),i=n(1);r=n(1098),i=n(1099),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(114),o=n(81);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline),u=r(t,n,a),l=s.calcMatrix.copyFrom(u.calc),c=t._displayOriginX,h=t._displayOriginY,f=n.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&i(s,l,t,f,c,h),t.isStroked&&o(s,t,f,c,h),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(36),i=n(48),o=n(60),a=n(30);e.exports=function(e,t,n,s){n.addToRenderList(t);var u=e.currentContext;if(a(e,u,t,n,s)){var l=t.radius;u.beginPath(),u.arc(l-t.originX*(2*l),l-t.originY*(2*l),l,r(t._startAngle),r(t._endAngle),t.anticlockwise),t.closePath&&u.closePath(),t.isFilled&&(i(u,t),u.fill()),t.isStroked&&(o(u,t),u.stroke()),u.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1101),i=n(1102),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(114),i=n(19),o=n(81);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline),u=i(t,n,a),l=s.calcMatrix.copyFrom(u.calc),c=t._displayOriginX+t._curveBounds.x,h=t._displayOriginY+t._curveBounds.y,f=n.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&r(s,l,t,f,c,h),t.isStroked&&o(s,t,f,c,h),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(48),i=n(60),o=n(30);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.currentContext;if(o(e,s,t,n,a)){var u=t._displayOriginX+t._curveBounds.x,l=t._displayOriginY+t._curveBounds.y,c=t.pathData,h=c.length-1,f=c[0]-u,d=c[1]-l;s.beginPath(),s.moveTo(f,d),t.closePath||(h-=2);for(var p=2;p<h;p+=2){var v=c[p]-u,g=c[p+1]-l;s.lineTo(v,g)}t.closePath&&s.closePath(),t.isFilled&&(r(s,t),s.fill()),t.isStroked&&(i(s,t),s.stroke()),s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1104),i=n(1105),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(114),i=n(19),o=n(81);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline),u=i(t,n,a),l=s.calcMatrix.copyFrom(u.calc),c=t._displayOriginX,h=t._displayOriginY,f=n.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&r(s,l,t,f,c,h),t.isStroked&&o(s,t,f,c,h),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(48),i=n(60),o=n(30);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.currentContext;if(o(e,s,t,n,a)){var u=t._displayOriginX,l=t._displayOriginY,c=t.pathData,h=c.length-1,f=c[0]-u,d=c[1]-l;s.beginPath(),s.moveTo(f,d),t.closePath||(h-=2);for(var p=2;p<h;p+=2){var v=c[p]-u,g=c[p+1]-l;s.lineTo(v,g)}s.closePath(),t.isFilled&&(r(s,t),s.fill()),t.isStroked&&(i(s,t),s.stroke()),s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1107),i=n(1108),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(12);e.exports=function(e,t,n,o){n.addToRenderList(t);var a=e.pipelines.set(t.pipeline),s=r(t,n,o);a.calcMatrix.copyFrom(s.calc).translate(-t._displayOriginX,-t._displayOriginY);var u,l,c=n.alpha*t.alpha,h=t.width,f=t.height,d=t.cellWidth,p=t.cellHeight,v=Math.ceil(h/d),g=Math.ceil(f/p),m=d,y=p,x=d-(v*d-h),b=p-(g*p-f),w=t.showCells,k=t.showAltCells,E=t.showOutline,_=0,T=0,A=0,S=0,C=0;if(E&&(m--,y--,x===d&&x--,b===p&&b--),e.pipelines.preBatch(t),w&&t.fillAlpha>0)for(u=a.fillTint,l=i.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*c),u.TL=l,u.TR=l,u.BL=l,u.BR=l,T=0;T<g;T++)for(k&&(A=T%2),_=0;_<v;_++)k&&A?A=0:(A++,S=_<v-1?m:x,C=T<g-1?y:b,a.batchFillRect(_*d,T*p,S,C));if(k&&t.altFillAlpha>0)for(u=a.fillTint,l=i.getTintAppendFloatAlpha(t.altFillColor,t.altFillAlpha*c),u.TL=l,u.TR=l,u.BL=l,u.BR=l,T=0;T<g;T++)for(k&&(A=T%2),_=0;_<v;_++)!k||A?(A=0,S=_<v-1?m:x,C=T<g-1?y:b,a.batchFillRect(_*d,T*p,S,C)):A=1;if(E&&t.outlineFillAlpha>0){var I=a.strokeTint,P=i.getTintAppendFloatAlpha(t.outlineFillColor,t.outlineFillAlpha*c);for(I.TL=P,I.TR=P,I.BL=P,I.BR=P,_=1;_<v;_++){var O=_*d;a.batchLine(O,0,O,f,1,1,1,0,!1)}for(T=1;T<g;T++){var R=T*p;a.batchLine(0,R,h,R,1,1,1,0,!1)}}e.pipelines.postBatch(t)}},function(e,t,n){var r=n(48),i=n(60),o=n(30);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.currentContext;if(o(e,s,t,n,a)){var u=-t._displayOriginX,l=-t._displayOriginY,c=n.alpha*t.alpha,h=t.width,f=t.height,d=t.cellWidth,p=t.cellHeight,v=Math.ceil(h/d),g=Math.ceil(f/p),m=d,y=p,x=d-(v*d-h),b=p-(g*p-f),w=t.showCells,k=t.showAltCells,E=t.showOutline,_=0,T=0,A=0,S=0,C=0;if(E&&(m--,y--,x===d&&x--,b===p&&b--),w&&t.fillAlpha>0)for(r(s,t),T=0;T<g;T++)for(k&&(A=T%2),_=0;_<v;_++)k&&A?A=0:(A++,S=_<v-1?m:x,C=T<g-1?y:b,s.fillRect(u+_*d,l+T*p,S,C));if(k&&t.altFillAlpha>0)for(r(s,t,t.altFillColor,t.altFillAlpha*c),T=0;T<g;T++)for(k&&(A=T%2),_=0;_<v;_++)!k||A?(A=0,S=_<v-1?m:x,C=T<g-1?y:b,s.fillRect(u+_*d,l+T*p,S,C)):A=1;if(E&&t.outlineFillAlpha>0){for(i(s,t,t.outlineFillColor,t.outlineFillAlpha*c),_=1;_<v;_++){var I=_*d;s.beginPath(),s.moveTo(I+u,l),s.lineTo(I+u,f+l),s.stroke()}for(T=1;T<g;T++){var P=T*p;s.beginPath(),s.moveTo(u,P+l),s.lineTo(u+h,P+l),s.stroke()}}s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1110),i=n(1111),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(12);e.exports=function(e,t,n,o){n.addToRenderList(t);var a,s,u,l,c,h,f,d,p,v=e.pipelines.set(t.pipeline),g=r(t,n,o),m=v.calcMatrix.copyFrom(g.calc),y=t.width,x=t.height,b=y/2,w=y/t.projection,k=n.alpha*t.alpha;t.isFilled&&(e.pipelines.preBatch(t),t.showTop&&(a=i.getTintAppendFloatAlpha(t.fillTop,k),s=m.getX(-b,-x),u=m.getY(-b,-x),l=m.getX(0,-w-x),c=m.getY(0,-w-x),h=m.getX(b,-x),f=m.getY(b,-x),d=m.getX(0,w-x),p=m.getY(0,w-x),v.batchQuad(t,s,u,l,c,h,f,d,p,0,0,1,1,a,a,a,a,2)),t.showLeft&&(a=i.getTintAppendFloatAlpha(t.fillLeft,k),s=m.getX(-b,0),u=m.getY(-b,0),l=m.getX(0,w),c=m.getY(0,w),h=m.getX(0,w-x),f=m.getY(0,w-x),d=m.getX(-b,-x),p=m.getY(-b,-x),v.batchQuad(t,s,u,l,c,h,f,d,p,0,0,1,1,a,a,a,a,2)),t.showRight&&(a=i.getTintAppendFloatAlpha(t.fillRight,k),s=m.getX(b,0),u=m.getY(b,0),l=m.getX(0,w),c=m.getY(0,w),h=m.getX(0,w-x),f=m.getY(0,w-x),d=m.getX(b,-x),p=m.getY(b,-x),v.batchQuad(t,s,u,l,c,h,f,d,p,0,0,1,1,a,a,a,a,2)),e.pipelines.postBatch(t))}},function(e,t,n){var r=n(48),i=n(30);e.exports=function(e,t,n,o){n.addToRenderList(t);var a=e.currentContext;if(i(e,a,t,n,o)&&t.isFilled){var s=t.width,u=t.height,l=s/2,c=s/t.projection;t.showTop&&(r(a,t,t.fillTop),a.beginPath(),a.moveTo(-l,-u),a.lineTo(0,-c-u),a.lineTo(l,-u),a.lineTo(l,-1),a.lineTo(0,c-1),a.lineTo(-l,-1),a.lineTo(-l,-u),a.fill()),t.showLeft&&(r(a,t,t.fillLeft),a.beginPath(),a.moveTo(-l,0),a.lineTo(0,c),a.lineTo(0,c-u),a.lineTo(-l,-u),a.lineTo(-l,0),a.fill()),t.showRight&&(r(a,t,t.fillRight),a.beginPath(),a.moveTo(l,0),a.lineTo(0,c),a.lineTo(0,c-u),a.lineTo(l,-u),a.lineTo(l,0),a.fill()),a.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1113),i=n(1114),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(12);e.exports=function(e,t,n,o){n.addToRenderList(t);var a=e.pipelines.set(t.pipeline),s=r(t,n,o),u=a.calcMatrix.copyFrom(s.calc),l=t.width,c=t.height,h=l/2,f=l/t.projection,d=t.isReversed,p=n.alpha*t.alpha;if(t.isFilled){var v,g,m,y,x,b,w;if(e.pipelines.preBatch(t),t.showTop&&d){v=i.getTintAppendFloatAlpha(t.fillTop,p),g=u.getX(-h,-c),m=u.getY(-h,-c),y=u.getX(0,-f-c),x=u.getY(0,-f-c),b=u.getX(h,-c),w=u.getY(h,-c);var k=u.getX(0,f-c),E=u.getY(0,f-c);a.batchQuad(t,g,m,y,x,b,w,k,E,0,0,1,1,v,v,v,v,2)}t.showLeft&&(v=i.getTintAppendFloatAlpha(t.fillLeft,p),d?(g=u.getX(-h,-c),m=u.getY(-h,-c),y=u.getX(0,f),x=u.getY(0,f),b=u.getX(0,f-c),w=u.getY(0,f-c)):(g=u.getX(-h,0),m=u.getY(-h,0),y=u.getX(0,f),x=u.getY(0,f),b=u.getX(0,f-c),w=u.getY(0,f-c)),a.batchTri(t,g,m,y,x,b,w,0,0,1,1,v,v,v,2)),t.showRight&&(v=i.getTintAppendFloatAlpha(t.fillRight,p),d?(g=u.getX(h,-c),m=u.getY(h,-c),y=u.getX(0,f),x=u.getY(0,f),b=u.getX(0,f-c),w=u.getY(0,f-c)):(g=u.getX(h,0),m=u.getY(h,0),y=u.getX(0,f),x=u.getY(0,f),b=u.getX(0,f-c),w=u.getY(0,f-c)),a.batchTri(t,g,m,y,x,b,w,0,0,1,1,v,v,v,2)),e.pipelines.postBatch(t)}}},function(e,t,n){var r=n(48),i=n(30);e.exports=function(e,t,n,o){n.addToRenderList(t);var a=e.currentContext;if(i(e,a,t,n,o)&&t.isFilled){var s=t.width,u=t.height,l=s/2,c=s/t.projection,h=t.isReversed;t.showTop&&h&&(r(a,t,t.fillTop),a.beginPath(),a.moveTo(-l,-u),a.lineTo(0,-c-u),a.lineTo(l,-u),a.lineTo(0,c-u),a.fill()),t.showLeft&&(r(a,t,t.fillLeft),a.beginPath(),h?(a.moveTo(-l,-u),a.lineTo(0,c),a.lineTo(0,c-u)):(a.moveTo(-l,0),a.lineTo(0,c),a.lineTo(0,c-u)),a.fill()),t.showRight&&(r(a,t,t.fillRight),a.beginPath(),h?(a.moveTo(l,-u),a.lineTo(0,c),a.lineTo(0,c-u)):(a.moveTo(l,0),a.lineTo(0,c),a.lineTo(0,c-u)),a.fill()),a.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1116),i=n(1117),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(12);e.exports=function(e,t,n,o){n.addToRenderList(t);var a=e.pipelines.set(t.pipeline),s=r(t,n,o);a.calcMatrix.copyFrom(s.calc);var u=t._displayOriginX,l=t._displayOriginY,c=n.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isStroked){var h=a.strokeTint,f=i.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*c);h.TL=f,h.TR=f,h.BL=f,h.BR=f;var d=t._startWidth,p=t._endWidth;a.batchLine(t.geom.x1-u,t.geom.y1-l,t.geom.x2-u,t.geom.y2-l,d,p,1,0,!1,s.sprite,s.camera)}e.pipelines.postBatch(t)}},function(e,t,n){var r=n(60),i=n(30);e.exports=function(e,t,n,o){n.addToRenderList(t);var a=e.currentContext;if(i(e,a,t,n,o)){var s=t._displayOriginX,u=t._displayOriginY;t.isStroked&&(r(a,t),a.beginPath(),a.moveTo(t.geom.x1-s,t.geom.y1-u),a.lineTo(t.geom.x2-s,t.geom.y2-u),a.stroke()),a.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1119),i=n(1120),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(114),i=n(19),o=n(81);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline),u=i(t,n,a),l=s.calcMatrix.copyFrom(u.calc),c=t._displayOriginX,h=t._displayOriginY,f=n.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&r(s,l,t,f,c,h),t.isStroked&&o(s,t,f,c,h),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(48),i=n(60),o=n(30);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.currentContext;if(o(e,s,t,n,a)){var u=t._displayOriginX,l=t._displayOriginY,c=t.pathData,h=c.length-1,f=c[0]-u,d=c[1]-l;s.beginPath(),s.moveTo(f,d),t.closePath||(h-=2);for(var p=2;p<h;p+=2){var v=c[p]-u,g=c[p+1]-l;s.lineTo(v,g)}s.closePath(),t.isFilled&&(r(s,t),s.fill()),t.isStroked&&(i(s,t),s.stroke()),s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1122),i=n(1123),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(81),o=n(12);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline),u=r(t,n,a);s.calcMatrix.copyFrom(u.calc);var l=t._displayOriginX,c=t._displayOriginY,h=n.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isFilled){var f=s.fillTint,d=o.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*h);f.TL=d,f.TR=d,f.BL=d,f.BR=d,s.batchFillRect(-l,-c,t.width,t.height)}t.isStroked&&i(s,t,h,l,c),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(48),i=n(60),o=n(30);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.currentContext;if(o(e,s,t,n,a)){var u=t._displayOriginX,l=t._displayOriginY;t.isFilled&&(r(s,t),s.fillRect(-u,-l,t.width,t.height)),t.isStroked&&(i(s,t),s.beginPath(),s.rect(-u,-l,t.width,t.height),s.stroke()),s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1125),i=n(1126),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(114),i=n(19),o=n(81);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline),u=i(t,n,a),l=s.calcMatrix.copyFrom(u.calc),c=t._displayOriginX,h=t._displayOriginY,f=n.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&r(s,l,t,f,c,h),t.isStroked&&o(s,t,f,c,h),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(48),i=n(60),o=n(30);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.currentContext;if(o(e,s,t,n,a)){var u=t._displayOriginX,l=t._displayOriginY,c=t.pathData,h=c.length-1,f=c[0]-u,d=c[1]-l;s.beginPath(),s.moveTo(f,d),t.closePath||(h-=2);for(var p=2;p<h;p+=2){var v=c[p]-u,g=c[p+1]-l;s.lineTo(v,g)}s.closePath(),t.isFilled&&(r(s,t),s.fill()),t.isStroked&&(i(s,t),s.stroke()),s.restore()}}},function(e,t,n){var r=n(1),i=n(1);r=n(1128),i=n(1129),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19),i=n(81),o=n(12);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline),u=r(t,n,a);s.calcMatrix.copyFrom(u.calc);var l=t._displayOriginX,c=t._displayOriginY,h=n.alpha*t.alpha;if(e.pipelines.preBatch(t),t.isFilled){var f=s.fillTint,d=o.getTintAppendFloatAlpha(t.fillColor,t.fillAlpha*h);f.TL=d,f.TR=d,f.BL=d,f.BR=d;var p=t.geom.x1-l,v=t.geom.y1-c,g=t.geom.x2-l,m=t.geom.y2-c,y=t.geom.x3-l,x=t.geom.y3-c;s.batchFillTriangle(p,v,g,m,y,x,u.sprite,u.camera)}t.isStroked&&i(s,t,h,l,c),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(48),i=n(60),o=n(30);e.exports=function(e,t,n,a){n.addToRenderList(t);var s=e.currentContext;if(o(e,s,t,n,a)){var u=t._displayOriginX,l=t._displayOriginY,c=t.geom.x1-u,h=t.geom.y1-l,f=t.geom.x2-u,d=t.geom.y2-l,p=t.geom.x3-u,v=t.geom.y3-l;s.beginPath(),s.moveTo(c,h),s.lineTo(f,d),s.lineTo(p,v),s.closePath(),t.isFilled&&(r(s,t),s.fill()),t.isStroked&&(i(s,t),s.stroke()),s.restore()}}},function(e,t,n){var r=n(213);n(5).register("blitter",(function(e,t,n,i){return this.displayList.add(new r(this.scene,e,t,n,i))}))},function(e,t,n){var r=n(214);n(5).register("container",(function(e,t,n){return this.displayList.add(new r(this.scene,e,t,n))}))},function(e,t,n){var r=n(442);n(5).register("dom",(function(e,t,n,i,o){var a=new r(this.scene,e,t,n,i,o);return this.displayList.add(a),a}))},function(e,t,n){var r=n(215);n(5).register("dynamicBitmapText",(function(e,t,n,i,o){return this.displayList.add(new r(this.scene,e,t,n,i,o))}))},function(e,t,n){var r=n(444);n(5).register("extern",(function(){var e=new r(this.scene);return this.displayList.add(e),e}))},function(e,t,n){var r=n(216);n(5).register("graphics",(function(e){return this.displayList.add(new r(this.scene,e))}))},function(e,t,n){var r=n(113);n(5).register("group",(function(e,t){return this.updateList.add(new r(this.scene,e,t))}))},function(e,t,n){var r=n(125);n(5).register("image",(function(e,t,n,i){return this.displayList.add(new r(this.scene,e,t,n,i))}))},function(e,t,n){var r=n(219);n(5).register("layer",(function(e){return this.displayList.add(new r(this.scene,e))}))},function(e,t,n){var r=n(5),i=n(220);r.register("particles",(function(e,t,n){return this.displayList.add(new i(this.scene,e,t,n))}))},function(e,t,n){var r=n(5),i=n(457);r.register("follower",(function(e,t,n,r,o){var a=new i(this.scene,e,t,n,r,o);return this.displayList.add(a),this.updateList.add(a),a}))},function(e,t,n){var r=n(5),i=n(221);r.register("renderTexture",(function(e,t,n,r,o,a){return this.displayList.add(new i(this.scene,e,t,n,r,o,a))}))},function(e,t,n){var r=n(223);n(5).register("rope",(function(e,t,n,i,o,a,s,u){return this.displayList.add(new r(this.scene,e,t,n,i,o,a,s,u))}))},function(e,t,n){var r=n(5),i=n(73);r.register("sprite",(function(e,t,n,r){var o=new i(this.scene,e,t,n,r);return this.displayList.add(o),o}))},function(e,t,n){var r=n(148);n(5).register("bitmapText",(function(e,t,n,i,o,a){return this.displayList.add(new r(this.scene,e,t,n,i,o,a))}))},function(e,t,n){var r=n(224);n(5).register("text",(function(e,t,n,i){return this.displayList.add(new r(this.scene,e,t,n,i))}))},function(e,t,n){var r=n(225);n(5).register("tileSprite",(function(e,t,n,i,o,a){return this.displayList.add(new r(this.scene,e,t,n,i,o,a))}))},function(e,t,n){var r=n(129);n(5).register("zone",(function(e,t,n,i){return this.displayList.add(new r(this.scene,e,t,n,i))}))},function(e,t,n){var r=n(226);n(5).register("video",(function(e,t,n){return this.displayList.add(new r(this.scene,e,t,n))}))},function(e,t,n){var r=n(461),i=n(5);i.register("arc",(function(e,t,n,i,o,a,s,u){return this.displayList.add(new r(this.scene,e,t,n,i,o,a,s,u))})),i.register("circle",(function(e,t,n,i,o){return this.displayList.add(new r(this.scene,e,t,n,0,360,!1,i,o))}))},function(e,t,n){var r=n(5),i=n(462);r.register("curve",(function(e,t,n,r,o){return this.displayList.add(new i(this.scene,e,t,n,r,o))}))},function(e,t,n){var r=n(463);n(5).register("ellipse",(function(e,t,n,i,o,a){return this.displayList.add(new r(this.scene,e,t,n,i,o,a))}))},function(e,t,n){var r=n(5),i=n(464);r.register("grid",(function(e,t,n,r,o,a,s,u,l,c){return this.displayList.add(new i(this.scene,e,t,n,r,o,a,s,u,l,c))}))},function(e,t,n){var r=n(5),i=n(465);r.register("isobox",(function(e,t,n,r,o,a,s){return this.displayList.add(new i(this.scene,e,t,n,r,o,a,s))}))},function(e,t,n){var r=n(5),i=n(466);r.register("isotriangle",(function(e,t,n,r,o,a,s,u){return this.displayList.add(new i(this.scene,e,t,n,r,o,a,s,u))}))},function(e,t,n){var r=n(5),i=n(467);r.register("line",(function(e,t,n,r,o,a,s,u){return this.displayList.add(new i(this.scene,e,t,n,r,o,a,s,u))}))},function(e,t,n){var r=n(5),i=n(468);r.register("polygon",(function(e,t,n,r,o){return this.displayList.add(new i(this.scene,e,t,n,r,o))}))},function(e,t,n){var r=n(5),i=n(473);r.register("rectangle",(function(e,t,n,r,o,a){return this.displayList.add(new i(this.scene,e,t,n,r,o,a))}))},function(e,t,n){var r=n(474);n(5).register("star",(function(e,t,n,i,o,a,s){return this.displayList.add(new r(this.scene,e,t,n,i,o,a,s))}))},function(e,t,n){var r=n(5),i=n(475);r.register("triangle",(function(e,t,n,r,o,a,s,u,l,c){return this.displayList.add(new i(this.scene,e,t,n,r,o,a,s,u,l,c))}))},function(e,t,n){var r=n(213),i=n(28),o=n(16),a=n(13);o.register("blitter",(function(e,t){void 0===e&&(e={});var n=a(e,"key",null),o=a(e,"frame",null),s=new r(this.scene,0,0,n,o);return void 0!==t&&(e.add=t),i(this.scene,s,e),s}))},function(e,t,n){var r=n(28),i=n(214),o=n(16),a=n(13);o.register("container",(function(e,t){void 0===e&&(e={});var n=a(e,"x",0),o=a(e,"y",0),s=a(e,"children",null),u=new i(this.scene,n,o,s);return void 0!==t&&(e.add=t),r(this.scene,u,e),u}))},function(e,t,n){var r=n(215),i=n(28),o=n(16),a=n(13);o.register("dynamicBitmapText",(function(e,t){void 0===e&&(e={});var n=a(e,"font",""),o=a(e,"text",""),s=a(e,"size",!1),u=new r(this.scene,0,0,n,o,s);return void 0!==t&&(e.add=t),i(this.scene,u,e),u}))},function(e,t,n){var r=n(16),i=n(216);r.register("graphics",(function(e,t){void 0===e&&(e={}),void 0!==t&&(e.add=t);var n=new i(this.scene,e);return e.add&&this.scene.sys.displayList.add(n),n}))},function(e,t,n){var r=n(16),i=n(113);r.register("group",(function(e){return new i(this.scene,null,e)}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(125);i.register("image",(function(e,t){void 0===e&&(e={});var n=o(e,"key",null),i=o(e,"frame",null),s=new a(this.scene,0,0,n,i);return void 0!==t&&(e.add=t),r(this.scene,s,e),s}))},function(e,t,n){var r=n(28),i=n(219),o=n(16),a=n(13);o.register("layer",(function(e,t){void 0===e&&(e={});var n=a(e,"children",null),o=new i(this.scene,n);return void 0!==t&&(e.add=t),r(this.scene,o,e),o}))},function(e,t,n){var r=n(16),i=n(13),o=n(2),a=n(220);r.register("particles",(function(e,t){void 0===e&&(e={});var n=i(e,"key",null),r=i(e,"frame",null),s=o(e,"emitters",null),u=new a(this.scene,n,r,s);return void 0!==t&&(e.add=t),o(e,"add",!1)?this.displayList.add(u):this.updateList.add(u),u}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(221);i.register("renderTexture",(function(e,t){void 0===e&&(e={});var n=o(e,"x",0),i=o(e,"y",0),s=o(e,"width",32),u=o(e,"height",32),l=o(e,"key",void 0),c=o(e,"frame",void 0),h=new a(this.scene,n,i,s,u,l,c);return void 0!==t&&(e.add=t),r(this.scene,h,e),h}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(6),s=n(223);i.register("rope",(function(e,t){void 0===e&&(e={});var n=o(e,"key",null),i=o(e,"frame",null),u=o(e,"horizontal",!0),l=a(e,"points",void 0),c=a(e,"colors",void 0),h=a(e,"alphas",void 0),f=new s(this.scene,0,0,n,i,l,u,c,h);return void 0!==t&&(e.add=t),r(this.scene,f,e),e.add||this.updateList.add(f),f}))},function(e,t,n){var r=n(28),i=n(439),o=n(16),a=n(13),s=n(73);o.register("sprite",(function(e,t){void 0===e&&(e={});var n=a(e,"key",null),o=a(e,"frame",null),u=new s(this.scene,0,0,n,o);return void 0!==t&&(e.add=t),r(this.scene,u,e),i(u,e),u}))},function(e,t,n){var r=n(148),i=n(28),o=n(16),a=n(13),s=n(6);o.register("bitmapText",(function(e,t){void 0===e&&(e={});var n=s(e,"font",""),o=a(e,"text",""),u=a(e,"size",!1),l=s(e,"align",0),c=new r(this.scene,0,0,n,o,u,l);return void 0!==t&&(e.add=t),i(this.scene,c,e),c}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(224);i.register("text",(function(e,t){void 0===e&&(e={});var n=o(e,"text",""),i=o(e,"style",null),s=o(e,"padding",null);null!==s&&(i.padding=s);var u=new a(this.scene,0,0,n,i);return void 0!==t&&(e.add=t),r(this.scene,u,e),u.autoRound=o(e,"autoRound",!0),u.resolution=o(e,"resolution",1),u}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(225);i.register("tileSprite",(function(e,t){void 0===e&&(e={});var n=o(e,"x",0),i=o(e,"y",0),s=o(e,"width",512),u=o(e,"height",512),l=o(e,"key",""),c=o(e,"frame",""),h=new a(this.scene,n,i,s,u,l,c);return void 0!==t&&(e.add=t),r(this.scene,h,e),h}))},function(e,t,n){var r=n(16),i=n(13),o=n(129);r.register("zone",(function(e){var t=i(e,"x",0),n=i(e,"y",0),r=i(e,"width",1),a=i(e,"height",r);return new o(this.scene,t,n,r,a)}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(226);i.register("video",(function(e,t){void 0===e&&(e={});var n=o(e,"key",null),i=new a(this.scene,0,0,n);return void 0!==t&&(e.add=t),r(this.scene,i,e),e.add||this.updateList.add(i),i}))},function(e,t,n){var r=n(1),i=n(1);r=n(1177),i=n(1178),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19);e.exports=function(e,t,n,i){if(t.shader){if(n.addToRenderList(t),e.pipelines.clear(),t.renderToTexture)t.load(),t.flush();else{var o=r(t,n,i).calc;e.width===t._rendererWidth&&e.height===t._rendererHeight||t.projOrtho(0,e.width,e.height,0),t.load(o.matrix),t.flush()}e.pipelines.rebind()}}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(1),i=n(1);r=n(1180),i=n(1181),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19);e.exports=function(e,t,n,i){var o=t.faces,a=o.length;if(0!==a){n.addToRenderList(t);var s=e.pipelines.set(t.pipeline,t),u=r(t,n,i).calc,l=s.setGameObject(t),c=s.vertexViewF32,h=s.vertexViewU32,f=s.vertexCount*s.currentShader.vertexComponentCount-1,d=t.tintFill,p=[],v=t.debugCallback,g=u.a,m=u.b,y=u.c,x=u.d,b=u.e,w=u.f,k=t.viewPosition.z,E=t.hideCCW,_=n.roundPixels,T=n.alpha*t.alpha,A=0;e.pipelines.preBatch(t);for(var S=0;S<a;S++){var C=o[S];C.isInView(n,E,k,T,g,m,y,x,b,w,_)&&(s.shouldFlush(3)&&(s.flush(),f=0),f=C.load(c,h,f,l,d),A++,s.vertexCount+=3,v&&p.push(C))}t.totalFrame+=A,v&&v.call(t,t,p),e.pipelines.postBatch(t)}}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(1),i=n(1);r=n(1183),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(19);e.exports=function(e,t,n,i){n.addToRenderList(t);var o=e.pipelines.set(t.pipeline),a=r(t,n,i).calc,s=t.width,u=t.height,l=-t._radius,c=-t._radius,h=l+s,f=c+u,d=a.getX(0,0),p=a.getY(0,0),v=a.getX(l,c),g=a.getY(l,c),m=a.getX(l,f),y=a.getY(l,f),x=a.getX(h,f),b=a.getY(h,f),w=a.getX(h,c),k=a.getY(h,c);e.pipelines.preBatch(t),o.batchPointLight(t,n,v,g,m,y,x,b,w,k,d,p),e.pipelines.postBatch(t)}},function(e,t,n){var r=n(229);n(5).register("shader",(function(e,t,n,i,o,a,s){return this.displayList.add(new r(this.scene,e,t,n,i,o,a,s))}))},function(e,t,n){var r=n(230);n(5).register("mesh",(function(e,t,n,i,o,a,s,u,l,c,h){return this.displayList.add(new r(this.scene,e,t,n,i,o,a,s,u,l,c,h))}))},function(e,t,n){var r=n(5),i=n(150);r.register("pointlight",(function(e,t,n,r,o,a){return this.displayList.add(new i(this.scene,e,t,n,r,o,a))}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(229);i.register("shader",(function(e,t){void 0===e&&(e={});var n=o(e,"key",null),i=o(e,"x",0),s=o(e,"y",0),u=o(e,"width",128),l=o(e,"height",128),c=new a(this.scene,n,i,s,u,l);return void 0!==t&&(e.add=t),r(this.scene,c,e),c}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(6),s=n(230);i.register("mesh",(function(e,t){void 0===e&&(e={});var n=o(e,"key",null),i=o(e,"frame",null),u=a(e,"vertices",[]),l=a(e,"uvs",[]),c=a(e,"indicies",[]),h=a(e,"containsZ",!1),f=a(e,"normals",[]),d=a(e,"colors",16777215),p=a(e,"alphas",1),v=new s(this.scene,0,0,n,i,u,l,c,h,f,d,p);return void 0!==t&&(e.add=t),r(this.scene,v,e),v}))},function(e,t,n){var r=n(28),i=n(16),o=n(13),a=n(150);i.register("pointlight",(function(e,t){void 0===e&&(e={});var n=o(e,"color",16777215),i=o(e,"radius",128),s=o(e,"intensity",1),u=o(e,"attenuation",.1),l=new a(this.scene,0,0,n,i,s,u);return void 0!==t&&(e.add=t),r(this.scene,l,e),l}))},function(e,t,n){var r=n(0),i=n(482),o=n(24),a=n(20),s=new r({Extends:i,initialize:function(e){this.scene=e,this.systems=e.sys,e.sys.settings.isBooted||e.sys.events.once(a.BOOT,this.boot,this),i.call(this)},boot:function(){var e=this.systems.events;e.on(a.SHUTDOWN,this.shutdown,this),e.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",s,"lights"),e.exports=s},function(e,t,n){var r=n(65);r.Area=n(1192),r.Circumference=n(302),r.CircumferencePoint=n(169),r.Clone=n(1193),r.Contains=n(66),r.ContainsPoint=n(1194),r.ContainsRect=n(1195),r.CopyFrom=n(1196),r.Equals=n(1197),r.GetBounds=n(1198),r.GetPoint=n(300),r.GetPoints=n(301),r.Offset=n(1199),r.OffsetPoint=n(1200),r.Random=n(170),e.exports=r},function(e,t){e.exports=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0}},function(e,t,n){var r=n(65);e.exports=function(e){return new r(e.x,e.y,e.radius)}},function(e,t,n){var r=n(66);e.exports=function(e,t){return r(e,t.x,t.y)}},function(e,t,n){var r=n(66);e.exports=function(e,t){return r(e,t.x,t.y)&&r(e,t.right,t.y)&&r(e,t.x,t.bottom)&&r(e,t.right,t.bottom)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y,e.radius)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.radius===t.radius}},function(e,t,n){var r=n(10);e.exports=function(e,t){return void 0===t&&(t=new r),t.x=e.left,t.y=e.top,t.width=e.diameter,t.height=e.diameter,t}},function(e,t){e.exports=function(e,t,n){return e.x+=t,e.y+=n,e}},function(e,t){e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},function(e,t,n){var r=n(111);r.Area=n(1202),r.Circumference=n(447),r.CircumferencePoint=n(218),r.Clone=n(1203),r.Contains=n(112),r.ContainsPoint=n(1204),r.ContainsRect=n(1205),r.CopyFrom=n(1206),r.Equals=n(1207),r.GetBounds=n(1208),r.GetPoint=n(445),r.GetPoints=n(446),r.Offset=n(1209),r.OffsetPoint=n(1210),r.Random=n(180),e.exports=r},function(e,t){e.exports=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI}},function(e,t,n){var r=n(111);e.exports=function(e){return new r(e.x,e.y,e.width,e.height)}},function(e,t,n){var r=n(112);e.exports=function(e,t){return r(e,t.x,t.y)}},function(e,t,n){var r=n(112);e.exports=function(e,t){return r(e,t.x,t.y)&&r(e,t.right,t.y)&&r(e,t.x,t.bottom)&&r(e,t.right,t.bottom)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},function(e,t,n){var r=n(10);e.exports=function(e,t){return void 0===t&&(t=new r),t.x=e.left,t.y=e.top,t.width=e.width,t.height=e.height,t}},function(e,t){e.exports=function(e,t,n){return e.x+=t,e.y+=n,e}},function(e,t){e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},function(e,t,n){var r=n(4),i=n(231);e.exports=function(e,t,n){if(void 0===n&&(n=[]),i(e,t)){var o,a,s,u,l=e.x,c=e.y,h=e.radius,f=t.x,d=t.y,p=t.radius;if(c===d)0===(s=(a=-2*d)*a-4*(o=1)*(f*f+(u=(p*p-h*h-f*f+l*l)/(2*(l-f)))*u-2*f*u+d*d-p*p))?n.push(new r(u,-a/(2*o))):s>0&&(n.push(new r(u,(-a+Math.sqrt(s))/(2*o))),n.push(new r(u,(-a-Math.sqrt(s))/(2*o))));else{var v=(l-f)/(c-d),g=(p*p-h*h-f*f+l*l-d*d+c*c)/(2*(c-d));0===(s=(a=2*c*v-2*g*v-2*l)*a-4*(o=v*v+1)*(l*l+c*c+g*g-h*h-2*c*g))?(u=-a/(2*o),n.push(new r(u,g-u*v))):s>0&&(u=(-a+Math.sqrt(s))/(2*o),n.push(new r(u,g-u*v)),u=(-a-Math.sqrt(s))/(2*o),n.push(new r(u,g-u*v)))}}return n}},function(e,t,n){var r=n(232),i=n(151);e.exports=function(e,t,n){if(void 0===n&&(n=[]),i(e,t)){var o=t.getLineA(),a=t.getLineB(),s=t.getLineC(),u=t.getLineD();r(o,e,n),r(a,e,n),r(s,e,n),r(u,e,n)}return n}},function(e,t,n){var r=n(140),i=n(487),o=new(n(47));function a(e,t,n,a,s){var u=Math.cos(e),l=Math.sin(e);o.setTo(t,n,t+u,n+l);var c=i(o,a);c&&s.push(new r(c.x,c.y,e,c.w))}function s(e,t){return e.z-t.z}e.exports=function(e,t,n){Array.isArray(n)||(n=[n]);for(var r=[],i=[],o=0;o<n.length;o++)for(var u=n[o].points,l=0;l<u.length;l++){var c=Math.atan2(u[l].y-t,u[l].x-e);-1===i.indexOf(c)&&(a(c,e,t,n,r),a(c-1e-5,e,t,n,r),a(c+1e-5,e,t,n,r),i.push(c))}return r.sort(s)}},function(e,t,n){var r=n(10),i=n(152);e.exports=function(e,t,n){return void 0===n&&(n=new r),i(e,t)&&(n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.width=Math.min(e.right,t.right)-n.x,n.height=Math.min(e.bottom,t.bottom)-n.y),n}},function(e,t,n){var r=n(234),i=n(152);e.exports=function(e,t,n){if(void 0===n&&(n=[]),i(e,t)){var o=e.getLineA(),a=e.getLineB(),s=e.getLineC(),u=e.getLineD();r(o,t,n),r(a,t,n),r(s,t,n),r(u,t,n)}return n}},function(e,t,n){var r=n(489),i=n(234);e.exports=function(e,t,n){if(void 0===n&&(n=[]),r(e,t)){var o=t.getLineA(),a=t.getLineB(),s=t.getLineC();i(o,e,n),i(a,e,n),i(s,e,n)}return n}},function(e,t,n){var r=n(232),i=n(491);e.exports=function(e,t,n){if(void 0===n&&(n=[]),i(e,t)){var o=e.getLineA(),a=e.getLineB(),s=e.getLineC();r(o,t,n),r(a,t,n),r(s,t,n)}return n}},function(e,t,n){var r=n(494),i=n(492);e.exports=function(e,t,n){if(void 0===n&&(n=[]),r(e,t)){var o=t.getLineA(),a=t.getLineB(),s=t.getLineC();i(e,o,n),i(e,a,n),i(e,s,n)}return n}},function(e,t,n){var r=n(496);e.exports=function(e,t){if(!r(e,t))return!1;var n=Math.min(t.x1,t.x2),i=Math.max(t.x1,t.x2),o=Math.min(t.y1,t.y2),a=Math.max(t.y1,t.y2);return e.x>=n&&e.x<=i&&e.y>=o&&e.y<=a}},function(e,t){e.exports=function(e,t,n,r,i,o){return void 0===o&&(o=0),!(t>e.right+o||n<e.left-o||r>e.bottom+o||i<e.top-o)}},function(e,t,n){var r=n(47);r.Angle=n(97),r.BresenhamPoints=n(317),r.CenterOn=n(1222),r.Clone=n(1223),r.CopyFrom=n(1224),r.Equals=n(1225),r.Extend=n(1226),r.GetEasedPoints=n(1227),r.GetMidPoint=n(1228),r.GetNearestPoint=n(1229),r.GetNormal=n(1230),r.GetPoint=n(307),r.GetPoints=n(172),r.GetShortestDistance=n(1231),r.Height=n(1232),r.Length=n(67),r.NormalAngle=n(497),r.NormalX=n(1233),r.NormalY=n(1234),r.Offset=n(1235),r.PerpSlope=n(1236),r.Random=n(173),r.ReflectAngle=n(1237),r.Rotate=n(1238),r.RotateAroundPoint=n(1239),r.RotateAroundXY=n(236),r.SetToAngle=n(1240),r.Slope=n(1241),r.Width=n(1242),e.exports=r},function(e,t){e.exports=function(e,t,n){var r=t-(e.x1+e.x2)/2,i=n-(e.y1+e.y2)/2;return e.x1+=r,e.y1+=i,e.x2+=r,e.y2+=i,e}},function(e,t,n){var r=n(47);e.exports=function(e){return new r(e.x1,e.y1,e.x2,e.y2)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2)}},function(e,t){e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2}},function(e,t,n){var r=n(67);e.exports=function(e,t,n){void 0===n&&(n=t);var i=r(e),o=e.x2-e.x1,a=e.y2-e.y1;return t&&(e.x1=e.x1-o/i*t,e.y1=e.y1-a/i*t),n&&(e.x2=e.x2+o/i*n,e.y2=e.y2+a/i*n),e}},function(e,t,n){var r=n(352),i=n(80),o=n(4);e.exports=function(e,t,n,a,s){void 0===a&&(a=0),void 0===s&&(s=[]);var u,l,c=[],h=e.x1,f=e.y1,d=e.x2-h,p=e.y2-f,v=i(t,s),g=n-1;for(u=0;u<g;u++)l=v(u/g),c.push(new o(h+d*l,f+p*l));if(l=v(1),c.push(new o(h+d*l,f+p*l)),a>0){var m=c[0],y=[m];for(u=1;u<c.length-1;u++){var x=c[u];r(m,x)>=a&&(y.push(x),m=x)}var b=c[c.length-1];return r(m,b)<a&&y.pop(),y.push(b),y}return c}},function(e,t,n){var r=n(4);e.exports=function(e,t){return void 0===t&&(t=new r),t.x=(e.x1+e.x2)/2,t.y=(e.y1+e.y2)/2,t}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){void 0===n&&(n=new r);var i=e.x1,o=e.y1,a=e.x2,s=e.y2,u=(a-i)*(a-i)+(s-o)*(s-o);if(0===u)return n;var l=((t.x-i)*(a-i)+(t.y-o)*(s-o))/u;return n.x=i+l*(a-i),n.y=o+l*(s-o),n}},function(e,t,n){var r=n(14),i=n(97),o=n(4);e.exports=function(e,t){void 0===t&&(t=new o);var n=i(e)-r.TAU;return t.x=Math.cos(n),t.y=Math.sin(n),t}},function(e,t){e.exports=function(e,t){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=(i-n)*(i-n)+(o-r)*(o-r);if(0===a)return!1;var s=((r-t.y)*(i-n)-(n-t.x)*(o-r))/a;return Math.abs(s)*Math.sqrt(a)}},function(e,t){e.exports=function(e){return Math.abs(e.y1-e.y2)}},function(e,t,n){var r=n(14),i=n(97);e.exports=function(e){return Math.cos(i(e)-r.TAU)}},function(e,t,n){var r=n(14),i=n(97);e.exports=function(e){return Math.sin(i(e)-r.TAU)}},function(e,t){e.exports=function(e,t,n){return e.x1+=t,e.y1+=n,e.x2+=t,e.y2+=n,e}},function(e,t){e.exports=function(e){return-(e.x2-e.x1)/(e.y2-e.y1)}},function(e,t,n){var r=n(97),i=n(497);e.exports=function(e,t){return 2*i(t)-Math.PI-r(e)}},function(e,t,n){var r=n(236);e.exports=function(e,t){var n=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2;return r(e,n,i,t)}},function(e,t,n){var r=n(236);e.exports=function(e,t,n){return r(e,t.x,t.y,n)}},function(e,t){e.exports=function(e,t,n,r,i){return e.x1=t,e.y1=n,e.x2=t+Math.cos(r)*i,e.y2=n+Math.sin(r)*i,e}},function(e,t){e.exports=function(e){return(e.y2-e.y1)/(e.x2-e.x1)}},function(e,t){e.exports=function(e){return Math.abs(e.x1-e.x2)}},function(e,t,n){var r={Face:n(116),GenerateGridVerts:n(1244),GenerateObjVerts:n(480),GenerateVerts:n(479),ParseObj:n(498),ParseObjMaterial:n(499),RotateFace:n(1245),Vertex:n(117)};e.exports=r},function(e,t,n){var r=n(116),i=n(2),o=n(69),a=n(39),s=n(117),u=new a,l=new a,c=new o;e.exports=function(e){var t=i(e,"mesh"),n=i(e,"texture",null),o=i(e,"frame"),a=i(e,"width",1),h=i(e,"height",a),f=i(e,"widthSegments",1),d=i(e,"heightSegments",f),p=i(e,"x",0),v=i(e,"y",0),g=i(e,"z",0),m=i(e,"rotateX",0),y=i(e,"rotateY",0),x=i(e,"rotateZ",0),b=i(e,"zIsUp",!0),w=i(e,"isOrtho",!!t&&t.dirtyCache[11]),k=i(e,"colors",[16777215]),E=i(e,"alphas",[1]),_=i(e,"tile",!1),T=i(e,"flipY",!1),A=i(e,"width",null),S={faces:[],verts:[]};if(u.set(p,v,g),l.set(m,y,x),c.fromRotationXYTranslation(l,u,b),!n&&t)n=t.texture;else{if(!t||"string"!==typeof n)return S;n=t.scene.sys.textures.get(n)}var C=n.get(o);!A&&w&&n&&t&&(a=C.width/t.height,h=C.height/t.height);var I,P,O=a/2,R=h/2,M=Math.floor(f),D=Math.floor(d),L=M+1,N=D+1,F=a/M,B=h/D,U=[],z=[],V=0,j=1,Y=0,W=1;C&&(V=C.u0,j=C.u1,T?(Y=C.v1,W=C.v0):(Y=C.v0,W=C.v1));var G=j-V,H=W-Y;for(P=0;P<N;P++){var X=P*B-R;for(I=0;I<L;I++){var q=I*F-O;z.push(q,-X);var K=V+G*(I/M),$=Y+H*(P/D);U.push(K,$)}}Array.isArray(k)||(k=[k]),Array.isArray(E)||(E=[E]);var Q=0,J=0;for(P=0;P<D;P++)for(I=0;I<M;I++){var Z=2*(I+L*P),ee=2*(I+L*(P+1)),te=2*(I+1+L*(P+1)),ne=2*(I+1+L*P),re=k[J],ie=E[Q],oe=new s(z[Z],z[Z+1],0,U[Z],U[Z+1],re,ie).transformMat4(c),ae=new s(z[ee],z[ee+1],0,U[ee],U[ee+1],re,ie).transformMat4(c),se=new s(z[ne],z[ne+1],0,U[ne],U[ne+1],re,ie).transformMat4(c),ue=new s(z[ee],z[ee+1],0,U[ee],U[ee+1],re,ie).transformMat4(c),le=new s(z[te],z[te+1],0,U[te],U[te+1],re,ie).transformMat4(c),ce=new s(z[ne],z[ne+1],0,U[ne],U[ne+1],re,ie).transformMat4(c);_&&(oe.setUVs(V,W),ae.setUVs(V,Y),se.setUVs(j,W),ue.setUVs(V,Y),le.setUVs(j,Y),ce.setUVs(j,W)),++J===k.length&&(J=0),++Q===E.length&&(Q=0),S.verts.push(oe,ae,se,ue,le,ce),S.faces.push(new r(oe,ae,se),new r(ue,le,ce))}return t&&(t.faces=t.faces.concat(S.faces),t.vertices=t.vertices.concat(S.verts)),S}},function(e,t){e.exports=function(e,t,n,r){var i,o;if(void 0===n&&void 0===r){var a=e.getInCenter();i=a.x,o=a.y}var s=Math.cos(t),u=Math.sin(t),l=e.vertex1,c=e.vertex2,h=e.vertex3,f=l.x-i,d=l.y-o;l.set(f*s-d*u+i,f*u+d*s+o),f=c.x-i,d=c.y-o,c.set(f*s-d*u+i,f*u+d*s+o),f=h.x-i,d=h.y-o,h.set(f*s-d*u+i,f*u+d*s+o)}},function(e,t,n){var r=n(4);r.Ceil=n(1247),r.Clone=n(1248),r.CopyFrom=n(1249),r.Equals=n(1250),r.Floor=n(1251),r.GetCentroid=n(1252),r.GetMagnitude=n(500),r.GetMagnitudeSq=n(501),r.GetRectangleFromPoints=n(1253),r.Interpolate=n(1254),r.Invert=n(1255),r.Negative=n(1256),r.Project=n(1257),r.ProjectUnit=n(1258),r.SetMagnitude=n(1259),e.exports=r},function(e,t){e.exports=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))}},function(e,t,n){var r=n(4);e.exports=function(e){return new r(e.x,e.y)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y}},function(e,t){e.exports=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(void 0===t&&(t=new r),!Array.isArray(e))throw new Error("GetCentroid points argument must be an array");var n=e.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(1===n)t.x=e[0].x,t.y=e[0].y;else{for(var i=0;i<n;i++)t.x+=e[i].x,t.y+=e[i].y;t.x/=n,t.y/=n}return t}},function(e,t,n){var r=n(10);e.exports=function(e,t){void 0===t&&(t=new r);for(var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=0;s<e.length;s++){var u=e[s];u.x>n&&(n=u.x),u.x<i&&(i=u.x),u.y>o&&(o=u.y),u.y<a&&(a=u.y)}return t.x=i,t.y=a,t.width=n-i,t.height=o-a,t}},function(e,t,n){var r=n(4);e.exports=function(e,t,n,i){return void 0===n&&(n=0),void 0===i&&(i=new r),i.x=e.x+(t.x-e.x)*n,i.y=e.y+(t.y-e.y)*n,i}},function(e,t){e.exports=function(e){return e.setTo(e.y,e.x)}},function(e,t,n){var r=n(4);e.exports=function(e,t){return void 0===t&&(t=new r),t.setTo(-e.x,-e.y)}},function(e,t,n){var r=n(4),i=n(501);e.exports=function(e,t,n){void 0===n&&(n=new r);var o=(e.x*t.x+e.y*t.y)/i(t);return 0!==o&&(n.x=o*t.x,n.y=o*t.y),n}},function(e,t,n){var r=n(4);e.exports=function(e,t,n){void 0===n&&(n=new r);var i=e.x*t.x+e.y*t.y;return 0!==i&&(n.x=i*t.x,n.y=i*t.y),n}},function(e,t,n){var r=n(500);e.exports=function(e,t){if(0!==e.x||0!==e.y){var n=r(e);e.x/=n,e.y/=n}return e.x*=t,e.y*=t,e}},function(e,t,n){var r=n(227);r.Clone=n(1261),r.Contains=n(228),r.ContainsPoint=n(1262),r.Earcut=n(59),r.GetAABB=n(469),r.GetNumberArray=n(1263),r.GetPoints=n(470),r.Perimeter=n(471),r.Reverse=n(1264),r.Simplify=n(1265),r.Smooth=n(472),r.Translate=n(1266),e.exports=r},function(e,t,n){var r=n(227);e.exports=function(e){return new r(e.points)}},function(e,t,n){var r=n(228);e.exports=function(e,t){return r(e,t.x,t.y)}},function(e,t){e.exports=function(e,t){void 0===t&&(t=[]);for(var n=0;n<e.points.length;n++)t.push(e.points[n].x),t.push(e.points[n].y);return t}},function(e,t){e.exports=function(e){return e.points.reverse(),e}},function(e,t){function n(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function r(e,t,n){var r=t.x,i=t.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((e.x-r)*o+(e.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=e.x-r)*o+(a=e.y-i)*a}function i(e,t,n,o,a){for(var s,u=o,l=t+1;l<n;l++){var c=r(e[l],e[t],e[n]);c>u&&(s=l,u=c)}u>o&&(s-t>1&&i(e,t,s,o,a),a.push(e[s]),n-s>1&&i(e,s,n,o,a))}function o(e,t){var n=e.length-1,r=[e[0]];return i(e,0,n,t,r),r.push(e[n]),r}e.exports=function(e,t,r){void 0===t&&(t=1),void 0===r&&(r=!1);var i=e.points;if(i.length>2){var a=t*t;r||(i=function(e,t){for(var r,i=e[0],o=[i],a=1,s=e.length;a<s;a++)n(r=e[a],i)>t&&(o.push(r),i=r);return i!==r&&o.push(r),o}(i,a)),e.setTo(o(i,a))}return e}},function(e,t){e.exports=function(e,t,n){for(var r=e.points,i=0;i<r.length;i++)r[i].x+=t,r[i].y+=n;return e}},function(e,t){e.exports=function(e){return e.width*e.height}},function(e,t){e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e}},function(e,t){e.exports=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e}},function(e,t,n){var r=n(10);e.exports=function(e){return new r(e.x,e.y,e.width,e.height)}},function(e,t,n){var r=n(57);e.exports=function(e,t){return r(e,t.x,t.y)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x,e.y,e.width,e.height)}},function(e,t){e.exports=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}},function(e,t,n){var r=n(237);e.exports=function(e,t){var n=r(e);return n<r(t)?e.setSize(t.height*n,t.height):e.setSize(t.width,t.width/n),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},function(e,t,n){var r=n(237);e.exports=function(e,t){var n=r(e);return n>r(t)?e.setSize(t.height*n,t.height):e.setSize(t.width,t.width/n),e.setPosition(t.centerX-e.width/2,t.centerY-e.height/2)}},function(e,t){e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e}},function(e,t){e.exports=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e}},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i,o){return void 0===o&&(o=new r),o.setTo(Math.min(e,n),Math.min(t,i),Math.abs(e-n),Math.abs(t-i))}},function(e,t,n){var r=n(4);e.exports=function(e,t){return void 0===t&&(t=new r),t.x=e.centerX,t.y=e.centerY,t}},function(e,t,n){var r=n(4);e.exports=function(e,t){return void 0===t&&(t=new r),t.x=e.width,t.y=e.height,t}},function(e,t,n){var r=n(190);e.exports=function(e,t,n){var i=e.centerX,o=e.centerY;return e.setSize(e.width+2*t,e.height+2*n),r(e,i,o)}},function(e,t,n){var r=n(10),i=n(152);e.exports=function(e,t,n){return void 0===n&&(n=new r),i(e,t)?(n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.width=Math.min(e.right,t.right)-n.x,n.height=Math.min(e.bottom,t.bottom)-n.y):n.setEmpty(),n}},function(e,t){e.exports=function(e,t){for(var n=e.x,r=e.right,i=e.y,o=e.bottom,a=0;a<t.length;a++)n=Math.min(n,t[a].x),r=Math.max(r,t[a].x),i=Math.min(i,t[a].y),o=Math.max(o,t[a].y);return e.x=n,e.y=i,e.width=r-n,e.height=o-i,e}},function(e,t){e.exports=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.right,t.right);e.x=n,e.width=r-n;var i=Math.min(e.y,t.y),o=Math.max(e.bottom,t.bottom);return e.y=i,e.height=o-i,e}},function(e,t){e.exports=function(e,t,n){var r=Math.min(e.x,t),i=Math.max(e.right,t);e.x=r,e.width=i-r;var o=Math.min(e.y,n),a=Math.max(e.bottom,n);return e.y=o,e.height=a-o,e}},function(e,t){e.exports=function(e,t,n){return e.x+=t,e.y+=n,e}},function(e,t){e.exports=function(e,t){return e.x+=t.x,e.y+=t.y,e}},function(e,t){e.exports=function(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}},function(e,t,n){var r=n(4),i=n(36);e.exports=function(e,t,n){void 0===n&&(n=new r),t=i(t);var o=Math.sin(t),a=Math.cos(t),s=a>0?e.width/2:e.width/-2,u=o>0?e.height/2:e.height/-2;return Math.abs(s*o)<Math.abs(u*a)?u=s*o/a:s=u*a/o,n.x=s+e.centerX,n.y=u+e.centerY,n}},function(e,t,n){var r=n(195),i=n(503),o=n(4);e.exports=function(e,t,n){if(void 0===n&&(n=new o),i(e,t))switch(r(0,3)){case 0:n.x=e.x+Math.random()*(t.right-e.x),n.y=e.y+Math.random()*(t.top-e.y);break;case 1:n.x=t.x+Math.random()*(e.right-t.x),n.y=t.bottom+Math.random()*(e.bottom-t.bottom);break;case 2:n.x=e.x+Math.random()*(t.x-e.x),n.y=t.y+Math.random()*(e.bottom-t.y);break;case 3:n.x=t.right+Math.random()*(e.right-t.right),n.y=e.y+Math.random()*(t.bottom-e.y)}return n}},function(e,t){e.exports=function(e,t){return e.width===t.width&&e.height===t.height}},function(e,t){e.exports=function(e,t,n){return void 0===n&&(n=t),e.width*=t,e.height*=n,e}},function(e,t,n){var r=n(82);r.Area=n(1294),r.BuildEquilateral=n(1295),r.BuildFromPolygon=n(1296),r.BuildRight=n(1297),r.CenterOn=n(1298),r.Centroid=n(504),r.CircumCenter=n(1299),r.CircumCircle=n(1300),r.Clone=n(1301),r.Contains=n(115),r.ContainsArray=n(235),r.ContainsPoint=n(1302),r.CopyFrom=n(1303),r.Decompose=n(495),r.Equals=n(1304),r.GetPoint=n(476),r.GetPoints=n(477),r.InCenter=n(506),r.Perimeter=n(1305),r.Offset=n(505),r.Random=n(181),r.Rotate=n(1306),r.RotateAroundPoint=n(1307),r.RotateAroundXY=n(238),e.exports=r},function(e,t){e.exports=function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2,o=e.x3,a=e.y3;return Math.abs(((o-t)*(i-n)-(r-t)*(a-n))/2)}},function(e,t,n){var r=n(82);e.exports=function(e,t,n){var i=n*(Math.sqrt(3)/2);return new r(e,t,e+n/2,t+i,e-n/2,t+i)}},function(e,t,n){var r=n(59),i=n(82);e.exports=function(e,t,n,o,a){void 0===t&&(t=null),void 0===n&&(n=1),void 0===o&&(o=1),void 0===a&&(a=[]);for(var s,u,l,c,h,f,d,p,v,g=r(e,t),m=0;m<g.length;m+=3)s=g[m],u=g[m+1],l=g[m+2],c=e[2*s]*n,h=e[2*s+1]*o,f=e[2*u]*n,d=e[2*u+1]*o,p=e[2*l]*n,v=e[2*l+1]*o,a.push(new i(c,h,f,d,p,v));return a}},function(e,t,n){var r=n(82);e.exports=function(e,t,n,i){return void 0===i&&(i=n),new r(e,t,e,t-i,e+n,t)}},function(e,t,n){var r=n(504),i=n(505);e.exports=function(e,t,n,o){void 0===o&&(o=r);var a=o(e),s=t-a.x,u=n-a.y;return i(e,s,u)}},function(e,t,n){var r=n(3);function i(e,t,n,r){return e*r-t*n}e.exports=function(e,t){void 0===t&&(t=new r);var n=e.x3,o=e.y3,a=e.x1-n,s=e.y1-o,u=e.x2-n,l=e.y2-o,c=2*i(a,s,u,l),h=i(s,a*a+s*s,l,u*u+l*l),f=i(a,a*a+s*s,u,u*u+l*l);return t.x=n-h/c,t.y=o+f/c,t}},function(e,t,n){var r=n(65);e.exports=function(e,t){void 0===t&&(t=new r);var n,i,o=e.x1,a=e.y1,s=e.x2,u=e.y2,l=e.x3,c=e.y3,h=s-o,f=u-a,d=l-o,p=c-a,v=h*(o+s)+f*(a+u),g=d*(o+l)+p*(a+c),m=2*(h*(c-u)-f*(l-s));if(Math.abs(m)<1e-6){var y=Math.min(o,s,l),x=Math.min(a,u,c);n=.5*(Math.max(o,s,l)-y),i=.5*(Math.max(a,u,c)-x),t.x=y+n,t.y=x+i,t.radius=Math.sqrt(n*n+i*i)}else t.x=(p*v-f*g)/m,t.y=(h*g-d*v)/m,n=t.x-o,i=t.y-a,t.radius=Math.sqrt(n*n+i*i);return t}},function(e,t,n){var r=n(82);e.exports=function(e){return new r(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},function(e,t,n){var r=n(115);e.exports=function(e,t){return r(e,t.x,t.y)}},function(e,t){e.exports=function(e,t){return t.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}},function(e,t){e.exports=function(e,t){return e.x1===t.x1&&e.y1===t.y1&&e.x2===t.x2&&e.y2===t.y2&&e.x3===t.x3&&e.y3===t.y3}},function(e,t,n){var r=n(67);e.exports=function(e){var t=e.getLineA(),n=e.getLineB(),i=e.getLineC();return r(t)+r(n)+r(i)}},function(e,t,n){var r=n(238),i=n(506);e.exports=function(e,t){var n=i(e);return r(e,n.x,n.y,t)}},function(e,t,n){var r=n(238);e.exports=function(e,t,n){return r(e,t.x,t.y,n)}},function(e,t,n){var r=n(203),i=n(17),o={CreatePixelPerfectHandler:n(507),CreateInteractiveObject:n(508),Events:n(51),Gamepad:n(1309),InputManager:n(409),InputPlugin:n(1321),InputPluginCache:n(153),Keyboard:n(1322),Mouse:n(1336),Pointer:n(412),Touch:n(1337)};o=i(!1,o,r),e.exports=o},function(e,t,n){e.exports={Axis:n(509),Button:n(510),Events:n(239),Gamepad:n(511),GamepadPlugin:n(1316),Configs:n(1317)}},function(e,t){e.exports="down"},function(e,t){e.exports="up"},function(e,t){e.exports="connected"},function(e,t){e.exports="disconnected"},function(e,t){e.exports="down"},function(e,t){e.exports="up"},function(e,t,n){var r=n(0),i=n(9),o=n(239),a=n(511),s=n(6),u=n(153),l=n(51),c=new r({Extends:i,initialize:function(e){i.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,e.pluginEvents.once(l.BOOT,this.boot,this),e.pluginEvents.on(l.START,this.start,this)},boot:function(){var e=this.scene.sys.game,t=this.settings.input,n=e.config;this.enabled=s(t,"gamepad",n.inputGamepad)&&e.device.input.gamepads,this.target=s(t,"gamepad.target",n.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=this.target,n=function(t){!t.defaultPrevented&&e.isActive()&&(e.refreshPads(),e.queue.push(t))};this.onGamepadHandler=n,t.addEventListener("gamepadconnected",n,!1),t.addEventListener("gamepaddisconnected",n,!1),this.sceneInputPlugin.pluginEvents.on(l.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(l.UPDATE,this.update);for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].removeAllListeners()},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads[e].pad.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(e)for(var t=this.gamepads,n=0;n<e.length;n++){var r=e[n];if(r){var i=r.id,o=r.index,s=t[o];if(s)s.id!==i?(s.destroy(),t[o]=new a(this,r)):s.update(r);else{var u=new a(this,r);t[o]=u,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=u):this._pad3=u:this._pad2=u:this._pad1=u}}}else this.disconnectAll()},getAll:function(){for(var e=[],t=this.gamepads,n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},getPad:function(e){for(var t=this.gamepads,n=0;n<t.length;n++)if(t[n]&&t[n].index===e)return t[n]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(0!==e)for(var t=this.queue.splice(0,e),n=0;n<e;n++){var r=t[n],i=this.getPad(r.gamepad.index);"gamepadconnected"===r.type?this.emit(o.CONNECTED,i,r):"gamepaddisconnected"===r.type&&this.emit(o.DISCONNECTED,i,r)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});u.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),e.exports=c},function(e,t,n){e.exports={DUALSHOCK_4:n(1318),SNES_USB:n(1319),XBOX_360:n(1320)}},function(e,t){e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(e,t){e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(e,t){e.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(e,t,n){var r=n(65),i=n(66),o=n(0),a=n(203),s=n(508),u=n(507),l=n(50),c=n(111),h=n(112),f=n(51),d=n(9),p=n(2),v=n(56),g=n(153),m=n(7),y=n(24),x=n(10),b=n(57),w=n(20),k=n(82),E=n(115),_=new o({Extends:d,initialize:function(e){d.call(this),this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.manager=e.sys.game.input,this.pluginEvents=new d,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var t={cancelled:!1};this._eventContainer={stopPropagation:function(){t.cancelled=!0}},this._eventData=t,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,e.sys.events.once(w.BOOT,this.boot,this),e.sys.events.on(w.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(w.DESTROY,this.destroy,this),this.pluginEvents.emit(f.BOOT)},start:function(){var e=this.systems.events;e.on(w.TRANSITION_START,this.transitionIn,this),e.on(w.TRANSITION_OUT,this.transitionOut,this),e.on(w.TRANSITION_COMPLETE,this.transitionComplete,this),e.on(w.PRE_UPDATE,this.preUpdate,this),e.once(w.SHUTDOWN,this.shutdown,this),this.manager.events.on(f.GAME_OUT,this.onGameOut,this),this.manager.events.on(f.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(f.START)},onGameOver:function(e){this.isActive()&&this.emit(f.GAME_OVER,e.timeStamp,e)},onGameOut:function(e){this.isActive()&&this.emit(f.GAME_OUT,e.timeStamp,e)},preUpdate:function(){this.pluginEvents.emit(f.PRE_UPDATE);var e=this._pendingRemoval,t=this._pendingInsertion,n=e.length,r=t.length;if(0!==n||0!==r){for(var i=this._list,o=0;o<n;o++){var a=e[o],s=i.indexOf(a);s>-1&&(i.splice(s,1),this.clear(a,!0))}e.length=0,this._pendingRemoval.length=0,this._list=i.concat(t.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(e,t){if(!this.isActive())return!1;if(this.pluginEvents.emit(f.UPDATE,e,t),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var n,r=this.manager,i=r.pointers,o=r.pointersTotal;for(n=0;n<o;n++)i[n].updateMotion();if(0===this._list.length)return!1;var a=this.pollRate;if(-1===a)return!1;if(a>0){if(this._pollTimer-=t,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var s=!1;for(n=0;n<o;n++){var u=0,l=i[n];this._tempZones=[],this._temp=this.hitTestPointer(l),this.sortGameObjects(this._temp,l),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),u+=this.processOverOutEvents(l),2===this.getDragState(l)&&this.processDragThresholdEvent(l,e),u>0&&(s=!0)}return s},update:function(e,t){if(!this.isActive())return!1;for(var n=t.length,r=!1,i=0;i<n;i++){var o=0,s=t[i];switch(this._tempZones=[],this._temp=this.hitTestPointer(s),this.sortGameObjects(this._temp,s),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),e){case a.MOUSE_DOWN:o+=this.processDragDownEvent(s),o+=this.processDownEvents(s),o+=this.processOverOutEvents(s);break;case a.MOUSE_UP:o+=this.processDragUpEvent(s),o+=this.processUpEvents(s),o+=this.processOverOutEvents(s);break;case a.TOUCH_START:o+=this.processDragDownEvent(s),o+=this.processDownEvents(s),o+=this.processOverEvents(s);break;case a.TOUCH_END:case a.TOUCH_CANCEL:o+=this.processDragUpEvent(s),o+=this.processUpEvents(s),o+=this.processOutEvents(s);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:o+=this.processDragMoveEvent(s),o+=this.processMoveEvents(s),o+=this.processOverOutEvents(s);break;case a.MOUSE_WHEEL:o+=this.processWheelEvent(s)}o>0&&(r=!0)}return this._updatedThisFrame=!0,r},clear:function(e,t){void 0===t&&(t=!1);var n=e.input;if(n){t||this.queueForRemoval(e),n.gameObject=void 0,n.target=void 0,n.hitArea=void 0,n.hitAreaCallback=void 0,n.callbackContext=void 0,e.input=null;var r=this._draggable.indexOf(e);return r>-1&&this._draggable.splice(r,1),(r=this._drag[0].indexOf(e))>-1&&this._drag[0].splice(r,1),(r=this._over[0].indexOf(e))>-1&&(this._over[0].splice(r,1),this.manager.resetCursor(n)),e}},disable:function(e){e.input.enabled=!1},enable:function(e,t,n,r){return void 0===r&&(r=!1),e.input?e.input.enabled=!0:this.setHitArea(e,t,n),e.input&&r&&!e.input.dropZone&&(e.input.dropZone=r),this},hitTestPointer:function(e){for(var t=this.cameras.getCamerasBelowPointer(e),n=0;n<t.length;n++){for(var r=t[n],i=this.manager.hitTest(e,this._list,r),o=0;o<i.length;o++){var a=i[o];a.input.dropZone&&this._tempZones.push(a)}if(i.length>0)return e.camera=r,i}return e.camera=t[0],[]},processDownEvents:function(e){var t=0,n=this._temp,r=this._eventData,i=this._eventContainer;r.cancelled=!1;for(var o=!1,a=0;a<n.length;a++){var s=n[a];if(s.input){if(t++,s.emit(f.GAMEOBJECT_POINTER_DOWN,e,s.input.localX,s.input.localY,i),r.cancelled||!s.input){o=!0;break}if(this.emit(f.GAMEOBJECT_DOWN,e,s,i),r.cancelled||!s.input){o=!0;break}}}return!o&&this.manager&&(e.downElement===this.manager.game.canvas?this.emit(f.POINTER_DOWN,e,n):this.emit(f.POINTER_DOWN_OUTSIDE,e)),t},getDragState:function(e){return this._dragState[e.id]},setDragState:function(e,t){this._dragState[e.id]=t},processDragThresholdEvent:function(e,t){var n=!1,r=this.dragTimeThreshold,i=this.dragDistanceThreshold;if((i>0&&l(e.x,e.y,e.downX,e.downY)>=i||r>0&&t>=e.downTime+r)&&(n=!0),n)return this.setDragState(e,3),this.processDragStartList(e)},processDragStartList:function(e){if(3!==this.getDragState(e))return 0;for(var t=this._drag[e.id],n=0;n<t.length;n++){var r=t[n],i=r.input;i.dragState=2,i.dragStartX=r.x,i.dragStartY=r.y,i.dragStartXGlobal=e.worldX,i.dragStartYGlobal=e.worldY,i.dragX=i.dragStartXGlobal-i.dragStartX,i.dragY=i.dragStartYGlobal-i.dragStartY,r.emit(f.GAMEOBJECT_DRAG_START,e,i.dragX,i.dragY),this.emit(f.DRAG_START,e,r)}return this.setDragState(e,4),t.length},processDragDownEvent:function(e){var t=this._temp;if(0===this._draggable.length||0===t.length||!e.primaryDown||0!==this.getDragState(e))return 0;this.setDragState(e,1);for(var n=[],r=0;r<t.length;r++){var i=t[r];i.input.draggable&&0===i.input.dragState&&n.push(i)}return 0===n.length?(this.setDragState(e,0),0):(n.length>1&&(this.sortGameObjects(n,e),this.topOnly&&n.splice(1)),this._drag[e.id]=n,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(e,3),this.processDragStartList(e)):(this.setDragState(e,2),0))},processDragMoveEvent:function(e){if(2===this.getDragState(e)&&this.processDragThresholdEvent(e,this.manager.game.loop.now),4!==this.getDragState(e))return 0;for(var t=this._tempZones,n=this._drag[e.id],r=0;r<n.length;r++){var i,o,a=n[r],s=a.input,u=s.target;if(u){var l=t.indexOf(u);0===l?(a.emit(f.GAMEOBJECT_DRAG_OVER,e,u),this.emit(f.DRAG_OVER,e,a,u)):l>0?(a.emit(f.GAMEOBJECT_DRAG_LEAVE,e,u),this.emit(f.DRAG_LEAVE,e,a,u),s.target=t[0],u=s.target,a.emit(f.GAMEOBJECT_DRAG_ENTER,e,u),this.emit(f.DRAG_ENTER,e,a,u)):(a.emit(f.GAMEOBJECT_DRAG_LEAVE,e,u),this.emit(f.DRAG_LEAVE,e,a,u),t[0]?(s.target=t[0],u=s.target,a.emit(f.GAMEOBJECT_DRAG_ENTER,e,u),this.emit(f.DRAG_ENTER,e,a,u)):s.target=null)}else!u&&t[0]&&(s.target=t[0],u=s.target,a.emit(f.GAMEOBJECT_DRAG_ENTER,e,u),this.emit(f.DRAG_ENTER,e,a,u));if(a.parentContainer){var c=e.worldX-s.dragStartXGlobal,h=e.worldY-s.dragStartYGlobal,d=a.getParentRotation(),p=c*Math.cos(d)+h*Math.sin(d),v=h*Math.cos(d)-c*Math.sin(d);p*=1/a.parentContainer.scaleX,v*=1/a.parentContainer.scaleY,i=p+s.dragStartX,o=v+s.dragStartY}else i=e.worldX-s.dragX,o=e.worldY-s.dragY;a.emit(f.GAMEOBJECT_DRAG,e,i,o),this.emit(f.DRAG,e,a,i,o)}return n.length},processDragUpEvent:function(e){for(var t=this._drag[e.id],n=0;n<t.length;n++){var r=t[n],i=r.input;if(i&&2===i.dragState){i.dragState=0,i.dragX=i.localX-r.displayOriginX,i.dragY=i.localY-r.displayOriginY;var o=!1,a=i.target;a&&(r.emit(f.GAMEOBJECT_DROP,e,a),this.emit(f.DROP,e,r,a),i.target=null,o=!0),r.input&&(r.emit(f.GAMEOBJECT_DRAG_END,e,i.dragX,i.dragY,o),this.emit(f.DRAG_END,e,r,o))}}return this.setDragState(e,0),t.splice(0),0},processMoveEvents:function(e){var t=0,n=this._temp,r=this._eventData,i=this._eventContainer;r.cancelled=!1;for(var o=!1,a=0;a<n.length;a++){var s=n[a];if(s.input){if(t++,s.emit(f.GAMEOBJECT_POINTER_MOVE,e,s.input.localX,s.input.localY,i),r.cancelled||!s.input){o=!0;break}if(this.emit(f.GAMEOBJECT_MOVE,e,s,i),r.cancelled||!s.input){o=!0;break}if(this.topOnly)break}}return o||this.emit(f.POINTER_MOVE,e,n),t},processWheelEvent:function(e){var t=0,n=this._temp,r=this._eventData,i=this._eventContainer;r.cancelled=!1;for(var o=!1,a=e.deltaX,s=e.deltaY,u=e.deltaZ,l=0;l<n.length;l++){var c=n[l];if(c.input){if(t++,c.emit(f.GAMEOBJECT_POINTER_WHEEL,e,a,s,u,i),r.cancelled||!c.input){o=!0;break}if(this.emit(f.GAMEOBJECT_WHEEL,e,c,a,s,u,i),r.cancelled||!c.input){o=!0;break}}}return o||this.emit(f.POINTER_WHEEL,e,n,a,s,u),t},processOverEvents:function(e){var t=this._temp,n=0,r=t.length,i=[];if(r>0){var o=this.manager,a=this._eventData,s=this._eventContainer;a.cancelled=!1;for(var u=!1,l=0;l<r;l++){var c=t[l];if(c.input){if(i.push(c),o.setCursor(c.input),c.emit(f.GAMEOBJECT_POINTER_OVER,e,c.input.localX,c.input.localY,s),n++,a.cancelled||!c.input){u=!0;break}if(this.emit(f.GAMEOBJECT_OVER,e,c,s),a.cancelled||!c.input){u=!0;break}}}u||this.emit(f.POINTER_OVER,e,i)}return this._over[e.id]=i,n},processOutEvents:function(e){var t=this._over[e.id],n=0,r=t.length;if(r>0){var i=this.manager,o=this._eventData,a=this._eventContainer;o.cancelled=!1;var s=!1;this.sortGameObjects(t,e);for(var u=0;u<r;u++){var l=t[u];if((l=t[u]).input){if(i.resetCursor(l.input),l.emit(f.GAMEOBJECT_POINTER_OUT,e,a),n++,o.cancelled||!l.input){s=!0;break}if(this.emit(f.GAMEOBJECT_OUT,e,l,a),o.cancelled||!l.input){s=!0;break}s||this.emit(f.POINTER_OUT,e,t)}}this._over[e.id]=[]}return n},processOverOutEvents:function(e){var t,n,r=this._temp,i=[],o=[],a=[],s=this._over[e.id],u=this._drag[e.id],l=this.manager;for(t=0;t<s.length;t++)n=s[t],-1===r.indexOf(n)&&-1===u.indexOf(n)?i.push(n):a.push(n);for(t=0;t<r.length;t++)n=r[t],-1===s.indexOf(n)&&o.push(n);var c=i.length,h=0,d=this._eventData,p=this._eventContainer;d.cancelled=!1;var v=!1;if(c>0){for(this.sortGameObjects(i,e),t=0;t<c;t++)if((n=i[t]).input){if(l.resetCursor(n.input),n.emit(f.GAMEOBJECT_POINTER_OUT,e,p),h++,d.cancelled||!n.input){v=!0;break}if(this.emit(f.GAMEOBJECT_OUT,e,n,p),d.cancelled||!n.input){v=!0;break}}v||this.emit(f.POINTER_OUT,e,i)}if(c=o.length,d.cancelled=!1,v=!1,c>0){for(this.sortGameObjects(o,e),t=0;t<c;t++)if((n=o[t]).input){if(l.setCursor(n.input),n.emit(f.GAMEOBJECT_POINTER_OVER,e,n.input.localX,n.input.localY,p),h++,d.cancelled||!n.input){v=!0;break}if(this.emit(f.GAMEOBJECT_OVER,e,n,p),d.cancelled||!n.input){v=!0;break}}v||this.emit(f.POINTER_OVER,e,o)}return s=a.concat(o),this._over[e.id]=this.sortGameObjects(s,e),h},processUpEvents:function(e){var t=this._temp,n=this._eventData,r=this._eventContainer;n.cancelled=!1;for(var i=!1,o=0;o<t.length;o++){var a=t[o];if(a.input){if(a.emit(f.GAMEOBJECT_POINTER_UP,e,a.input.localX,a.input.localY,r),n.cancelled||!a.input){i=!0;break}if(this.emit(f.GAMEOBJECT_UP,e,a,r),n.cancelled||!a.input){i=!0;break}}}return!i&&this.manager&&(e.upElement===this.manager.game.canvas?this.emit(f.POINTER_UP,e,t):this.emit(f.POINTER_UP_OUTSIDE,e)),t.length},queueForInsertion:function(e){return-1===this._pendingInsertion.indexOf(e)&&-1===this._list.indexOf(e)&&this._pendingInsertion.push(e),this},queueForRemoval:function(e){return this._pendingRemoval.push(e),this},setDraggable:function(e,t){void 0===t&&(t=!0),Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];r.input.draggable=t;var i=this._draggable.indexOf(r);t&&-1===i?this._draggable.push(r):!t&&i>-1&&this._draggable.splice(i,1)}return this},makePixelPerfect:function(e){void 0===e&&(e=1);var t=this.systems.textures;return u(t,e)},setHitArea:function(e,t,n){if(void 0===t)return this.setHitAreaFromTexture(e);Array.isArray(e)||(e=[e]);var r=!1,i=!1,o=!1,a=!1,u=!1,l=!0;if(m(t)){var c=t;t=p(c,"hitArea",null),n=p(c,"hitAreaCallback",null),r=p(c,"draggable",!1),i=p(c,"dropZone",!1),o=p(c,"cursor",!1),a=p(c,"useHandCursor",!1),u=p(c,"pixelPerfect",!1);var h=p(c,"alphaTolerance",1);u&&(t={},n=this.makePixelPerfect(h)),t&&n||(this.setHitAreaFromTexture(e),l=!1)}else"function"!==typeof t||n||(n=t,t={});for(var f=0;f<e.length;f++){var d=e[f];if(u&&"Container"===d.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var v=d.input?d.input:s(d,t,n);v.customHitArea=l,v.dropZone=i,v.cursor=a?"pointer":o,d.input=v,r&&this.setDraggable(d),this.queueForInsertion(d)}}return this},setHitAreaCircle:function(e,t,n,o,a){void 0===a&&(a=i);var s=new r(t,n,o);return this.setHitArea(e,s,a)},setHitAreaEllipse:function(e,t,n,r,i,o){void 0===o&&(o=h);var a=new c(t,n,r,i);return this.setHitArea(e,a,o)},setHitAreaFromTexture:function(e,t){void 0===t&&(t=b),Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n],i=r.frame,o=0,a=0;r.width?(o=r.width,a=r.height):i&&(o=i.realWidth,a=i.realHeight),"Container"!==r.type||0!==o&&0!==a?0!==o&&0!==a&&(r.input=s(r,new x(0,0,o,a),t),this.queueForInsertion(r)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(e,t,n,r,i,o){void 0===o&&(o=b);var a=new x(t,n,r,i);return this.setHitArea(e,a,o)},setHitAreaTriangle:function(e,t,n,r,i,o,a,s){void 0===s&&(s=E);var u=new k(t,n,r,i,o,a);return this.setHitArea(e,u,s)},enableDebug:function(e,t){void 0===t&&(t=65280);var n=e.input;if(!n||!n.hitArea)return this;var r=n.hitArea,i=r.type,o=n.hitAreaDebug,a=this.systems.add,s=this.systems.updateList;o&&(s.remove(o),o.destroy(),o=null);var u=0,l=0;switch(i){case v.CIRCLE:o=a.arc(0,0,r.radius),u=r.x-r.radius,l=r.y-r.radius;break;case v.ELLIPSE:o=a.ellipse(0,0,r.width,r.height),u=r.x-r.width/2,l=r.y-r.height/2;break;case v.LINE:o=a.line(0,0,r.x1,r.y1,r.x2,r.y2);break;case v.POLYGON:o=a.polygon(0,0,r.points);break;case v.RECTANGLE:o=a.rectangle(0,0,r.width,r.height),u=r.x,l=r.y;break;case v.TRIANGLE:o=a.triangle(0,0,r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)}return o&&(o.isFilled=!1,o.preUpdate=function(){o.setStrokeStyle(1/e.scale,t),o.setDisplayOrigin(e.displayOriginX,e.displayOriginY);var n=e.x,r=e.y,i=e.rotation,a=e.scaleX,s=e.scaleY;if(e.parentContainer){var c=e.getWorldTransformMatrix();n=c.tx,r=c.ty,i=c.rotation,a=c.scaleX,s=c.scaleY}o.setRotation(i),o.setScale(a,s),o.setPosition(n+u,r+l),o.setScrollFactor(e.scrollFactorX,e.scrollFactorY),o.setDepth(e.depth)},s.add(o),n.hitAreaDebug=o),this},removeDebug:function(e){var t=e.input;if(t&&t.hitAreaDebug){var n=t.hitAreaDebug;this.systems.updateList.remove(n),n.destroy(),t.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(e){return this.pollRate=e,this._pollTimer=0,this},setGlobalTopOnly:function(e){return this.manager.globalTopOnly=e,this},setTopOnly:function(e){return this.topOnly=e,this},sortGameObjects:function(e,t){if(e.length<2)return e;var n=t.camera.renderList;return e.sort((function(e,t){return n.indexOf(t)-n.indexOf(e)}))},sortDropZones:function(e){return e.length<2?e:(this.scene.sys.depthSort(),e.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(e,t){if(e.parentContainer||t.parentContainer){if(e.parentContainer===t.parentContainer)return t.parentContainer.getIndex(t)-e.parentContainer.getIndex(e);if(e.parentContainer===t)return-1;if(t.parentContainer===e)return 1;for(var n=e.getIndexList(),r=t.getIndexList(),i=Math.min(n.length,r.length),o=0;o<i;o++){var a=n[o],s=r[o];if(a!==s)return s-a}return r.length-n.length}return this.displayList.getIndex(t)-this.displayList.getIndex(e)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(e){return this.manager.addPointer(e)},setDefaultCursor:function(e){return this.manager.setDefaultCursor(e),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(f.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var e=0;e<10;e++)this._drag[e]=[],this._over[e]=[];this.removeAllListeners();var t=this.manager;t.canvas.style.cursor=t.defaultCursor;var n=this.systems.events;n.off(w.TRANSITION_START,this.transitionIn,this),n.off(w.TRANSITION_OUT,this.transitionOut,this),n.off(w.TRANSITION_COMPLETE,this.transitionComplete,this),n.off(w.PRE_UPDATE,this.preUpdate,this),t.events.off(f.GAME_OUT,this.onGameOut,this),t.events.off(f.GAME_OVER,this.onGameOver,this),n.off(w.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(f.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});y.register("InputPlugin",_,"input"),e.exports=_},function(e,t,n){e.exports={Events:n(154),KeyboardManager:n(410),KeyboardPlugin:n(1330),Key:n(512),KeyCodes:n(143),KeyCombo:n(513),AdvanceKeyCombo:n(515),ProcessKeyCombo:n(514),ResetKeyCombo:n(516),JustDown:n(1332),JustUp:n(1333),DownDuration:n(1334),UpDuration:n(1335)}},function(e,t){e.exports="keydown"},function(e,t){e.exports="keyup"},function(e,t){e.exports="keycombomatch"},function(e,t){e.exports="down"},function(e,t){e.exports="keydown-"},function(e,t){e.exports="keyup-"},function(e,t){e.exports="up"},function(e,t,n){var r=n(0),i=n(9),o=n(154),a=n(22),s=n(6),u=n(51),l=n(153),c=n(512),h=n(143),f=n(513),d=n(1331),p=n(20),v=n(76),g=new r({Extends:i,initialize:function(e){i.call(this),this.game=e.systems.game,this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.manager=e.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,e.pluginEvents.once(u.BOOT,this.boot,this),e.pluginEvents.on(u.START,this.start,this)},boot:function(){var e=this.settings.input;this.enabled=s(e,"keyboard",!0);var t=s(e,"keyboard.capture",null);t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(u.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(u.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(u.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(p.PAUSE,this.resetKeys,this),this.scene.sys.events.on(p.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(e){return this.manager.addCapture(e),this},removeCapture:function(e){return this.manager.removeCapture(e),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:h.UP,down:h.DOWN,left:h.LEFT,right:h.RIGHT,space:h.SPACE,shift:h.SHIFT})},addKeys:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var r={};if("string"===typeof e){e=e.split(",");for(var i=0;i<e.length;i++){var o=e[i].trim();o&&(r[o]=this.addKey(o,t,n))}}else for(var a in e)r[a]=this.addKey(e[a],t,n);return r},addKey:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var r=this.keys;if(e instanceof c){var i=r.indexOf(e);return i>-1?r[i]=e:r[e.keyCode]=e,t&&this.addCapture(e.keyCode),e.setEmitOnRepeat(n),e}return"string"===typeof e&&(e=h[e.toUpperCase()]),r[e]||(r[e]=new c(this,e),t&&this.addCapture(e),r[e].setEmitOnRepeat(n)),r[e]},removeKey:function(e,t){void 0===t&&(t=!1);var n,r=this.keys;if(e instanceof c){var i=r.indexOf(e);i>-1&&(n=this.keys[i],this.keys[i]=void 0)}else"string"===typeof e&&(e=h[e.toUpperCase()]);return r[e]&&(n=r[e],r[e]=void 0),n&&(n.plugin=null,t&&n.destroy()),this},removeAllKeys:function(e){for(var t=this.keys,n=0;n<t.length;n++){var r=t[n];r&&(t[n]=void 0,e&&r.destroy())}return this},createCombo:function(e,t){return new f(this,e,t)},checkDown:function(e,t){if(void 0===t&&(t=0),this.enabled&&e.isDown){var n=v(this.time-e.timeDown,t);if(n>e._tick)return e._tick=n,!0}return!1},update:function(){var e=this.manager.queue,t=e.length;if(this.isActive()&&0!==t)for(var n=this.keys,r=0;r<t;r++){var i=e[r],a=i.keyCode,s=n[a],u=!1;void 0===i.cancelled&&(i.cancelled=0,i.stopImmediatePropagation=function(){i.cancelled=1},i.stopPropagation=function(){i.cancelled=-1}),-1!==i.cancelled&&(a===this.prevCode&&i.timeStamp===this.prevTime&&i.type===this.prevType||(this.prevCode=a,this.prevTime=i.timeStamp,this.prevType=i.type,"keydown"===i.type?(s&&(u=s.isDown,s.onDown(i)),i.cancelled||s&&u||(d[a]&&this.emit(o.KEY_DOWN+d[a],i),i.cancelled||this.emit(o.ANY_KEY_DOWN,i))):(s&&s.onUp(i),i.cancelled||(d[a]&&this.emit(o.KEY_UP+d[a],i),i.cancelled||this.emit(o.ANY_KEY_UP,i))),1===i.cancelled&&(i.cancelled=0)))}},resetKeys:function(){for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(u.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(p.PAUSE,this.resetKeys,this),this.scene.sys.events.off(p.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});l.register("KeyboardPlugin",g,"keyboard","keyboard","inputKeyboard"),e.exports=g},function(e,t,n){var r=n(143),i={};for(var o in r)i[r[o]]=o;e.exports=i},function(e,t){e.exports=function(e){return!!e._justDown&&(e._justDown=!1,!0)}},function(e,t){e.exports=function(e){return!!e._justUp&&(e._justUp=!1,!0)}},function(e,t){e.exports=function(e,t){void 0===t&&(t=50);var n=e.plugin.game.loop.time-e.timeDown;return e.isDown&&n<t}},function(e,t){e.exports=function(e,t){void 0===t&&(t=50);var n=e.plugin.game.loop.time-e.timeUp;return e.isUp&&n<t}},function(e,t,n){e.exports={MouseManager:n(411)}},function(e,t,n){e.exports={TouchManager:n(413)}},function(e,t,n){var r=n(21),i=n(17),o={Events:n(95),FileTypes:n(1339),File:n(23),FileTypesManager:n(8),GetURL:n(155),LoaderPlugin:n(1365),MergeXHRSettings:n(240),MultiFile:n(49),XHRLoader:n(517),XHRSettings:n(156)};o=i(!1,o,r),e.exports=o},function(e,t,n){e.exports={AnimationJSONFile:n(1340),AsepriteFile:n(1341),AtlasJSONFile:n(1342),AtlasXMLFile:n(1343),AudioFile:n(518),AudioSpriteFile:n(1344),BinaryFile:n(1345),BitmapFontFile:n(1346),CSSFile:n(1347),GLSLFile:n(1348),HTML5AudioFile:n(519),HTMLFile:n(1349),HTMLTextureFile:n(1350),ImageFile:n(71),JSONFile:n(61),MultiAtlasFile:n(1351),MultiScriptFile:n(1352),OBJFile:n(1353),PackFile:n(1354),PluginFile:n(1355),SceneFile:n(1356),ScenePluginFile:n(1357),ScriptFile:n(520),SpriteSheetFile:n(1358),SVGFile:n(1359),TextFile:n(242),TilemapCSVFile:n(1360),TilemapImpactFile:n(1361),TilemapJSONFile:n(1362),UnityAtlasFile:n(1363),VideoFile:n(1364),XMLFile:n(241)}},function(e,t,n){var r=n(0),i=n(8),o=n(61),a=n(95),s=new r({Extends:o,initialize:function(e,t,n,r,i){o.call(this,e,t,n,r,i),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});i.register("animation",(function(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new s(this,e[i]));else this.addFile(new s(this,e,t,r,n));return this})),e.exports=s},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(71),s=n(7),u=n(61),l=n(49),c=new r({Extends:l,initialize:function(e,t,n,r,i,c){var h,f;if(s(t)){var d=t;t=o(d,"key"),h=new a(e,{key:t,url:o(d,"textureURL"),extension:o(d,"textureExtension","png"),normalMap:o(d,"normalMap"),xhrSettings:o(d,"textureXhrSettings")}),f=new u(e,{key:t,url:o(d,"atlasURL"),extension:o(d,"atlasExtension","json"),xhrSettings:o(d,"atlasXhrSettings")})}else h=new a(e,t,n,i),f=new u(e,t,r,c);h.linkFile?l.call(this,e,"atlasjson",t,[h,f,h.linkFile]):l.call(this,e,"atlasjson",t,[h,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],n=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,n),t.addToCache(),this.complete=!0}}});i.register("aseprite",(function(e,t,n,r,i){var o;if(Array.isArray(e))for(var a=0;a<e.length;a++)o=new c(this,e[a]),this.addFile(o.files);else o=new c(this,e,t,n,r,i),this.addFile(o.files);return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(71),s=n(7),u=n(61),l=n(49),c=new r({Extends:l,initialize:function(e,t,n,r,i,c){var h,f;if(s(t)){var d=t;t=o(d,"key"),h=new a(e,{key:t,url:o(d,"textureURL"),extension:o(d,"textureExtension","png"),normalMap:o(d,"normalMap"),xhrSettings:o(d,"textureXhrSettings")}),f=new u(e,{key:t,url:o(d,"atlasURL"),extension:o(d,"atlasExtension","json"),xhrSettings:o(d,"atlasXhrSettings")})}else h=new a(e,t,n,i),f=new u(e,t,r,c);h.linkFile?l.call(this,e,"atlasjson",t,[h,f,h.linkFile]):l.call(this,e,"atlasjson",t,[h,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],n=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(e.key,e.data,t.data,n),t.pendingDestroy(),this.complete=!0}}});i.register("atlas",(function(e,t,n,r,i){var o;if(Array.isArray(e))for(var a=0;a<e.length;a++)o=new c(this,e[a]),this.addFile(o.files);else o=new c(this,e,t,n,r,i),this.addFile(o.files);return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(71),s=n(7),u=n(49),l=n(241),c=new r({Extends:u,initialize:function(e,t,n,r,i,c){var h,f;if(s(t)){var d=t;t=o(d,"key"),h=new a(e,{key:t,url:o(d,"textureURL"),extension:o(d,"textureExtension","png"),normalMap:o(d,"normalMap"),xhrSettings:o(d,"textureXhrSettings")}),f=new l(e,{key:t,url:o(d,"atlasURL"),extension:o(d,"atlasExtension","xml"),xhrSettings:o(d,"atlasXhrSettings")})}else h=new a(e,t,n,i),f=new l(e,t,r,c);h.linkFile?u.call(this,e,"atlasxml",t,[h,f,h.linkFile]):u.call(this,e,"atlasxml",t,[h,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],n=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(e.key,e.data,t.data,n),t.pendingDestroy(),this.complete=!0}}});i.register("atlasXML",(function(e,t,n,r,i){var o;if(Array.isArray(e))for(var a=0;a<e.length;a++)o=new c(this,e[a]),this.addFile(o.files);else o=new c(this,e,t,n,r,i),this.addFile(o.files);return this})),e.exports=c},function(e,t,n){var r=n(518),i=n(0),o=n(8),a=n(2),s=n(7),u=n(61),l=n(49),c=new i({Extends:l,initialize:function(e,t,n,i,o,c,h){if(s(t)){var f=t;t=a(f,"key"),n=a(f,"jsonURL"),i=a(f,"audioURL"),o=a(f,"audioConfig"),c=a(f,"audioXhrSettings"),h=a(f,"jsonXhrSettings")}var d;if(i){var p=r.create(e,t,i,o,c);p&&(d=new u(e,t,n,h),l.call(this,e,"audiosprite",t,[p,d]),this.config.resourceLoad=!1)}else d=new u(e,t,n,h),l.call(this,e,"audiosprite",t,[d]),this.config.resourceLoad=!0,this.config.audioConfig=o,this.config.audioXhrSettings=c},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,this.config.resourceLoad&&"json"===e.type&&e.data.hasOwnProperty("resources"))){var t=e.data.resources,n=a(this.config,"audioConfig"),i=a(this.config,"audioXhrSettings"),o=r.create(this.loader,e.key,t,n,i);o&&(this.addToMultiFile(o),this.loader.addFile(o))}},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.addToCache(),this.complete=!0}}});o.register("audioSprite",(function(e,t,n,r,i,o){var a,s=this.systems.game,u=s.config.audio,l=s.device.audio;if(u&&u.noAudio||!l.webAudio&&!l.audioData)return this;if(Array.isArray(e))for(var h=0;h<e.length;h++)(a=new c(this,e[h])).files&&this.addFile(a.files);else(a=new c(this,e,t,n,r,i,o)).files&&this.addFile(a.files);return this}))},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r,i){var a="bin";if(u(t)){var l=t;t=s(l,"key"),n=s(l,"url"),r=s(l,"xhrSettings"),a=s(l,"extension",a),i=s(l,"dataType",i)}var c={type:"binary",cache:e.cacheManager.binary,extension:a,responseType:"arraybuffer",key:t,url:n,xhrSettings:r,config:{dataType:i}};o.call(this,e,c)},onProcess:function(){this.state=i.FILE_PROCESSING;var e=this.config.dataType;this.data=e?new e(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",(function(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new l(this,e[i]));else this.addFile(new l(this,e,t,r,n));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(71),s=n(7),u=n(49),l=n(212),c=n(241),h=new r({Extends:u,initialize:function(e,t,n,r,i,l){var h,f;if(s(t)){var d=t;t=o(d,"key"),h=new a(e,{key:t,url:o(d,"textureURL"),extension:o(d,"textureExtension","png"),normalMap:o(d,"normalMap"),xhrSettings:o(d,"textureXhrSettings")}),f=new c(e,{key:t,url:o(d,"fontDataURL"),extension:o(d,"fontDataExtension","xml"),xhrSettings:o(d,"fontDataXhrSettings")})}else h=new a(e,t,n,i),f=new c(e,t,r,l);h.linkFile?u.call(this,e,"bitmapfont",t,[h,f,h.linkFile]):u.call(this,e,"bitmapfont",t,[h,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1];e.addToCache(),t.pendingDestroy();var n=e.cache.get(e.key),r=l(t.data,e.cache.getFrame(e.key),0,0,n);this.loader.cacheManager.bitmapFont.add(e.key,{data:r,texture:e.key,frame:null}),this.complete=!0}}});i.register("bitmapFont",(function(e,t,n,r,i){var o;if(Array.isArray(e))for(var a=0;a<e.length;a++)o=new h(this,e[a]),this.addFile(o.files);else o=new h(this,e,t,n,r,i),this.addFile(o.files);return this})),e.exports=h},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r){var i="css";if(u(t)){var a=t;t=s(a,"key"),n=s(a,"url"),r=s(a,"xhrSettings"),i=s(a,"extension",i)}var l={type:"script",cache:!1,extension:i,responseType:"text",key:t,url:n,xhrSettings:r};o.call(this,e,l)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,n));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=n(396),c=new r({Extends:o,initialize:function(e,t,n,r,i){var a="glsl";if(u(t)){var l=t;t=s(l,"key"),n=s(l,"url"),r=s(l,"shaderType","fragment"),i=s(l,"xhrSettings"),a=s(l,"extension",a)}else void 0===r&&(r="fragment");var c={type:"glsl",cache:e.cacheManager.shader,extension:a,responseType:"text",key:t,url:n,config:{shaderType:r},xhrSettings:i};o.call(this,e,c)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.split("\n"),t=this.extractBlock(e,0);if(t)for(;t;){var n=this.getShaderName(t.header),r=this.getShaderType(t.header),i=this.getShaderUniforms(t.header),o=t.shader;if(this.cache.has(n)){var a=this.cache.get(n);"fragment"===r?a.fragmentSrc=o:a.vertexSrc=o,a.uniforms||(a.uniforms=i)}else"fragment"===r?this.cache.add(n,new l(n,o,"",i)):this.cache.add(n,new l(n,"",o,i));t=this.extractBlock(e,t.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new l(this.key,this.data)):this.cache.add(this.key,new l(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(e){for(var t=0;t<e.length;t++){var n=e[t].trim();if("name:"===n.substring(0,5))return n.substring(5).trim()}return this.key},getShaderType:function(e){for(var t=0;t<e.length;t++){var n=e[t].trim();if("type:"===n.substring(0,5))return n.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n].trim();if("uniform."===r.substring(0,8)){var i=r.indexOf(":");if(i){var o=r.substring(8,i);try{t[o]=JSON.parse(r.substring(i+1))}catch(a){console.warn("Invalid uniform JSON: "+o)}}}}return t},extractBlock:function(e,t){for(var n=-1,r=-1,i=-1,o=!1,a=!1,s=[],u=[],l=t;l<e.length;l++){var c=e[l].trim();if("---"===c)if(-1===n)n=l,o=!0;else{if(!o){a=!1;break}r=l,o=!1,a=!0}else o?s.push(c):a&&(u.push(c),i=l)}return o||-1===r?null:{header:s,shader:u.join("\n"),offset:i}}});a.register("glsl",(function(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new c(this,e[i]));else this.addFile(new c(this,e,t,n,r));return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r){var i="html";if(u(t)){var a=t;t=s(a,"key"),n=s(a,"url"),r=s(a,"xhrSettings"),i=s(a,"extension",i)}var l={type:"text",cache:e.cacheManager.html,extension:i,responseType:"text",key:t,url:n,xhrSettings:r};o.call(this,e,l)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,n));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r,i,a){void 0===r&&(r=512),void 0===i&&(i=512);var l="html";if(u(t)){var c=t;t=s(c,"key"),n=s(c,"url"),a=s(c,"xhrSettings"),l=s(c,"extension",l),r=s(c,"width",r),i=s(c,"height",i)}var h={type:"html",cache:e.textureManager,extension:l,responseType:"text",key:t,url:n,xhrSettings:a,config:{width:r,height:i}};o.call(this,e,h)},onProcess:function(){this.state=i.FILE_PROCESSING;var e=this.config.width,t=this.config.height,n=[];n.push('<svg width="'+e+'px" height="'+t+'px" viewBox="0 0 '+e+" "+t+'" xmlns="http://www.w3.org/2000/svg">'),n.push('<foreignObject width="100%" height="100%">'),n.push('<body xmlns="http://www.w3.org/1999/xhtml">'),n.push(this.xhrLoader.responseText),n.push("</body>"),n.push("</foreignObject>"),n.push("</svg>");var r=[n.join("\n")],a=this;try{var s=new window.Blob(r,{type:"image/svg+xml;charset=utf-8"})}catch(u){return a.state=i.FILE_ERRORED,void a.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(a.data),a.onProcessError()},o.createObjectURL(this.data,s,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});a.register("htmlTexture",(function(e,t,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new l(this,e[o]));else this.addFile(new l(this,e,t,n,r,i));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(71),s=n(7),u=n(61),l=n(49),c=new r({Extends:l,initialize:function(e,t,n,r,i,a,c){if(s(t)){var h=t;t=o(h,"key"),n=o(h,"url",!1)?o(h,"url"):o(h,"atlasURL"),a=o(h,"xhrSettings"),r=o(h,"path"),i=o(h,"baseURL"),c=o(h,"textureXhrSettings")}var f=new u(e,t,n,a);l.call(this,e,"multiatlas",t,[f]),this.config.path=r,this.config.baseURL=i,this.config.textureXhrSettings=c},onFileComplete:function(e){if(-1!==this.files.indexOf(e)&&(this.pending--,"json"===e.type&&e.data.hasOwnProperty("textures"))){var t=e.data.textures,n=this.config,r=this.loader,i=r.baseURL,s=r.path,u=r.prefix,l=o(n,"baseURL",this.baseURL),c=o(n,"path",this.path),h=o(n,"prefix",this.prefix),f=o(n,"textureXhrSettings");r.setBaseURL(l),r.setPath(c),r.setPrefix(h);for(var d=0;d<t.length;d++){var p=t[d].image,v="MA"+this.multiKeyIndex+"_"+p,g=new a(r,v,p,f);if(this.addToMultiFile(g),r.addFile(g),t[d].normalMap){var m=new a(r,v,t[d].normalMap,f);m.type="normalMap",g.setLink(m),this.addToMultiFile(m),r.addFile(m)}}r.setBaseURL(i),r.setPath(s),r.setPrefix(u)}},addToCache:function(){if(this.isReadyToProcess()){for(var e=this.files[0],t=[],n=[],r=[],i=1;i<this.files.length;i++){var o=this.files[i];if("normalMap"!==o.type)for(var a=o.key.indexOf("_"),s=o.key.substr(a+1),u=o.data,l=0;l<e.data.textures.length;l++){var c=e.data.textures[l];if(c.image===s){n.push(u),t.push(c),o.linkFile&&r.push(o.linkFile.data);break}}}for(0===r.length&&(r=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,n,t,r),this.complete=!0,i=0;i<this.files.length;i++)this.files[i].pendingDestroy()}}});i.register("multiatlas",(function(e,t,n,r,i){var o;if(Array.isArray(e))for(var a=0;a<e.length;a++)o=new c(this,e[a]),this.addFile(o.files);else o=new c(this,e,t,n,r,i),this.addFile(o.files);return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(7),s=n(49),u=n(520),l=new r({Extends:s,initialize:function(e,t,n,r){var i="js",l=[];if(a(t)){var c=t;t=o(c,"key"),n=o(c,"url"),r=o(c,"xhrSettings"),i=o(c,"extension",i)}Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var f=new u(e,{key:t+"_"+h.toString(),url:n[h],extension:i,xhrSettings:r});f.onProcess=function(){this.onProcessComplete()},l.push(f)}s.call(this,e,"scripts",t,l)},addToCache:function(){if(this.isReadyToProcess()){for(var e=0;e<this.files.length;e++){var t=this.files[e];t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=t.xhrLoader.responseText,document.head.appendChild(t.data)}this.complete=!0}}});i.register("scripts",(function(e,t,n){var r;if(Array.isArray(e))for(var i=0;i<e.length;i++)r=new l(this,e[i]),this.addFile(r.files);else r=new l(this,e,t,n),this.addFile(r.files);return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(7),s=n(49),u=n(498),l=n(499),c=n(242),h=new r({Extends:s,initialize:function(e,t,n,r,i,u){var l,h,f=e.cacheManager.obj;if(a(t)){var d=t;t=o(d,"key"),l=new c(e,{key:t,type:"obj",cache:f,url:o(d,"url"),extension:o(d,"extension","obj"),xhrSettings:o(d,"xhrSettings"),config:{flipUV:o(d,"flipUV",i)}}),(r=o(d,"matURL"))&&(h=new c(e,{key:t,type:"mat",cache:f,url:r,extension:o(d,"matExtension","mat"),xhrSettings:o(d,"xhrSettings")}))}else l=new c(e,{key:t,url:n,type:"obj",cache:f,extension:"obj",xhrSettings:u,config:{flipUV:i}}),r&&(h=new c(e,{key:t,url:r,type:"mat",cache:f,extension:"mat",xhrSettings:u}));s.call(this,e,"obj",t,[l,h])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],n=u(e.data,e.config.flipUV);t&&(n.materials=l(t.data)),e.cache.add(e.key,n),this.complete=!0}}});i.register("obj",(function(e,t,n,r,i){var o;if(Array.isArray(e))for(var a=0;a<e.length;a++)o=new h(this,e[a]),this.addFile(o.files);else o=new h(this,e,t,n,r,i),this.addFile(o.files);return this})),e.exports=h},function(e,t,n){var r=n(0),i=n(21),o=n(8),a=n(61),s=new r({Extends:a,initialize:function(e,t,n,r,i){a.call(this,e,t,n,r,i),this.type="packfile"},onProcess:function(){this.state!==i.FILE_POPULATED&&(this.state=i.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",(function(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new s(this,e[i]));else this.addFile(new s(this,e,t,r,n));return this})),e.exports=s},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r,a,l){var c="js";if(u(t)){var h=t;t=s(h,"key"),n=s(h,"url"),l=s(h,"xhrSettings"),c=s(h,"extension",c),r=s(h,"start"),a=s(h,"mapping")}var f={type:"plugin",cache:!1,extension:c,responseType:"text",key:t,url:n,xhrSettings:l,config:{start:r,mapping:a}};o.call(this,e,f),"function"===typeof n&&(this.data=n,this.state=i.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,n=s(t,"start",!1),r=s(t,"mapping",null);if(this.state===i.FILE_POPULATED)e.install(this.key,this.data,n,r);else{this.state=i.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var o=e.install(this.key,window[this.key],n,r);(n||r)&&(this.loader.systems[r]=o,this.loader.scene[r]=o)}this.onProcessComplete()}});a.register("plugin",(function(e,t,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new l(this,e[o]));else this.addFile(new l(this,e,t,n,r,i));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r){var i="js";if(u(t)){var a=t;t=s(a,"key"),n=s(a,"url"),r=s(a,"xhrSettings"),i=s(a,"extension",i)}var l={type:"text",extension:i,responseType:"text",key:t,url:n,xhrSettings:r};o.call(this,e,l)},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),t=eval;this.loader.sceneManager.add(this.key,t(e)),this.complete=!0}});a.register("sceneFile",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new l(this,e[r]));else this.addFile(new l(this,e,t,n));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r,a,l){var c="js";if(u(t)){var h=t;t=s(h,"key"),n=s(h,"url"),l=s(h,"xhrSettings"),c=s(h,"extension",c),r=s(h,"systemKey"),a=s(h,"sceneKey")}var f={type:"scenePlugin",cache:!1,extension:c,responseType:"text",key:t,url:n,xhrSettings:l,config:{systemKey:r,sceneKey:a}};o.call(this,e,f),"function"===typeof n&&(this.data=n,this.state=i.FILE_POPULATED)},onProcess:function(){var e=this.loader.systems.plugins,t=this.config,n=this.key,r=s(t,"systemKey",n),o=s(t,"sceneKey",n);this.state===i.FILE_POPULATED?e.installScenePlugin(r,this.data,o,this.loader.scene,!0):(this.state=i.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),e.installScenePlugin(r,window[this.key],o,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",(function(e,t,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)this.addFile(new l(this,e[o]));else this.addFile(new l(this,e,t,n,r,i));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(8),o=n(71),a=new r({Extends:o,initialize:function(e,t,n,r,i){o.call(this,e,t,n,i,r),this.type="spritesheet"},addToCache:function(){var e=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(e)}});i.register("spritesheet",(function(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new a(this,e[i]));else this.addFile(new a(this,e,t,n,r));return this})),e.exports=a},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=new r({Extends:o,initialize:function(e,t,n,r,i){var a="svg";if(u(t)){var l=t;t=s(l,"key"),n=s(l,"url"),r=s(l,"svgConfig",{}),i=s(l,"xhrSettings"),a=s(l,"extension",a)}var c={type:"svg",cache:e.textureManager,extension:a,responseType:"text",key:t,url:n,xhrSettings:i,config:{width:s(r,"width"),height:s(r,"height"),scale:s(r,"scale")}};o.call(this,e,c)},onProcess:function(){this.state=i.FILE_PROCESSING;var e=this.xhrLoader.responseText,t=[e],n=this.config.width,r=this.config.height,a=this.config.scale;e:if(n&&r||a){var s=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("svg")[0],u=s.hasAttribute("viewBox"),l=parseFloat(s.getAttribute("width")),c=parseFloat(s.getAttribute("height"));if(!u&&l&&c)s.setAttribute("viewBox","0  0 "+l+" "+c);else if(u&&!l&&!c){var h=s.getAttribute("viewBox").split(/\s+|,/);l=h[2],c=h[3]}if(a){if(!l||!c)break e;n=l*a,r=c*a}s.setAttribute("width",n.toString()+"px"),s.setAttribute("height",r.toString()+"px"),t=[(new XMLSerializer).serializeToString(s)]}try{var f=new window.Blob(t,{type:"image/svg+xml;charset=utf-8"})}catch(v){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var d=this,p=!1;this.data.onload=function(){p||o.revokeObjectURL(d.data),d.onProcessComplete()},this.data.onerror=function(){p?d.onProcessError():(p=!0,o.revokeObjectURL(d.data),d.data.src="data:image/svg+xml,"+encodeURIComponent(t.join("")))},o.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){var e=this.cache.addImage(this.key,this.data);this.pendingDestroy(e)}});a.register("svg",(function(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addFile(new l(this,e[i]));else this.addFile(new l(this,e,t,n,r));return this})),e.exports=l},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(2),u=n(7),l=n(40),c=new r({Extends:o,initialize:function(e,t,n,r){var i="csv";if(u(t)){var a=t;t=s(a,"key"),n=s(a,"url"),r=s(a,"xhrSettings"),i=s(a,"extension",i)}var c={type:"tilemapCSV",cache:e.cacheManager.tilemap,extension:i,responseType:"text",key:t,url:n,xhrSettings:r};o.call(this,e,c),this.tilemapFormat=l.CSV},onProcess:function(){this.state=i.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var e={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});a.register("tilemapCSV",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new c(this,e[r]));else this.addFile(new c(this,e,t,n));return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(8),o=n(61),a=n(40),s=new r({Extends:o,initialize:function(e,t,n,r){o.call(this,e,t,n,r),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});i.register("tilemapImpact",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new s(this,e[r]));else this.addFile(new s(this,e,t,n));return this})),e.exports=s},function(e,t,n){var r=n(0),i=n(8),o=n(61),a=n(40),s=new r({Extends:o,initialize:function(e,t,n,r){o.call(this,e,t,n,r),this.type="tilemapJSON",this.cache=e.cacheManager.tilemap},addToCache:function(){var e={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,e),this.pendingDestroy(e)}});i.register("tilemapTiledJSON",(function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.addFile(new s(this,e[r]));else this.addFile(new s(this,e,t,n));return this})),e.exports=s},function(e,t,n){var r=n(0),i=n(8),o=n(2),a=n(71),s=n(7),u=n(49),l=n(242),c=new r({Extends:u,initialize:function(e,t,n,r,i,c){var h,f;if(s(t)){var d=t;t=o(d,"key"),h=new a(e,{key:t,url:o(d,"textureURL"),extension:o(d,"textureExtension","png"),normalMap:o(d,"normalMap"),xhrSettings:o(d,"textureXhrSettings")}),f=new l(e,{key:t,url:o(d,"atlasURL"),extension:o(d,"atlasExtension","txt"),xhrSettings:o(d,"atlasXhrSettings")})}else h=new a(e,t,n,i),f=new l(e,t,r,c);h.linkFile?u.call(this,e,"unityatlas",t,[h,f,h.linkFile]):u.call(this,e,"unityatlas",t,[h,f])},addToCache:function(){if(this.isReadyToProcess()){var e=this.files[0],t=this.files[1],n=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(e.key,e.data,t.data,n),t.pendingDestroy(),this.complete=!0}}});i.register("unityAtlas",(function(e,t,n,r,i){var o;if(Array.isArray(e))for(var a=0;a<e.length;a++)o=new c(this,e[a]),this.addFile(o.files);else o=new c(this,e,t,n,r,i),this.addFile(o.files);return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(21),o=n(23),a=n(8),s=n(155),u=n(2),l=n(7),c=new r({Extends:o,initialize:function(e,t,n,r,i,a,s){void 0===r&&(r="loadeddata"),void 0===i&&(i=!1),void 0===a&&(a=!1),"loadeddata"!==r&&"canplay"!==r&&"canplaythrough"!==r&&(r="loadeddata");var u={type:"video",cache:e.cacheManager.video,extension:n.type,responseType:"blob",key:t,url:n.url,xhrSettings:s,config:{loadEvent:r,asBlob:i,noAudio:a}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),o.call(this,e,u)},onProcess:function(){if(this.state=i.FILE_PROCESSING,this.config.asBlob){var e=this.createVideoElement();this.data=e;var t=this;this.data.onloadeddata=function(){t.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(t.data),t.onProcessError()},o.createObjectURL(e,this.xhrLoader.response,""),e.load()}else this.onProcessComplete()},createVideoElement:function(){var e=document.createElement("video");return e.controls=!1,e.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(e.muted=!0,e.defaultMuted=!0,e.setAttribute("autoplay","autoplay")),e.setAttribute("playsinline","playsinline"),e.setAttribute("preload","auto"),e},onVideoLoadHandler:function(e){var t=e.target;t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0),this.data=t,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(e){var t=e.target;t&&(t.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),t.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var e=this.config.loadEvent;if(this.config.asBlob)o.prototype.load.call(this);else{this.percentComplete=0;var t=this.createVideoElement();t.addEventListener(e,this.onLoadCallback,!0),t.addEventListener("error",this.onErrorCallback,!0),t.src=s(this,this.loader.baseURL),t.load()}}});c.create=function(e,t,n,r,i,o,a){var s=e.systems.game;l(t)&&(n=u(t,"url",[]),r=u(t,"loadEvent","loadeddata"),i=u(t,"asBlob",!1),o=u(t,"noAudio",!1),a=u(t,"xhrSettings"),t=u(t,"key"));var h=c.getVideoURL(s,n);if(h)return new c(e,t,h,r,i,o,a)},c.getVideoURL=function(e,t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var r,i=u(t[n],"url",t[n]);if(0===i.indexOf("blob:"))return{url:i,type:""};if(r=0===i.indexOf("data:")?i.split(",")[0].match(/\/(.*?);/):i.match(/\.([a-zA-Z0-9]+)($|\?)/),r=u(t[n],"type",r?r[1]:"").toLowerCase(),e.device.video[r])return{url:i,type:r}}return null},a.register("video",(function(e,t,n,r,i,o){var a;if(Array.isArray(e))for(var s=0;s<e.length;s++)(a=c.create(this,e[s]))&&this.addFile(a);else(a=c.create(this,e,t,n,r,i,o))&&this.addFile(a);return this})),e.exports=c},function(e,t,n){var r=n(0),i=n(21),o=n(149),a=n(9),s=n(95),u=n(8),l=n(2),c=n(24),h=n(20),f=n(156),d=new r({Extends:a,initialize:function(e){a.call(this);var t=e.sys.game.config,n=e.sys.settings.loader;this.scene=e,this.systems=e.sys,this.cacheManager=e.sys.cache,this.textureManager=e.sys.textures,this.sceneManager=e.sys.game.scene,u.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(l(n,"baseURL",t.loaderBaseURL)),this.setPath(l(n,"path",t.loaderPath)),this.setPrefix(l(n,"prefix",t.loaderPrefix)),this.maxParallelDownloads=l(n,"maxParallelDownloads",t.loaderMaxParallelDownloads),this.xhr=f(l(n,"responseType",t.loaderResponseType),l(n,"async",t.loaderAsync),l(n,"user",t.loaderUser),l(n,"password",t.loaderPassword),l(n,"timeout",t.loaderTimeout),l(n,"withCredentials",t.loaderWithCredentials)),this.crossOrigin=l(n,"crossOrigin",t.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=i.LOADER_IDLE,this.multiKeyIndex=0,e.sys.events.once(h.BOOT,this.boot,this),e.sys.events.on(h.START,this.pluginStart,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(h.SHUTDOWN,this.shutdown,this)},setBaseURL:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.baseURL=e,this},setPath:function(e){return void 0===e&&(e=""),""!==e&&"/"!==e.substr(-1)&&(e=e.concat("/")),this.path=e,this},setPrefix:function(e){return void 0===e&&(e=""),this.prefix=e,this},setCORS:function(e){return this.crossOrigin=e,this},addFile:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];this.keyExists(n)||(this.list.set(n),this.emit(s.ADD,n.key,n.type,this,n),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(e){var t=e.hasCacheConflict();return t||this.list.iterate((function(n){if(n.type===e.type&&n.key===e.key)return t=!0,!1})),!t&&this.isLoading()&&(this.inflight.iterate((function(n){if(n.type===e.type&&n.key===e.key)return t=!0,!1})),this.queue.iterate((function(n){if(n.type===e.type&&n.key===e.key)return t=!0,!1}))),t},addPack:function(e,t){t&&e.hasOwnProperty(t)&&(e={packKey:e[t]});var n=0,r=this.baseURL,i=this.path,o=this.prefix;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=e[a],u=l(s,"baseURL",r),c=l(s,"path",i),h=l(s,"prefix",o),f=l(s,"files",null),d=l(s,"defaultType","void");if(Array.isArray(f)){this.setBaseURL(u),this.setPath(c),this.setPrefix(h);for(var p=0;p<f.length;p++){var v=f[p],g=v.hasOwnProperty("type")?v.type:d;this[g]&&(this[g](v),n++)}}}return this.setBaseURL(r),this.setPath(i),this.setPrefix(o),n>0},isLoading:function(){return this.state===i.LOADER_LOADING||this.state===i.LOADER_PROCESSING},isReady:function(){return this.state===i.LOADER_IDLE||this.state===i.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),0===this.list.size?this.loadComplete():(this.state=i.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(h.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===i.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each((function(e){if((e.state===i.FILE_POPULATED||e.state===i.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(e),this.list.delete(e),e.crossOrigin||(e.crossOrigin=this.crossOrigin),e.load()),this.inflight.size===this.maxParallelDownloads)return!1}),this)},nextFile:function(e,t){this.inflight&&(this.inflight.delete(e),this.updateProgress(),t?(this.totalComplete++,this.queue.set(e),this.emit(s.FILE_LOAD,e),e.onProcess()):(this.totalFailed++,this._deleteQueue.set(e),this.emit(s.FILE_LOAD_ERROR,e),this.fileProcessComplete(e)))},fileProcessComplete:function(e){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(e.state===i.FILE_ERRORED?e.multiFile&&e.multiFile.onFileFailed(e):e.state===i.FILE_COMPLETE&&(e.multiFile?e.multiFile.isReadyToProcess()&&e.multiFile.addToCache():e.addToCache()),this.queue.delete(e),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=i.LOADER_COMPLETE,this.systems.events.off(h.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(e){this._deleteQueue.set(e)},saveJSON:function(e,t){return this.save(JSON.stringify(e),t)},save:function(e,t,n){void 0===t&&(t="file.json"),void 0===n&&(n="application/json");var r=new Blob([e],{type:n}),i=URL.createObjectURL(r),o=document.createElement("a");return o.download=t,o.textContent="Download "+t,o.href=i,o.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var e=this.systems.game.config,t=this.systems.settings.loader;this.setBaseURL(l(t,"baseURL",e.loaderBaseURL)),this.setPath(l(t,"path",e.loaderPath)),this.setPrefix(l(t,"prefix",e.loaderPrefix)),this.state=i.LOADER_IDLE},shutdown:function(){this.reset(),this.state=i.LOADER_SHUTDOWN,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=i.LOADER_DESTROYED,this.systems.events.off(h.UPDATE,this.update,this),this.systems.events.off(h.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});c.register("Loader",d,"load"),e.exports=d},function(e,t,n){var r=n(62),i=n(17),o={ArcadePhysics:n(1367),Body:n(527),Collider:n(528),Components:n(243),Events:n(245),Factory:n(521),GetOverlapX:n(246),GetOverlapY:n(247),SeparateX:n(537),SeparateY:n(538),Group:n(524),Image:n(522),Sprite:n(157),StaticBody:n(539),StaticGroup:n(525),Tilemap:n(1391),World:n(526)};o=i(!1,o,r),e.exports=o},function(e,t,n){var r=n(0),i=n(36),o=n(50),a=n(353),s=n(521),u=n(2),l=n(127),c=n(523),h=n(244),f=n(24),d=n(20),p=n(3),v=n(526),g=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,e.sys.events.once(d.BOOT,this.boot,this),e.sys.events.on(d.START,this.start,this)},boot:function(){this.world=new v(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new v(this.scene,this.config),this.add=new s(this.world));var e=this.systems.events;u(this.config,"customUpdate",!1)||e.on(d.UPDATE,this.world.update,this.world),e.on(d.POST_UPDATE,this.world.postUpdate,this.world),e.once(d.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(d.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(d.UPDATE,this.world.update,this.world)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics;return l(u(t,"arcade",{}),u(e,"arcade",{}))},overlap:function(e,t,n,r,i){return void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=n),this.world.collideObjects(e,t,n,r,i,!0)},collide:function(e,t,n,r,i){return void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=n),this.world.collideObjects(e,t,n,r,i,!1)},collideTiles:function(e,t,n,r,i){return this.world.collideTiles(e,t,n,r,i)},overlapTiles:function(e,t,n,r,i){return this.world.overlapTiles(e,t,n,r,i)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(e,t,n,r,i,o){void 0===r&&(r=60);var a=Math.atan2(n-e.y,t-e.x);return e.body.acceleration.setToPolar(a,r),void 0!==i&&void 0!==o&&e.body.maxVelocity.set(i,o),a},accelerateToObject:function(e,t,n,r,i){return this.accelerateTo(e,t.x,t.y,n,r,i)},closest:function(e,t){t||(t=this.world.bodies.entries);for(var n=Number.MAX_VALUE,r=null,i=e.x,o=e.y,s=t.length,u=0;u<s;u++){var l=t[u],c=l.body||l;if(e!==l&&e!==c&&e!==c.gameObject&&e!==c.center){var h=a(i,o,c.center.x,c.center.y);h<n&&(r=l,n=h)}}return r},furthest:function(e,t){t||(t=this.world.bodies.entries);for(var n=-1,r=null,i=e.x,o=e.y,s=t.length,u=0;u<s;u++){var l=t[u],c=l.body||l;if(e!==l&&e!==c&&e!==c.gameObject&&e!==c.center){var h=a(i,o,c.center.x,c.center.y);h>n&&(r=l,n=h)}}return r},moveTo:function(e,t,n,r,i){void 0===r&&(r=60),void 0===i&&(i=0);var a=Math.atan2(n-e.y,t-e.x);return i>0&&(r=o(e.x,e.y,t,n)/(i/1e3)),e.body.velocity.setToPolar(a,r),a},moveToObject:function(e,t,n,r){return this.moveTo(e,t.x,t.y,n,r)},velocityFromAngle:function(e,t,n){return void 0===t&&(t=60),void 0===n&&(n=new p),n.setToPolar(i(e),t)},velocityFromRotation:function(e,t,n){return void 0===t&&(t=60),void 0===n&&(n=new p),n.setToPolar(e,t)},overlapRect:function(e,t,n,r,i,o){return h(this.world,e,t,n,r,i,o)},overlapCirc:function(e,t,n,r,i){return c(this.world,e,t,n,r,i)},shutdown:function(){if(this.world){var e=this.systems.events;e.off(d.UPDATE,this.world.update,this.world),e.off(d.POST_UPDATE,this.world.postUpdate,this.world),e.off(d.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});f.register("ArcadePhysics",g,"arcadePhysics"),e.exports=g},function(e,t){e.exports={setAcceleration:function(e,t){return this.body.acceleration.set(e,t),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}}},function(e,t){e.exports={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}}},function(e,t){e.exports={setBounce:function(e,t){return this.body.bounce.set(e,t),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,t,n){return this.body.setCollideWorldBounds(e,t,n),this}}},function(e,t){e.exports={setDebug:function(e,t,n){return this.debugShowBody=e,this.debugShowVelocity=t,this.debugBodyColor=n,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}}},function(e,t){e.exports={setDrag:function(e,t){return this.body.drag.set(e,t),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}}},function(e,t){var n={enableBody:function(e,t,n,r,i){return e&&this.body.reset(t,n),r&&(this.body.gameObject.active=!0),i&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),t&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};e.exports=n},function(e,t){e.exports={setFriction:function(e,t){return this.body.friction.set(e,t),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}}},function(e,t){e.exports={setGravity:function(e,t){return this.body.gravity.set(e,t),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}}},function(e,t){var n={setImmovable:function(e){return void 0===e&&(e=!0),this.body.immovable=e,this}};e.exports=n},function(e,t){e.exports={setMass:function(e){return this.body.mass=e,this}}},function(e,t){var n={setPushable:function(e){return void 0===e&&(e=!0),this.body.pushable=e,this}};e.exports=n},function(e,t){e.exports={setOffset:function(e,t){return this.body.setOffset(e,t),this},setSize:function(e,t,n){return this.body.setSize(e,t,n),this},setBodySize:function(e,t,n){return this.body.setSize(e,t,n),this},setCircle:function(e,t,n){return this.body.setCircle(e,t,n),this}}},function(e,t){e.exports={setVelocity:function(e,t){return this.body.setVelocity(e,t),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,t){return this.body.maxVelocity.set(e,t),this}}},function(e,t){e.exports="collide"},function(e,t){e.exports="overlap"},function(e,t){e.exports="pause"},function(e,t){e.exports="resume"},function(e,t){e.exports="tilecollide"},function(e,t){e.exports="tileoverlap"},function(e,t){e.exports="worldbounds"},function(e,t){e.exports="worldstep"},function(e,t){var n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,x=function(){return h&&g&&r.blocked.right?(n.processX(-y,u,!1,!0),1):c&&m&&r.blocked.left?(n.processX(y,u,!0),1):p&&m&&n.blocked.right?(r.processX(-y,l,!1,!0),2):d&&g&&n.blocked.left?(r.processX(y,l,!0),2):0},b=function(e){if(i&&o)y*=.5,0===e||3===e?(n.processX(y,a),r.processX(-y,s)):(n.processX(-y,a),r.processX(y,s));else if(i&&!o)0===e||3===e?n.processX(y,u,!0):n.processX(-y,u,!1,!0);else if(!i&&o)0===e||3===e?r.processX(-y,l,!1,!0):r.processX(y,l,!0);else{var t=.5*y;0===e?v?(n.processX(y,0,!0),r.processX(0,null,!1,!0)):p?(n.processX(t,0,!0),r.processX(-t,0,!1,!0)):(n.processX(t,r.velocity.x,!0),r.processX(-t,null,!1,!0)):1===e?f?(n.processX(0,null,!1,!0),r.processX(y,0,!0)):h?(n.processX(-t,0,!1,!0),r.processX(t,0,!0)):(n.processX(-t,null,!1,!0),r.processX(t,n.velocity.x,!0)):2===e?v?(n.processX(-y,0,!1,!0),r.processX(0,null,!0)):d?(n.processX(-t,0,!1,!0),r.processX(t,0,!0)):(n.processX(-t,r.velocity.x,!1,!0),r.processX(t,null,!0)):3===e&&(f?(n.processX(0,null,!0),r.processX(-y,0,!1,!0)):c?(n.processX(t,0,!0),r.processX(-t,0,!1,!0)):(n.processX(t,r.velocity.y,!0),r.processX(-t,null,!1,!0)))}return!0};e.exports={BlockCheck:x,Check:function(){var e=n.velocity.x,t=r.velocity.x,i=Math.sqrt(t*t*r.mass/n.mass)*(t>0?1:-1),o=Math.sqrt(e*e*n.mass/r.mass)*(e>0?1:-1),u=.5*(i+o);return o-=u,a=u+(i-=u)*n.bounce.x,s=u+o*r.bounce.x,c&&m?b(0):d&&g?b(1):h&&g?b(2):!(!p||!m)&&b(3)},Set:function(e,t,a){r=t;var s=(n=e).velocity.x,b=r.velocity.x;return i=n.pushable,c=n._dx<0,h=n._dx>0,f=0===n._dx,g=Math.abs(n.right-r.x)<=Math.abs(r.right-n.x),u=b-s*n.bounce.x,o=r.pushable,d=r._dx<0,p=r._dx>0,v=0===r._dx,m=!g,l=s-b*r.bounce.x,y=Math.abs(a),x()},Run:b,RunImmovableBody1:function(e){1===e?r.velocity.x=0:g?r.processX(y,l,!0):r.processX(-y,l,!1,!0),n.moves&&(r.y+=(n.y-n.prev.y)*n.friction.y,r._dy=r.y-r.prev.y)},RunImmovableBody2:function(e){2===e?n.velocity.x=0:m?n.processX(y,u,!0):n.processX(-y,u,!1,!0),r.moves&&(n.y+=(r.y-r.prev.y)*r.friction.y,n._dy=n.y-n.prev.y)}}},function(e,t){var n,r,i,o,a,s,u,l,c,h,f,d,p,v,g,m,y,x=function(){return h&&g&&r.blocked.down?(n.processY(-y,u,!1,!0),1):c&&m&&r.blocked.up?(n.processY(y,u,!0),1):p&&m&&n.blocked.down?(r.processY(-y,l,!1,!0),2):d&&g&&n.blocked.up?(r.processY(y,l,!0),2):0},b=function(e){if(i&&o)y*=.5,0===e||3===e?(n.processY(y,a),r.processY(-y,s)):(n.processY(-y,a),r.processY(y,s));else if(i&&!o)0===e||3===e?n.processY(y,u,!0):n.processY(-y,u,!1,!0);else if(!i&&o)0===e||3===e?r.processY(-y,l,!1,!0):r.processY(y,l,!0);else{var t=.5*y;0===e?v?(n.processY(y,0,!0),r.processY(0,null,!1,!0)):p?(n.processY(t,0,!0),r.processY(-t,0,!1,!0)):(n.processY(t,r.velocity.y,!0),r.processY(-t,null,!1,!0)):1===e?f?(n.processY(0,null,!1,!0),r.processY(y,0,!0)):h?(n.processY(-t,0,!1,!0),r.processY(t,0,!0)):(n.processY(-t,null,!1,!0),r.processY(t,n.velocity.y,!0)):2===e?v?(n.processY(-y,0,!1,!0),r.processY(0,null,!0)):d?(n.processY(-t,0,!1,!0),r.processY(t,0,!0)):(n.processY(-t,r.velocity.y,!1,!0),r.processY(t,null,!0)):3===e&&(f?(n.processY(0,null,!0),r.processY(-y,0,!1,!0)):c?(n.processY(t,0,!0),r.processY(-t,0,!1,!0)):(n.processY(t,r.velocity.y,!0),r.processY(-t,null,!1,!0)))}return!0};e.exports={BlockCheck:x,Check:function(){var e=n.velocity.y,t=r.velocity.y,i=Math.sqrt(t*t*r.mass/n.mass)*(t>0?1:-1),o=Math.sqrt(e*e*n.mass/r.mass)*(e>0?1:-1),u=.5*(i+o);return o-=u,a=u+(i-=u)*n.bounce.y,s=u+o*r.bounce.y,c&&m?b(0):d&&g?b(1):h&&g?b(2):!(!p||!m)&&b(3)},Set:function(e,t,a){r=t;var s=(n=e).velocity.y,b=r.velocity.y;return i=n.pushable,c=n._dy<0,h=n._dy>0,f=0===n._dy,g=Math.abs(n.bottom-r.y)<=Math.abs(r.bottom-n.y),u=b-s*n.bounce.y,o=r.pushable,d=r._dy<0,p=r._dy>0,v=0===r._dy,m=!g,l=s-b*r.bounce.y,y=Math.abs(a),x()},Run:b,RunImmovableBody1:function(e){1===e?r.velocity.y=0:g?r.processY(y,l,!0):r.processY(-y,l,!1,!0),n.moves&&(r.x+=(n.x-n.prev.x)*n.friction.x,r._dx=r.x-r.prev.x)},RunImmovableBody2:function(e){2===e?n.velocity.y=0:m?n.processY(y,u,!0):n.processY(-y,u,!1,!0),r.moves&&(n.x+=(r.x-r.prev.x)*r.friction.x,n._dx=n.x-n.prev.x)}}},function(e,t,n){var r={ProcessTileCallbacks:n(530),ProcessTileSeparationX:n(534),ProcessTileSeparationY:n(536),SeparateTile:n(532),TileCheckX:n(533),TileCheckY:n(535),TileIntersectsBody:n(248)};e.exports=r},function(e,t,n){var r=n(0),i=n(3),o=new r({initialize:function(){this.boundsCenter=new i,this.centerDiff=new i},parseBody:function(e){if(!(e=e.hasOwnProperty("body")?e.body:e).hasOwnProperty("bounds")||!e.hasOwnProperty("centerOfMass"))return!1;var t=this.boundsCenter,n=this.centerDiff,r=e.bounds.max.x-e.bounds.min.x,i=e.bounds.max.y-e.bounds.min.y,o=r*e.centerOfMass.x,a=i*e.centerOfMass.y;return t.set(r/2,i/2),n.set(o-t.x,a-t.y),!0},getTopLeft:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t+r.x+o.x,n+r.y+o.y)}return!1},getTopCenter:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t+o.x,n+r.y+o.y)}return!1},getTopRight:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t-(r.x-o.x),n+r.y+o.y)}return!1},getLeftCenter:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t+r.x+o.x,n+o.y)}return!1},getCenter:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.centerDiff;return new i(t+r.x,n+r.y)}return!1},getRightCenter:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t-(r.x-o.x),n+o.y)}return!1},getBottomLeft:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t+r.x+o.x,n-(r.y-o.y))}return!1},getBottomCenter:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t+o.x,n-(r.y-o.y))}return!1},getBottomRight:function(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.parseBody(e)){var r=this.boundsCenter,o=this.centerDiff;return new i(t-(r.x-o.x),n-(r.y-o.y))}return!1}});e.exports=o},function(e,t){function n(e,t,n){n=n||0;var r,i,o,a,s,u,l,c=[0,0];return r=e[1][1]-e[0][1],i=e[0][0]-e[1][0],o=r*e[0][0]+i*e[0][1],a=t[1][1]-t[0][1],s=t[0][0]-t[1][0],u=a*t[0][0]+s*t[0][1],_(l=r*s-a*i,0,n)||(c[0]=(s*o-i*u)/l,c[1]=(r*u-a*o)/l),c}function r(e,t,n,r){var i=t[0]-e[0],o=t[1]-e[1],a=r[0]-n[0],s=r[1]-n[1];if(a*o-s*i===0)return!1;var u=(i*(n[1]-e[1])+o*(e[0]-n[0]))/(a*o-s*i),l=(a*(e[1]-n[1])+s*(n[0]-e[0]))/(s*i-a*o);return u>=0&&u<=1&&l>=0&&l<=1}function i(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function o(e,t,n){return i(e,t,n)>0}function a(e,t,n){return i(e,t,n)>=0}function s(e,t,n){return i(e,t,n)<0}function u(e,t,n){return i(e,t,n)<=0}e.exports={decomp:function(e){var t=w(e);return t.length>0?k(e,t):[e]},quickDecomp:function e(t,n,r,i,l,c,h){c=c||100,h=h||0,l=l||25,n="undefined"!==typeof n?n:[],r=r||[],i=i||[];var g=[0,0],m=[0,0],y=[0,0],b=0,w=0,k=0,_=0,T=0,A=0,S=0,C=[],I=[],P=t,O=t;if(O.length<3)return n;if(++h>c)return console.warn("quickDecomp: max level ("+c+") reached."),n;for(var R=0;R<t.length;++R)if(v(P,R)){r.push(P[R]),b=w=Number.MAX_VALUE;for(var M=0;M<t.length;++M)o(d(P,R-1),d(P,R),d(P,M))&&u(d(P,R-1),d(P,R),d(P,M-1))&&(y=E(d(P,R-1),d(P,R),d(P,M),d(P,M-1)),s(d(P,R+1),d(P,R),y)&&(k=f(P[R],y))<w&&(w=k,m=y,A=M)),o(d(P,R+1),d(P,R),d(P,M+1))&&u(d(P,R+1),d(P,R),d(P,M))&&(y=E(d(P,R+1),d(P,R),d(P,M),d(P,M+1)),o(d(P,R-1),d(P,R),y)&&(k=f(P[R],y))<b&&(b=k,g=y,T=M));if(A===(T+1)%t.length)y[0]=(m[0]+g[0])/2,y[1]=(m[1]+g[1])/2,i.push(y),R<T?(p(C,P,R,T+1),C.push(y),I.push(y),0!==A&&p(I,P,A,P.length),p(I,P,0,R+1)):(0!==R&&p(C,P,R,P.length),p(C,P,0,T+1),C.push(y),I.push(y),p(I,P,A,R+1));else{if(A>T&&(T+=t.length),_=Number.MAX_VALUE,T<A)return n;for(M=A;M<=T;++M)a(d(P,R-1),d(P,R),d(P,M))&&u(d(P,R+1),d(P,R),d(P,M))&&(k=f(d(P,R),d(P,M)))<_&&x(P,R,M)&&(_=k,S=M%t.length);R<S?(p(C,P,R,S+1),0!==S&&p(I,P,S,O.length),p(I,P,0,R+1)):(0!==R&&p(C,P,R,O.length),p(C,P,0,S+1),p(I,P,S,R+1))}return C.length<I.length?(e(C,n,r,i,l,c,h),e(I,n,r,i,l,c,h)):(e(I,n,r,i,l,c,h),e(C,n,r,i,l,c,h)),n}return n.push(t),n},isSimple:function(e){var t,n=e;for(t=0;t<n.length-1;t++)for(var i=0;i<t-1;i++)if(r(n[t],n[t+1],n[i],n[i+1]))return!1;for(t=1;t<n.length-2;t++)if(r(n[0],n[n.length-1],n[t],n[t+1]))return!1;return!0},removeCollinearPoints:function(e,t){for(var n=0,r=e.length-1;e.length>3&&r>=0;--r)h(d(e,r-1),d(e,r),d(e,r+1),t)&&(e.splice(r%e.length,1),n++);return n},removeDuplicatePoints:function(e,t){for(var n=e.length-1;n>=1;--n)for(var r=e[n],i=n-1;i>=0;--i)T(r,e[i],t)&&e.splice(n,1)},makeCCW:function(e){for(var t=0,n=e,r=1;r<e.length;++r)(n[r][1]<n[t][1]||n[r][1]===n[t][1]&&n[r][0]>n[t][0])&&(t=r);return!o(d(e,t-1),d(e,t),d(e,t+1))&&(function(e){for(var t=[],n=e.length,r=0;r!==n;r++)t.push(e.pop());for(r=0;r!==n;r++)e[r]=t[r]}(e),!0)}};var l=[],c=[];function h(e,t,n,r){if(r){var o=l,a=c;o[0]=t[0]-e[0],o[1]=t[1]-e[1],a[0]=n[0]-t[0],a[1]=n[1]-t[1];var s=o[0]*a[0]+o[1]*a[1],u=Math.sqrt(o[0]*o[0]+o[1]*o[1]),h=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return Math.acos(s/(u*h))<r}return 0===i(e,t,n)}function f(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function d(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function p(e,t,n,r){for(var i=n;i<r;i++)e.push(t[i])}function v(e,t){return s(d(e,t-1),d(e,t),d(e,t+1))}var g=[],m=[];function y(e,t,r){var i,o,s=g,l=m;if(a(d(e,t+1),d(e,t),d(e,r))&&u(d(e,t-1),d(e,t),d(e,r)))return!1;o=f(d(e,t),d(e,r));for(var c=0;c!==e.length;++c)if((c+1)%e.length!==t&&c!==t&&a(d(e,t),d(e,r),d(e,c+1))&&u(d(e,t),d(e,r),d(e,c))&&(s[0]=d(e,t),s[1]=d(e,r),l[0]=d(e,c),l[1]=d(e,c+1),i=n(s,l),f(d(e,t),i)<o))return!1;return!0}function x(e,t,n){for(var i=0;i!==e.length;++i)if(i!==t&&i!==n&&(i+1)%e.length!==t&&(i+1)%e.length!==n&&r(d(e,t),d(e,n),d(e,i),d(e,i+1)))return!1;return!0}function b(e,t,n,r){var i=r||[];if(function(e){e.length=0}(i),t<n)for(var o=t;o<=n;o++)i.push(e[o]);else{for(o=0;o<=n;o++)i.push(e[o]);for(o=t;o<e.length;o++)i.push(e[o])}return i}function w(e){for(var t=[],n=[],r=[],i=[],o=Number.MAX_VALUE,a=0;a<e.length;++a)if(v(e,a))for(var s=0;s<e.length;++s)if(y(e,a,s)){n=w(b(e,a,s,i)),r=w(b(e,s,a,i));for(var u=0;u<r.length;u++)n.push(r[u]);n.length<o&&(t=n,o=n.length,t.push([d(e,a),d(e,s)]))}return t}function k(e,t){if(0===t.length)return[e];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2===t[0].length&&t[0][0]instanceof Array){for(var n=[e],r=0;r<t.length;r++)for(var i=t[r],o=0;o<n.length;o++){var a=k(n[o],i);if(a){n.splice(o,1),n.push(a[0],a[1]);break}}return n}return i=t,r=e.indexOf(i[0]),o=e.indexOf(i[1]),-1!==r&&-1!==o&&[b(e,r,o),b(e,o,r)]}function E(e,t,n,r,i){i=i||0;var o=t[1]-e[1],a=e[0]-t[0],s=o*e[0]+a*e[1],u=r[1]-n[1],l=n[0]-r[0],c=u*n[0]+l*n[1],h=o*l-u*a;return _(h,0,i)?[0,0]:[(l*s-a*c)/h,(o*c-u*s)/h]}function _(e,t,n){return n=n||0,Math.abs(e-t)<=n}function T(e,t,n){return _(e[0],t[0],n)&&_(e[1],t[1],n)}},function(e,t,n){var r=n(86),i=n(0),o=n(591),a=n(128),s=n(592),u=n(1395),l=n(1396),c=n(1397),h=n(593),f=n(589),d=n(590),p=n(1398),v=n(64),g=new i({initialize:function(e){this.world=e,this.scene=e.scene,this.sys=e.scene.sys},rectangle:function(e,t,n,i,o){var a=r.rectangle(e,t,n,i,o);return this.world.add(a),a},trapezoid:function(e,t,n,i,o,a){var s=r.trapezoid(e,t,n,i,o,a);return this.world.add(s),s},circle:function(e,t,n,i,o){var a=r.circle(e,t,n,i,o);return this.world.add(a),a},polygon:function(e,t,n,i,o){var a=r.polygon(e,t,n,i,o);return this.world.add(a),a},fromVertices:function(e,t,n,i,o,a,s){"string"===typeof n&&(n=v.fromPath(n));var u=r.fromVertices(e,t,n,i,o,a,s);return this.world.add(u),u},fromPhysicsEditor:function(e,t,n,r,i){void 0===i&&(i=!0);var o=f.parseBody(e,t,n,r);return i&&!this.world.has(o)&&this.world.add(o),o},fromSVG:function(e,t,n,i,o,a){void 0===i&&(i=1),void 0===o&&(o={}),void 0===a&&(a=!0);for(var u=n.getElementsByTagName("path"),l=[],c=0;c<u.length;c++){var h=s.pathToVertices(u[c],30);1!==i&&v.scale(h,i,i),l.push(h)}var f=r.fromVertices(e,t,l,o);return a&&this.world.add(f),f},fromJSON:function(e,t,n,r,i){void 0===r&&(r={}),void 0===i&&(i=!0);var o=d.parseBody(e,t,n,r);return o&&i&&this.world.add(o),o},imageStack:function(e,t,n,r,i,a,s,u,c){void 0===s&&(s=0),void 0===u&&(u=0),void 0===c&&(c={});var h=this.world,f=this.sys.displayList;c.addToWorld=!1;var d=o.stack(n,r,i,a,s,u,(function(n,r){var i=new l(h,n,r,e,t,c);return f.add(i),i.body}));return h.add(d),d},stack:function(e,t,n,r,i,a,s){var u=o.stack(e,t,n,r,i,a,s);return this.world.add(u),u},pyramid:function(e,t,n,r,i,a,s){var u=o.pyramid(e,t,n,r,i,a,s);return this.world.add(u),u},chain:function(e,t,n,r,i,a){return o.chain(e,t,n,r,i,a)},mesh:function(e,t,n,r,i){return o.mesh(e,t,n,r,i)},newtonsCradle:function(e,t,n,r,i){var a=o.newtonsCradle(e,t,n,r,i);return this.world.add(a),a},car:function(e,t,n,r,i){var a=o.car(e,t,n,r,i);return this.world.add(a),a},softBody:function(e,t,n,r,i,a,s,u,l,c){var h=o.softBody(e,t,n,r,i,a,s,u,l,c);return this.world.add(h),h},joint:function(e,t,n,r,i){return this.constraint(e,t,n,r,i)},spring:function(e,t,n,r,i){return this.constraint(e,t,n,r,i)},constraint:function(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i={}),i.bodyA="body"===e.type?e:e.body,i.bodyB="body"===t.type?t:t.body,isNaN(n)||(i.length=n),i.stiffness=r;var o=a.create(i);return this.world.add(o),o},worldConstraint:function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r={}),r.bodyB="body"===e.type?e:e.body,isNaN(t)||(r.length=t),r.stiffness=n;var i=a.create(r);return this.world.add(i),i},mouseSpring:function(e){return this.pointerConstraint(e)},pointerConstraint:function(e){void 0===e&&(e={}),e.hasOwnProperty("render")||(e.render={visible:!1});var t=new p(this.scene,this.world,e);return this.world.add(t.constraint),t},image:function(e,t,n,r,i){var o=new l(this.world,e,t,n,r,i);return this.sys.displayList.add(o),o},tileBody:function(e,t){return new h(this.world,e,t)},sprite:function(e,t,n,r,i){var o=new c(this.world,e,t,n,r,i);return this.sys.displayList.add(o),this.sys.updateList.add(o),o},gameObject:function(e,t,n){return u(this.world,e,t,n)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});e.exports=g},function(e,t,n){var r=n(249),i=n(2),o=n(3);e.exports=function(e,t,n,a){void 0===n&&(n={}),void 0===a&&(a=!0);var s=t.x,u=t.y;if(t.body={temp:!0,position:{x:s,y:u}},[r.Bounce,r.Collision,r.Force,r.Friction,r.Gravity,r.Mass,r.Sensor,r.SetBody,r.Sleep,r.Static,r.Transform,r.Velocity].forEach((function(e){for(var n in e)(r=e[n]).get&&"function"===typeof r.get||r.set&&"function"===typeof r.set?Object.defineProperty(t,n,{get:e[n].get,set:e[n].set}):Object.defineProperty(t,n,{value:e[n]});var r})),t.world=e,t._tempVec2=new o(s,u),n.hasOwnProperty("type")&&"body"===n.type)t.setExistingBody(n,a);else{var l=i(n,"shape",null);l||(l="rectangle"),n.addToWorld=a,t.setBody(l,n)}return t}},function(e,t,n){var r=n(0),i=n(249),o=n(15),a=n(2),s=n(125),u=n(167),l=n(3),c=new r({Extends:s,Mixins:[i.Bounce,i.Collision,i.Force,i.Friction,i.Gravity,i.Mass,i.Sensor,i.SetBody,i.Sleep,i.Static,i.Transform,i.Velocity,u],initialize:function(e,t,n,r,i,s){o.call(this,e.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(r,i),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new l(t,n);var u=a(s,"shape",null);u?this.setBody(u,s):this.setRectangle(this.width,this.height,s),this.setPosition(t,n),this.initPipeline()}});e.exports=c},function(e,t,n){var r=n(164),i=n(0),o=n(249),a=n(15),s=n(2),u=n(167),l=n(73),c=n(3),h=new i({Extends:l,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,u],initialize:function(e,t,n,i,o,u){a.call(this,e.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new r(this),this.setTexture(i,o),this.setSizeToFrame(),this.setOrigin(),this.world=e,this._tempVec2=new c(t,n);var l=s(u,"shape",null);l?this.setBody(l,u):this.setRectangle(this.width,this.height,u),this.setPosition(t,n),this.initPipeline()}});e.exports=h},function(e,t,n){var r=n(84),i=n(0),o=n(118),a=n(128),s=n(273),u=n(272),l=n(51),c=n(127),h=n(165),f=n(3),d=n(64),p=new i({initialize:function(e,t,n){void 0===n&&(n={}),this.scene=e,this.world=t,this.camera=null,this.pointer=null,this.active=!0,this.position=new f,this.body=null,this.part=null,this.constraint=a.create(c(n,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(u.BEFORE_UPDATE,this.update,this),e.sys.input.on(l.POINTER_DOWN,this.onDown,this),e.sys.input.on(l.POINTER_UP,this.onUp,this)},onDown:function(e){this.pointer||(this.pointer=e,this.camera=e.camera)},onUp:function(e){e===this.pointer&&(this.pointer=null)},getBody:function(e){var t=this.position,n=this.constraint;this.camera.getWorldPoint(e.x,e.y,t);for(var i=o.allBodies(this.world.localWorld),a=0;a<i.length;a++){var l=i[a];if(!l.ignorePointer&&r.contains(l.bounds,t)&&s.canCollide(l.collisionFilter,n.collisionFilter)&&this.hitTestBody(l,t))return this.world.emit(u.DRAG_START,l,this.part,this),!0}return!1},hitTestBody:function(e,t){for(var n=this.constraint,r=e.parts.length,i=r>1?1:0;i<r;i++){var o=e.parts[i];if(d.contains(o.vertices,t))return n.pointA=t,n.pointB={x:t.x-e.position.x,y:t.y-e.position.y},n.bodyB=e,n.angleB=e.angle,h.set(e,!1),this.part=o,this.body=e,!0}return!1},update:function(){var e=this.pointer,t=this.body;if(this.active&&e)if(e.isDown||!t){if(e.isDown){if(!t&&!this.getBody(e))return;t=this.body;var n=this.position,r=this.constraint;this.camera.getWorldPoint(e.x,e.y,n),r.pointA.x=n.x,r.pointA.y=n.y,h.set(t,!1),this.world.emit(u.DRAG,t,this)}}else this.stopDrag();else t&&this.stopDrag()},stopDrag:function(){var e=this.body,t=this.constraint;t.bodyB=null,t.pointB=null,this.pointer=null,this.body=null,this.part=null,e&&this.world.emit(u.DRAG_END,e,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(u.BEFORE_UPDATE,this.update),this.scene.sys.input.off(l.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(l.POINTER_UP,this.onUp,this)}});e.exports=p},function(e,t,n){var r={};e.exports=r;var i=n(595),o=n(32);r.name="matter-js",r.version="0.14.2",r.uses=[],r.used=[],r.use=function(){i.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(r,e,t)}},function(e,t,n){var r={};e.exports=r;var i=n(83),o=n(274),a=n(84),s=n(86),u=n(64);r.collides=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(e!==i&&a.overlaps(i.bounds,e.bounds))for(var s=1===i.parts.length?0:1;s<i.parts.length;s++){var u=i.parts[s];if(a.overlaps(u.bounds,e.bounds)){var l=o.collides(u,e);if(l.collided){n.push(l);break}}}}return n},r.ray=function(e,t,n,o){o=o||1e-100;for(var a=i.angle(t,n),u=i.magnitude(i.sub(t,n)),l=.5*(n.x+t.x),c=.5*(n.y+t.y),h=s.rectangle(l,c,u,o,{angle:a}),f=r.collides(h,e),d=0;d<f.length;d+=1){var p=f[d];p.body=p.bodyB=p.bodyA}return f},r.region=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i],s=a.overlaps(o.bounds,t);(s&&!n||!s&&n)&&r.push(o)}return r},r.point=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];if(a.contains(i.bounds,t))for(var o=1===i.parts.length?0:1;o<i.parts.length;o++){var s=i.parts[o];if(a.contains(s.bounds,t)&&u.contains(s.vertices,t)){n.push(i);break}}}return n}},function(e,t,n){var r={};e.exports=r;var i=n(596),o=n(165),a=n(599),s=n(598),u=n(1523),l=n(597),c=n(166),h=n(118),f=n(128),d=n(32),p=n(41);r.create=function(e,t){t=(t=d.isElement(e)?t:e)||{},((e=d.isElement(e)?e:null)||t.render)&&d.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:l}},r=d.extend(n,t);return r.world=t.world||i.create(r.world),r.pairs=s.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r.metrics=u.create(r.metrics),r},r.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,l=e.world,d=e.timing,p=e.broadphase,v=[];d.timestamp+=t*d.timeScale;var g={timestamp:d.timestamp};c.trigger(e,"beforeUpdate",g);var m=h.allBodies(l),y=h.allConstraints(l);for(u.reset(e.metrics),e.enableSleeping&&o.update(m,d.timeScale),r._bodiesApplyGravity(m,l.gravity),r._bodiesUpdate(m,t,d.timeScale,n,l.bounds),f.preSolveAll(m),i=0;i<e.constraintIterations;i++)f.solveAll(y,d.timeScale);f.postSolveAll(m),p.controller?(l.isModified&&p.controller.clear(p),p.controller.update(p,m,e,l.isModified),v=p.pairsList):v=m,l.isModified&&h.setModified(l,!1,!1,!0);var x=p.detector(v,e),b=e.pairs,w=d.timestamp;for(s.update(b,x,w),s.removeOld(b,w),e.enableSleeping&&o.afterCollisions(b.list,d.timeScale),b.collisionStart.length>0&&c.trigger(e,"collisionStart",{pairs:b.collisionStart}),a.preSolvePosition(b.list),i=0;i<e.positionIterations;i++)a.solvePosition(b.list,m,d.timeScale);for(a.postSolvePosition(m),f.preSolveAll(m),i=0;i<e.constraintIterations;i++)f.solveAll(y,d.timeScale);for(f.postSolveAll(m),a.preSolveVelocity(b.list),i=0;i<e.velocityIterations;i++)a.solveVelocity(b.list,d.timeScale);return b.collisionActive.length>0&&c.trigger(e,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&c.trigger(e,"collisionEnd",{pairs:b.collisionEnd}),u.update(e.metrics,e),r._bodiesClearForces(m),c.trigger(e,"afterUpdate",g),e},r.merge=function(e,t){if(d.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var n=h.allBodies(e.world),i=0;i<n.length;i++){var a=n[i];o.set(a,!1),a.id=d.nextId()}}},r.clear=function(e){var t=e.world;s.clear(e.pairs);var n=e.broadphase;if(n.controller){var r=h.allBodies(t);n.controller.clear(n),n.controller.update(n,r,e,!0)}},r._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},r._bodiesApplyGravity=function(e,t){var n="undefined"!==typeof t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var r=0;r<e.length;r++){var i=e[r];i.ignoreGravity||i.isStatic||i.isSleeping||(i.force.x+=i.mass*t.x*n*i.gravityScale.x,i.force.y+=i.mass*t.y*n*i.gravityScale.y)}},r._bodiesUpdate=function(e,t,n,r,i){for(var o=0;o<e.length;o++){var a=e[o];a.isStatic||a.isSleeping||p.update(a,t,n,r)}}},function(e,t,n){var r=n(86),i=n(41),o=n(0),a=n(32),s=n(118),u=n(1401),l=n(9),c=n(272),h=n(2),f=n(6),d=n(41),p=n(166),v=n(593),g=n(596),m=n(83),y=new o({Extends:l,initialize:function(e,t){l.call(this),this.scene=e,this.engine=u.create(t),this.localWorld=this.engine.world;var n=f(t,"gravity",null);n?this.setGravity(n.x,n.y,n.scale):!1===n&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=f(t,"enabled",!0),this.correction=f(t,"correction",1),this.getDelta=f(t,"getDelta",this.update60Hz);var r=h(t,"runner",{}),i=h(r,"fps",!1),o=h(r,"fps",60),a=h(r,"delta",1e3/o),s=h(r,"deltaMin",1e3/o),c=h(r,"deltaMax",1e3/(.5*o));i||(o=1e3/a),this.runner={fps:o,correction:h(r,"correction",1),deltaSampleSize:h(r,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:h(r,"isFixed",!1),delta:a,deltaMin:s,deltaMax:c},this.autoUpdate=f(t,"autoUpdate",!0);var d=f(t,"debug",!1);if(this.drawDebug="object"===typeof d||d,this.debugGraphic,this.debugConfig={showAxes:h(d,"showAxes",!1),showAngleIndicator:h(d,"showAngleIndicator",!1),angleColor:h(d,"angleColor",15208787),showBroadphase:h(d,"showBroadphase",!1),broadphaseColor:h(d,"broadphaseColor",16757760),showBounds:h(d,"showBounds",!1),boundsColor:h(d,"boundsColor",16777215),showVelocity:h(d,"showVelocity",!1),velocityColor:h(d,"velocityColor",44783),showCollisions:h(d,"showCollisions",!1),collisionColor:h(d,"collisionColor",16094476),showSeparations:h(d,"showSeparations",!1),separationColor:h(d,"separationColor",16753920),showBody:h(d,"showBody",!0),showStaticBody:h(d,"showStaticBody",!0),showInternalEdges:h(d,"showInternalEdges",!1),renderFill:h(d,"renderFill",!1),renderLine:h(d,"renderLine",!0),fillColor:h(d,"fillColor",1075465),fillOpacity:h(d,"fillOpacity",1),lineColor:h(d,"lineColor",2678297),lineOpacity:h(d,"lineOpacity",1),lineThickness:h(d,"lineThickness",1),staticFillColor:h(d,"staticFillColor",857979),staticLineColor:h(d,"staticLineColor",1255396),showSleeping:h(d,"showSleeping",!1),staticBodySleepOpacity:h(d,"staticBodySleepOpacity",.7),sleepFillColor:h(d,"sleepFillColor",4605510),sleepLineColor:h(d,"sleepLineColor",10066585),showSensors:h(d,"showSensors",!0),sensorFillColor:h(d,"sensorFillColor",857979),sensorLineColor:h(d,"sensorLineColor",1255396),showPositions:h(d,"showPositions",!0),positionSize:h(d,"positionSize",4),positionColor:h(d,"positionColor",14697178),showJoint:h(d,"showJoint",!0),jointColor:h(d,"jointColor",14737474),jointLineOpacity:h(d,"jointLineOpacity",1),jointLineThickness:h(d,"jointLineThickness",2),pinSize:h(d,"pinSize",4),pinColor:h(d,"pinColor",4382944),springColor:h(d,"springColor",14697184),anchorColor:h(d,"anchorColor",15724527),anchorSize:h(d,"anchorSize",4),showConvexHulls:h(d,"showConvexHulls",!1),hullColor:h(d,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),h(t,"setBounds",!1)){var p=t.setBounds;if("boolean"===typeof p)this.setBounds();else{var v=h(p,"x",0),g=h(p,"y",0),m=h(p,"width",e.sys.scale.width),y=h(p,"height",e.sys.scale.height),x=h(p,"thickness",64),b=h(p,"left",!0),w=h(p,"right",!0),k=h(p,"top",!0),E=h(p,"bottom",!0);this.setBounds(v,g,m,y,x,b,w,k,E)}}},setCompositeRenderStyle:function(e){var t,n,r,i=e.bodies,o=e.constraints,a=e.composites;for(t=0;t<i.length;t++)r=(n=i[t]).render,this.setBodyRenderStyle(n,r.lineColor,r.lineOpacity,r.lineThickness,r.fillColor,r.fillOpacity);for(t=0;t<o.length;t++)r=(n=o[t]).render,this.setConstraintRenderStyle(n,r.lineColor,r.lineOpacity,r.lineThickness,r.pinSize,r.anchorColor,r.anchorSize);for(t=0;t<a.length;t++)n=a[t],this.setCompositeRenderStyle(n);return this},setBodyRenderStyle:function(e,t,n,r,i,o){var a=e.render,s=this.debugConfig;return a?(void 0!==t&&null!==t||(t=e.isStatic?s.staticLineColor:s.lineColor),void 0!==n&&null!==n||(n=s.lineOpacity),void 0!==r&&null!==r||(r=s.lineThickness),void 0!==i&&null!==i||(i=e.isStatic?s.staticFillColor:s.fillColor),void 0!==o&&null!==o||(o=s.fillOpacity),!1!==t&&(a.lineColor=t),!1!==n&&(a.lineOpacity=n),!1!==r&&(a.lineThickness=r),!1!==i&&(a.fillColor=i),!1!==o&&(a.fillOpacity=o),this):this},setConstraintRenderStyle:function(e,t,n,r,i,o,a){var s=e.render,u=this.debugConfig;if(!s)return this;if(void 0===t||null===t){var l=s.type;"line"===l?t=u.jointColor:"pin"===l?t=u.pinColor:"spring"===l&&(t=u.springColor)}return void 0!==n&&null!==n||(n=u.jointLineOpacity),void 0!==r&&null!==r||(r=u.jointLineThickness),void 0!==i&&null!==i||(i=u.pinSize),void 0!==o&&null!==o||(o=u.anchorColor),void 0!==a&&null!==a||(a=u.anchorSize),!1!==t&&(s.lineColor=t),!1!==n&&(s.lineOpacity=n),!1!==r&&(s.lineThickness=r),!1!==i&&(s.pinSize=i),!1!==o&&(s.anchorColor=o),!1!==a&&(s.anchorSize=a),this},setEventsProxy:function(){var e=this,t=this.engine,n=this.localWorld;this.drawDebug&&(p.on(n,"compositeModified",(function(t){e.setCompositeRenderStyle(t)})),p.on(n,"beforeAdd",(function(t){for(var n=[].concat(t.object),r=0;r<n.length;r++){var i=n[r],o=i.render;"body"===i.type?e.setBodyRenderStyle(i,o.lineColor,o.lineOpacity,o.lineThickness,o.fillColor,o.fillOpacity):"composite"===i.type?e.setCompositeRenderStyle(i):"constraint"===i.type&&e.setConstraintRenderStyle(i,o.lineColor,o.lineOpacity,o.lineThickness,o.pinSize,o.anchorColor,o.anchorSize)}}))),p.on(n,"beforeAdd",(function(t){e.emit(c.BEFORE_ADD,t)})),p.on(n,"afterAdd",(function(t){e.emit(c.AFTER_ADD,t)})),p.on(n,"beforeRemove",(function(t){e.emit(c.BEFORE_REMOVE,t)})),p.on(n,"afterRemove",(function(t){e.emit(c.AFTER_REMOVE,t)})),p.on(t,"beforeUpdate",(function(t){e.emit(c.BEFORE_UPDATE,t)})),p.on(t,"afterUpdate",(function(t){e.emit(c.AFTER_UPDATE,t)})),p.on(t,"collisionStart",(function(t){var n,r,i=t.pairs;i.length>0&&(n=i[0].bodyA,r=i[0].bodyB),e.emit(c.COLLISION_START,t,n,r)})),p.on(t,"collisionActive",(function(t){var n,r,i=t.pairs;i.length>0&&(n=i[0].bodyA,r=i[0].bodyB),e.emit(c.COLLISION_ACTIVE,t,n,r)})),p.on(t,"collisionEnd",(function(t){var n,r,i=t.pairs;i.length>0&&(n=i[0].bodyA,r=i[0].bodyB),e.emit(c.COLLISION_END,t,n,r)}))},setBounds:function(e,t,n,r,i,o,a,s,u){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=this.scene.sys.scale.width),void 0===r&&(r=this.scene.sys.scale.height),void 0===i&&(i=64),void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===u&&(u=!0),this.updateWall(o,"left",e-i,t-i,i,r+2*i),this.updateWall(a,"right",e+n,t-i,i,r+2*i),this.updateWall(s,"top",e,t-i,n,i),this.updateWall(u,"bottom",e,t+r,n,i),this},updateWall:function(e,t,n,r,i,o){var a=this.walls[t];e?(a&&g.remove(this.localWorld,a),n+=i/2,r+=o/2,this.walls[t]=this.create(n,r,i,o,{isStatic:!0,friction:0,frictionStatic:0})):(a&&g.remove(this.localWorld,a),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=1),this.localWorld.gravity.x=e,this.localWorld.gravity.y=t,void 0!==n&&(this.localWorld.gravity.scale=n),this},create:function(e,t,n,i,o){var a=r.rectangle(e,t,n,i,o);return g.add(this.localWorld,a),a},add:function(e){return g.add(this.localWorld,e),this},remove:function(e,t){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n],i=r.body?r.body:r;s.remove(this.localWorld,i,t)}return this},removeConstraint:function(e,t){return s.remove(this.localWorld,e,t),this},convertTilemapLayer:function(e,t){var n=e.layer,r=e.getTilesWithin(0,0,n.width,n.height,{isColliding:!0});return this.convertTiles(r,t),this},convertTiles:function(e,t){if(0===e.length)return this;for(var n=0;n<e.length;n++)new v(this,e[n],t);return this},nextGroup:function(e){return d.nextGroup(e)},nextCategory:function(){return d.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(c.RESUME),this},update:function(e,t){if(this.enabled&&this.autoUpdate){var n=this.engine,r=this.runner,i=n.timing,o=this.correction;r.isFixed?t=this.getDelta(e,t):(t=e-r.timePrev||r.delta,r.timePrev=e,r.deltaHistory.push(t),r.deltaHistory=r.deltaHistory.slice(-r.deltaSampleSize),o=(t=(t=(t=Math.min.apply(null,r.deltaHistory))<r.deltaMin?r.deltaMin:t)>r.deltaMax?r.deltaMax:t)/r.delta,r.delta=t),0!==r.timeScalePrev&&(o*=i.timeScale/r.timeScalePrev),0===i.timeScale&&(o=0),r.timeScalePrev=i.timeScale,r.correction=o,r.frameCounter+=1,e-r.counterTimestamp>=1e3&&(r.fps=r.frameCounter*((e-r.counterTimestamp)/1e3),r.counterTimestamp=e,r.frameCounter=0),u.update(n,t,o)}},step:function(e,t){u.update(this.engine,e,t)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(e){var t=e.hasOwnProperty("body")?e.body:e;return null!==s.get(this.localWorld,t.id,t.type)},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var e=this.debugConfig,t=this.engine,n=this.debugGraphic,r=s.allBodies(this.localWorld);this.debugGraphic.clear(),e.showBroadphase&&t.broadphase.controller&&this.renderGrid(t.broadphase,n,e.broadphaseColor,.5),e.showBounds&&this.renderBodyBounds(r,n,e.boundsColor,.5),(e.showBody||e.showStaticBody)&&this.renderBodies(r),e.showJoint&&this.renderJoints(),(e.showAxes||e.showAngleIndicator)&&this.renderBodyAxes(r,n,e.showAxes,e.angleColor,.5),e.showVelocity&&this.renderBodyVelocity(r,n,e.velocityColor,1,2),e.showSeparations&&this.renderSeparations(t.pairs.list,n,e.separationColor),e.showCollisions&&this.renderCollisions(t.pairs.list,n,e.collisionColor)}},renderGrid:function(e,t,n,r){t.lineStyle(1,n,r);for(var i=a.keys(e.buckets),o=0;o<i.length;o++){var s=i[o];if(!(e.buckets[s].length<2)){var u=s.split(/C|R/);t.strokeRect(parseInt(u[1],10)*e.bucketWidth,parseInt(u[2],10)*e.bucketHeight,e.bucketWidth,e.bucketHeight)}}return this},renderSeparations:function(e,t,n){t.lineStyle(1,n,1);for(var r=0;r<e.length;r++){var i=e[r];if(i.isActive){var o=i.collision,a=o.bodyA,s=o.bodyB,u=a.position,l=s.position,c=o.penetration,h=a.isStatic||s.isStatic?1:4;s.isStatic&&(h=0),t.lineBetween(l.x,l.y,l.x-c.x*h,l.y-c.y*h),h=a.isStatic||s.isStatic?1:4,a.isStatic&&(h=0),t.lineBetween(u.x,u.y,u.x-c.x*h,u.y-c.y*h)}}return this},renderCollisions:function(e,t,n){var r,i;for(t.lineStyle(1,n,.5),t.fillStyle(n,1),r=0;r<e.length;r++)if((i=e[r]).isActive)for(var o=0;o<i.activeContacts.length;o++){var a=i.activeContacts[o].vertex;t.fillRect(a.x-2,a.y-2,5,5)}for(r=0;r<e.length;r++)if((i=e[r]).isActive){var s=i.collision,u=i.activeContacts;if(u.length>0){var l=u[0].vertex.x,c=u[0].vertex.y;2===u.length&&(l=(u[0].vertex.x+u[1].vertex.x)/2,c=(u[0].vertex.y+u[1].vertex.y)/2),s.bodyB===s.supports[0].body||s.bodyA.isStatic?t.lineBetween(l-8*s.normal.x,c-8*s.normal.y,l,c):t.lineBetween(l+8*s.normal.x,c+8*s.normal.y,l,c)}}return this},renderBodyBounds:function(e,t,n,r){t.lineStyle(1,n,r);for(var i=0;i<e.length;i++){var o=e[i];if(o.render.visible){var a=o.bounds;if(a)t.strokeRect(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y);else for(var s=o.parts,u=s.length>1?1:0;u<s.length;u++){var l=s[u];t.strokeRect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}}}return this},renderBodyAxes:function(e,t,n,r,i){t.lineStyle(1,r,i);for(var o=0;o<e.length;o++){var a,s,u,l=e[o],c=l.parts;if(l.render.visible)if(n)for(s=c.length>1?1:0;s<c.length;s++)for(a=c[s],u=0;u<a.axes.length;u++){var h=a.axes[u];t.lineBetween(a.position.x,a.position.y,a.position.x+20*h.x,a.position.y+20*h.y)}else for(s=c.length>1?1:0;s<c.length;s++)for(a=c[s],u=0;u<a.axes.length;u++)t.lineBetween(a.position.x,a.position.y,(a.vertices[0].x+a.vertices[a.vertices.length-1].x)/2,(a.vertices[0].y+a.vertices[a.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(e,t,n,r,i){t.lineStyle(i,n,r);for(var o=0;o<e.length;o++){var a=e[o];a.render.visible&&t.lineBetween(a.position.x,a.position.y,a.position.x+2*(a.position.x-a.positionPrev.x),a.position.y+2*(a.position.y-a.positionPrev.y))}return this},renderBodies:function(e){for(var t=this.debugGraphic,n=this.debugConfig,r=n.showBody,i=n.showStaticBody,o=n.showSleeping,a=n.showInternalEdges,s=n.showConvexHulls,u=n.renderFill,l=n.renderLine,c=n.staticBodySleepOpacity,h=n.sleepFillColor,f=n.sleepLineColor,d=n.hullColor,p=0;p<e.length;p++){var v=e[p];if(v.render.visible&&(i||!v.isStatic)&&(r||v.isStatic)){var g=v.render.lineColor,m=v.render.lineOpacity,y=v.render.lineThickness,x=v.render.fillColor,b=v.render.fillOpacity;o&&v.isSleeping&&(v.isStatic?(m*=c,b*=c):(g=f,x=h)),u||(x=null),l||(g=null),this.renderBody(v,t,a,g,m,y,x,b);var w=v.parts.length;s&&w>1&&this.renderConvexHull(v,t,d,y)}}},renderBody:function(e,t,n,r,i,o,a,s){void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=1),void 0===a&&(a=null),void 0===s&&(s=null);for(var u=this.debugConfig,l=u.sensorFillColor,c=u.sensorLineColor,h=e.parts,f=h.length,d=f>1?1:0;d<f;d++){var p=h[d],v=p.render,g=v.opacity;if(v.visible&&0!==g&&(!p.isSensor||u.showSensors)){var m=p.circleRadius;if(t.beginPath(),p.isSensor?(null!==a&&t.fillStyle(l,s*g),null!==r&&t.lineStyle(o,c,i*g)):(null!==a&&t.fillStyle(a,s*g),null!==r&&t.lineStyle(o,r,i*g)),m)t.arc(p.position.x,p.position.y,m,0,2*Math.PI);else{var y=p.vertices,x=y.length;t.moveTo(y[0].x,y[0].y);for(var b=1;b<x;b++){var w=y[b];if(!y[b-1].isInternal||n?t.lineTo(w.x,w.y):t.moveTo(w.x,w.y),b<x&&w.isInternal&&!n){var k=(b+1)%x;t.moveTo(y[k].x,y[k].y)}}t.closePath()}null!==a&&t.fillPath(),null!==r&&t.strokePath()}}if(u.showPositions&&!e.isStatic){var E=e.position.x,_=e.position.y,T=Math.ceil(u.positionSize/2);t.fillStyle(u.positionColor,1),t.fillRect(E-T,_-T,u.positionSize,u.positionSize)}return this},renderConvexHull:function(e,t,n,r){if(void 0===r&&(r=1),e.parts.length>1){var i=e.vertices;t.lineStyle(r,n),t.beginPath(),t.moveTo(i[0].x,i[0].y);for(var o=1;o<i.length;o++)t.lineTo(i[o].x,i[o].y);t.lineTo(i[0].x,i[0].y),t.strokePath()}return this},renderJoints:function(){for(var e=this.debugGraphic,t=s.allConstraints(this.localWorld),n=0;n<t.length;n++){var r=t[n].render,i=r.lineColor,o=r.lineOpacity,a=r.lineThickness,u=r.pinSize,l=r.anchorColor,c=r.anchorSize;this.renderConstraint(t[n],e,i,o,a,u,l,c)}},renderConstraint:function(e,t,n,r,i,o,s,u){var l=e.render;if(!l.visible||!e.pointA||!e.pointB)return this;t.lineStyle(i,n,r);var c,h,f=e.bodyA,d=e.bodyB;if(c=f?m.add(f.position,e.pointA):e.pointA,"pin"===l.type)t.strokeCircle(c.x,c.y,o);else{if(h=d?m.add(d.position,e.pointB):e.pointB,t.beginPath(),t.moveTo(c.x,c.y),"spring"===l.type)for(var p,v=m.sub(h,c),g=m.perp(m.normalise(v)),y=Math.ceil(a.clamp(e.length/5,12,20)),x=1;x<y;x+=1)p=x%2===0?1:-1,t.lineTo(c.x+v.x*(x/y)+g.x*p*4,c.y+v.y*(x/y)+g.y*p*4);t.lineTo(h.x,h.y)}return t.strokePath(),l.anchors&&u>0&&(t.fillStyle(s),t.fillCircle(c.x,c.y,u),t.fillCircle(h.x,h.y,u)),this},resetCollisionIDs:function(){return i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,this},shutdown:function(){p.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),u.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});e.exports=y},function(e,t,n){e.exports={BasePlugin:n(540),DefaultPlugins:n(197),PluginCache:n(24),PluginManager:n(414),ScenePlugin:n(1404)}},function(e,t,n){var r=n(540),i=n(0),o=n(20),a=new i({Extends:r,initialize:function(e,t,n){r.call(this,t),this.scene=e,this.systems=e.sys,this.pluginKey=n,e.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});e.exports=a},function(e,t,n){e.exports={Canvas:n(1406),Events:n(91),Snapshot:n(1407),WebGL:n(1408)}},function(e,t,n){e.exports={CanvasRenderer:n(368),GetBlendModes:n(370),SetTransform:n(30)}},function(e,t,n){e.exports={Canvas:n(369),WebGL:n(383)}},function(e,t,n){var r=n(107),i=n(17),o={PipelineManager:n(372),Pipelines:n(1409),RenderTarget:n(141),Utils:n(12),WebGLPipeline:n(58),WebGLRenderer:n(371),WebGLShader:n(375)};o=i(!1,o,r),e.exports=o},function(e,t,n){var r=n(92),i=n(17),o={BitmapMaskPipeline:n(373),Events:n(374),GraphicsPipeline:n(376),LightPipeline:n(377),MultiPipeline:n(108),PointLightPipeline:n(378),PostFXPipeline:n(1410),RopePipeline:n(379),SinglePipeline:n(380),UtilityPipeline:n(381)};o=i(!1,o,r),e.exports=o},function(e,t,n){var r=n(0),i=n(198),o=n(2),a=n(1411),s=n(382),u=n(58),l=new r({Extends:u,initialize:function(e){e.renderTarget=o(e,"renderTarget",1),e.fragShader=o(e,"fragShader",a),e.vertShader=o(e,"vertShader",s),e.attributes=o(e,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),e.batchSize=1,e.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],u.call(this,e),this.isPostFX=!0,this.gameObject,this.colorMatrix=new i,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){u.prototype.boot.call(this);var e=this.manager.UTILITY_PIPELINE;this.fullFrame1=e.fullFrame1,this.fullFrame2=e.fullFrame2,this.halfFrame1=e.halfFrame1,this.halfFrame2=e.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(e){this.bindAndDraw(e)},copyFrame:function(e,t,n,r,i){this.manager.copyFrame(e,t,n,r,i)},copyToGame:function(e){this.manager.copyToGame(e)},drawFrame:function(e,t,n){this.manager.drawFrame(e,t,n,this.colorMatrix)},blendFrames:function(e,t,n,r,i){this.manager.blendFrames(e,t,n,r,i)},blendFramesAdditive:function(e,t,n,r,i){this.manager.blendFramesAdditive(e,t,n,r,i)},clearFrame:function(e,t){this.manager.clearFrame(e,t)},blitFrame:function(e,t,n,r,i,o){this.manager.blitFrame(e,t,n,r,i,o)},copyFrameRect:function(e,t,n,r,i,o,a,s){this.manager.copyFrameRect(e,t,n,r,i,o,a,s)},bindAndDraw:function(e,t,n,r,i){void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this.gl,a=this.renderer;this.bind(i),this.set1i("uMainSampler",0),t?(o.viewport(0,0,t.width,t.height),o.bindFramebuffer(o.FRAMEBUFFER,t.framebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,t.texture,0),n&&(r?o.clearColor(0,0,0,0):o.clearColor(0,0,0,1),o.clear(o.COLOR_BUFFER_BIT))):(a.popFramebuffer(!1,!1,!1),a.currentFramebuffer||o.viewport(0,0,a.width,a.height)),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture),o.bufferData(o.ARRAY_BUFFER,this.vertexData,o.STATIC_DRAW),o.drawArrays(o.TRIANGLES,0,6),t?(o.bindTexture(o.TEXTURE_2D,null),o.bindFramebuffer(o.FRAMEBUFFER,null)):a.resetTextures()}});e.exports=l},function(e,t){e.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join("\n")},function(e,t,n){var r=n(17),i=n(201),o={Center:n(403),Events:n(104),Orientation:n(404),ScaleManager:n(415),ScaleModes:n(405),Zoom:n(406)};o=r(!1,o,i.CENTER),o=r(!1,o,i.ORIENTATION),o=r(!1,o,i.SCALE_MODE),o=r(!1,o,i.ZOOM),e.exports=o},function(e,t,n){var r=n(144),i=n(17),o={Events:n(20),GetPhysicsPlugins:n(419),GetScenePlugins:n(420),SceneManager:n(417),ScenePlugin:n(1414),Settings:n(421),Systems:n(204)};o=i(!1,o,r),e.exports=o},function(e,t,n){var r=n(18),i=n(0),o=n(20),a=n(2),s=n(24),u=new i({initialize:function(e){this.scene=e,this.systems=e.sys,this.settings=e.sys.settings,this.key=e.sys.settings.key,this.manager=e.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,e.sys.events.once(o.BOOT,this.boot,this),e.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",e,t),this},restart:function(e){var t=this.key;return this.manager.queueOp("stop",t),this.manager.queueOp("start",t,e),this},transition:function(e){void 0===e&&(e={});var t=a(e,"target",!1),n=this.manager.getScene(t);if(!t||!this.checkValidTransition(n))return!1;var r=a(e,"duration",1e3);this._elapsed=0,this._target=n,this._duration=r,this._willSleep=a(e,"sleep",!1),this._willRemove=a(e,"remove",!1);var i=a(e,"onUpdate",null);i&&(this._onUpdate=i,this._onUpdateScope=a(e,"onUpdateScope",this.scene));var s=a(e,"allowInput",!1);this.settings.transitionAllowInput=s;var u=n.sys.settings;return u.isTransition=!0,u.transitionFrom=this.scene,u.transitionDuration=r,u.transitionAllowInput=s,a(e,"moveAbove",!1)?this.manager.moveAbove(this.key,t):a(e,"moveBelow",!1)&&this.manager.moveBelow(this.key,t),n.sys.isSleeping()?n.sys.wake(a(e,"data")):this.manager.start(t,a(e,"data")),this.systems.events.emit(o.TRANSITION_OUT,n,r),this.systems.events.on(o.UPDATE,this.step,this),!0},checkValidTransition:function(e){return!(!e||e.sys.isActive()||e.sys.isTransitioning()||e===this.scene||this.systems.isTransitioning())},step:function(e,t){this._elapsed+=t,this.transitionProgress=r(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var e=this._target.sys,t=this._target.sys.settings;this.systems.events.off(o.UPDATE,this.step,this),e.events.emit(o.TRANSITION_COMPLETE,this.scene),t.isTransition=!1,t.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(e,t,n,r){return this.manager.add(e,t,n,r)},launch:function(e,t){return e&&e!==this.key&&this.manager.queueOp("start",e,t),this},run:function(e,t){return e&&e!==this.key&&this.manager.queueOp("run",e,t),this},pause:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("pause",e,t),this},resume:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("resume",e,t),this},sleep:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("sleep",e,t),this},wake:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("wake",e,t),this},switch:function(e){return e!==this.key&&this.manager.queueOp("switch",this.key,e),this},stop:function(e,t){return void 0===e&&(e=this.key),this.manager.queueOp("stop",e,t),this},setActive:function(e,t,n){void 0===t&&(t=this.key);var r=this.manager.getScene(t);return r&&r.sys.setActive(e,n),this},setVisible:function(e,t){void 0===t&&(t=this.key);var n=this.manager.getScene(t);return n&&n.sys.setVisible(e),this},isSleeping:function(e){return void 0===e&&(e=this.key),this.manager.isSleeping(e)},isActive:function(e){return void 0===e&&(e=this.key),this.manager.isActive(e)},isPaused:function(e){return void 0===e&&(e=this.key),this.manager.isPaused(e)},isVisible:function(e){return void 0===e&&(e=this.key),this.manager.isVisible(e)},swapPosition:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.swapPosition(e,t),this},moveAbove:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveAbove(e,t),this},moveBelow:function(e,t){return void 0===t&&(t=this.key),e!==t&&this.manager.moveBelow(e,t),this},remove:function(e){return void 0===e&&(e=this.key),this.manager.remove(e),this},moveUp:function(e){return void 0===e&&(e=this.key),this.manager.moveUp(e),this},moveDown:function(e){return void 0===e&&(e=this.key),this.manager.moveDown(e),this},bringToTop:function(e){return void 0===e&&(e=this.key),this.manager.bringToTop(e),this},sendToBack:function(e){return void 0===e&&(e=this.key),this.manager.sendToBack(e),this},get:function(e){return this.manager.getScene(e)},getIndex:function(e){return void 0===e&&(e=this.key),this.manager.getIndex(e)},shutdown:function(){var e=this.systems.events;e.off(o.SHUTDOWN,this.shutdown,this),e.off(o.POST_UPDATE,this.step,this),e.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",u,"scenePlugin"),e.exports=u},function(e,t,n){e.exports={Events:n(438),List:n(110),Map:n(102),ProcessQueue:n(211),RTree:n(531),Set:n(149),Size:n(416)}},function(e,t,n){var r=n(17),i=n(1417),o={CanvasTexture:n(423),Events:n(106),FilterMode:i,Frame:n(109),Parsers:n(425),Texture:n(206),TextureManager:n(422),TextureSource:n(424)};o=r(!1,o,i),e.exports=o},function(e,t){e.exports={LINEAR:0,NEAREST:1}},function(e,t,n){var r=n(17),i=n(1419),o={Components:n(251),Parsers:n(1452),Formats:n(40),ImageCollection:n(576),ParseToTilemap:n(262),Tile:n(85),Tilemap:n(580),TilemapCreator:n(1459),TilemapFactory:n(1460),Tileset:n(122),TilemapLayer:n(581),Orientation:n(29),LayerData:n(120),MapData:n(121),ObjectLayer:n(572)};o=r(!1,o,i.ORIENTATION),e.exports=o},function(e,t,n){var r={ORIENTATION:n(29)};e.exports=r},function(e,t,n){var r=n(26),i=n(63);e.exports=function(e,t,n,o,a,s,u,l){void 0===u&&(u=!0),e<0&&(e=0),t<0&&(t=0);for(var c=r(e,t,n,o,null,l),h=a-e,f=s-t,d=0;d<c.length;d++){var p=c[d].x+h,v=c[d].y+f;p>=0&&p<l.width&&v>=0&&v<l.height&&l.data[v][p]&&l.data[v][p].copy(c[d])}u&&i(a-1,s-1,n+2,o+2,l)}},function(e,t,n){var r=n(26),i=n(542);e.exports=function(e,t,n,o,a,s){n||(n={}),Array.isArray(e)||(e=[e]);var u=s.tilemapLayer;o||(o=u.scene),a||(a=o.cameras.main);var l,c=r(0,0,s.width,s.height,null,s),h=[];for(l=0;l<c.length;l++){var f=c[l];if(-1!==e.indexOf(f.index)){var d=u.tileToWorldXY(f.x,f.y,void 0,a,s);n.x=d.x,n.y=d.y,h.push(o.make.sprite(n))}}if("number"===typeof t)for(l=0;l<e.length;l++)i(e[l],t,0,0,s.width,s.height,s);else if(Array.isArray(t))for(l=0;l<e.length;l++)i(e[l],t[l],0,0,s.width,s.height,s);return h}},function(e,t,n){var r=n(26),i=n(63),o=n(72);e.exports=function(e,t,n,a,s,u,l){for(var c=-1!==l.collideIndexes.indexOf(e),h=r(t,n,a,s,null,l),f=0;f<h.length;f++)h[f].index=e,o(h[f],c);u&&i(t-1,n-1,a+2,s+2,l)}},function(e,t,n){var r=n(26);e.exports=function(e,t,n,i,o,a,s,u){return r(n,i,o,a,s,u).filter(e,t)}},function(e,t){e.exports=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1);var i,o,a,s=0;if(n){for(o=r.height-1;o>=0;o--)for(i=r.width-1;i>=0;i--)if((a=r.data[o][i])&&a.index===e){if(s===t)return a;s+=1}}else for(o=0;o<r.height;o++)for(i=0;i<r.width;i++)if((a=r.data[o][i])&&a.index===e){if(s===t)return a;s+=1}return null}},function(e,t,n){var r=n(26);e.exports=function(e,t,n,i,o,a,s,u){return r(n,i,o,a,s,u).find(e,t)||null}},function(e,t,n){var r=n(26);e.exports=function(e,t,n,i,o,a,s,u){r(n,i,o,a,s,u).forEach(e,t)}},function(e,t,n){var r=n(29),i=n(544),o=n(545),a=n(547),s=n(1),u=n(548);e.exports=function(e){return e===r.ORTHOGONAL?i:e===r.HEXAGONAL?o:e===r.STAGGERED?u:e===r.ISOMETRIC?a:s}},function(e,t,n){var r=n(158),i=new(n(3));e.exports=function(e,t,n,o,a){return a.tilemapLayer.worldToTileXY(e,t,!0,i,o),r(i.x,i.y,n,a)}},function(e,t,n){var r=n(483),i=n(26),o=n(484),a=n(1),s=n(3),u=function(e,t){return o.RectangleToTriangle(t,e)},l=new s,c=new s,h=new s;e.exports=function(e,t,n,s){if(void 0===e)return[];var f=a;e instanceof r.Circle?f=o.CircleToRectangle:e instanceof r.Rectangle?f=o.RectangleToRectangle:e instanceof r.Triangle?f=u:e instanceof r.Line&&(f=o.LineToRectangle),s.tilemapLayer.worldToTileXY(e.left,e.top,!0,c,n);var d=c.x,p=c.y;s.tilemapLayer.worldToTileXY(e.right,e.bottom,!0,h,n);var v=Math.ceil(h.x),g=Math.ceil(h.y),m=Math.max(v-d,1),y=Math.max(g-p,1),x=i(d,p,m,y,t,s),b=s.tileWidth,w=s.tileHeight;s.tilemapLayer&&(b*=s.tilemapLayer.scaleX,w*=s.tilemapLayer.scaleY);for(var k=[],E=new r.Rectangle(0,0,b,w),_=0;_<x.length;_++){var T=x[_];s.tilemapLayer.tileToWorldXY(T.x,T.y,l,n),E.x=l.x,E.y=l.y,f(e,E)&&k.push(T)}return k}},function(e,t,n){var r=n(29),i=n(1),o=n(253);e.exports=function(e){return e===r.ORTHOGONAL?o:i}},function(e,t,n){var r=n(29),i=n(550),o=n(551),a=n(1),s=n(552),u=n(553);e.exports=function(e){return e===r.ORTHOGONAL?u:e===r.ISOMETRIC?o:e===r.HEXAGONAL?i:e===r.STAGGERED?s:a}},function(e,t,n){var r=n(29),i=n(554),o=n(1),a=n(555),s=n(254);e.exports=function(e){return e===r.ORTHOGONAL?s:e===r.HEXAGONAL?i:e===r.STAGGERED?a:o}},function(e,t,n){var r=n(29),i=n(1),o=n(255);e.exports=function(e){return e===r.ORTHOGONAL?o:i}},function(e,t,n){var r=n(29),i=n(556),o=n(557),a=n(1),s=n(558),u=n(559);e.exports=function(e){return e===r.ORTHOGONAL?u:e===r.ISOMETRIC?o:e===r.HEXAGONAL?i:e===r.STAGGERED?s:a}},function(e,t,n){var r=n(29),i=n(560),o=n(1),a=n(561),s=n(256);e.exports=function(e){return e===r.ORTHOGONAL?s:e===r.HEXAGONAL?i:e===r.STAGGERED?a:o}},function(e,t,n){var r=n(562),i=new(n(3));e.exports=function(e,t,n,o){o.tilemapLayer.worldToTileXY(e,t,!0,i,n);var a=i.x,s=i.y;return r(a,s,o)}},function(e,t,n){var r=n(257),i=new(n(3));e.exports=function(e,t,n,o,a,s){return s.tilemapLayer.worldToTileXY(t,n,!0,i,a,s),r(e,i.x,i.y,o,s)}},function(e,t,n){var r=n(63),i=n(257);e.exports=function(e,t,n,o,a){if(void 0===o&&(o=!0),!Array.isArray(e))return null;Array.isArray(e[0])||(e=[e]);for(var s=e.length,u=e[0].length,l=0;l<s;l++)for(var c=0;c<u;c++){var h=e[l][c];i(h,t+c,n+l,!1,a)}o&&r(t-1,n-1,u+2,s+2,a)}},function(e,t,n){var r=n(26),i=n(210);e.exports=function(e,t,n,o,a,s){var u,l=r(e,t,n,o,{},s);if(!a)for(a=[],u=0;u<l.length;u++)-1===a.indexOf(l[u].index)&&a.push(l[u].index);for(u=0;u<l.length;u++)l[u].index=i(a)}},function(e,t,n){var r=n(563),i=new(n(3));e.exports=function(e,t,n,o,a,s){return s.tilemapLayer.worldToTileXY(e,t,!0,i,a,s),r(i.x,i.y,n,o,s)}},function(e,t,n){var r=n(26),i=n(397),o=new i(105,210,231,150),a=new i(243,134,48,200),s=new i(40,39,37,150);e.exports=function(e,t,n){void 0===t&&(t={});var i=void 0!==t.tileColor?t.tileColor:o,u=void 0!==t.collidingTileColor?t.collidingTileColor:a,l=void 0!==t.faceColor?t.faceColor:s,c=r(0,0,n.width,n.height,null,n);e.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),e.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var h=0;h<c.length;h++){var f=c[h],d=f.width,p=f.height,v=f.pixelX,g=f.pixelY,m=f.collides?u:i;null!==m&&(e.fillStyle(m.color,m.alpha/255),e.fillRect(v,g,d,p)),v+=1,g+=1,d-=2,p-=2,null!==l&&(e.lineStyle(1,l.color,l.alpha/255),f.faceTop&&e.lineBetween(v,g,v+d,g),f.faceRight&&e.lineBetween(v+d,g,v+d,g+p),f.faceBottom&&e.lineBetween(v,g+p,v+d,g+p),f.faceLeft&&e.lineBetween(v,g,v,g+p))}}},function(e,t,n){var r=n(72),i=n(63),o=n(160);e.exports=function(e,t,n,a,s){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===s&&(s=!0),Array.isArray(e)||(e=[e]);for(var u=0;u<e.length;u++)o(e[u],t,a);if(s)for(var l=0;l<a.height;l++)for(var c=0;c<a.width;c++){var h=a.data[l][c];h&&-1!==e.indexOf(h.index)&&r(h,t)}n&&i(0,0,a.width,a.height,a)}},function(e,t,n){var r=n(72),i=n(63),o=n(160);e.exports=function(e,t,n,a,s,u){if(void 0===n&&(n=!0),void 0===a&&(a=!0),void 0===u&&(u=!0),!(e>t)){for(var l=e;l<=t;l++)o(l,n,s);if(u)for(var c=0;c<s.height;c++)for(var h=0;h<s.width;h++){var f=s.data[c][h];f&&f.index>=e&&f.index<=t&&r(f,n)}a&&i(0,0,s.width,s.height,s)}}},function(e,t,n){var r=n(72),i=n(63),o=n(160);e.exports=function(e,t,n,a){void 0===t&&(t=!0),void 0===n&&(n=!0),Array.isArray(e)||(e=[e]);for(var s=0;s<a.height;s++)for(var u=0;u<a.width;u++){var l=a.data[s][u];l&&-1===e.indexOf(l.index)&&(r(l,t),o(l.index,t,a))}n&&i(0,0,a.width,a.height,a)}},function(e,t,n){var r=n(72),i=n(63),o=n(126);e.exports=function(e,t,n,a){void 0===t&&(t=!0),void 0===n&&(n=!0);for(var s=0;s<a.height;s++)for(var u=0;u<a.width;u++){var l=a.data[s][u];if(l)for(var c in e)if(o(l.properties,c)){var h=e[c];Array.isArray(h)||(h=[h]);for(var f=0;f<h.length;f++)l.properties[c]===h[f]&&r(l,t)}}n&&i(0,0,a.width,a.height,a)}},function(e,t,n){var r=n(72),i=n(63);e.exports=function(e,t,n){void 0===e&&(e=!0),void 0===t&&(t=!0);for(var o=0;o<n.height;o++)for(var a=0;a<n.width;a++){var s=n.data[o][a];if(s){var u=s.getCollisionGroup();u&&u.objects&&u.objects.length>0&&r(s,e)}}t&&i(0,0,n.width,n.height,n)}},function(e,t){e.exports=function(e,t,n,r){if("number"===typeof e)r.callbacks[e]=null!==t?{callback:t,callbackContext:n}:void 0;else for(var i=0,o=e.length;i<o;i++)r.callbacks[e[i]]=null!==t?{callback:t,callbackContext:n}:void 0}},function(e,t,n){var r=n(26);e.exports=function(e,t,n,i,o,a,s){for(var u=r(e,t,n,i,null,s),l=0;l<u.length;l++)u[l].setCollisionCallback(o,a)}},function(e,t,n){var r=n(26),i=n(131);e.exports=function(e,t,n,o,a){var s=r(e,t,n,o,null,a),u=s.map((function(e){return e.index}));i(u);for(var l=0;l<s.length;l++)s[l].index=u[l]}},function(e,t,n){var r=n(26);e.exports=function(e,t,n,i,o,a,s){for(var u=r(n,i,o,a,null,s),l=0;l<u.length;l++)u[l]&&(u[l].index===e?u[l].index=t:u[l].index===t&&(u[l].index=e))}},function(e,t,n){var r=n(26);e.exports=function(e,t,n,i,o,a){if(o){var s,u=r(e,t,n,i,null,a),l=0;for(s=0;s<o.length;s++)l+=o[s].weight;if(!(l<=0))for(s=0;s<u.length;s++){for(var c=Math.random()*l,h=0,f=-1,d=0;d<o.length;d++)if(c<=(h+=o[d].weight)){var p=o[d].index;f=Array.isArray(p)?p[Math.floor(Math.random()*p.length)]:p;break}u[s].index=f}}}},function(e,t,n){e.exports={FromOrientationString:n(258),Parse:n(564),Parse2DArray:n(259),ParseCSV:n(565),Impact:n(1454),Tiled:n(1455)}},function(e,t){e.exports=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=n;if(r.name&&""!==r.name&&(i=r.name),Array.isArray(r.wangtiles)&&r.wangtiles.length>0){var o,a,s,u={},l={};if(Array.isArray(r.edgecolors))for(o=0;o<r.edgecolors.length;o++)s=1+o,""!==(a=r.edgecolors[o]).name&&(u[s]=a.name);if(Array.isArray(r.cornercolors))for(o=0;o<r.cornercolors.length;o++)s=1+o,""!==(a=r.cornercolors[o]).name&&(l[s]=a.name);if(Array.isArray(r.colors))for(o=0;o<r.colors.length;o++)s=1+o,""!==(a=r.colors[o]).name&&(u[s]=l[s]=a.name);for(var c=[u,l,u,l,u,l,u,l],h=0;h<r.wangtiles.length;h++){var f=r.wangtiles[h],d=t[f.tileid]||(t[f.tileid]={});d=d.wangid||(d.wangid={});for(var p=[],v=0;v<Math.min(c.length,f.wangid.length);v++)if(0!==(a=f.wangid[v])){var g=c[v][a];void 0===g?p.push(a):p.push(g)}else p.push(void 0);d[i]=p}}}}},function(e,t,n){e.exports={ParseTileLayers:n(578),ParseTilesets:n(579),ParseWeltmeister:n(577)}},function(e,t,n){e.exports={AssignTileProperties:n(567),Base64Decode:n(574),BuildTilesetIndex:n(568),CreateGroupLayer:n(161),ParseGID:n(261),ParseImageLayers:n(569),ParseJSONTiled:n(566),ParseObject:n(260),ParseObjectLayers:n(570),ParseTileLayers:n(573),ParseTilesets:n(575)}},function(e,t,n){var r=n(1),i=n(1);r=n(1457),i=n(1458),e.exports={renderWebGL:r,renderCanvas:i}},function(e,t,n){var r=n(12);e.exports=function(e,t,n){var i=t.cull(n),o=i.length,a=n.alpha*t.alpha;if(!(0===o||a<=0)){var s=t.gidMap,u=e.pipelines.set(t.pipeline,t),l=r.getTintAppendFloatAlpha,c=t.scrollFactorX,h=t.scrollFactorY,f=t.x,d=t.y,p=t.scaleX,v=t.scaleY;e.pipelines.preBatch(t);for(var g=0;g<o;g++){var m=i[g],y=s[m.index];if(y){var x=y.getTileTextureCoordinates(m.index);if(null!==x){var b=y.glTexture,w=u.setTexture2D(b,t),k=y.tileWidth,E=y.tileHeight,_=x.x,T=x.y,A=.5*y.tileWidth,S=.5*y.tileHeight,C=l(m.tint,a*m.alpha);u.batchTexture(t,b,b.width,b.height,f+(A+m.pixelX)*p,d+(S+m.pixelY)*v,m.width,m.height,p,v,m.rotation,m.flipX,m.flipY,c,h,A,S,_,T,k,E,C,C,C,C,!1,0,0,n,null,!0,w)}}}e.pipelines.postBatch(t)}}},function(e,t,n){var r=n(25),i=new r,o=new r,a=new r;e.exports=function(e,t,n,r){var s=t.cull(n),u=s.length,l=n.alpha*t.alpha;if(!(0===u||l<=0)){var c=i,h=o,f=a;h.applyITRS(t.x,t.y,t.rotation,t.scaleX,t.scaleY),c.copyFrom(n.matrix);var d=e.currentContext,p=t.gidMap;d.save(),r?(c.multiplyWithOffset(r,-n.scrollX*t.scrollFactorX,-n.scrollY*t.scrollFactorY),h.e=t.x,h.f=t.y,c.multiply(h,f),f.copyToContext(d)):(h.e-=n.scrollX*t.scrollFactorX,h.f-=n.scrollY*t.scrollFactorY,h.copyToContext(d)),(!e.antialias||t.scaleX>1||t.scaleY>1)&&(d.imageSmoothingEnabled=!1);for(var v=0;v<u;v++){var g=s[v],m=p[g.index];if(m){var y=m.image.getSourceImage(),x=m.getTileTextureCoordinates(g.index);if(null!==x){var b=m.tileWidth,w=m.tileHeight,k=.5*b,E=.5*w;d.save(),d.translate(g.pixelX+k,g.pixelY+E),0!==g.rotation&&d.rotate(g.rotation),(g.flipX||g.flipY)&&d.scale(g.flipX?-1:1,g.flipY?-1:1),d.globalAlpha=l*g.alpha,d.drawImage(y,x.x,x.y,b,w,-k,-E,b,w),d.restore()}}}d.restore()}}},function(e,t,n){var r=n(16),i=n(262);r.register("tilemap",(function(e){var t=void 0!==e?e:{};return i(this.scene,t.key,t.tileWidth,t.tileHeight,t.width,t.height,t.data,t.insertNull)}))},function(e,t,n){var r=n(5),i=n(262);r.register("tilemap",(function(e,t,n,r,o,a,s){return null===e&&(e=void 0),null===t&&(t=void 0),null===n&&(n=void 0),null===r&&(r=void 0),null===o&&(o=void 0),i(this.scene,e,t,n,r,o,a,s)}))},function(e,t,n){e.exports={Clock:n(1462),TimerEvent:n(582)}},function(e,t,n){var r=n(0),i=n(24),o=n(20),a=n(582),s=n(93),u=new r({initialize:function(e){this.scene=e,this.systems=e.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],e.sys.events.once(o.BOOT,this.boot,this),e.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(o.PRE_UPDATE,this.preUpdate,this),e.on(o.UPDATE,this.update,this),e.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(e){var t;return e instanceof a?(t=e,this.removeEvent(t),t.elapsed=t.startAt,t.hasDispatched=!1,t.repeatCount=-1===t.repeat||t.loop?999999999999:t.repeat):t=new a(e),this._pendingInsertion.push(t),t},delayedCall:function(e,t,n,r){return this.addEvent({delay:e,callback:t,args:n,callbackScope:r})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];s(this._pendingRemoval,n),s(this._pendingInsertion,n),s(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var e=this._pendingRemoval.length,t=this._pendingInsertion.length;if(0!==e||0!==t){var n,r;for(n=0;n<e;n++){r=this._pendingRemoval[n];var i=this._active.indexOf(r);i>-1&&this._active.splice(i,1),r.destroy()}for(n=0;n<t;n++)r=this._pendingInsertion[n],this._active.push(r);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(e,t){if(this.now=e,!this.paused){t*=this.timeScale;for(var n=0;n<this._active.length;n++){var r=this._active[n];if(!r.paused&&(r.elapsed+=t*r.timeScale,r.elapsed>=r.delay)){var i=r.elapsed-r.delay;r.elapsed=r.delay,!r.hasDispatched&&r.callback&&(r.hasDispatched=!0,r.callback.apply(r.callbackScope,r.args)),r.repeatCount>0?(r.repeatCount--,r.elapsed=i,r.hasDispatched=!1):this._pendingRemoval.push(r)}}}},shutdown:function(){var e;for(e=0;e<this._pendingInsertion.length;e++)this._pendingInsertion[e].destroy();for(e=0;e<this._active.length;e++)this._active[e].destroy();for(e=0;e<this._pendingRemoval.length;e++)this._pendingRemoval[e].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var t=this.systems.events;t.off(o.PRE_UPDATE,this.preUpdate,this),t.off(o.UPDATE,this.update,this),t.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});i.register("Clock",u,"time"),e.exports=u},function(e,t,n){var r=n(100),i=n(17),o={Builders:n(1464),Events:n(267),TweenManager:n(1480),Tween:n(266),TweenData:n(268),Timeline:n(588)};o=i(!1,o,r),e.exports=o},function(e,t,n){e.exports={GetBoolean:n(99),GetEaseFunction:n(80),GetNewValue:n(162),GetProps:n(583),GetTargets:n(263),GetTweens:n(584),GetValueOp:n(264),NumberTweenBuilder:n(585),StaggerBuilder:n(586),TimelineBuilder:n(587),TweenBuilder:n(163)}},function(e,t){e.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(e,t){e.exports="complete"},function(e,t){e.exports="loop"},function(e,t){e.exports="pause"},function(e,t){e.exports="resume"},function(e,t){e.exports="start"},function(e,t){e.exports="update"},function(e,t){e.exports="active"},function(e,t){e.exports="complete"},function(e,t){e.exports="loop"},function(e,t){e.exports="repeat"},function(e,t){e.exports="start"},function(e,t){e.exports="stop"},function(e,t){e.exports="update"},function(e,t){e.exports="yoyo"},function(e,t,n){var r=n(93),i=n(0),o=n(585),a=n(24),s=n(20),u=n(586),l=n(587),c=n(100),h=n(163),f=new i({initialize:function(e){this.scene=e,this.systems=e.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,e.sys.events.once(s.BOOT,this.boot,this),e.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var e=this.systems.events;e.on(s.PRE_UPDATE,this.preUpdate,this),e.on(s.UPDATE,this.update,this),e.once(s.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(e){return l(this,e)},timeline:function(e){var t=l(this,e);return t.paused||(this._add.push(t),this._toProcess++),t},create:function(e){return h(this,e)},add:function(e){var t=h(this,e);return this._add.push(t),this._toProcess++,t},existing:function(e){return this._add.push(e),this._toProcess++,this},addCounter:function(e){var t=o(this,e);return this._add.push(t),this._toProcess++,t},stagger:function(e,t){return u(e,t)},preUpdate:function(){if(0!==this._toProcess){var e,t,n=this._destroy,r=this._active,i=this._pending;for(e=0;e<n.length;e++){t=n[e];var o=r.indexOf(t);-1===o?(o=i.indexOf(t))>-1&&(t.state=c.REMOVED,i.splice(o,1)):(t.state=c.REMOVED,r.splice(o,1))}for(n.length=0,n=this._add,e=0;e<n.length;e++)(t=n[e]).state===c.PENDING_ADD&&(t.init()?(t.play(),this._active.push(t)):this._pending.push(t));n.length=0,this._toProcess=0}},update:function(e,t){var n,r=this._active;t*=this.timeScale;for(var i=0;i<r.length;i++)(n=r[i]).update(e,t)&&(this._destroy.push(n),this._toProcess++)},remove:function(e){return r(this._add,e),r(this._pending,e),r(this._active,e),r(this._destroy,e),e.state=c.REMOVED,this},makeActive:function(e){if(-1!==this._add.indexOf(e)||-1!==this._active.indexOf(e))return this;var t=this._pending.indexOf(e);return-1!==t&&this._pending.splice(t,1),this._add.push(e),e.state=c.PENDING_ADD,this._toProcess++,this},each:function(e,t){for(var n=[null],r=1;r<arguments.length;r++)n.push(arguments[r]);for(var i in this.list)n[0]=this.list[i],e.apply(t,n)},getAllTweens:function(){for(var e=this._active,t=[],n=0;n<e.length;n++)t.push(e[n]);return t},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(e,t){void 0===t&&(t=!1);var n,r,i,o=this._active,a=[];for(Array.isArray(e)||(e=[e]),r=0;r<o.length;r++)for(n=o[r],i=0;i<e.length;i++)n.hasTarget(e[i])&&a.push(n);if(t)for(o=this._pending,r=0;r<o.length;r++)for(n=o[r],i=0;i<e.length;i++)n.hasTarget(e[i])&&a.push(n);return a},isTweening:function(e){for(var t,n=this._active,r=0;r<n.length;r++)if((t=n[r]).hasTarget(e)&&t.isPlaying())return!0;return!1},killAll:function(){for(var e=this.getAllTweens(),t=0;t<e.length;t++)e[t].stop();return this},killTweensOf:function(e){for(var t=this.getTweensOf(e),n=0;n<t.length;n++)t[n].stop();return this},pauseAll:function(){for(var e=this._active,t=0;t<e.length;t++)e[t].pause();return this},resumeAll:function(){for(var e=this._active,t=0;t<e.length;t++)e[t].resume();return this},setGlobalTimeScale:function(e){return this.timeScale=e,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var e=this.systems.events;e.off(s.PRE_UPDATE,this.preUpdate,this),e.off(s.UPDATE,this.update,this),e.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("TweenManager",f,"tweens"),e.exports=f},function(e,t,n){e.exports={Array:n(208),Base64:n(1482),Objects:n(1484),String:n(1488),NOOP:n(1)}},function(e,t,n){e.exports={ArrayBufferToBase64:n(1483),Base64ToArrayBuffer:n(433)}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports=function(e,t){for(var r=new Uint8Array(e),i=r.length,o=t?"data:"+t+";base64,":"",a=0;a<i;a+=3)o+=n[r[a]>>2],o+=n[(3&r[a])<<4|r[a+1]>>4],o+=n[(15&r[a+1])<<2|r[a+2]>>6],o+=n[63&r[a+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o}},function(e,t,n){e.exports={Clone:n(77),DeepCopy:n(175),Extend:n(17),GetAdvancedValue:n(13),GetFastValue:n(2),GetMinMaxValue:n(1485),GetValue:n(6),HasAll:n(1486),HasAny:n(455),HasValue:n(126),IsPlainObject:n(7),Merge:n(127),MergeRight:n(1487),Pick:n(571),SetValue:n(478)}},function(e,t,n){var r=n(6),i=n(18);e.exports=function(e,t,n,o,a){void 0===a&&(a=n);var s=r(e,t,a);return i(s,n,o)}},function(e,t){e.exports=function(e,t){for(var n=0;n<t.length;n++)if(!e.hasOwnProperty(t[n]))return!1;return!0}},function(e,t,n){var r=n(77);e.exports=function(e,t){var n=r(e);for(var i in t)n.hasOwnProperty(i)&&(n[i]=t[i]);return n}},function(e,t,n){e.exports={Format:n(1489),Pad:n(186),RemoveAt:n(1490),Reverse:n(1491),UppercaseFirst:n(205),UUID:n(222)}},function(e,t){e.exports=function(e,t){return e.replace(/%([0-9]+)/g,(function(e,n){return t[Number(n)-1]}))}},function(e,t){e.exports=function(e,t){return 0===t?e.slice(1):e.slice(0,t-1)+e.slice(t)}},function(e,t){e.exports=function(e){return e.split("").reverse().join("")}},function(e,t,n){e.exports={SoundManagerCreator:n(426),Events:n(70),BaseSound:n(146),BaseSoundManager:n(145),WebAudioSound:n(434),WebAudioSoundManager:n(432),HTML5AudioSound:n(429),HTML5AudioSoundManager:n(427),NoAudioSound:n(431),NoAudioSoundManager:n(430)}},function(e,t,n){e.exports={Arcade:n(1366),Matter:n(1494)}},function(e,t,n){e.exports={BodyBounds:n(1392),Components:n(249),Events:n(272),Factory:n(1394),MatterGameObject:n(1395),Image:n(1396),Matter:n(594),MatterPhysics:n(1524),PolyDecomp:n(1393),Sprite:n(1397),TileBody:n(593),PhysicsEditorParser:n(589),PhysicsJSONParser:n(590),PointerConstraint:n(1398),World:n(1402)}},function(e,t){e.exports={setBounce:function(e){return this.body.restitution=e,this}}},function(e,t){var n={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var t=0;if(Array.isArray(e))for(var n=0;n<e.length;n++)t|=e[n];else t=e;return this.body.collisionFilter.mask=t,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,t){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n].hasOwnProperty("body")?e[n].body:e[n];this.body.setOnCollideWith(r,t)}return this}};e.exports=n},function(e,t,n){var r=n(41),i={applyForce:function(e){return this._tempVec2.set(this.body.position.x,this.body.position.y),r.applyForce(this.body,this._tempVec2,e),this},applyForceFrom:function(e,t){return r.applyForce(this.body,e,t),this},thrust:function(e){var t=this.body.angle;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(e){var t=this.body.angle-Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(e){var t=this.body.angle+Math.PI/2;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(e){var t=this.body.angle-Math.PI;return this._tempVec2.set(e*Math.cos(t),e*Math.sin(t)),r.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};e.exports=i},function(e,t){var n={setFriction:function(e,t,n){return this.body.friction=e,void 0!==t&&(this.body.frictionAir=t),void 0!==n&&(this.body.frictionStatic=n),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};e.exports=n},function(e,t){e.exports={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}}},function(e,t,n){var r=n(41),i=n(3),o={setMass:function(e){return r.setMass(this.body,e),this},setDensity:function(e){return r.setDensity(this.body,e),this},centerOfMass:{get:function(){return new i(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};e.exports=o},function(e,t){e.exports={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}}},function(e,t,n){var r=n(86),i=n(41),o=n(124),a=n(2),s=n(589),u=n(590),l=n(64),c={setRectangle:function(e,t,n){return this.setBody({type:"rectangle",width:e,height:t},n)},setCircle:function(e,t){return this.setBody({type:"circle",radius:e},t)},setPolygon:function(e,t,n){return this.setBody({type:"polygon",sides:t,radius:e},n)},setTrapezoid:function(e,t,n,r){return this.setBody({type:"trapezoid",width:e,height:t,slope:n},r)},setExistingBody:function(e,t){void 0===t&&(t=!0),this.body&&this.world.remove(this.body,!0),this.body=e;for(var n=0;n<e.parts.length;n++)e.parts[n].gameObject=this;var r=this;if(e.destroy=function(){r.world.remove(r.body,!0),r.body.gameObject=null},t&&(this.world.has(e)&&this.world.remove(e,!0),this.world.add(e)),this._originComponent){var i=e.render.sprite.xOffset,a=e.render.sprite.yOffset,s=e.centerOfMass.x,u=e.centerOfMass.y;if(o(s,.5)&&o(u,.5))this.setOrigin(i+.5,a+.5);else{var l=e.centerOffset.x,c=e.centerOffset.y;this.setOrigin(i+l/this.displayWidth,a+c/this.displayHeight)}}return this},setBody:function(e,t){if(!e)return this;var n;"string"===typeof e&&(e={type:e});var o=a(e,"type","rectangle"),c=a(e,"x",this._tempVec2.x),h=a(e,"y",this._tempVec2.y),f=a(e,"width",this.width),d=a(e,"height",this.height);switch(o){case"rectangle":n=r.rectangle(c,h,f,d,t);break;case"circle":var p=a(e,"radius",Math.max(f,d)/2),v=a(e,"maxSides",25);n=r.circle(c,h,p,t,v);break;case"trapezoid":var g=a(e,"slope",.5);n=r.trapezoid(c,h,f,d,g,t);break;case"polygon":var m=a(e,"sides",5),y=a(e,"radius",Math.max(f,d)/2);n=r.polygon(c,h,m,y,t);break;case"fromVertices":case"fromVerts":var x=a(e,"verts",null);if(x)if("string"===typeof x&&(x=l.fromPath(x)),this.body&&!this.body.hasOwnProperty("temp"))i.setVertices(this.body,x),n=this.body;else{var b=a(e,"flagInternal",!1),w=a(e,"removeCollinear",.01),k=a(e,"minimumArea",10);n=r.fromVertices(c,h,x,t,b,w,k)}break;case"fromPhysicsEditor":n=s.parseBody(c,h,e,t);break;case"fromPhysicsTracer":n=u.parseBody(c,h,e,t)}return n&&this.setExistingBody(n,e.addToWorld),this}};e.exports=c},function(e,t,n){var r=n(272),i=n(165),o=n(166),a={setToSleep:function(){return i.set(this.body,!0),this},setAwake:function(){return i.set(this.body,!1),this},setSleepThreshold:function(e){return void 0===e&&(e=60),this.body.sleepThreshold=e,this},setSleepEvents:function(e,t){return this.setSleepStartEvent(e),this.setSleepEndEvent(t),this},setSleepStartEvent:function(e){if(e){var t=this.world;o.on(this.body,"sleepStart",(function(e){t.emit(r.SLEEP_START,e,this)}))}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(e){if(e){var t=this.world;o.on(this.body,"sleepEnd",(function(e){t.emit(r.SLEEP_END,e,this)}))}else o.off(this.body,"sleepEnd");return this}};e.exports=a},function(e,t){e.exports="afteradd"},function(e,t){e.exports="afterremove"},function(e,t){e.exports="afterupdate"},function(e,t){e.exports="beforeadd"},function(e,t){e.exports="beforeremove"},function(e,t){e.exports="beforeupdate"},function(e,t){e.exports="collisionactive"},function(e,t){e.exports="collisionend"},function(e,t){e.exports="collisionstart"},function(e,t){e.exports="dragend"},function(e,t){e.exports="drag"},function(e,t){e.exports="dragstart"},function(e,t){e.exports="pause"},function(e,t){e.exports="resume"},function(e,t){e.exports="sleepend"},function(e,t){e.exports="sleepstart"},function(e,t,n){var r=n(41),i={setStatic:function(e){return r.setStatic(this.body,e),this},isStatic:function(){return this.body.isStatic}};e.exports=i},function(e,t,n){var r=n(41),i=n(14),o=n(269),a=n(270),s={x:{get:function(){return this.body.position.x},set:function(e){this._tempVec2.set(e,this.y),r.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(e){this._tempVec2.set(this.x,e),r.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(e){var t=1/this._scaleX,n=1/this._scaleY;this._scaleX=e,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,r.scale(this.body,t,n),r.scale(this.body,e,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(e){var t=1/this._scaleX,n=1/this._scaleY;this._scaleY=e,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,r.scale(this.body,t,n),r.scale(this.body,this._scaleX,e)}},angle:{get:function(){return a(this.body.angle*i.RAD_TO_DEG)},set:function(e){this.rotation=a(e)*i.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(e){this._rotation=o(e),r.setAngle(this.body,this._rotation)}},setPosition:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._tempVec2.set(e,t),r.setPosition(this.body,this._tempVec2),this},setRotation:function(e){return void 0===e&&(e=0),this._rotation=o(e),r.setAngle(this.body,e),this},setFixedRotation:function(){return r.setInertia(this.body,1/0),this},setAngle:function(e){return void 0===e&&(e=0),this.angle=e,r.setAngle(this.body,this.rotation),this},setScale:function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=e);var i=1/this._scaleX,o=1/this._scaleY;return this._scaleX=e,this._scaleY=t,r.scale(this.body,i,o,n),r.scale(this.body,e,t,n),this}};e.exports=s},function(e,t,n){var r=n(41),i={setAngularVelocity:function(e){return r.setAngularVelocity(this.body,e),this},setVelocityX:function(e){return this._tempVec2.set(e,this.body.velocity.y),r.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(e){return this._tempVec2.set(this.body.velocity.x,e),r.setVelocity(this.body,this._tempVec2),this},setVelocity:function(e,t){return this._tempVec2.set(e,t),r.setVelocity(this.body,this._tempVec2),this}};e.exports=i},function(e,t,n){var r={};e.exports=r;var i=n(118),o=n(32);r.create=function(e){return o.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,e)},r.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},r.update=function(e,t){if(e.extended){var n=t.world,r=i.allBodies(n);e.collisions=e.narrowDetections,e.pairs=t.pairs.list.length,e.bodies=r.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(r.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}}},function(e,t,n){var r=n(123),i=n(271),o=n(86),a=n(41),s=n(1392),u=n(84),l=n(0),c=n(118),h=n(591),f=n(128),d=n(273),p=n(50),v=n(1394),g=n(2),m=n(6),y=n(597),x=n(1525),b=n(1526),w=n(1399),k=n(1527),E=n(127),_=n(250),T=n(598),A=n(595),S=n(24),C=n(1400),I=n(599),P=n(274),O=n(20),R=n(592),M=n(83),D=n(64),L=n(1402),N=new l({initialize:function(e){this.scene=e,this.systems=e.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=c,this.detector=d,this.grid=y,this.pair=_,this.pairs=T,this.query=C,this.resolver=I,this.sat=P,this.constraint=f,this.bodies=o,this.composites=h,this.axes=i,this.bounds=u,this.svg=R,this.vector=M,this.vertices=D,this.verts=D,this._tempVec2=M.create(),m(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),m(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),m(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),I._restingThresh=m(this.config,"restingThresh",4),I._restingThreshTangent=m(this.config,"restingThreshTangent",6),I._positionDampen=m(this.config,"positionDampen",.9),I._positionWarming=m(this.config,"positionWarming",.8),I._frictionNormalMultiplier=m(this.config,"frictionNormalMultiplier",5),e.sys.events.once(O.BOOT,this.boot,this),e.sys.events.on(O.START,this.start,this)},boot:function(){this.world=new L(this.scene,this.config),this.add=new v(this.world),this.bodyBounds=new s,this.systems.events.once(O.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new L(this.scene,this.config),this.add=new v(this.world));var e=this.systems.events;e.on(O.UPDATE,this.world.update,this.world),e.on(O.POST_UPDATE,this.world.postUpdate,this.world),e.once(O.SHUTDOWN,this.shutdown,this)},getConfig:function(){var e=this.systems.game.config.physics,t=this.systems.settings.physics;return E(g(t,"matter",{}),g(e,"matter",{}))},enableAttractorPlugin:function(){return A.register(x),A.use(w,x),this},enableWrapPlugin:function(){return A.register(k),A.use(w,k),this},enableCollisionEventsPlugin:function(){return A.register(b),A.use(w,b),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(e,t){this.world.step(e,t)},containsPoint:function(e,t,n){e=this.getMatterBodies(e);var r=M.create(t,n);return C.point(e,r).length>0},intersectPoint:function(e,t,n){n=this.getMatterBodies(n);var r=M.create(e,t),i=[];return C.point(n,r).forEach((function(e){-1===i.indexOf(e)&&i.push(e)})),i},intersectRect:function(e,t,n,r,i,o){void 0===i&&(i=!1),o=this.getMatterBodies(o);var a={min:{x:e,y:t},max:{x:e+n,y:t+r}},s=[];return C.region(o,a,i).forEach((function(e){-1===s.indexOf(e)&&s.push(e)})),s},intersectRay:function(e,t,n,r,i,o){void 0===i&&(i=1),o=this.getMatterBodies(o);for(var a=[],s=C.ray(o,M.create(e,t),M.create(n,r),i),u=0;u<s.length;u++)a.push(s[u].body);return a},intersectBody:function(e,t){t=this.getMatterBodies(t);for(var n=[],r=C.collides(e,t),i=0;i<r.length;i++){var o=r[i];o.bodyA===e?n.push(o.bodyB):n.push(o.bodyA)}return n},overlap:function(e,t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=n),Array.isArray(e)||(e=[e]),e=this.getMatterBodies(e),t=this.getMatterBodies(t);for(var o=!1,a=0;a<e.length;a++)for(var s=e[a],u=C.collides(s,t),l=0;l<u.length;l++){var c=u[l],h=c.bodyA.id===s.id?c.bodyB:c.bodyA;if(!r||r.call(i,s,h,c))if(o=!0,n)n.call(i,s,h,c);else if(!r)return!0}return o},setCollisionCategory:function(e,t){return(e=this.getMatterBodies(e)).forEach((function(e){e.collisionFilter.category=t})),this},setCollisionGroup:function(e,t){return(e=this.getMatterBodies(e)).forEach((function(e){e.collisionFilter.group=t})),this},setCollidesWith:function(e,t){e=this.getMatterBodies(e);var n=0;if(Array.isArray(t))for(var r=0;r<t.length;r++)n|=t[r];else n=t;return e.forEach((function(e){e.collisionFilter.mask=n})),this},getMatterBodies:function(e){if(!e)return this.world.getAllBodies();Array.isArray(e)||(e=[e]);for(var t=[],n=0;n<e.length;n++){var r=e[n].hasOwnProperty("body")?e[n].body:e[n];t.push(r)}return t},setVelocity:function(e,t,n){e=this.getMatterBodies(e);var r=this._tempVec2;return r.x=t,r.y=n,e.forEach((function(e){a.setVelocity(e,r)})),this},setVelocityX:function(e,t){e=this.getMatterBodies(e);var n=this._tempVec2;return n.x=t,e.forEach((function(e){n.y=e.velocity.y,a.setVelocity(e,n)})),this},setVelocityY:function(e,t){e=this.getMatterBodies(e);var n=this._tempVec2;return n.y=t,e.forEach((function(e){n.x=e.velocity.x,a.setVelocity(e,n)})),this},setAngularVelocity:function(e,t){return(e=this.getMatterBodies(e)).forEach((function(e){a.setAngularVelocity(e,t)})),this},applyForce:function(e,t){e=this.getMatterBodies(e);var n=this._tempVec2;return e.forEach((function(e){n.x=e.position.x,n.y=e.position.y,a.applyForce(e,n,t)})),this},applyForceFromPosition:function(e,t,n,r){e=this.getMatterBodies(e);var i=this._tempVec2;return e.forEach((function(e){void 0===r&&(r=e.angle),i.x=n*Math.cos(r),i.y=n*Math.sin(r),a.applyForce(e,t,i)})),this},applyForceFromAngle:function(e,t,n){e=this.getMatterBodies(e);var r=this._tempVec2;return e.forEach((function(e){void 0===n&&(n=e.angle),r.x=t*Math.cos(n),r.y=t*Math.sin(n),a.applyForce(e,{x:e.position.x,y:e.position.y},r)})),this},getConstraintLength:function(e){var t=e.pointA.x,n=e.pointA.y,r=e.pointB.x,i=e.pointB.y;return e.bodyA&&(t+=e.bodyA.position.x,n+=e.bodyA.position.y),e.bodyB&&(r+=e.bodyB.position.x,i+=e.bodyB.position.y),p(t,n,r,i)},alignBody:function(e,t,n,i){var o;switch(e=e.hasOwnProperty("body")?e.body:e,i){case r.TOP_LEFT:case r.LEFT_TOP:o=this.bodyBounds.getTopLeft(e,t,n);break;case r.TOP_CENTER:o=this.bodyBounds.getTopCenter(e,t,n);break;case r.TOP_RIGHT:case r.RIGHT_TOP:o=this.bodyBounds.getTopRight(e,t,n);break;case r.LEFT_CENTER:o=this.bodyBounds.getLeftCenter(e,t,n);break;case r.CENTER:o=this.bodyBounds.getCenter(e,t,n);break;case r.RIGHT_CENTER:o=this.bodyBounds.getRightCenter(e,t,n);break;case r.LEFT_BOTTOM:case r.BOTTOM_LEFT:o=this.bodyBounds.getBottomLeft(e,t,n);break;case r.BOTTOM_CENTER:o=this.bodyBounds.getBottomCenter(e,t,n);break;case r.BOTTOM_RIGHT:case r.RIGHT_BOTTOM:o=this.bodyBounds.getBottomRight(e,t,n)}return o&&a.setPosition(e,o),this},shutdown:function(){var e=this.systems.events;this.world&&(e.off(O.UPDATE,this.world.update,this.world),e.off(O.POST_UPDATE,this.world.postUpdate,this.world)),e.off(O.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(O.START,this.start,this),this.scene=null,this.systems=null}});S.register("MatterPhysics",N,"matterPhysics"),e.exports=N},function(e,t,n){var r=n(594),i={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Body.create",(function(){i.Body.init(this)})),e.before("Engine.update",(function(e){i.Engine.update(e)}))},Body:{init:function(e){e.plugin.attractors=e.plugin.attractors||[]}},Engine:{update:function(e){for(var t=r.Composite.allBodies(e.world),n=0;n<t.length;n++){var i=t[n],o=i.plugin.attractors;if(o&&o.length>0)for(var a=0;a<t.length;a++){var s=t[a];if(n!==a)for(var u=0;u<o.length;u++){var l=o[u],c=l;r.Common.isFunction(l)&&(c=l(i,s)),c&&r.Body.applyForce(s,s.position,c)}}}}},Attractors:{gravityConstant:.001,gravity:function(e,t){var n=r.Vector.sub(t.position,e.position),o=r.Vector.magnitudeSquared(n)||1e-4,a=r.Vector.normalise(n),s=-i.Attractors.gravityConstant*(e.mass*t.mass/o),u=r.Vector.mult(a,s);r.Body.applyForce(e,e.position,r.Vector.neg(u)),r.Body.applyForce(t,t.position,u)}}};e.exports=i},function(e,t){e.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",(function(){e.Events.on(this,"collisionStart",(function(t){t.pairs.map((function(t){var n=t.bodyA,r=t.bodyB;n.gameObject&&n.gameObject.emit("collide",n,r,t),r.gameObject&&r.gameObject.emit("collide",r,n,t),e.Events.trigger(n,"onCollide",{pair:t}),e.Events.trigger(r,"onCollide",{pair:t}),n.onCollideCallback&&n.onCollideCallback(t),r.onCollideCallback&&r.onCollideCallback(t),n.onCollideWith[r.id]&&n.onCollideWith[r.id](r,t),r.onCollideWith[n.id]&&r.onCollideWith[n.id](n,t)}))})),e.Events.on(this,"collisionActive",(function(t){t.pairs.map((function(t){var n=t.bodyA,r=t.bodyB;n.gameObject&&n.gameObject.emit("collideActive",n,r,t),r.gameObject&&r.gameObject.emit("collideActive",r,n,t),e.Events.trigger(n,"onCollideActive",{pair:t}),e.Events.trigger(r,"onCollideActive",{pair:t}),n.onCollideActiveCallback&&n.onCollideActiveCallback(t),r.onCollideActiveCallback&&r.onCollideActiveCallback(t)}))})),e.Events.on(this,"collisionEnd",(function(t){t.pairs.map((function(t){var n=t.bodyA,r=t.bodyB;n.gameObject&&n.gameObject.emit("collideEnd",n,r,t),r.gameObject&&r.gameObject.emit("collideEnd",r,n,t),e.Events.trigger(n,"onCollideEnd",{pair:t}),e.Events.trigger(r,"onCollideEnd",{pair:t}),n.onCollideEndCallback&&n.onCollideEndCallback(t),r.onCollideEndCallback&&r.onCollideEndCallback(t)}))}))}))}}},function(e,t,n){var r=n(594),i={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.update",(function(){i.Engine.update(this)}))},Engine:{update:function(e){for(var t=e.world,n=r.Composite.allBodies(t),o=r.Composite.allComposites(t),a=0;a<n.length;a+=1){var s=n[a];s.plugin.wrap&&i.Body.wrap(s,s.plugin.wrap)}for(a=0;a<o.length;a+=1){var u=o[a];u.plugin.wrap&&i.Composite.wrap(u,u.plugin.wrap)}}},Bounds:{wrap:function(e,t){var n=null,r=null;if("undefined"!==typeof t.min.x&&"undefined"!==typeof t.max.x&&(e.min.x>t.max.x?n=t.min.x-e.max.x:e.max.x<t.min.x&&(n=t.max.x-e.min.x)),"undefined"!==typeof t.min.y&&"undefined"!==typeof t.max.y&&(e.min.y>t.max.y?r=t.min.y-e.max.y:e.max.y<t.min.y&&(r=t.max.y-e.min.y)),null!==n||null!==r)return{x:n||0,y:r||0}}},Body:{wrap:function(e,t){var n=i.Bounds.wrap(e.bounds,t);return n&&r.Body.translate(e,n),n}},Composite:{bounds:function(e){for(var t=r.Composite.allBodies(e),n=[],i=0;i<t.length;i+=1){var o=t[i];n.push(o.bounds.min,o.bounds.max)}return r.Bounds.create(n)},wrap:function(e,t){var n=i.Bounds.wrap(i.Composite.bounds(e),t);return n&&r.Composite.translate(e,n),n}}};e.exports=i},function(e,t,n){(function(t){var r=n(33),i=n(17),o={Actions:n(275),Animations:n(723),BlendModes:n(35),Cache:n(735),Cameras:n(738),Core:n(806),Class:n(0),Create:n(888),Curves:n(894),Data:n(896),Display:n(898),DOM:n(917),Events:n(918),Game:n(920),GameObjects:n(1011),Geom:n(483),Input:n(1308),Loader:n(1338),Math:n(193),Physics:n(1493),Plugins:n(1403),Renderer:n(1405),Scale:n(1412),ScaleModes:n(168),Scene:n(418),Scenes:n(1413),Structs:n(1415),Textures:n(1416),Tilemaps:n(1418),Time:n(1461),Tweens:n(1463),Utils:n(1481)};o.Sound=n(1492),o=i(!1,o,r),e.exports=o,t.Phaser=o}).call(this,n(600))}])},e.exports=r()},3573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,o.default)(r)};var r,i=n(6054),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},6054:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,o,a){var s=i||"<<anonymous>>",u=a||r;if(null==n[r])return t?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var l=arguments.length,c=Array(l>6?l-6:0),h=6;h<l;h++)c[h-6]=arguments[h];return e.apply(void 0,[n,r,s,o,u].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case v:case u:return e;default:return t}}case i:return t}}}function k(e){return w(e)===h}t.isFragment=function(e){return w(e)===o},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var N,F=Object.assign;function B(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function V(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case T:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,_e=null;function Te(e){if(e=xi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ae(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Se(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ie(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Ee||null!==_e)&&(Ie(),Se())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Me=!1}function Le(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ne=!1,Fe=null,Be=!1,Ue=null,ze={onError:function(e){Ne=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,u){Ne=!1,Fe=null,Le.apply(ze,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(je(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,$e=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Et,_t,Tt,At=!1,St=[],Ct=null,It=null,Pt=null,Ot=new Map,Rt=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Nt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Bt(e)&&n.delete(t)}function zt(){At=!1,null!==Ct&&Bt(Ct)&&(Ct=null),null!==It&&Bt(It)&&(It=null),null!==Pt&&Bt(Pt)&&(Pt=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function jt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==It&&Vt(It,e),null!==Pt&&Vt(Pt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Mt.shift()}var Yt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=xt,o=Yt.transition;Yt.transition=null;try{xt=1,Xt(e,t,n,r)}finally{xt=i,Yt.transition=o}}function Ht(e,t,n,r){var i=xt,o=Yt.transition;Yt.transition=null;try{xt=4,Xt(e,t,n,r)}finally{xt=i,Yt.transition=o}}function Xt(e,t,n,r){if(Wt){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Nt(Ct,e,t,n,r,i),!0;case"dragenter":return It=Nt(It,e,t,n,r,i),!0;case"mouseover":return Pt=Nt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Nt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Nt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=xi(i);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Wr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=yi(e=we(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ye(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=F({},ln,{view:0,detail:0}),fn=on(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(F({},dn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),mn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(yn),bn=on(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return _n}var An=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=on(An),Cn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(On),Mn=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Nn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Bn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Xn=null;function qn(e){Br(e,0)}function Kn(e){if(X(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Xn=Hn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Gn(t,Xn,e,we(e)),Oe(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Tr(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Ar=Tr("animationend"),Sr=Tr("animationiteration"),Cr=Tr("animationstart"),Ir=Tr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var Dr=Or[Mr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Ar,"onAnimationEnd"),Rr(Sr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Ve.apply(this,arguments),Ne){if(!Ne)throw Error(o(198));var c=Fe;Ne=!1,Fe=null,Be||(Be=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}}}if(Be)throw e=Ue,Be=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Yr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Yr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Yr(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Sn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Ar:case Sr:case Cr:u=mn;break;case Ir:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Re(p,f))&&c.push(Gr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=je(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,yi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Xr(d))p++;for(d=0,v=f;v;v=Xr(v))d++;for(;0<p-d;)c=Xr(c),p--;for(;0<d-p;)f=Xr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Xr(c),f=Xr(f)}c=null}else c=null;null!==u&&qr(a,s,u,c,!1),null!==l&&null!==h&&qr(a,h,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(Wn(s))if(Qn)g=ar;else{g=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else jn?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Fn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==x?"onCompositionEnd"===x&&jn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(m=Hr(r,x)).length&&(x=new bn(x,e,null,n,i),a.push({event:x,listeners:m}),y?x.data=y:null!==(y=Vn(n))&&(x.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Bn);case"textInput":return(e=t.data)===Bn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Br(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Re(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,o))&&a.unshift(Gr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Gr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,gi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var ki=[],Ei=-1;function _i(e){return{current:e}}function Ti(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function Ai(e,t){Ei++,ki[Ei]=e.current,e.current=t}var Si={},Ci=_i(Si),Ii=_i(!1),Pi=Si;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ti(Ii),Ti(Ci)}function Di(e,t,n){if(Ci.current!==Si)throw Error(o(168));Ai(Ci,t),Ai(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,Y(e)||"Unknown",i));return F({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Pi=Ci.current,Ai(Ci,e),Ai(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ii),Ti(Ci),Ai(Ci,e)):Ti(Ii),Ai(Ii,n)}var Bi=null,Ui=!1,zi=!1;function Vi(e){null===Bi?Bi=[e]:Bi.push(e)}function ji(){if(!zi&&null!==Bi){zi=!0;var e=0,t=xt;try{var n=Bi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Ui=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Xe(Ze,ji),i}finally{xt=t,zi=!1}}return null}var Yi=[],Wi=0,Gi=null,Hi=0,Xi=[],qi=0,Ki=null,$i=1,Qi="";function Ji(e,t){Yi[Wi++]=Hi,Yi[Wi++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Xi[qi++]=$i,Xi[qi++]=Qi,Xi[qi++]=Ki,Ki=e;var r=$i;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Qi=o+e}else $i=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Gi;)Gi=Yi[--Wi],Yi[Wi]=null,Hi=Yi[--Wi],Yi[Wi]=null;for(;e===Ki;)Ki=Xi[--qi],Xi[qi]=null,Qi=Xi[--qi],Xi[qi]=null,$i=Xi[--qi],Xi[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:$i,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=_i(null),xo=null,bo=null,wo=null;function ko(){wo=bo=xo=null}function Eo(e){var t=yo.current;Ti(yo),e._currentValue=t}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){xo=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===xo)throw Error(o(308));bo=e,xo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var So=null;function Co(e){null===So?So=[e]:So.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function No(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Nu|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nl(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nl(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nl(t,e,r,n),No(t,e,r))}};function Yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Wo(e,t,n){var r=!1,i=Si,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Ri(t)?Pi:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Si),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Ri(t)?Pi:Ci.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&jo.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Ko(o)===t.type)?((r=i(t,n.props)).ref=Xo(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=Xo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=Xo(e,null,t),n.return=e,n;case k:return(t=Bl(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;qo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);qo(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,h=o,v=o=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var m=d(i,h,s[v],u);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m,h=g}if(v===s.length)return n(i,h),io&&Ji(i,v),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===c?l=h:c.sibling=h,c=h);return io&&Ji(i,v),l}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,v),l}function g(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var x=d(i,v,y.value,l);if(null===x){null===v&&(v=m);break}e&&v&&null===x.alternate&&t(i,v),s=a(x,s,g),null===h?c=x:h.sibling=x,h=x,v=m}if(y.done)return n(i,v),io&&Ji(i,g),c;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,g),null===h?c=y:h.sibling=y,h=y);return io&&Ji(i,g),c}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===E){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Ko(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Xo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===E?((o=Ll(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Dl(a.type,a.key,a.props,null,r.mode,u)).ref=Xo(r,o,a),u.return=r,r=u)}return s(r);case k:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bl(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return g(r,o,a,u);qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Qo=$o(!0),Jo=$o(!1),Zo={},ea=_i(Zo),ta=_i(Zo),na=_i(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ai(na,t),Ai(ta,e),Ai(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Ai(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ai(ta,e),Ai(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var ua=_i(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ha(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var fa=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,va=null,ga=null,ma=null,ya=!1,xa=!1,ba=0,wa=0;function ka(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),xa){a=0;do{if(xa=!1,ba=0,25<=a)throw Error(o(301));a+=1,ma=ga=null,t.updateQueue=null,fa.current=ls,e=n(r,i)}while(xa)}if(fa.current=as,t=null!==ga&&null!==ga.next,pa=0,ma=ga=va=null,ya=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==ba;return ba=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?va.memoizedState=ma=e:ma=ma.next=e,ma}function Sa(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ma?va.memoizedState:ma.next;if(null!==t)ma=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ma?va.memoizedState=ma=e:ma=ma.next=e}return ma}function Ca(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Sa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((pa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,va.lanes|=h,Nu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Nu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Sa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Ra(e,t){var n=va,r=Sa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Wa(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(o(349));0!==(30&pa)||Ma(n,t,i)}return i}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Na(t)&&Fa(e)}function La(e,t,n){return n((function(){Na(t)&&Fa(e)}))}function Na(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Po(e,1);null!==t&&nl(t,e,1,-1)}function Ba(e){var t=Aa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Sa().memoizedState}function Va(e,t,n,r){var i=Aa();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=Sa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function Ya(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return ja(2048,8,e,t)}function Ga(e,t){return ja(4,2,e,t)}function Ha(e,t){return ja(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,Xa.bind(null,t,e),n)}function Ka(){}function $a(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Nu|=n,e.baseState=!0),t)}function Za(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{xt=n,da.transition=r}}function es(){return Sa().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Io(e,t,n,r))){nl(n,e,r,el()),os(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Co(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Io(e,t,i,r))&&(nl(n,e,r,i=el()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){xa=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Ao,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:Ao,useCallback:function(e,t){return Aa().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ya,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Aa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Aa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Aa().memoizedState=e},useState:Ba,useDebugValue:Ka,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=Za.bind(null,e[1]),Aa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Aa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Iu)throw Error(o(349));0!==(30&pa)||Ma(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ya(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Aa(),t=Iu.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ao,useCallback:$a,useContext:Ao,useEffect:Wa,useImperativeHandle:qa,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Qa,useReducer:Ia,useRef:za,useState:function(){return Ia(Ca)},useDebugValue:Ka,useDeferredValue:function(e){return Ja(Sa(),ga.memoizedState,e)},useTransition:function(){return[Ia(Ca)[0],Sa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ao,useCallback:$a,useContext:Ao,useEffect:Wa,useImperativeHandle:qa,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Qa,useReducer:Pa,useRef:za,useState:function(){return Pa(Ca)},useDebugValue:Ka,useDeferredValue:function(e){var t=Sa();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Pa(Ca)[0],Sa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Gu=r),fs(0,t)},n}function vs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xs=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Qo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=_a(e,t,n,r,o,i),n=Ta(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Ml(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ss(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Mu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Mu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(Mu,Ru),Ru|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(Mu,Ru),Ru|=r;return ws(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var o=Ri(n)?Pi:Ci.current;return o=Oi(t,o),To(t,i),n=_a(e,t,n,r,o,i),r=Ta(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var o=!0;Ni(t)}else o=!1;if(To(t,i),null===t.stateNode)Ys(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ao(l):l=Oi(t,l=Ri(n)?Pi:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Go(t,a,r,l),Oo=!1;var f=t.memoizedState;a.state=f,Bo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ii.current||Oo?("function"===typeof c&&(Vo(t,n,c,r),u=t.memoizedState),(s=Oo||Yo(t,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:mo(t.type,s),a.props=l,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ao(u):u=Oi(t,u=Ri(n)?Pi:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Go(t,a,r,u),Oo=!1,f=t.memoizedState,a.state=f,Bo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Ii.current||Oo?("function"===typeof d&&(Vo(t,n,d,r),p=t.memoizedState),(l=Oo||Yo(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){As(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ws(e,t,o);r=t.stateNode,xs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Os(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ms,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ns(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ai(ua,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Nl(u,i,0,null),e=Ll(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ns(n),t.memoizedState=Ls,e):Bs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Nl({mode:"visible",children:r.children},i,0,null),(a=Ll(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=Ns(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),nl(r,e,i,-1))}return vl(),Us(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Xi[qi++]=$i,Xi[qi++]=Qi,Xi[qi++]=Ki,$i=e.id,Qi=e.overflow,Ki=t),(t=Bs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ml(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ml(r,s):(s=Ll(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ns(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Ml(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Nl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Qo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ri(t.type)&&Mi(),Hs(t),null;case 3:return r=t.stateNode,oa(),Ti(Ii),Ti(Ci),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=xe(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=K(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&x(e,a,c,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ti(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Du&&(Du=3):vl())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&jr(t.stateNode.containerInfo),Hs(t),null;case 10:return Eo(t.type._context),Hs(t),null;case 19:if(Ti(ua),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Gs(a,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=la(e))){for(t.flags|=128,Gs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>ju&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Hs(t),null}else 2*Qe()-a.renderingStartTime>ju&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ua.current,Ai(ua,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Ii),Ti(Ci),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ua),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,$s=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){_l(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Zs(n,t);case 6:var r=cu,i=hu;cu=null,fu(e,t,n),hu=i,null!==(cu=r)&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),jt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!$s&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_l(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,fu(e,t,n),$s=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(o(160));du(a,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){_l(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){_l(e,e.return,g)}try{nu(5,e,e.return)}catch(g){_l(e,e.return,g)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){_l(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(i,a),xe(u,s);var c=xe(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):x(i,h,f,c)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(g){_l(e,e.return,g)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){_l(e,e.return,g)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(g){_l(e,e.return,g)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Qe())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||h,vu(t,e),$s=c):vu(t,e),mu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(f=Js=h;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){_l(r,n,g)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Js=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(g){_l(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){_l(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){_l(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,xu(e,t,n)}function xu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ks;var l=$s;if(Ks=a,($s=u)&&!l)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?ku(i):null!==u?(u.return=a,Js=u):ku(i);for(;null!==o;)Js=o,xu(o,t,n),o=o.sibling;Js=i,Ks=s,$s=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(o(163))}$s||512&t.flags&&iu(t)}catch(d){_l(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function ku(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){_l(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_l(t,i,u)}}var o=t.return;try{iu(t)}catch(u){_l(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){_l(t,a,u)}}}catch(u){_l(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Eu,_u=Math.ceil,Tu=b.ReactCurrentDispatcher,Au=b.ReactCurrentOwner,Su=b.ReactCurrentBatchConfig,Cu=0,Iu=null,Pu=null,Ou=0,Ru=0,Mu=_i(0),Du=0,Lu=null,Nu=0,Fu=0,Bu=0,Uu=null,zu=null,Vu=0,ju=1/0,Yu=null,Wu=!1,Gu=null,Hu=null,Xu=!1,qu=null,Ku=0,$u=0,Qu=null,Ju=-1,Zu=0;function el(){return 0!==(6&Cu)?Qe():-1!==Ju?Ju:Ju=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ou?Ou&-Ou:null!==go.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=xt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Qu=null,Error(o(185));mt(e,n,r),0!==(2&Cu)&&e===Iu||(e===Iu&&(0===(2&Cu)&&(Fu|=n),4===Du&&sl(e,Ou)),rl(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(ju=Qe()+500,Ui&&ji()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Iu?Ou:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(ul.bind(null,e)):Vi(ul.bind(null,e)),ai((function(){0===(6&Cu)&&ji()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(o(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ft(e,e===Iu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Cu;Cu|=2;var a=pl();for(Iu===e&&Ou===t||(Yu=null,ju=Qe()+500,fl(e,t));;)try{yl();break}catch(u){dl(e,u)}ko(),Tu.current=a,Cu=i,null!==Pu?t=0:(Iu=null,Ou=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Lu,fl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(a=pt(e))&&(r=a,t=ol(e,a))),1===t))throw n=Lu,fl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wl(e,zu,Yu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Vu+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,zu,Yu),t);break}wl(e,zu,Yu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,zu,Yu),r);break}wl(e,zu,Yu);break;default:throw Error(o(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=zu,zu=n,null!==t&&al(t)),e}function al(e){null===zu?zu=e:zu.push.apply(zu,e)}function sl(e,t){for(t&=~Bu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cu))throw Error(o(327));kl();var t=ft(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Lu,fl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,zu,Yu),rl(e,Qe()),null}function ll(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(ju=Qe()+500,Ui&&ji())}}function cl(e){null!==qu&&0===qu.tag&&0===(6&Cu)&&kl();var t=Cu;Cu|=1;var n=Su.transition,r=xt;try{if(Su.transition=null,xt=1,e)return e()}finally{xt=r,Su.transition=n,0===(6&(Cu=t))&&ji()}}function hl(){Ru=Mu.current,Ti(Mu)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:oa(),Ti(Ii),Ti(Ci),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Iu=e,Pu=e=Ml(e.current,null),Ou=Ru=t,Du=0,Lu=null,Bu=Fu=Nu=0,zu=Uu=null,null!==So){for(t=0;t<So.length;t++)if(null!==(r=(n=So[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}So=null}return e}function dl(e,t){for(;;){var n=Pu;try{if(ko(),fa.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ma=ga=va=null,xa=!1,ba=0,Au.current=null,null===n||null===n.return){Du=1,Lu=t,Pu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}if(0===(1&t)){gs(a,c,t),vl();break e}l=Error(o(426))}else if(io&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),vo(cs(l,u));break e}}a=l=cs(l,u),4!==Du&&(Du=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,l,t));break e;case 1:u=l;var y=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Hu||!Hu.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}bl(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function pl(){var e=Tu.current;return Tu.current=as,null===e?as:e}function vl(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Iu||0===(268435455&Nu)&&0===(268435455&Fu)||sl(Iu,Ou)}function gl(e,t){var n=Cu;Cu|=2;var r=pl();for(Iu===e&&Ou===t||(Yu=null,fl(e,t));;)try{ml();break}catch(i){dl(e,i)}if(ko(),Cu=n,Tu.current=r,null!==Pu)throw Error(o(261));return Iu=null,Ou=0,Du}function ml(){for(;null!==Pu;)xl(Pu)}function yl(){for(;null!==Pu&&!Ke();)xl(Pu)}function xl(e){var t=Eu(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bl(e):Pu=t,Au.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Ru)))return void(Pu=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Du=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Du&&(Du=5)}function wl(e,t,n){var r=xt,i=Su.transition;try{Su.transition=null,xt=1,function(e,t,n,r){do{kl()}while(null!==qu);if(0!==(6&Cu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Iu&&(Pu=Iu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xu||(Xu=!0,Il(tt,(function(){return kl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Su.transition,Su.transition=null;var s=xt;xt=1;var u=Cu;Cu|=4,Au.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:mo(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){_l(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),$e(),Cu=u,xt=s,Su.transition=a}else e.current=n;if(Xu&&(Xu=!1,qu=e,Ku=i),0===(a=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Gu,Gu=null,e;0!==(1&Ku)&&0!==e.tag&&kl(),0!==(1&(a=e.pendingLanes))?e===Qu?$u++:($u=0,Qu=e):$u=0,ji()}(e,t,n,r)}finally{Su.transition=i,xt=r}return null}function kl(){if(null!==qu){var e=bt(Ku),t=Su.transition,n=xt;try{if(Su.transition=null,xt=16>e?16:e,null===qu)var r=!1;else{if(e=qu,qu=null,Ku=0,0!==(6&Cu))throw Error(o(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Js=f;else for(;null!==Js;){var d=(h=Js).sibling,p=h.return;if(ou(h),h===c){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var x=e.current;for(Js=x;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=x;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(k){_l(u,u.return,k)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Cu=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{xt=n,Su.transition=t}}return!1}function El(e,t,n){e=Lo(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),rl(e,t))}function _l(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Lo(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Ou&n)===n&&(4===Du||3===Du&&(130023424&Ou)===Ou&&500>Qe()-Vu?fl(e,0):Bu|=n),rl(e,t)}function Al(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Po(e,t))&&(mt(e,t,n),rl(e,n))}function Sl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Al(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Al(e,n)}function Il(e,t){return Xe(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Pl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ll(n.children,i,a,t);case _:s=8,i|=8;break;case T:return(e=Ol(12,n,t,2|i)).elementType=T,e.lanes=a,e;case I:return(e=Ol(13,n,t,i)).elementType=I,e.lanes=a,e;case P:return(e=Ol(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Nl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case S:s=9;break e;case C:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ll(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Nl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,o,a,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ol(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function jl(e){if(!e)return Si;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Yl(e,t,n,r,i,o,a,s,u){return(e=zl(n,r,!0,e,0,o,0,s,u)).context=jl(null),n=e.current,(o=Do(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,mt(e,i,r),rl(e,r),e}function Wl(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=jl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(nl(e,i,a,o),No(e,i,a)),a}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&Ni(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ai(ua,1&ua.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ai(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ys(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);To(t,n),i=_a(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Ni(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=jo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ys(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=mo(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Es(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Mo(e,t),Bo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),As(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ai(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Do(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_o(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_o(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Ao(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Es(e,t,r,i=mo(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Ys(e,t),t.tag=1,Ri(r)?(e=!0,Ni(t)):e=!1,To(t,n),Wo(t,r,i),Ho(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Gl(a);s.call(e)}}Wl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Gl(a);o.call(e)}}var a=Yl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[pi]=a.current,jr(8===e.nodeType?e.parentNode:e),cl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gl(u);s.call(e)}}var u=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,jr(8===e.nodeType?e.parentNode:e),cl((function(){Wl(t,u,n,r)})),u}(n,t,e,i,r);return Gl(a)}$l.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wl(e,t,null,null)},$l.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Wl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Qe()),0===(6&Cu)&&(ju=Qe()+500,ji()))}break;case 13:cl((function(){var t=Po(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Xl(e,1)}},kt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)nl(t,e,134217728,el());Xl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Po(e,t);if(null!==n)nl(n,e,t,el());Xl(e,t)}},_t=function(){return xt},Tt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));X(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,Ie=cl;var tc={usingClientEntryPoint:!1,Events:[xi,bi,wi,Ae,Se,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Yl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,l=60112,c=60113,h=60120,f=60115,d=60116,p=60121,v=60122,g=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var x=Symbol.for;n=x("react.element"),r=x("react.portal"),i=x("react.fragment"),o=x("react.strict_mode"),a=x("react.profiler"),s=x("react.provider"),u=x("react.context"),l=x("react.forward_ref"),c=x("react.suspense"),h=x("react.suspense_list"),f=x("react.memo"),d=x("react.lazy"),p=x("react.block"),v=x("react.server.block"),g=x("react.fundamental"),m=x("react.debug_trace_mode"),y=x("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case h:return e;default:switch(e=e&&e.$$typeof){case u:case l:case d:case f:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===m||e===o||e===c||e===h||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===f||e.$$typeof===s||e.$$typeof===u||e.$$typeof===l||e.$$typeof===g||e.$$typeof===p||e[0]===v)},t.typeOf=b},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=x.prototype=new y;b.constructor=x,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+C(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var l=0;l<e.length;l++){var c=o+C(s=e[l],l);u+=I(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,c=o+C(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},M={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)k.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(g=!1,b(e),!v)if(null!==r(l))v=!0,M(k);else{var t=r(c);null!==t&&D(w,t.startTime-e)}}function k(e,n){v=!1,g&&(g=!1,y(A),A=-1),p=!0;var o=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!I());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&D(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,T=null,A=-1,S=5,C=-1;function I(){return!(t.unstable_now()-C<S)}function P(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?E():(_=!1,T=null)}}else _=!1}if("function"===typeof x)E=function(){x(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,E=function(){R.postMessage(null)}}else E=function(){m(P,0)};function M(e){T=e,_||(_=!0,E())}function D(e,n){A=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,M(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(g?(y(A),A=-1):g=!0,D(w,o-a))):(e.sortIndex=s,n(l,e),v||p||(v=!0,M(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],h=t[l];if(!1===(i=n?n.call(r,c,h,l):void 0)||void 0===i&&c!==h)return!1}return!0}},2458:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},3818:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAhACEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//Z"},5154:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhAQMAAABtKlAsAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAAMSURBVHicY2AYDgAAAMYAAcAAx+YAAAAASUVORK5CYII="},349:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAhACEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwC54W8MfAv4CfsOfBTXfEnwY+Euq/214H8NTalcv4A03UNSu7ifTNNCuXWyllllnubhgSqlyzHeXOSMfR/2iP2atdj861/Zt8GXUXny288kXwWWQRyK3l3CqV0bCvG8cilSG2MSNoZTlP2kDeaj/wAE3P2a47G6+z3zeGPh7b2ks8L3FskgGgFWZfNy4VnG6NWTgAZUkhfVfAGpQ/HXX7zxFp/hy3s/ifoVpbw+KfB1wUaDxRA0flWtxBKyxoJfLSNbS9k2LMUW0uygUSaf/PmYYzFfWK0IVZcznKyc3FJJrybSd7X2Tsna9z9WweBwzw1OdSkrcqvaKbd1e/8AXQ8n1/8AaE/Zo0LTb++vP2b/AAbY6bYwSO9xL8GBHHbwRhmMsrto/HzAFnyuFDj5VIC9x8HJP2dv2nfD3xHt9B+Bfwj0u98EQRHUzefDCzsri0lvLa7ltEdJrCEqzCBijRhV+UFlIKg3Nb+I+n6l4gsDH4HMfxFsdTm03w18OLiOAX9hqNu6GTV9XeF5I4REXilttnmQpBLaXcbXN1cWQteA/YEsdZ079of9t6113UV1rWri48KvqN3b20dusk50zVZW8qFMbIFOVVW3bIwu8ySAOaoyxLp1IVa01UhHmsptrSUFbVK6V3d3tfRXs7KtQwvuzo0o8jkldxV9nr87fhr0Pws/spPb/voUVJ5nsKK/beaR4vsKP8p+537SGoW/hj/gnB+zTd315Hp9hbeFfh5ezzXLeVDAoOhb5d7xosahUBLE4wuSzcmus+Idx4q8I+LPBfibR7fUPCfxQ1CG30vRvCiWwtrnX9MiMDTTeIIyokt4Yj5bwN8stkZHMgnubt7CCRPgppv7T3/BPH4KaCvxK0bwHq2n/D3wleW1/Fp9rqctrJa2GnXcZ8kzRozh7fDpK6kAg4kP7s8vpn/BPj4heH/Ger61p/7cVxHrWtBYLq/f4c6Ws08aLiKLedQJjg2BzsXCRyPLuVWkd2/D8RRozxFeo6kIzUpq0+azTa7Qfbe99LK1+ZezhcS40KVPlk1aOyW9vX8PvPXPDN43jL4lXnjiPwlDovxy8JWEdp4m0N54P+J9aXClUvLa6mC/O4t7cW94Sscq2/2O6a3Mdu+neS/sJeKtN8f/ALRP7dmt6G1zJp8194V8pvKlt5oc6dq0ckUqPGZIZF+eN4pSjo6lGBZSAzVf2CPiNqGuaLrcn7c19JrXhw3b6bMnw+0tJLd5ERLiJZF1HlJFVX2nKOYbdsGRV8vtf2Yv2XrX9lq0+Nms6t8arX4reIvihJp7zX9x4ctdHYDT7TUIUZY47mYs0i3CAbUQKUDM28qacFh6NCq51YSlKnyRUXNv4ovlu4q6XLdNtNX5XzWTFKU6k4KMJRjz31Stonru7b+nXTU/n38n/Zaio/NH99aK/bbM8znp/wBWG233F/z3NOX7wooqpGVL4ESd6jf7z/7tFFSbz2/rzMuiiiu4+ZP/2Q=="},1400:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAhACEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD5Ekufht8Ff2f/AIZ3mofDbwDqlxqvhfSpfOm0CyuJ57l7G0Z2YfZ5JJWZ5lJ3Z+Yt7gYGm/tGfC/VLPzI/gj4UVFk2HHg+1k2MCAfmGnclGUgjuQw4BwJv2kJZf8Ahlz4K28NwlrNL4c8Pm3Eo3FX+z6WN+0nJXheCwyBnChgT33gzUdH+OmrrrjaHYw+NtJtkj1rRLiCNo9YtWiKxbTNg5WPBt7hmTgLbTOieXJb/hWIrTi6lWrObbnUStUkkrSslbontfZO17Xuf0BgsFhXh6dSVNWUVf3U27rfXqu3bU8/l/aJ+Ftus8l18F/CMMEPLzHwZbKpQLlm/wCQf8oAMn47W6IBXTfDTxB8O/jh4U+IElj8Mfh/pNx4RsoQskvhPT1kMlxFM4+RrSNgT5LFSd20dMEgnW1XxNo+l+ILdtN8J2Vv44t7trfQfC5sooL2ynj8sfbLtot6qAuyaEq7xLE0U6yTTSQG15D9mK21DSNR/aWXULxb/UY5dLE9xEojjlkNlqe4IuANpywVSM4AJIIJpc8nQnNTnCpGKlZ1JP7UV81Z6va+ivZhUw2G9ypTpxcJStrFJ7O78ttOvc/Pr+xIvQ0Uv/A5KK/WuaXc+V9jQ/kPvP8AaUZbf9mL4I3srQiO10DQXlaSQKY1+yaTyd6gquB3cL1I4rpvFi6h4VvfBOoaPHLpPxCurSGysdCitkFxrVp5arNLqYGSqgq2wHD22w5Blka3tpNf+HOmfHH9nv4V2Mnj3TfC8mk+FtHZnWG0u5beRdOsJYx5bzxkfMgJBxy7EgnIOJb/ALM15pviO81SP9pq9j1DU0jgnnPh+zaaeOMZRB/p5+VVVSFyBuHTgtX5PKWHbqQqTjGSnU0kpO6lLbSLVn1e/az1PqcNWnHDU48spRag/dSeqjbrJfd/wx6b4a/4qvxuuuSaDBpvxT0GzFvqNhPPGDqFs8SqkkU5AXdmMJDOSAoj+zTsgWKS187/AGetZt/EPir9qS9sjI9rNfae0HmQtCyYs9VwJIyg8txjaylQyNuXAAYVFdfs46lqet6feSftO382oaa7tYzy6JZCWDzAEYbv7QyqkCIMvKjap/5Zgjf+GPw10L4E+BviZNN8Trfxlr3jm2t3+0XFtb2M8Zht7qJQEW5l813NzGG6Y2MCSX2nnjHD06NVxqKc5RjFKKnf407XcVdK2nVLRt2THWqzq1IRUJRipczvZbJq+je99Vt10Pzf2n/nmv50VT8z/ptH+dFfr3Iz5X6xH+rDtF/49/xqzN/yz+tFFVL4ycL/ALtH5foMm/1y/SoLz7jfQ0UUQ3ROI+GX9dDKooor0D5U/9k="},9041:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAhACEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9SJ71YZ1jZZ/mAIdYWKDPHLAYH4mvyh/bO/aS/ak/bg/4Kb69+y18B9e8QeA/DPhRYxrviXSINl5Cfs6XBuJbyLZJDFueONY4mR2LEEvkKP1X1vV7PStDvry8ubG3s7GCSa6lupVWC3jUEs0jHhUABJJ6YNfGfgnXrPUf2ifGfi/Tfhj8TPGXwP8AFt3pniMan4HuNW0u6bxFawvAbhLaOSB9Qs54fLjkxmON7YbowW3H83w7rwp1K2Hp88lHTS9nddNL23tfpoerWkrJN2Pgj9kT9sf9uX/gnb+0p4T8NfH7R/inrnw68YeJ4PDtxd+Nra5vF86eRYVmstTnBb5SVYJvaIru+Tccj9ybAKIm23bXq7iolbZzjr90Adj15r4Q+PvxJ0P4+/G3w7rGk/C/4yQ+C4/E9t4j+Iuo+KRqzYeyEklrFa6UZZBBAtwY7iWeBY40FsFO7dsP2v4J8eWPxZ8F6b4j8P61p+p6TqiGaC8tQZYZ1zj+LaVYHKsrAFTwQCCKrEVK9ejTr4ij7OTWqtbXT1trfztZio2V4p3Rv4Wiq/2yD/n5h/8AHf8AGiuE6TxT9q278Ot8Tvhjp3j7VrXwf8LYtRu9c8RavqTrHo+q3FtbOun6TdE/KDLczLdqZf3cjab5OGeeNT4Vo/8AwWOvIfi58To/Evg3xPJpOl6mmj6PafZTZ3FrbizhnNzKjI7l5vtCvtkZTHGsYKKzOo+yPHWsaL4H8MalrHiKaGDw/Y28l7qV1qN1EthZQx/vGlkMzBEVcbs4429sAH8nP2lPijfW/jj4n+MdO0uZtF+IPiiLULCS9aSK+tre6isrFWmtzGdkpETSrGz7kWSNZEjkEkKfo3h0srqY2VPOqzp0OSSVv5tWraat366aI+W4qeaQwyqZTT56qlHR7KN1e/l3Z738Wf8AgtA3wy+G+i6l4R8F+Io/7F1DT0vIpbIXEurWklykUsMMaxgiVll3IyyAl40XkOa+iPgt4v8AC/if9sXxJqXw38QS+JvCHjDw1b6v4hgs1ktbbwt4hiuJUdLuCRQYr28tpot9uwWaI6UXmQG4jZvz9+JPhrWvAfiHxB4T02G68V6f8PfHUVhb3c92kesahbaVqlrcHzYvKihFw8cTKoLxIxK52DJH6n/Bv4meHfjF4Dh8YeC5P7Q0vXpnmLzOYZRMpKypPGQzxXEbgxSRyKsiPGyuBtwejxC/seEsPHI68qlNwvO9r8z6S00aWuj6GPC39r1IVJZvTUJc75bbOOmq62ep1v2O3/594f8AvgUVF/YEP/Pe8/8AAt/8aK/MT648U/4Kh/8AKNf49/8AYgax/wCkclfyu/AD/kvvgX/sYLD/ANKY6KK+wyD/AHaXq/yRy4jc94/4Laf8pa/2gP8Asbrv/wBlr9wP+Ddj/lEB8L/+v7Wf/Trc0UVOa/8AIvj/ANu/kFL4/v8AzPt6iiivkTqP/9k="},6353:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAhACEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9Rbo3NxprLc2aSaT+8hbdNJOj4jjUZiCkqfMncksdgaVeApcCeyng0JZLqxK2emXQijjFtphtnglJj8sSY3SKiLFC2SpbMMoDN80lU/OtL2KFWkvNN3SRwPJPEtu8cpmVXUpMBtHVMEqSTu3JnaLFtceRZzXdrcw30qwhra5D/ZvOkOGWRAi4ChgSDsChOyMyCvwm7Sa2W/pbslb57o5dbWJrNZzqB1CPULi6huFnO0wgB5Ilcu/zRlyrFmyjHDoQzqqurCt4csLaxsJ4Y9LfRXkaCC5MlrtxIglMe/a7EbRhOF3BVkC5AIlZd+J5baCSTUZ7WCSWJYy/2wtHIDH5koPmpknzCzZHyhlZx0BS08MkulJbtdMzXVybmOZG+zbVf5Cn3VUR5+Q7SqkRMr7lCMCMkrPyDme3T8x39saL/wA+msf+Bdv/APGaK5f/AIRfTf8An417/wAG9z/8eorL6vW7oz9tHsb73Vtr2oTQ3WnTO08gk82S4Uw7/NWTqxJRsNgO4bBjZmB3Kyy3dmtrBGLGK1j0/cYgBlGjYKGVERhwoRsMokYKyAkkFDVW3SPTPJjWLVbqzVlaWVJvMVJGwoAMp+RiqgMRuz5Lv8/ANqxgGnQyajH/AGpIkKp5v+kPcSgR7ZMRBVcxsqiRlYY+VNo3CPBrWS5rf1rf/Iuy0sZt+tvII/tWltqkI3I0X7vgFGU/MxAViDgEZUE4ORuNa+s6VJe3Vszq9uYEcIkbOI0MauzReXjI2bhlXz82ZCxVg1JZa2viy+eZmZrPyyp863k+1Yw8okDEAHapZZBhVdnJYq4d1pvbyJaXTW41BboRxM0N7eHZP8p2GMHOEXzDgkbgrqFXYm9nF9xcqSND/hHNP/6CWm/9+bn/AON0VY8ib/oEeF//AAc//dFFT9Xl3/Fi90s+Jf8AkB6Z/ux/+ktjUOk/8jL4N+sX/pdLRRXRT/i/J/mVHf7iDxb/AMj7qX/X3c/+jTWXD/qYPrF/6C1FFYy3Xy/MifwshooornMT/9k="},5716:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAhACEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9QvEF3NY6lNH5MrWNq7ojtK7XAiILeWYfL4kRiwZQSpLMRjA3N0+zXwhE1xssW0/HnG2isWSYgQlFPTcyqRKh8oDmNQGQrGxuah4is9e8NTTLdJoltIREZZIWjWBn3SyIA2flAKyKhj2jyZAMvHIZPLfjR8Zrj4d2tvpemKsmpXga4mu51VxFC5dfLSMLs3HEnzNkjYhH3Xevw2nRlVqJUkrtXXkvLyW+qKwODrYmtGjRWsv03buemabLJqkP2xbq8mtsGWLTQPKXBljCgNJ/qsebJhpGOGdw3UVHo8VlZWEy2+mx6f50X2Z0VFSe4C4CyEoCrKGjQBG4VSMDfuceK/Cf9pO/fxSlr4luDeafdhbczFY1mtQp+TDYAC8xpkj5QcgsCqSe5WPh3+0dKtbWS6NxPJcKqSJIqF08tGJIi5b5jyCAxLbAHGI4rrUKlH4/i7/1saZjluIwU/ZVuvbZm5/wtO6/ut/4Mp//AJIorjftmpf9BzxF/wCFDcf/AB6isuSr/N+J5vu9jTmki1GT+z5tLju7ENJMrNEhEgRFUF0jkyMqJFORuVZJn53KzebfHv4F6t441EX2kwh5tNjaFoZSIZLgRsxYAfdDJ5gLDccK7H7qsJPRruO30mZreGO/eKaeJ5jHci6hjVVVDtMrg/Jl8YLBhu+cnLSxqIbFJDJLfF5FVH8yeS4XerHy8IVONqsYxjoDkssa4BTrSpSU+v6bNHZgsbVwldV6T1X9fieF/Dz9nnXLfX4b/WNNZrS1ZpTBC8M8kxRBLyN+PLGFyzjBKYA2jdF9Ba1ZGDUTImy0uNPnCQpayNEm7a5BI3bsgCMcjcCAXCyAlqdlqs1zfwTQyLDFArQgSLJH5LZwJQ2dyhX3PhQwLHK8HDSafDtu5jZR3mVkSCL+0ZR5AG8TKRuEgj3N54CELjgFmjDGtK2IlWfM35am2Z5lWx1RTrfgS+b4d/599Q/8C4v/AIxRXLf2tqv/AEDdL/8ABjN/8born5ZfyM83XyOx8Wf8jnqn/X5d/wDodR69/wAhC0/687f/ANIoaKK07f4n+pEvt/Iv6P8A8g+D6ap/6b4ap+Nf+Rj1b/r6vf8A0JqKKwxW3zX5mtL4P67H0NRRRX0ZR//Z"},3254:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAhACEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwCT4MfBjwfqnwe8KXNz4T8NXFzcaNZyyyy6XA7yu0CFmZiuSSSSSetdL/wonwR/0JvhX/wU2/8A8RR/wonwR/0JvhX/AMFNv/8AEVzXwY+DHg/VPg94Uubnwn4auLm40azllll0uB3ldoELMzFckkkkk9a/mKtjPa8+IVeolzbW/mu/5+lj2lG2lkHwY+DHg/VPg94Uubnwn4auLm40azllll0uB3ldoELMzFckkkkk9a6X/hRPgj/oTfCv/gpt/wD4ij/hRPgj/oTfCv8A4Kbf/wCIrmvgx8GPB+qfB7wpc3PhPw1cXNxo1nLLLLpcDvK7QIWZmK5JJJJJ60VsZ7XnxCr1Euba3813/P0sCjbSyPz7or9Kf+FE+CP+hN8K/wDgpt//AIiiv0n/AIinhf8AnxL70cf1GXc5r4MfBjwfqnwe8KXNz4T8NXFzcaNZyyyy6XA7yu0CFmZiuSSSSSetdL/wonwR/wBCb4V/8FNv/wDEUf8ACifBH/Qm+Ff/AAU2/wD8RXNfBj4MeD9U+D3hS5ufCfhq4ubjRrOWWWXS4HeV2gQszMVySSSST1r82rYz2vPiFXqJc21v5rv+fpY7FG2lkHwY+DHg/VPg94Uubnwn4auLm40azllll0uB3ldoELMzFckkkkk9a6X/AIUT4I/6E3wr/wCCm3/+Io/4UT4I/wChN8K/+Cm3/wDiK5r4MfBjwfqnwe8KXNz4T8NXFzcaNZyyyy6XA7yu0CFmZiuSSSSSetFbGe158Qq9RLm2t/Nd/wA/SwKNtLI/Puiv0p/4UT4I/wChN8K/+Cm3/wDiKK/Sf+Ip4X/nxL70cf1GXc/Naiiiv1Q4QooooA/pAooor5s+PP/Z"},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/vinhnt/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return oc},SDK_VERSION:function(){return Sh},_DEFAULT_ENTRY_NAME:function(){return ph},_addComponent:function(){return yh},_addOrOverwriteComponent:function(){return xh},_apps:function(){return gh},_clearComponents:function(){return Eh},_components:function(){return mh},_getProvider:function(){return wh},_registerComponent:function(){return bh},_removeServiceInstance:function(){return kh},deleteApp:function(){return Oh},getApp:function(){return Ih},getApps:function(){return Ph},initializeApp:function(){return Ch},onLog:function(){return Dh},registerVersion:function(){return Mh},setLogLevel:function(){return Lh}});var t,r=n(2791),i=n.t(r,2),o=n(1250);function a(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||u(e,t)||l()}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var d="beforeunload",p="popstate";function v(e){e.preventDefault(),e.returnValue=""}function g(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function x(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b=(0,r.createContext)(null);var w=(0,r.createContext)(null);var k=(0,r.createContext)({outlet:null,matches:[]});function E(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=R(("string"===typeof t?x(t):t).pathname||"/",n);if(null==r)return null;var i=T(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=I(i[a],r);return o}function T(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||E(!1),o.relativePath=o.relativePath.slice(r.length));var a=M([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&E(!1),T(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:C(a,e.index),routesMeta:s})})),t}var A=/^:\w+$/,S=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(A.test(t)?3:""===t?1:10)}),r)}function I(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=P({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;o.push({params:r,pathname:M([i,c.pathname]),pathnameBase:D(M([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),h=o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(hU){return e}}(l[n]||""),e}),{});return{params:h,pathname:s,pathnameBase:u,pattern:e}}function O(e,t,n){var r,i="string"===typeof e?x(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?x(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:L(o),hash:N(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var M=function(e){return e.join("/").replace(/\/\/+/g,"/")},D=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},N=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function F(e){B()||E(!1);var t=(0,r.useContext)(b),n=t.basename,i=t.navigator,o=V(e),a=o.hash,s=o.pathname,u=o.search,l=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?x(e).pathname:e.pathname}(e),h=null!=c&&c.endsWith("/");l="/"===s?n+(h?"/":""):M([n,s])}return i.createHref({pathname:l,search:u,hash:a})}function B(){return null!=(0,r.useContext)(w)}function U(){return B()||E(!1),(0,r.useContext)(w).location}function z(){B()||E(!1);var e=(0,r.useContext)(b),t=e.basename,n=e.navigator,i=(0,r.useContext)(k).matches,o=U().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=O(e,JSON.parse(a),o);"/"!==t&&(i.pathname=M([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,a,o]);return u}function V(e){var t=(0,r.useContext)(k).matches,n=U().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return O(e,JSON.parse(i),n)}),[e,i,n])}function j(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,o){return(0,r.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})}),null)}function Y(e){E(!1)}function W(e){var n=e.basename,i=void 0===n?"/":n,o=e.children,a=void 0===o?null:o,s=e.location,u=e.navigationType,l=void 0===u?t.Pop:u,c=e.navigator,h=e.static,f=void 0!==h&&h;B()&&E(!1);var d=D(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof s&&(s=x(s));var v=s,g=v.pathname,m=void 0===g?"/":g,y=v.search,k=void 0===y?"":y,_=v.hash,T=void 0===_?"":_,A=v.state,S=void 0===A?null:A,C=v.key,I=void 0===C?"default":C,P=(0,r.useMemo)((function(){var e=R(m,d);return null==e?null:{pathname:e,search:k,hash:T,state:S,key:I}}),[d,m,k,T,S,I]);return null==P?null:(0,r.createElement)(b.Provider,{value:p},(0,r.createElement)(w.Provider,{children:a,value:{location:P,navigationType:l}}))}function G(e){var t=e.children,n=e.location;return function(e,t){B()||E(!1);var n,i=(0,r.useContext)(k).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,U());if(t){var l,c="string"===typeof t?x(t):t;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||E(!1),n=c}else n=u;var h=n.pathname||"/",f=_(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return j(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:M([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:M([s,e.pathnameBase])})})),i)}(H(t),n)}function H(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==Y&&E(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=H(e.props.children)),t.push(n)}else t.push.apply(t,H(e.props.children))})),t}function X(){return X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function q(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function $(e){var n=e.basename,i=e.children,o=e.window,a=(0,r.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=r.location,t=e.pathname,n=e.search,o=e.hash,a=i.state||{};return[a.idx,f({pathname:t,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(p,(function(){if(a)w.call(a),a=null;else{var e=t.Pop,n=o(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=l-r;s&&(a={action:e,location:i,retry:function(){S(-1*s)}},S(s))}}else A(e)}}));var s=t.Pop,u=o(),l=u[0],c=u[1],b=g(),w=g();function k(e){return"string"===typeof e?e:y(e)}function E(e,t){return void 0===t&&(t=null),f(h({pathname:c.pathname,hash:"",search:""},"string"===typeof e?x(e):e,{state:t,key:m()}))}function _(e,t){return[{usr:e.state,key:e.key,idx:t},k(e)]}function T(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function A(e){s=e;var t=o();l=t[0],c=t[1],b.call({action:s,location:c})}function S(e){i.go(e)}null==l&&(l=0,i.replaceState(h({},i.state,{idx:l}),""));var C={get action(){return s},get location(){return c},createHref:k,push:function e(n,o){var a=t.Push,s=E(n,o);if(T(a,s,(function(){e(n,o)}))){var u=_(s,l+1),c=u[0],h=u[1];try{i.pushState(c,"",h)}catch(hU){r.location.assign(h)}A(a)}},replace:function e(n,r){var o=t.Replace,a=E(n,r);if(T(o,a,(function(){e(n,r)}))){var s=_(a,l),u=s[0],c=s[1];i.replaceState(u,"",c),A(o)}},go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(d,v),function(){t(),w.length||r.removeEventListener(d,v)}}};return C}({window:o}));var s=a.current,u=c((0,r.useState)({action:s.action,location:s.location}),2),l=u[0],b=u[1];return(0,r.useLayoutEffect)((function(){return s.listen(b)}),[s]),(0,r.createElement)(W,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:s})}var Q=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,u=e.target,l=e.to,c=q(e,K),h=F(l),f=function(e,t){var n=void 0===t?{}:t,i=n.target,o=n.replace,a=n.state,s=z(),u=U(),l=V(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!o||y(u)===y(l);s(e,{replace:n,state:a})}}),[u,s,l,o,a,i,e])}(l,{replace:a,state:s,target:u});return(0,r.createElement)("a",X({},c,{href:h,onClick:function(e){n&&n(e),e.defaultPrevented||i||f(e)},ref:t,target:u}))}));function J(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Z(e){return function(e){if(Array.isArray(e))return s(e)}(e)||J(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=n(184),te=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),o=i[0],a=i[1],s=c((0,r.useState)([{name:"Samsung Galaxy J7",price:"320$"},{name:"Samsung Galaxy J6",price:"290$"},{name:"Iphone 5S",price:"220$"},{name:"Samsung Galaxy A53",price:"490$"}]),2),u=s[0],l=s[1],h=c((0,r.useState)(0),2),f=h[0],d=h[1],p=c((0,r.useState)("ADD ITEM"),2),v=p[0],g=p[1];return(0,ee.jsxs)("div",{children:[(0,ee.jsxs)("div",{className:"admin-main",children:[(0,ee.jsx)("h1",{children:v}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("label",{children:"Name: "}),(0,ee.jsx)("input",{value:t,onChange:function(e){return n(e.target.value)}})]}),(0,ee.jsxs)("div",{children:[(0,ee.jsx)("label",{children:"Price: "}),(0,ee.jsx)("input",{value:o,onChange:function(e){return a(e.target.value)}})]}),(0,ee.jsx)("button",{onClick:"ADD ITEM"===v?function(){u.find((function(e){return e.name===t}))?alert("Tr\xf9ng t\xean"):""===t?alert("Kh\xf4ng \u0111\u1ec3 tr\u1ed1ng Name"):(l([].concat(Z(u),[{name:t,price:o}])),n(""),a(""),g("ADD ITEM"))}:function(){u.splice(f,1,{name:t,price:o}),l(u),n(""),a(""),g("ADD ITEM")},children:"ADD"})]}),(0,ee.jsxs)("div",{className:"admin-list",children:[(0,ee.jsx)("h1",{children:"List Products"}),(0,ee.jsxs)("table",{children:[(0,ee.jsx)("thead",{children:(0,ee.jsxs)("tr",{children:[(0,ee.jsx)("th",{children:"STT"}),(0,ee.jsx)("th",{children:"Name"}),(0,ee.jsx)("th",{children:"Price"}),(0,ee.jsx)("th",{children:"Modify"}),(0,ee.jsx)("th",{children:"Remove"})]})}),(0,ee.jsx)("tbody",{children:u.map((function(e,t){return(0,ee.jsxs)("tr",{className:"admin-table",children:[(0,ee.jsx)("td",{children:t+1}),(0,ee.jsx)("td",{children:e.name}),(0,ee.jsx)("td",{children:e.price}),(0,ee.jsx)("td",{onClick:function(){return function(e,t){n(e.name),a(e.price),d(t),g("UPDATE ITEM")}(e,t)},children:(0,ee.jsx)("button",{className:"admin-modify",children:"Modify"})}),(0,ee.jsx)("td",{onClick:function(){return function(e){u.splice(e,1),l(u),d(e),g("ADD ITEM ")}(t)},children:(0,ee.jsx)("button",{className:"admin-remove",children:"Remove"})})]},e.name)}))})]})]})]})};function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(){re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=u;var c={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(_([])));g&&g!==t&&n.call(g,i)&&(p=g);var m=d.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==ne(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function ie(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(hU){return void n(hU)}s.done?t(u):Promise.resolve(u).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ie(o,r,i,a,s,"next",e)}function s(e){ie(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function ce(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function he(e,t){if(null==e)return{};var n,r,i=ce(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fe=n(1694),de=n.n(fe),pe=(0,r.createContext)({});function ve(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function ge(e){return Math.min(1,Math.max(0,e))}function me(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ye(e){return e<=1?"".concat(100*Number(e),"%"):e}function xe(e){return 1===e.length?"0"+e:String(e)}function be(e,t,n){e=ve(e,255),t=ve(t,255),n=ve(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var u=r-i;switch(a=s>.5?u/(2-r-i):u/(r+i),r){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:a,l:s}}function we(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ke(e,t,n){e=ve(e,255),t=ve(t,255),n=ve(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,u=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:a}}function Ee(e,t,n,r){var i=[xe(Math.round(e).toString(16)),xe(Math.round(t).toString(16)),xe(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function _e(e){return Math.round(255*parseFloat(e)).toString(16)}function Te(e){return Ae(e)/255}function Ae(e){return parseInt(e,16)}var Se={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ce(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Se[e])e=Se[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=Re.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Re.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Re.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=Re.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Re.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=Re.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Re.hex8.exec(e))return{r:Ae(n[1]),g:Ae(n[2]),b:Ae(n[3]),a:Te(n[4]),format:t?"name":"hex8"};if(n=Re.hex6.exec(e))return{r:Ae(n[1]),g:Ae(n[2]),b:Ae(n[3]),format:t?"name":"hex"};if(n=Re.hex4.exec(e))return{r:Ae(n[1]+n[1]),g:Ae(n[2]+n[2]),b:Ae(n[3]+n[3]),a:Te(n[4]+n[4]),format:t?"name":"hex8"};if(n=Re.hex3.exec(e))return{r:Ae(n[1]+n[1]),g:Ae(n[2]+n[2]),b:Ae(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Me(e.r)&&Me(e.g)&&Me(e.b)?(t=function(e,t,n){return{r:255*ve(e,255),g:255*ve(t,255),b:255*ve(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Me(e.h)&&Me(e.s)&&Me(e.v)?(r=ye(e.s),i=ye(e.v),t=function(e,t,n){e=6*ve(e,360),t=ve(t,100),n=ve(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}(e.h,r,i),a=!0,s="hsv"):Me(e.h)&&Me(e.s)&&Me(e.l)&&(r=ye(e.s),o=ye(e.l),t=function(e,t,n){var r,i,o;if(e=ve(e,360),t=ve(t,100),n=ve(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=we(s,a,e+1/3),i=we(s,a,e),o=we(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=me(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Ie="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Pe="[\\s|\\(]+(".concat(Ie,")[,|\\s]+(").concat(Ie,")[,|\\s]+(").concat(Ie,")\\s*\\)?"),Oe="[\\s|\\(]+(".concat(Ie,")[,|\\s]+(").concat(Ie,")[,|\\s]+(").concat(Ie,")[,|\\s]+(").concat(Ie,")\\s*\\)?"),Re={CSS_UNIT:new RegExp(Ie),rgb:new RegExp("rgb"+Pe),rgba:new RegExp("rgba"+Oe),hsl:new RegExp("hsl"+Pe),hsla:new RegExp("hsla"+Oe),hsv:new RegExp("hsv"+Pe),hsva:new RegExp("hsva"+Oe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Me(e){return Boolean(Re.CSS_UNIT.exec(String(e)))}var De=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Le(e){var t=ke(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Ne(e){var t=e.r,n=e.g,r=e.b;return"#".concat(Ee(t,n,r,!1))}function Fe(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Be(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Ue(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function ze(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Ve(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Ce(e),i=5;i>0;i-=1){var o=Le(r),a=Ne(Ce({h:Be(o,i,!0),s:Ue(o,i,!0),v:ze(o,i,!0)}));n.push(a)}n.push(Ne(r));for(var s=1;s<=4;s+=1){var u=Le(r),l=Ne(Ce({h:Be(u,s),s:Ue(u,s),v:ze(u,s)}));n.push(l)}return"dark"===t.theme?De.map((function(e){var r=e.index,i=e.opacity;return Ne(Fe(Ce(t.backgroundColor||"#141414"),Ce(n[r]),100*i))})):n}var je={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ye={},We={};Object.keys(je).forEach((function(e){Ye[e]=Ve(je[e]),Ye[e].primary=Ye[e][5],We[e]=Ve(je[e],{theme:"dark",backgroundColor:"#141414"}),We[e].primary=We[e][5]}));Ye.red,Ye.volcano,Ye.gold,Ye.orange,Ye.yellow,Ye.lime,Ye.green,Ye.cyan,Ye.blue,Ye.geekblue,Ye.purple,Ye.magenta,Ye.grey;var Ge={};function He(e,t){0}function Xe(e,t,n){t||Ge[n]||(e(!1,n),Ge[n]=!0)}var qe=function(e,t){Xe(He,e,t)};function Ke(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var $e="rc-util-key";function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):$e}function Je(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Ze(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ke())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var o=Je(n),a=o.firstChild;return n.prepend&&o.prepend?o.prepend(i):n.prepend&&a?o.insertBefore(i,a):o.appendChild(i),i}var et=new Map;function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Je(t);return Array.from(et.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(Qe(t))===e}))}function nt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Je(n);if(!et.has(r)){var i=Ze("",n),o=i.parentNode;et.set(r,o),o.removeChild(i)}var a=tt(t,n);if(a){var s,u,l;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&a.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))a.nonce=null===(l=n.csp)||void 0===l?void 0:l.nonce;return a.innerHTML!==e&&(a.innerHTML=e),a}var c=Ze(e,n);return c.setAttribute(Qe(n),t),c}function rt(e){return"object"===ne(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===ne(e.icon)||"function"===typeof e.icon)}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ot(e,t,n){return n?r.createElement(e.tag,ue(ue({key:t},it(e.attrs)),n),(e.children||[]).map((function(n,r){return ot(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,ue({key:t},it(e.attrs)),(e.children||[]).map((function(n,r){return ot(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function at(e){return Ve(e)[0]}function st(e){return e?Array.isArray(e)?e:[e]:[]}var ut="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",lt=["icon","className","onClick","style","primaryColor","secondaryColor"],ct={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var ht=function(e){var t=e.icon,n=e.className,i=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,u=he(e,lt),l=ct;if(a&&(l={primaryColor:a,secondaryColor:s||at(a)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=(0,r.useContext)(pe).csp;(0,r.useEffect)((function(){nt(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){qe(e,"[@ant-design/icons] ".concat(t))}(rt(t),"icon should be icon definiton, but got ".concat(t)),!rt(t))return null;var c=t;return c&&"function"===typeof c.icon&&(c=ue(ue({},c),{},{icon:c.icon(l.primaryColor,l.secondaryColor)})),ot(c.icon,"svg-".concat(c.name),ue({className:n,onClick:i,style:o,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};ht.displayName="IconReact",ht.getTwoToneColors=function(){return ue({},ct)},ht.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ct.primaryColor=t,ct.secondaryColor=n||at(t),ct.calculated=!!n};var ft=ht;function dt(e){var t=c(st(e),2),n=t[0],r=t[1];return ft.setTwoToneColors({primaryColor:n,secondaryColor:r})}var pt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];dt("#1890ff");var vt=r.forwardRef((function(e,t){var n,i=e.className,o=e.icon,a=e.spin,s=e.rotate,u=e.tabIndex,l=e.onClick,h=e.twoToneColor,f=he(e,pt),d=r.useContext(pe).prefixCls,p=void 0===d?"anticon":d,v=de()(p,(ae(n={},"".concat(p,"-").concat(o.name),!!o.name),ae(n,"".concat(p,"-spin"),!!a||"loading"===o.name),n),i),g=u;void 0===g&&l&&(g=-1);var m=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,y=c(st(h),2),x=y[0],b=y[1];return r.createElement("span",ue(ue({role:"img","aria-label":o.name},f),{},{ref:t,tabIndex:g,onClick:l,className:v}),r.createElement(ft,{icon:o,primaryColor:x,secondaryColor:b,style:m}))}));vt.displayName="AntdIcon",vt.getTwoToneColor=function(){var e=ft.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},vt.setTwoToneColor=dt;var gt=vt,mt=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:le}))};mt.displayName="CheckOutlined";var yt=r.forwardRef(mt),xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},bt=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:xt}))};bt.displayName="CopyOutlined";var wt=r.forwardRef(bt),kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},Et=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:kt}))};Et.displayName="EditOutlined";var _t=r.forwardRef(Et),Tt=n(6998),At=n.n(Tt),St=n(3873);function Ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(Ct(e)):(0,St.isFragment)(e)&&e.props?n=n.concat(Ct(e.props.children,t)):n.push(e))})),n}function It(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}function Pt(e,t){"function"===typeof e?e(t):"object"===ne(e)&&e&&"current"in e&&(e.current=t)}function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Pt(t,e)}))}}function Rt(e){var t,n,r=(0,St.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var Mt=n(4164),Dt=n.t(Mt,2);function Lt(e){return e instanceof HTMLElement?e:Mt.findDOMNode(e)}var Nt=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Ft="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Bt="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Ut="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Bt):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var zt=["top","right","bottom","left","width","height","size","weight"],Vt="undefined"!==typeof MutationObserver,jt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Ut(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Ft&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Vt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Ft&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=zt.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Yt=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Wt=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Bt},Gt=Qt(0,0,0,0);function Ht(e){return parseFloat(e)||0}function Xt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ht(e["border-"+n+"-width"])}),0)}function qt(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Gt;var r=Wt(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Ht(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Ht(r.width),u=Ht(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Xt(r,"left","right")+o),Math.round(u+a)!==n&&(u-=Xt(r,"top","bottom")+a)),!function(e){return e===Wt(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return Qt(i.left,i.top,s,u)}var Kt="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Wt(e).SVGGraphicsElement}:function(e){return e instanceof Wt(e).SVGElement&&"function"===typeof e.getBBox};function $t(e){return Ft?Kt(e)?function(e){var t=e.getBBox();return Qt(0,0,t.width,t.height)}(e):qt(e):Gt}function Qt(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Jt=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Qt(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=$t(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Zt=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Yt(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);Yt(this,{target:e,contentRect:n})},en=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Nt,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Wt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Jt(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Wt(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Zt(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),tn="undefined"!==typeof WeakMap?new WeakMap:new Nt,nn=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=jt.getInstance(),r=new en(t,n,this);tn.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){nn.prototype[e]=function(){var t;return(t=tn.get(this))[e].apply(t,arguments)}}));var rn="undefined"!==typeof Bt.ResizeObserver?Bt.ResizeObserver:nn,on=new Map;var an=new rn((function(e){e.forEach((function(e){var t,n=e.target;null===(t=on.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cn(e,t){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cn(e,t)}function hn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fn(e)}function dn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(VX){return!1}}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vn(e,t){if(t&&("object"===ne(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function gn(e){var t=dn();return function(){var n,r=fn(e);if(t){var i=fn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vn(this,n)}}var mn=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),yn=r.createContext(null);function xn(e){var t=e.children,n=e.disabled,i=r.useRef(null),o=r.useRef(null),a=r.useContext(yn),s="function"===typeof t,u=s?t(i):t,l=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!s&&r.isValidElement(u)&&Rt(u),h=c?u.ref:null,f=r.useMemo((function(){return Ot(h,i)}),[h,i]),d=r.useRef(e);d.current=e;var p=r.useCallback((function(e){var t=d.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,u=e.offsetWidth,c=e.offsetHeight,h=Math.floor(o),f=Math.floor(s);if(l.current.width!==h||l.current.height!==f||l.current.offsetWidth!==u||l.current.offsetHeight!==c){var p={width:h,height:f,offsetWidth:u,offsetHeight:c};l.current=p;var v=u===Math.round(o)?o:u,g=c===Math.round(s)?s:c,m=ue(ue({},p),{},{offsetWidth:v,offsetHeight:g});null===a||void 0===a||a(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return r.useEffect((function(){var e,t,r=Lt(i.current)||Lt(o.current);return r&&!n&&(e=r,t=p,on.has(e)||(on.set(e,new Set),an.observe(e)),on.get(e).add(t)),function(){return function(e,t){on.has(e)&&(on.get(e).delete(t),on.get(e).size||(an.unobserve(e),on.delete(e)))}(r,p)}}),[i.current,n]),r.createElement(mn,{ref:o},c?r.cloneElement(u,{ref:f}):u)}function bn(e){var t=e.children;return("function"===typeof t?[t]:Ct(t)).map((function(t,n){var i=(null===t||void 0===t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return r.createElement(xn,h({},e,{key:i}),t)}))}bn.Collection=function(e){var t=e.children,n=e.onBatchResize,i=r.useRef(0),o=r.useRef([]),a=r.useContext(yn),s=r.useCallback((function(e,t,r){i.current+=1;var s=i.current;o.current.push({size:e,element:t,data:r}),Promise.resolve().then((function(){s===i.current&&(null===n||void 0===n||n(o.current),o.current=[])})),null===a||void 0===a||a(e,t,r)}),[n,a]);return r.createElement(yn.Provider,{value:s},t)};var wn,kn=bn,En=Ke()?r.useLayoutEffect:r.useEffect;function _n(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}function Tn(e){var t=r.useRef(!1),n=c(r.useState(e),2),i=n[0],o=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||o(e)}]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(wn||(wn={}));function An(e){return void 0!==e}function Sn(e,t){var n=t||{},i=n.defaultValue,o=n.value,a=n.onChange,s=n.postState,u=c(Tn((function(){var t,n=void 0;return An(o)?(n=o,t=wn.PROP):An(i)?(n="function"===typeof i?i():i,t=wn.PROP):(n="function"===typeof e?e():e,t=wn.INNER),[n,t,n]})),2),l=u[0],h=u[1],f=An(o)?o:l[0],d=s?s(f):f;!function(e,t){var n=r.useRef(!0);En((function(){if(!n.current)return e()}),t),En((function(){return n.current=!1,function(){n.current=!0}}),[])}((function(){h((function(e){var t=c(e,1)[0];return[o,wn.PROP,t]}))}),[o]);var p=r.useRef(),v=_n((function(e,t){h((function(t){var n=c(t,3),r=n[0],i=n[1],o=n[2],a="function"===typeof e?e(r):e;if(a===r)return t;var s=i===wn.INNER&&p.current!==o?o:r;return[a,wn.INNER,s]}),t)})),g=_n(a);return En((function(){var e=c(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===wn.INNER&&(g(t,r),p.current=r)}),[l]),[d,v]}function Cn(e,t){var n=ue({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var In=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),Pn=In.Consumer;var On=(0,r.createContext)(void 0),Rn={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Mn={lang:h({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:h({},Rn)},Dn="${label} is not a valid ${type}",Ln={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:Mn,TimePicker:Rn,Calendar:Mn,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Dn,method:Dn,array:Dn,object:Dn,number:Dn,date:Dn,boolean:Dn,integer:Dn,float:Dn,regexp:Dn,email:Dn,url:Dn,hex:Dn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Nn=Ln,Fn=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||Nn[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return h(h({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?Nn.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(r.Component);function Bn(e,t){var n=r.useContext(On),i=r.useMemo((function(){var r=t||Nn[e||"global"],i=e&&n?n[e]:{};return h(h({},"function"===typeof r?r():r),i||{})}),[e,t,n]);return[i]}Fn.defaultProps={componentName:"global"},Fn.contextType=On;var Un=function(e){return+setTimeout(e,16)},zn=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Un=function(e){return window.requestAnimationFrame(e)},zn=function(e){return window.cancelAnimationFrame(e)});var Vn=0,jn=new Map;function Yn(e){jn.delete(e)}function Wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Vn+=1;function r(t){if(0===t)Yn(n),e();else{var i=Un((function(){r(t-1)}));jn.set(n,i)}}return r(t),n}function Gn(e,t){return!!e&&e.contains(t)}function Hn(e,t,n,r){var i=Mt.unstable_batchedUpdates?function(e){Mt.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}Wn.cancel=function(e){var t=jn.get(e);return Yn(t),zn(t)};var Xn=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,i=e.getContainer,o=e.children,a=(0,r.useRef)(),s=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var u=(0,r.useRef)(!1);return!u.current&&Ke()&&(s.current=i(),a.current=s.current.parentNode,u.current=!0),(0,r.useEffect)((function(){null===n||void 0===n||n(e)})),(0,r.useEffect)((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?Mt.createPortal(o,s.current):null})),qn=Xn;function Kn(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var $n=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function Qn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Jn=function(e,t){var n={animationend:Qn("Animation","AnimationEnd"),transitionend:Qn("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Ke(),"undefined"!==typeof window?window:{}),Zn={};if(Ke()){var er=document.createElement("div");Zn=er.style}var tr={};function nr(e){if(tr[e])return tr[e];var t=Jn[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Zn)return tr[e]=t[o],tr[e]}return""}var rr=nr("animationend"),ir=nr("transitionend"),or=!(!rr||!ir),ar=rr||"animationend",sr=ir||"transitionend";function ur(e,t){if(!e)return null;if("object"===ne(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var lr="none",cr="appear",hr="enter",fr="leave",dr="none",pr="prepare",vr="start",gr="active",mr="end",yr=Ke()?r.useLayoutEffect:r.useEffect,xr=[pr,vr,gr,mr];function br(e){return e===gr||e===mr}var wr=function(e,t){var n=c(Tn(dr),2),i=n[0],o=n[1],a=function(){var e=r.useRef(null);function t(){Wn.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Wn((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),s=c(a,2),u=s[0],l=s[1];return yr((function(){if(i!==dr&&i!==mr){var e=xr.indexOf(i),n=xr[e+1],r=t(i);false===r?o(n,!0):u((function(e){function t(){e.isCanceled()||o(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),r.useEffect((function(){return function(){l()}}),[]),[function(){o(pr,!0)},i]};function kr(e,t,n,i){var o=i.motionEnter,a=void 0===o||o,s=i.motionAppear,u=void 0===s||s,l=i.motionLeave,h=void 0===l||l,f=i.motionDeadline,d=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,g=i.onLeavePrepare,m=i.onAppearStart,y=i.onEnterStart,x=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,k=i.onLeaveActive,E=i.onAppearEnd,_=i.onEnterEnd,T=i.onLeaveEnd,A=i.onVisibleChanged,S=c(Tn(),2),C=S[0],I=S[1],P=c(Tn(lr),2),O=P[0],R=P[1],M=c(Tn(null),2),D=M[0],L=M[1],N=(0,r.useRef)(!1),F=(0,r.useRef)(null);function B(){return n()}var U=(0,r.useRef)(!1);function z(e){var t=B();if(!e||e.deadline||e.target===t){var n,r=U.current;O===cr&&r?n=null===E||void 0===E?void 0:E(t,e):O===hr&&r?n=null===_||void 0===_?void 0:_(t,e):O===fr&&r&&(n=null===T||void 0===T?void 0:T(t,e)),O!==lr&&r&&!1!==n&&(R(lr,!0),L(null,!0))}}var V=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function o(e){e&&(e.removeEventListener(sr,i),e.removeEventListener(ar,i))}return r.useEffect((function(){return function(){o(t.current)}}),[]),[function(e){t.current&&t.current!==e&&o(t.current),e&&e!==t.current&&(e.addEventListener(sr,i),e.addEventListener(ar,i),t.current=e)},o]}(z),j=c(V,1)[0],Y=r.useMemo((function(){var e,t,n;switch(O){case cr:return ae(e={},pr,p),ae(e,vr,m),ae(e,gr,b),e;case hr:return ae(t={},pr,v),ae(t,vr,y),ae(t,gr,w),t;case fr:return ae(n={},pr,g),ae(n,vr,x),ae(n,gr,k),n;default:return{}}}),[O]),W=c(wr(O,(function(e){if(e===pr){var t=Y.prepare;return!!t&&t(B())}var n;H in Y&&L((null===(n=Y[H])||void 0===n?void 0:n.call(Y,B(),null))||null);return H===gr&&(j(B()),f>0&&(clearTimeout(F.current),F.current=setTimeout((function(){z({deadline:!0})}),f))),true})),2),G=W[0],H=W[1],X=br(H);U.current=X,yr((function(){I(t);var n,r=N.current;(N.current=!0,e)&&(!r&&t&&u&&(n=cr),r&&t&&a&&(n=hr),(r&&!t&&h||!r&&d&&!t&&h)&&(n=fr),n&&(R(n),G()))}),[t]),(0,r.useEffect)((function(){(O===cr&&!u||O===hr&&!a||O===fr&&!h)&&R(lr)}),[u,a,h]),(0,r.useEffect)((function(){return function(){N.current=!1,clearTimeout(F.current)}}),[]),(0,r.useEffect)((function(){void 0!==C&&O===lr&&(null===A||void 0===A||A(C))}),[C,O]);var q=D;return Y.prepare&&H===vr&&(q=ue({transition:"none"},q)),[O,H,q,null!==C&&void 0!==C?C:t]}var Er=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),_r=Er;var Tr=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===ne(e)&&(t=e.transitionSupport);var i=r.forwardRef((function(e,t){var i=e.visible,o=void 0===i||i,a=e.removeOnLeave,s=void 0===a||a,u=e.forceRender,l=e.children,h=e.motionName,f=e.leavedClassName,d=e.eventProps,p=n(e),v=(0,r.useRef)(),g=(0,r.useRef)();var m=c(kr(p,o,(function(){try{return v.current instanceof HTMLElement?v.current:Lt(g.current)}catch(VX){return null}}),e),4),y=m[0],x=m[1],b=m[2],w=m[3],k=r.useRef(w);w&&(k.current=!0);var E,_=r.useCallback((function(e){v.current=e,Pt(t,e)}),[t]),T=ue(ue({},d),{},{visible:o});if(l)if(y!==lr&&n(e)){var A,S;x===pr?S="prepare":br(x)?S="active":x===vr&&(S="start"),E=l(ue(ue({},T),{},{className:de()(ur(h,y),(A={},ae(A,ur(h,"".concat(y,"-").concat(S)),S),ae(A,h,"string"===typeof h),A)),style:b}),_)}else E=w?l(ue({},T),_):!s&&k.current?l(ue(ue({},T),{},{className:f}),_):u?l(ue(ue({},T),{},{style:{display:"none"}}),_):null;else E=null;r.isValidElement(E)&&Rt(E)&&(E.ref||(E=r.cloneElement(E,{ref:_})));return r.createElement(_r,{ref:g},E)}));return i.displayName="CSSMotion",i}(or),Ar="add",Sr="keep",Cr="remove",Ir="removed";function Pr(e){var t;return ue(ue({},t=e&&"object"===ne(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Pr)}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Or(e),a=Or(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return ue(ue({},e),{},{status:Ar})}))),r=o),n.push(ue(ue({},s),{},{status:Sr})),r+=1,t=!0;break}}t||n.push(ue(ue({},e),{},{status:Cr}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return ue(ue({},e),{},{status:Ar})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var u=Object.keys(s).filter((function(e){return s[e]>1}));return u.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Cr})),n.forEach((function(t){t.key===e&&(t.status=Sr)}))})),n}var Mr=["component","children","onVisibleChanged","onAllRemoved"],Dr=["status"],Lr=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tr,n=function(e){hn(i,e);var n=gn(i);function i(){var e;sn(this,i);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:ue(ue({},e),{},{status:Ir})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Ir})).length},e}return ln(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,u=i.onAllRemoved,l=he(i,Mr),c=o||r.Fragment,f={};return Lr.forEach((function(e){f[e]=l[e],delete l[e]})),delete l.keys,r.createElement(c,l,n.map((function(n){var i=n.status,o=he(n,Dr),l=i===Ar||i===Sr;return r.createElement(t,h({},f,{key:o.key,visible:l,eventProps:o,onVisibleChanged:function(t){(null===s||void 0===s||s(t,{key:o.key}),t)||0===e.removeKey(o.key)&&u&&u()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Or(n);return{keyEntities:Rr(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Ir||e.status!==Cr}))}}}]),i}(r.Component);return n.defaultProps={component:"div"},n}(or),Fr=Tr;function Br(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Ur(e){var t=e.prefixCls,n=e.visible,i=e.zIndex,o=e.mask,a=e.maskMotion,s=e.maskAnimation,u=e.maskTransitionName;if(!o)return null;var l={};return(a||u||s)&&(l=ue({motionAppear:!0},Br({motion:a,prefixCls:t,transitionName:u,animation:s}))),r.createElement(Fr,h({},l,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r.createElement("div",{style:{zIndex:i},className:de()("".concat(t,"-mask"),n)})}))}var zr;function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e){return Yr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gr={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Hr(){if(void 0!==zr)return zr;zr="";var e=document.createElement("p").style;for(var t in Gr)t+"Transform"in e&&(zr=t);return zr}function Xr(){return Hr()?"".concat(Hr(),"TransitionProperty"):"transitionProperty"}function qr(){return Hr()?"".concat(Hr(),"Transform"):"transform"}function Kr(e,t){var n=Xr();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function $r(e,t){var n=qr();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var Qr,Jr=/matrix\((.*)\)/,Zr=/matrix3d\((.*)\)/;function ei(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function ti(e,t,n){var r=n;if("object"!==Yr(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):Qr(e,t);for(var i in t)t.hasOwnProperty(i)&&ti(e,i,t[i])}function ni(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function ri(e){return ni(e)}function ii(e){return ni(e,!0)}function oi(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=ri(r),t.top+=ii(r),t}function ai(e){return null!==e&&void 0!==e&&e==e.window}function si(e){return ai(e)?e.document:9===e.nodeType?e:e.ownerDocument}var ui=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),li=/^(top|right|bottom|left)$/;function ci(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function hi(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function fi(e,t,n){"static"===ti(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=ci("left",n),a=ci("top",n),s=hi(o),u=hi(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l,c="",h=oi(e);("left"in t||"top"in t)&&(c=(l=e).style.transitionProperty||l.style[Xr()]||"",Kr(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),ei(e);var f=oi(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var v=ci(p,n),g="left"===p?r:i,m=h[p]-f[p];d[v]=v===p?g+m:g-m}ti(e,d),ei(e),("left"in t||"top"in t)&&Kr(e,c);var y={};for(var x in t)if(t.hasOwnProperty(x)){var b=ci(x,n),w=t[x]-h[x];y[b]=x===b?d[b]+w:d[b]-w}ti(e,y)}function di(e,t){var n=oi(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(qr());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(qr());if(r&&"none"!==r){var i,o=r.match(Jr);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,$r(e,"matrix(".concat(i.join(","),")"))):((i=r.match(Zr)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,$r(e,"matrix3d(".concat(i.join(","),")")))}else $r(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function pi(e,t){for(var n=0;n<e.length;n++)t(e[n])}function vi(e){return"border-box"===Qr(e,"boxSizing")}"undefined"!==typeof window&&(Qr=window.getComputedStyle?function(e,t,n){var r=n,i="",o=si(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(ui.test(n)&&!li.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var gi=["margin","border","padding"];function mi(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function yi(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(Qr(e,s))||0}return a}var xi={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function bi(e,t,n){var r=n;if(ai(e))return"width"===t?xi.viewportWidth(e):xi.viewportHeight(e);if(9===e.nodeType)return"width"===t?xi.docWidth(e):xi.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=vi(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=Qr(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,l=o||s;return-1===r?u?l-yi(e,["border","padding"],i):s:u?1===r?l:l+(2===r?-yi(e,["border"],i):yi(e,["margin"],i)):s+yi(e,gi.slice(r),i)}pi(["Width","Height"],(function(e){xi["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],xi["viewport".concat(e)](n))},xi["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var wi={position:"absolute",visibility:"hidden",display:"block"};function ki(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=bi.apply(void 0,t):mi(i,wi,(function(){r=bi.apply(void 0,t)})),r}function Ei(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}pi(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);xi["outer".concat(t)]=function(t,n){return t&&ki(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];xi[e]=function(t,r){var i=r;return void 0!==i?t?(vi(t)&&(i+=yi(t,["padding","border"],n)),ti(t,e,i)):void 0:t&&ki(t,e,-1)}}));var _i={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:si,offset:function(e,t,n){if("undefined"===typeof t)return oi(e);!function(e,t,n){if(n.ignoreShake){var r=oi(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?fi(e,t,n):n.useCssTransform&&qr()in document.body.style?di(e,t):fi(e,t,n)}(e,t,n||{})},isWindow:ai,each:pi,css:ti,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Ei,getWindowScrollLeft:function(e){return ri(e)},getWindowScrollTop:function(e){return ii(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)_i.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Ei(_i,xi);var Ti=_i.getParent;function Ai(e){if(_i.isWindow(e)||9===e.nodeType)return null;var t,n=_i.getDocument(e).body,r=_i.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Ti(e);for(t=Ti(e);t&&t!==n&&9!==t.nodeType;t=Ti(t))if("static"!==(r=_i.css(t,"position")))return t;return null}var Si=_i.getParent;function Ci(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Ai(e),i=_i.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===_i.css(r,"overflow")){if(r===a||r===s)break}else{var u=_i.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=Ai(r)}var l=null;_i.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===_i.css(e,"position")&&(e.style.position="fixed"));var c=_i.getWindowScrollLeft(o),h=_i.getWindowScrollTop(o),f=_i.viewportWidth(o),d=_i.viewportHeight(o),p=s.scrollWidth,v=s.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(p=o.innerWidth),"hidden"===g.overflowY&&(v=o.innerHeight),e.style&&(e.style.position=l),t||function(e){if(_i.isWindow(e)||9===e.nodeType)return!1;var t=_i.getDocument(e),n=t.body,r=null;for(r=Si(e);r&&r!==n&&r!==t;r=Si(r))if("fixed"===_i.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,h),n.right=Math.min(n.right,c+f),n.bottom=Math.min(n.bottom,h+d);else{var m=Math.max(p,c+f);n.right=Math.min(n.right,m);var y=Math.max(v,h+d);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ii(e){var t,n,r;if(_i.isWindow(e)||9===e.nodeType){var i=_i.getWindow(e);t={left:_i.getWindowScrollLeft(i),top:_i.getWindowScrollTop(i)},n=_i.viewportWidth(i),r=_i.viewportHeight(i)}else t=_i.offset(e),n=_i.outerWidth(e),r=_i.outerHeight(e);return t.width=n,t.height=r,t}function Pi(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function Oi(e,t,n,r,i){var o=Pi(t,n[1]),a=Pi(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function Ri(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Mi(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Di(e,t,n){var r=[];return _i.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Li(e,t){return e[t]=-e[t],e}function Ni(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Fi(e,t){e[0]=Ni(e[0],t.width),e[1]=Ni(e[1],t.height)}function Bi(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var l={},c=0,h=Ci(u,!(!(s=s||{})||!s.alwaysByViewport)),f=Ii(u);Fi(o,f),Fi(a,t);var d=Oi(f,t,i,o,a),p=_i.merge(f,d);if(h&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Ri(d,f,h)){var v=Di(i,/[lr]/gi,{l:"r",r:"l"}),g=Li(o,0),m=Li(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Oi(f,t,v,g,m),f,h)||(c=1,i=v,o=g,a=m)}if(s.adjustY&&Mi(d,f,h)){var y=Di(i,/[tb]/gi,{t:"b",b:"t"}),x=Li(o,1),b=Li(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Oi(f,t,y,x,b),f,h)||(c=1,i=y,o=x,a=b)}c&&(d=Oi(f,t,i,o,a),_i.mix(p,d));var w=Ri(d,f,h),k=Mi(d,f,h);if(w||k){var E=i;w&&(E=Di(i,/[lr]/gi,{l:"r",r:"l"})),k&&(E=Di(i,/[tb]/gi,{t:"b",b:"t"})),i=E,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&w,l.adjustY=s.adjustY&&k,(l.adjustX||l.adjustY)&&(p=function(e,t,n,r){var i=_i.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),_i.mix(i,o)}(d,f,h,l))}return p.width!==f.width&&_i.css(u,"width",_i.width(u)+p.width-f.width),p.height!==f.height&&_i.css(u,"height",_i.height(u)+p.height-f.height),_i.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function Ui(e,t,n){var r=n.target||t,i=Ii(r),o=!function(e,t){var n=Ci(e,t),r=Ii(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Bi(e,i,n,o)}Ui.__getOffsetParent=Ai,Ui.__getVisibleRectForElement=Ci;var zi=n(8111),Vi=n.n(zi);function ji(e,t){var n=null,r=null;var i=new rn((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),l=Math.floor(s);n===u&&r===l||Promise.resolve().then((function(){t({width:u,height:l})})),n=u,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function Yi(e){return"function"!==typeof e?null:e()}function Wi(e){return"object"===ne(e)&&e?e:null}var Gi=function(e,t){var n=e.children,i=e.disabled,o=e.target,a=e.align,s=e.onAlign,u=e.monitorWindowResize,l=e.monitorBufferTime,h=void 0===l?0:l,f=r.useRef({}),d=r.useRef(),p=r.Children.only(n),v=r.useRef({});v.current.disabled=i,v.current.target=o,v.current.align=a,v.current.onAlign=s;var g=function(e,t){var n=r.useRef(!1),i=r.useRef(null);function o(){window.clearTimeout(i.current)}return[function r(a){if(o(),n.current&&!0!==a)i.current=window.setTimeout((function(){n.current=!1,r()}),t);else{if(!1===e())return;n.current=!0,i.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,o()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=d.current,s=Yi(n),u=Wi(n);f.current.element=s,f.current.point=u,f.current.align=r;var l=document.activeElement;return s&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}(s)?o=Ui(a,s,r):u&&(o=function(e,t,n){var r,i,o=_i.getDocument(e),a=o.defaultView||o.parentWindow,s=_i.getWindowScrollLeft(a),u=_i.getWindowScrollTop(a),l=_i.viewportWidth(a),c=_i.viewportHeight(a),h={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},f=r>=0&&r<=s+l&&i>=0&&i<=u+c,d=[n.points[0],"cc"];return Bi(e,h,jr(jr({},n),{},{points:d}),f)}(a,u,r)),function(e,t){e!==document.activeElement&&Gn(t,e)&&"function"===typeof e.focus&&e.focus()}(l,a),i&&o&&i(a,o),!0}return!1}),h),m=c(g,2),y=m[0],x=m[1],b=r.useRef({cancel:function(){}}),w=r.useRef({cancel:function(){}});r.useEffect((function(){var e=Yi(o),t=Wi(o);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=ji(d.current,y)),f.current.element===e&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(f.current.point,t)&&Vi()(f.current.align,a)||(y(),b.current.element!==e&&(b.current.cancel(),b.current.element=e,b.current.cancel=ji(e,y)))})),r.useEffect((function(){i?x():y()}),[i]);var k=r.useRef(null);return r.useEffect((function(){u?k.current||(k.current=Hn(window,"resize",y)):k.current&&(k.current.remove(),k.current=null)}),[u]),r.useEffect((function(){return function(){b.current.cancel(),w.current.cancel(),k.current&&k.current.remove(),x()}}),[]),r.useImperativeHandle(t,(function(){return{forceAlign:function(){return y(!0)}}})),r.isValidElement(p)&&(p=r.cloneElement(p,{ref:Ot(p.ref,d)})),p},Hi=r.forwardRef(Gi);Hi.displayName="Align";var Xi=Hi,qi=["measure","alignPre","align",null,"motion"],Ki=r.forwardRef((function(e,t){var n=e.visible,i=e.prefixCls,o=e.className,a=e.style,s=e.children,u=e.zIndex,l=e.stretch,f=e.destroyPopupOnHide,d=e.forceRender,p=e.align,v=e.point,g=e.getRootDomNode,m=e.getClassNameFromAlign,y=e.onAlign,x=e.onMouseEnter,b=e.onMouseLeave,w=e.onMouseDown,k=e.onTouchStart,E=e.onClick,_=(0,r.useRef)(),T=(0,r.useRef)(),A=c((0,r.useState)(),2),S=A[0],C=A[1],I=function(e){var t=c(r.useState({width:0,height:0}),2),n=t[0],i=t[1],o=r.useMemo((function(){var t={};if(e){var r=n.width,i=n.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]);return[o,function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(l),P=c(I,2),O=P[0],R=P[1];var M=function(e,t){var n=c(Tn(null),2),i=n[0],o=n[1],a=(0,r.useRef)();function s(e){o(e,!0)}function u(){Wn.cancel(a.current)}return(0,r.useEffect)((function(){s("measure")}),[e]),(0,r.useEffect)((function(){"measure"===i&&t(),i&&(a.current=Wn(oe(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=qi.indexOf(i),(n=qi[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,r.useEffect)((function(){return function(){u()}}),[]),[i,function(e){u(),a.current=Wn((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){l&&R(g())})),D=c(M,2),L=D[0],N=D[1],F=c((0,r.useState)(0),2),B=F[0],U=F[1],z=(0,r.useRef)();function V(){var e;null===(e=_.current)||void 0===e||e.forceAlign()}function j(e,t){var n=m(t);S!==n&&C(n),U((function(e){return e+1})),"align"===L&&(null===y||void 0===y||y(e,t))}En((function(){"alignPre"===L&&U(0)}),[L]),En((function(){"align"===L&&(B<2?V():N((function(){var e;null===(e=z.current)||void 0===e||e.call(z)})))}),[B]);var Y=ue({},Br(e));function W(){return new Promise((function(e){z.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=Y[e];Y[e]=function(e,n){return N(),null===t||void 0===t?void 0:t(e,n)}})),r.useEffect((function(){Y.motionName||"motion"!==L||N()}),[Y.motionName,L]),r.useImperativeHandle(t,(function(){return{forceAlign:V,getElement:function(){return T.current}}}));var G=ue(ue({},O),{},{zIndex:u,opacity:"motion"!==L&&"stable"!==L&&n?0:void 0,pointerEvents:n||"stable"===L?void 0:"none"},a),H=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==L&&"stable"!==L||(H=!1);var X=s;return r.Children.count(s)>1&&(X=r.createElement("div",{className:"".concat(i,"-content")},s)),r.createElement(Fr,h({visible:n,ref:T,leavedClassName:"".concat(i,"-hidden")},Y,{onAppearPrepare:W,onEnterPrepare:W,removeOnLeave:f,forceRender:d}),(function(e,t){var n=e.className,a=e.style,s=de()(i,o,S,n);return r.createElement(Xi,{target:v||g,key:"popup",ref:_,monitorWindowResize:!0,disabled:H,align:p,onAlign:j},r.createElement("div",{ref:t,className:s,onMouseEnter:x,onMouseLeave:b,onMouseDownCapture:w,onTouchStartCapture:k,onClick:E,style:ue(ue({},a),G)},X))}))}));Ki.displayName="PopupInner";var $i=Ki,Qi=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.visible,o=e.zIndex,a=e.children,s=e.mobile,u=(s=void 0===s?{}:s).popupClassName,l=s.popupStyle,c=s.popupMotion,f=void 0===c?{}:c,d=s.popupRender,p=e.onClick,v=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return v.current}}}));var g=ue({zIndex:o},l),m=a;return r.Children.count(a)>1&&(m=r.createElement("div",{className:"".concat(n,"-content")},a)),d&&(m=d(m)),r.createElement(Fr,h({visible:i,ref:v,removeOnLeave:!0},f),(function(e,t){var i=e.className,o=e.style,a=de()(n,u,i);return r.createElement("div",{ref:t,className:a,onClick:p,style:ue(ue({},o),g)},m)}))}));Qi.displayName="MobilePopupInner";var Ji=Qi,Zi=["visible","mobile"],eo=r.forwardRef((function(e,t){var n=e.visible,i=e.mobile,o=he(e,Zi),a=c((0,r.useState)(n),2),s=a[0],u=a[1],l=c((0,r.useState)(!1),2),f=l[0],d=l[1],p=ue(ue({},o),{},{visible:s});(0,r.useEffect)((function(){u(n),n&&i&&d($n())}),[n,i]);var v=f?r.createElement(Ji,h({},p,{mobile:i,ref:t})):r.createElement($i,h({},p,{ref:t}));return r.createElement("div",null,r.createElement(Ur,p),v)}));eo.displayName="Popup";var to=eo,no=r.createContext(null);function ro(){}function io(){return""}function oo(e){return e?e.ownerDocument:window.document}var ao=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var so=function(e){var t=function(t){hn(i,t);var n=gn(i);function i(e){var t,o;return sn(this,i),(t=n.call(this,e)).popupRef=r.createRef(),t.triggerRef=r.createRef(),t.portalContainer=void 0,t.attachId=void 0,t.clickOutsideHandler=void 0,t.touchOutsideHandler=void 0,t.contextMenuOutsideHandler1=void 0,t.contextMenuOutsideHandler2=void 0,t.mouseDownTimeout=void 0,t.focusTime=void 0,t.preClickTime=void 0,t.preTouchTime=void 0,t.delayTimer=void 0,t.hasPopupMouseDown=void 0,t.onMouseEnter=function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)},t.onMouseMove=function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)},t.onMouseLeave=function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onPopupMouseEnter=function(){t.clearDelayTimer()},t.onPopupMouseLeave=function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&Gn(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)},t.onFocus=function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))},t.onMouseDown=function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()},t.onTouchStart=function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()},t.onBlur=function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)},t.onContextMenu=function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)},t.onContextMenuClose=function(){t.isContextMenuToShow()&&t.close()},t.onClick=function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)},t.onPopupMouseDown=function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)},t.onDocumentClick=function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),i=t.getPopupDomNode();Gn(r,n)&&!t.isContextMenuOnly()||Gn(i,n)||t.hasPopupMouseDown||t.close()}},t.getRootDomNode=function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=Lt(t.triggerRef.current);if(n)return n}catch(r){}return Mt.findDOMNode(pn(t))},t.getPopupClassNameFromAlign=function(e){var n=[],r=t.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&n.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(Kn(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&n.push(u(e)),n.join(" ")},t.getComponent=function(){var e=t.props,n=e.prefixCls,i=e.destroyPopupOnHide,o=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,u=e.popupAnimation,l=e.popupTransitionName,c=e.popupStyle,f=e.mask,d=e.maskAnimation,p=e.maskTransitionName,v=e.maskMotion,g=e.zIndex,m=e.popup,y=e.stretch,x=e.alignPoint,b=e.mobile,w=e.forceRender,k=e.onPopupClick,E=t.state,_=E.popupVisible,T=E.point,A=t.getPopupAlign(),S={};return t.isMouseEnterToShow()&&(S.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(S.onMouseLeave=t.onPopupMouseLeave),S.onMouseDown=t.onPopupMouseDown,S.onTouchStart=t.onPopupMouseDown,r.createElement(to,h({prefixCls:n,destroyPopupOnHide:i,visible:_,point:x&&T,className:o,align:A,onAlign:a,animation:u,getClassNameFromAlign:t.getPopupClassNameFromAlign},S,{stretch:y,getRootDomNode:t.getRootDomNode,style:c,mask:f,zIndex:g,transitionName:l,maskAnimation:d,maskTransitionName:p,maskMotion:v,ref:t.popupRef,motion:s,mobile:b,forceRender:w,onClick:k}),"function"===typeof m?m():m)},t.attachParent=function(e){Wn.cancel(t.attachId);var n,r=t.props,i=r.getPopupContainer,o=r.getDocument,a=t.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=Wn((function(){t.attachParent(e)}))},t.getContainer=function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer},t.setPoint=function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})},t.handlePortalUpdate=function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)},t.triggerContextValue={onPopupMouseDown:t.onPopupMouseDown},o="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:o,popupVisible:o},ao.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return ln(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Hn(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Hn(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Hn(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Hn(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Wn.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return ue(ue({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,i=n.children,o=n.forceRender,a=n.alignPoint,s=n.className,u=n.autoDestroy,l=r.Children.only(i),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,a&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var h=de()(l&&l.props&&l.props.className,s);h&&(c.className=h);var f=ue({},c);Rt(l)&&(f.ref=Ot(this.triggerRef,l.ref));var d,p=r.cloneElement(l,f);return(t||this.popupRef.current||o)&&(d=r.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&u&&(d=null),r.createElement(no.Provider,{value:this.triggerContextValue},p,d)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(r.Component);return t.contextType=no,t.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:io,getDocument:oo,onPopupVisibleChange:ro,afterPopupVisibleChange:ro,onPopupAlign:ro,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},t}(qn),uo={adjustX:1,adjustY:1},lo=[0,0],co={left:{points:["cr","cl"],overflow:uo,offset:[-4,0],targetOffset:lo},right:{points:["cl","cr"],overflow:uo,offset:[4,0],targetOffset:lo},top:{points:["bc","tc"],overflow:uo,offset:[0,-4],targetOffset:lo},bottom:{points:["tc","bc"],overflow:uo,offset:[0,4],targetOffset:lo},topLeft:{points:["bl","tl"],overflow:uo,offset:[0,-4],targetOffset:lo},leftTop:{points:["tr","tl"],overflow:uo,offset:[-4,0],targetOffset:lo},topRight:{points:["br","tr"],overflow:uo,offset:[0,-4],targetOffset:lo},rightTop:{points:["tl","tr"],overflow:uo,offset:[4,0],targetOffset:lo},bottomRight:{points:["tr","br"],overflow:uo,offset:[0,4],targetOffset:lo},rightBottom:{points:["bl","br"],overflow:uo,offset:[4,0],targetOffset:lo},bottomLeft:{points:["tl","bl"],overflow:uo,offset:[0,4],targetOffset:lo},leftBottom:{points:["br","bl"],overflow:uo,offset:[-4,0],targetOffset:lo}},ho=function(e){var t=e.overlay,n=e.prefixCls,i=e.id,o=e.overlayInnerStyle;return r.createElement("div",{className:"".concat(n,"-inner"),id:i,role:"tooltip",style:o},"function"===typeof t?t():t)},fo=function(e,t){var n=e.overlayClassName,i=e.trigger,o=void 0===i?["hover"]:i,a=e.mouseEnterDelay,s=void 0===a?0:a,u=e.mouseLeaveDelay,l=void 0===u?.1:u,c=e.overlayStyle,f=e.prefixCls,d=void 0===f?"rc-tooltip":f,p=e.children,v=e.onVisibleChange,g=e.afterVisibleChange,m=e.transitionName,y=e.animation,x=e.motion,b=e.placement,w=void 0===b?"right":b,k=e.align,E=void 0===k?{}:k,_=e.destroyTooltipOnHide,T=void 0!==_&&_,A=e.defaultVisible,S=e.getTooltipContainer,C=e.overlayInnerStyle,I=he(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),P=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return P.current}));var O=ue({},I);"visible"in e&&(O.popupVisible=e.visible);var R=!1,M=!1;if("boolean"===typeof T)R=T;else if(T&&"object"===ne(T)){var D=T.keepParent;R=!0===D,M=!1===D}return r.createElement(so,h({popupClassName:n,prefixCls:d,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,i=e.overlay,o=e.id;return[r.createElement("div",{className:"".concat(d,"-arrow"),key:"arrow"},n),r.createElement(ho,{key:"content",prefixCls:d,id:o,overlay:i,overlayInnerStyle:C})]},action:o,builtinPlacements:co,popupPlacement:w,ref:P,popupAlign:E,getPopupContainer:S,onPopupVisibleChange:v,afterPopupVisibleChange:g,popupTransitionName:m,popupAnimation:y,popupMotion:x,defaultPopupVisible:A,destroyPopupOnHide:R,autoDestroy:M,mouseLeaveDelay:l,popupStyle:c,mouseEnterDelay:s},O),p)},po=(0,r.forwardRef)(fo),vo=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},go=(vo("success","processing","error","default","warning"),vo("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime")),mo=function(){return{height:0,opacity:0}},yo=function(e){return{height:e.scrollHeight,opacity:1}},xo=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},bo={motionName:"ant-motion-collapse",onAppearStart:mo,onEnterStart:mo,onAppearActive:yo,onEnterActive:yo,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:mo,onAppearEnd:xo,onEnterEnd:xo,onLeaveEnd:xo,motionDeadline:500},wo=(vo("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),ko=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Eo=bo,_o={adjustX:1,adjustY:1},To={adjustX:0,adjustY:0},Ao=[0,0];function So(e){return"boolean"===typeof e?e?_o:To:h(h({},To),e)}var Co=r.isValidElement;function Io(e,t,n){return Co(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}function Po(e,t){return Io(e,e,t)}var Oo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ro=new RegExp("^(".concat(go.join("|"),")(-inverse)?$"));function Mo(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)){var i=function(e,t){var n={},r=h({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=i.picked,a=i.omitted,s=h(h({display:"inline-block"},o),{cursor:"not-allowed",width:e.props.block?"100%":null}),u=Po(e,{style:h(h({},a),{pointerEvents:"none"}),className:null});return r.createElement("span",{style:s,className:de()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},u)}return e}var Do=r.forwardRef((function(e,t){var n,i=r.useContext(In),o=i.getPopupContainer,a=i.getPrefixCls,s=i.direction,u=c(Sn(!1,{value:e.visible,defaultValue:e.defaultVisible}),2),l=u[0],f=u[1],d=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},p=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,i=void 0===r?16:r,o=e.verticalArrowShift,a=void 0===o?8:o,s=e.autoAdjustOverflow,u=e.arrowPointAtCenter,l={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(a+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(a+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,a+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,a+n]}};return Object.keys(l).forEach((function(e){l[e]=u?h(h({},l[e]),{overflow:So(s),targetOffset:Ao}):h(h({},co[e]),{overflow:So(s)}),l[e].ignoreShake=!0})),l}({arrowPointAtCenter:n,autoAdjustOverflow:r})},v=e.getPopupContainer,g=Oo(e,["getPopupContainer"]),m=e.prefixCls,y=e.openClassName,x=e.getTooltipContainer,b=e.overlayClassName,w=e.color,k=e.overlayInnerStyle,E=e.children,_=a("tooltip",m),T=a(),A=l;!("visible"in e)&&d()&&(A=!1);var S,C=Mo(Co(E)?E:r.createElement("span",null,E),_),I=C.props,P=de()(I.className,ae({},y||"".concat(_,"-open"),!0)),O=de()(b,(ae(n={},"".concat(_,"-rtl"),"rtl"===s),ae(n,"".concat(_,"-").concat(w),w&&Ro.test(w)),n)),R=k;return w&&!Ro.test(w)&&(R=h(h({},k),{background:w}),S={"--antd-arrow-background-color":w}),r.createElement(po,h({},g,{prefixCls:_,overlayClassName:O,getTooltipContainer:v||x||o,ref:t,builtinPlacements:p(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:A,onVisibleChange:function(t){var n;f(!d()&&t),d()||null===(n=e.onVisibleChange)||void 0===n||n.call(e,t)},onPopupAlign:function(e,t){var n=p(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var i=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(i.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(i.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:R,arrowContent:r.createElement("span",{className:"".concat(_,"-arrow-content"),style:S}),motion:{motionName:ko(T,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),A?Po(C,{className:P}):C)}));Do.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Lo=Do,No=function(e){if(Ke()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1};function Fo(e,t){return Array.isArray(e)||void 0===t?No(e):function(e,t){if(!No(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}var Bo={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Bo.F1&&t<=Bo.F12)return!1;switch(t){case Bo.ALT:case Bo.CAPS_LOCK:case Bo.CONTEXT_MENU:case Bo.CTRL:case Bo.DOWN:case Bo.END:case Bo.ESC:case Bo.HOME:case Bo.INSERT:case Bo.LEFT:case Bo.MAC_FF_META:case Bo.META:case Bo.NUMLOCK:case Bo.NUM_CENTER:case Bo.PAGE_DOWN:case Bo.PAGE_UP:case Bo.PAUSE:case Bo.PRINT_SCREEN:case Bo.RIGHT:case Bo.SHIFT:case Bo.UP:case Bo.WIN_KEY:case Bo.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Bo.ZERO&&e<=Bo.NINE)return!0;if(e>=Bo.NUM_ZERO&&e<=Bo.NUM_MULTIPLY)return!0;if(e>=Bo.A&&e<=Bo.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Bo.SPACE:case Bo.QUESTION_MARK:case Bo.NUM_PLUS:case Bo.NUM_MINUS:case Bo.NUM_PERIOD:case Bo.NUM_DIVISION:case Bo.SEMICOLON:case Bo.DASH:case Bo.EQUALS:case Bo.COMMA:case Bo.PERIOD:case Bo.SLASH:case Bo.APOSTROPHE:case Bo.SINGLE_QUOTE:case Bo.OPEN_SQUARE_BRACKET:case Bo.BACKSLASH:case Bo.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Uo=Bo,zo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vo={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},jo=r.forwardRef((function(e,t){var n=e.style,i=e.noStyle,o=e.disabled,a=zo(e,["style","noStyle","disabled"]),s={};return i||(s=h({},Vo)),o&&(s.pointerEvents="none"),s=h(h({},s),n),r.createElement("div",h({role:"button",tabIndex:0,ref:t},a,{onKeyDown:function(e){e.keyCode===Uo.ENTER&&e.preventDefault()},onKeyUp:function(t){var n=t.keyCode,r=e.onClick;n===Uo.ENTER&&r&&r()},style:s}))})),Yo=jo,Wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},Go=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:Wo}))};Go.displayName="EnterOutlined";var Ho,Xo=r.forwardRef(Go),qo="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",Ko=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],$o={};function Qo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&$o[n])return $o[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=Ko.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&($o[n]=u),u}var Jo,Zo=n(9613),ea=n.n(Zo);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(Jo||(Jo={}));var ta=function(e){hn(n,e);var t=gn(n);function n(e){var i;return sn(this,n),(i=t.call(this,e)).nextFrameActionId=void 0,i.resizeFrameId=void 0,i.textArea=void 0,i.saveTextArea=function(e){i.textArea=e},i.handleResize=function(e){var t=i.state.resizeStatus,n=i.props,r=n.autoSize,o=n.onResize;t===Jo.NONE&&("function"===typeof o&&o(e),r&&i.resizeOnNextFrame())},i.resizeOnNextFrame=function(){cancelAnimationFrame(i.nextFrameActionId),i.nextFrameActionId=requestAnimationFrame(i.resizeTextarea)},i.resizeTextarea=function(){var e=i.props.autoSize;if(e&&i.textArea){var t=e.minRows,n=e.maxRows,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ho||((Ho=document.createElement("textarea")).setAttribute("tab-index","-1"),Ho.setAttribute("aria-hidden","true"),document.body.appendChild(Ho)),e.getAttribute("wrap")?Ho.setAttribute("wrap",e.getAttribute("wrap")):Ho.removeAttribute("wrap");var i=Qo(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,u=i.sizingStyle;Ho.setAttribute("style","".concat(u,";").concat(qo)),Ho.value=e.value||e.placeholder||"";var l,c=Number.MIN_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,f=Ho.scrollHeight;if("border-box"===s?f+=a:"content-box"===s&&(f-=o),null!==n||null!==r){Ho.value=" ";var d=Ho.scrollHeight-o;null!==n&&(c=d*n,"border-box"===s&&(c=c+o+a),f=Math.max(c,f)),null!==r&&(h=d*r,"border-box"===s&&(h=h+o+a),l=f>h?"":"hidden",f=Math.min(h,f))}return{height:f,minHeight:c,maxHeight:h,overflowY:l,resize:"none"}}(i.textArea,!1,t,n);i.setState({textareaStyles:r,resizeStatus:Jo.RESIZING},(function(){cancelAnimationFrame(i.resizeFrameId),i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:Jo.RESIZED},(function(){i.resizeFrameId=requestAnimationFrame((function(){i.setState({resizeStatus:Jo.NONE}),i.fixFirefoxAutoScroll()}))}))}))}))}},i.renderTextArea=function(){var e=i.props,t=e.prefixCls,n=void 0===t?"rc-textarea":t,o=e.autoSize,a=e.onResize,s=e.className,u=e.disabled,l=i.state,c=l.textareaStyles,f=l.resizeStatus,d=Cn(i.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),p=de()(n,s,ae({},"".concat(n,"-disabled"),u));"value"in d&&(d.value=d.value||"");var v=ue(ue(ue({},i.props.style),c),f===Jo.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return r.createElement(kn,{onResize:i.handleResize,disabled:!(o||a)},r.createElement("textarea",h({},d,{className:p,style:v,ref:i.saveTextArea})))},i.state={textareaStyles:{},resizeStatus:Jo.NONE},i}return ln(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&ea()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(VX){}}},{key:"render",value:function(){return this.renderTextArea()}}]),n}(r.Component),na=ta,ra=function(e){hn(n,e);var t=gn(n);function n(e){var r;sn(this,n),(r=t.call(this,e)).resizableTextArea=void 0,r.focus=function(){r.resizableTextArea.textArea.focus()},r.saveTextArea=function(e){r.resizableTextArea=e},r.handleChange=function(e){var t=r.props.onChange;r.setValue(e.target.value,(function(){r.resizableTextArea.resizeTextarea()})),t&&t(e)},r.handleKeyDown=function(e){var t=r.props,n=t.onPressEnter,i=t.onKeyDown;13===e.keyCode&&n&&n(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return r.state={value:i},r}return ln(n,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return r.createElement(na,h({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),n}(r.Component),ia=ra,oa=r.createContext(!1),aa=function(e){var t=e.children,n=e.disabled,i=r.useContext(oa);return r.createElement(oa.Provider,{value:n||i},t)},sa=oa,ua=r.createContext(void 0),la=function(e){var t=e.children,n=e.size;return r.createElement(ua.Consumer,null,(function(e){return r.createElement(ua.Provider,{value:n||e},t)}))},ca=ua,ha="RC_FORM_INTERNAL_HOOKS",fa=function(){qe(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},da=r.createContext({getFieldValue:fa,getFieldsValue:fa,getFieldError:fa,getFieldWarning:fa,getFieldsError:fa,isFieldsTouched:fa,isFieldTouched:fa,isFieldValidating:fa,isFieldsValidating:fa,resetFields:fa,setFields:fa,setFieldsValue:fa,validateFields:fa,submit:fa,getInternalHooks:function(){return fa(),{dispatch:fa,initEntityValue:fa,registerField:fa,useSubscribe:fa,setInitialValues:fa,destroyForm:fa,setCallbacks:fa,registerWatch:fa,getFields:fa,setValidateMessages:fa,setPreserve:fa,getInitialValue:fa}}});function pa(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ga(e)}function ma(e,t){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ma(e,t)}function ya(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(VX){return!1}}function xa(e,t,n){return xa=ya()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ma(i,n.prototype),i},xa.apply(null,arguments)}function ba(e){var t="function"===typeof Map?new Map:void 0;return ba=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return xa(e,arguments,ga(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ma(n,e)},ba(e)}var wa=/%[sdj%]/g;function ka(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Ea(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(wa,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(kH){return"[Circular]"}break;default:return e}}));return a}return e}function _a(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function Ta(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var Aa=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ma(t,n),r}(ba(Error));function Sa(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);Ta(a,n,(function(e){return r(e),e.length?o(new Aa(e,ka(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,l=0,c=[],h=new Promise((function(t,o){var h=function(e){if(c.push.apply(c,e),++l===u)return r(c),c.length?o(new Aa(c,ka(c))):t(i)};s.length||(r(c),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?Ta(r,n,h):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,h)}))}));return h.catch((function(e){return e})),h}function Ca(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Ia(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=va({},e[n],r):e[n]=r}return e}var Pa,Oa=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!_a(t,o||e.type)||r.push(Ea(i.messages.required,e.fullField))},Ra=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Ma=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Da={integer:function(e){return Da.number(e)&&parseInt(e,10)===e},float:function(e){return Da.number(e)&&!Da.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(VX){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Da.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Ra)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Pa)return Pa;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),u=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};u.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},u.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var l=u.v4().source,c=u.v6().source;return Pa=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+l+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Ma)}},La={required:Oa,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(Ea(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)Oa(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Da[o](t)||r.push(Ea(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(Ea(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,u=t,l=null,c="number"===typeof t,h="string"===typeof t,f=Array.isArray(t);if(c?l="number":h?l="string":f&&(l="array"),!l)return!1;f&&(u=t.length),h&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(Ea(i.messages[l].len,e.fullField,e.len)):a&&!s&&u<e.min?r.push(Ea(i.messages[l].min,e.fullField,e.min)):s&&!a&&u>e.max?r.push(Ea(i.messages[l].max,e.fullField,e.max)):a&&s&&(u<e.min||u>e.max)&&r.push(Ea(i.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(Ea(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Ea(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Ea(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Na=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t,o)&&!e.required)return n();La.required(e,t,r,a,i,o),_a(t,o)||La.type(e,t,r,a,i)}n(a)},Fa={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t,"string")&&!e.required)return n();La.required(e,t,r,o,i,"string"),_a(t,"string")||(La.type(e,t,r,o,i),La.range(e,t,r,o,i),La.pattern(e,t,r,o,i),!0===e.whitespace&&La.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i),void 0!==t&&La.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),_a(t)&&!e.required)return n();La.required(e,t,r,o,i),void 0!==t&&(La.type(e,t,r,o,i),La.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i),void 0!==t&&La.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i),_a(t)||La.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i),void 0!==t&&(La.type(e,t,r,o,i),La.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i),void 0!==t&&(La.type(e,t,r,o,i),La.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();La.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(La.type(e,t,r,o,i),La.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i),void 0!==t&&La.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i),void 0!==t&&La.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t,"string")&&!e.required)return n();La.required(e,t,r,o,i),_a(t,"string")||La.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t,"date")&&!e.required)return n();var a;if(La.required(e,t,r,o,i),!_a(t,"date"))a=t instanceof Date?t:new Date(t),La.type(e,a,r,o,i),a&&La.range(e,a.getTime(),r,o,i)}n(o)},url:Na,hex:Na,email:Na,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;La.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(_a(t)&&!e.required)return n();La.required(e,t,r,o,i)}n(o)}};function Ba(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Ua=Ba(),za=function(){function e(e){this.rules=null,this._messages=Ua,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Ia(Ba(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var u=this.messages();u===Ua&&(u=Ba()),Ia(u,a.messages),a.messages=u}else a.messages=this.messages();var l={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=va({},o)),r=o[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:va({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),l[e]=l[e]||[],l[e].push({rule:a,value:r,source:o,field:e}))}))}));var c={};return Sa(l,a,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function u(e,t){return va({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function l(r){void 0===r&&(r=[]);var l=Array.isArray(r)?r:[r];!a.suppressWarning&&l.length&&e.warning("async-validator:",l),l.length&&void 0!==i.message&&(l=[].concat(i.message));var h=l.map(Ca(i,o));if(a.first&&h.length)return c[i.field]=1,n(h);if(s){if(i.required&&!t.value)return void 0!==i.message?h=[].concat(i.message).map(Ca(i,o)):a.error&&(h=[a.error(i,Ea(a.messages.required,i.field))]),n(h);var f={};i.defaultField&&Object.keys(t.value).map((function(e){f[e]=i.defaultField})),f=va({},f,t.rule.fields);var d={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];d[e]=n.map(u.bind(null,e))}));var p=new e(d);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];h&&h.length&&t.push.apply(t,h),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(h)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,l,t.source,a);else if(i.validator){try{r=i.validator(i,t.value,l,t.source,a)}catch(hU){null==console.error||console.error(hU),a.suppressValidatorError||setTimeout((function(){throw hU}),0),l(hU.message)}!0===r?l():!1===r?l("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?l(r):r instanceof Error&&l(r.message)}r&&r.then&&r.then((function(){return l()}),(function(e){return l(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=ka(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Fa.hasOwnProperty(e.type))throw new Error(Ea("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Fa.required:Fa[this.getType(e)]||void 0},e}();za.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Fa[e]=t},za.warning=function(){},za.messages=Ua,za.validators=Fa;var Va="'${name}' is not a valid ${type}",ja={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Va,method:Va,array:Va,object:Va,number:Va,date:Va,boolean:Va,integer:Va,float:Va,regexp:Va,email:Va,url:Va,hex:Va},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Ya(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function Wa(e){return a(e)||J(e)||u(e)||l()}function Ga(e,t,n,r){if(!t.length)return n;var i,o=Wa(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?Z(e):ue({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=Ga(i[a],s,n,r),i}function Ha(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Ya(e,t.slice(0,-1))?e:Ga(e,t,n,r)}function Xa(e){return Array.isArray(e)?function(e){return e.map((function(e){return Xa(e)}))}(e):"object"===ne(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Xa(e[n]);return t}return e}(e):e}var qa=Xa;function Ka(e){return pa(e)}function $a(e,t){return Ya(e,t)}function Qa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Ha(e,t,n,r);return i}function Ja(e,t){var n={};return t.forEach((function(t){var r=$a(e,t);n=Qa(n,t,r)})),n}function Za(e,t){return e&&e.some((function(e){return rs(e,t)}))}function es(e){return"object"===ne(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function ts(e,t){var n=Array.isArray(e)?Z(e):ue({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=es(r)&&es(i);n[e]=o?ts(r,i||{}):qa(i)})),n):n}function ns(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return ts(e,t)}),e)}function rs(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function is(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===ne(t.target)&&e in t.target?t.target[e]:t}function os(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(Z(e.slice(0,n)),[i],Z(e.slice(n,t)),Z(e.slice(t+1,r))):o<0?[].concat(Z(e.slice(0,t)),Z(e.slice(t+1,n+1)),[i],Z(e.slice(n+1,r))):e}var as=za;function ss(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var us="CODE_LOGIC_ERROR";function ls(e,t,n,r,i){return cs.apply(this,arguments)}function cs(){return cs=oe(re().mark((function e(t,n,i,o,a){var s,u,l,c,h,f,d,p,v;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=ue({},i)).ruleIndex,s.validator&&(u=s.validator,s.validator=function(){try{return u.apply(void 0,arguments)}catch(hU){return console.error(hU),Promise.reject(us)}}),l=null,s&&"array"===s.type&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new as(ae({},t,[s])),h=ns({},ja,o.validateMessages),c.messages(h),f=[],e.prev=9,e.next=12,Promise.resolve(c.validate(ae({},t,n),ue({},o)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(f=e.t0.errors.map((function(e,t){var n=e.message,i=n===us?h.default:n;return r.isValidElement(i)?r.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(f.length||!l){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return ls("".concat(t,".").concat(n),e,l,o,a)})));case 20:return d=e.sent,e.abrupt("return",d.reduce((function(e,t){return[].concat(Z(e),Z(t))}),[]));case 22:return p=ue(ue({},i),{},{name:t,enum:(i.enum||[]).join(", ")},a),v=f.map((function(e){return"string"===typeof e?ss(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),cs.apply(this,arguments)}function hs(e,t,n,r,i,o){var a,s=e.join("."),u=n.map((function(e,t){var n=e.validator,r=ue(ue({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){qe(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,qe(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=oe(re().mark((function e(n,i){var a,l,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<u.length)){e.next=12;break}return l=u[a],e.next=5,ls(s,t,l,r,o);case 5:if(!(c=e.sent).length){e.next=9;break}return i([{errors:c,rule:l}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var l=u.map((function(e){return ls(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return ds.apply(this,arguments)}(l):function(e){return fs.apply(this,arguments)}(l)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function fs(){return(fs=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Z(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(){return(ds=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ps=["name"],vs=[];function gs(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var ms=function(e){hn(n,e);var t=gn(n);function n(e){var i;(sn(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=vs,i.warnings=vs,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Ka(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Z(void 0===n?[]:n),Z(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(ue(ue({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,o=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,u=r.onReset,l=n.store,c=i.getNamePath(),h=i.getValue(e),f=i.getValue(l),d=t&&Za(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&h!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=vs,i.warnings=vs,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=vs,i.warnings=vs,i.triggerMetaEvent(),null===u||void 0===u||u(),void i.refresh();break;case"remove":if(o)return void i.reRender();break;case"setField":if(d){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||vs),"warnings"in p&&(i.warnings=p.warnings||vs),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(o&&!c.length&&gs(o,e,l,h,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(Ka).some((function(e){return Za(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!s.length||c.length||o)&&gs(o,e,l,h,f,n))return void i.reRender()}!0===o&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var o=i.props,a=o.validateFirst,s=void 0!==a&&a,u=o.messageVariables,l=(e||{}).triggerName,c=i.getRules();l&&(c=c.filter((function(e){var t=e.validateTrigger;return!t||pa(t).includes(l)})));var h=hs(t,n,c,e,s,u);return h.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vs;if(i.validatePromise===r){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,o=void 0===i?vs:i;r?n.push.apply(n,Z(o)):t.push.apply(t,Z(o))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),h}));return i.validatePromise=r,i.dirty=!0,i.errors=vs,i.warnings=vs,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(ha).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return ue(ue({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=Ct(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return $a(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,u=t.getValueProps,l=t.fieldContext,c=void 0!==r?r:l.validateTrigger,h=i.getNamePath(),f=l.getInternalHooks,d=l.getFieldsValue,p=f(ha),v=p.dispatch,g=i.getValue(),m=u||function(e){return ae({},s,e)},y=e[n],x=ue(ue({},e),m(g));x[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=o?o.apply(void 0,n):is.apply(void 0,[s].concat(n)),a&&(e=a(e,g,d(!0))),v({type:"updateValue",namePath:h,value:e}),y&&y.apply(void 0,n)};var b=pa(c||[]);return b.forEach((function(e){var t=x[e];x[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:h,triggerName:e})}})),x},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(ha).initEntityValue)(pn(i));return i}return ln(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(ha).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),o=i.child;return i.isFunction?e=o:r.isValidElement(o)?e=r.cloneElement(o,this.getControlled(o.props)):(qe(!o,"`children` of Field is not validate ReactElement."),e=o),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);ms.contextType=da,ms.defaultProps={trigger:"onChange",valuePropName:"value"};var ys=function(e){var t=e.name,n=he(e,ps),i=r.useContext(da),o=void 0!==t?Ka(t):void 0,a="keep";return n.isListField||(a="_".concat((o||[]).join("_"))),r.createElement(ms,h({key:a,name:o},n,{fieldContext:i}))},xs=r.createContext(null),bs=function(e){var t=e.name,n=e.initialValue,i=e.children,o=e.rules,a=e.validateTrigger,s=r.useContext(da),u=r.useRef({keys:[],id:0}).current,l=r.useMemo((function(){var e=Ka(s.prefixName)||[];return[].concat(Z(e),Z(Ka(t)))}),[s.prefixName,t]),c=r.useMemo((function(){return ue(ue({},s),{},{prefixName:l})}),[s,l]),h=r.useMemo((function(){return{getKey:function(e){var t=l.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[l]);if("function"!==typeof i)return qe(!1,"Form.List only accepts function as children."),null;return r.createElement(xs.Provider,{value:h},r.createElement(da.Provider,{value:c},r.createElement(ys,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,c=function(){return a(l||[])||[]},h={add:function(e,t){var n=c();t>=0&&t<=n.length?(u.keys=[].concat(Z(u.keys.slice(0,t)),[u.id],Z(u.keys.slice(t))),o([].concat(Z(n.slice(0,t)),[e],Z(n.slice(t))))):(u.keys=[].concat(Z(u.keys),[u.id]),o([].concat(Z(n),[e]))),u.id+=1},remove:function(e){var t=c(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=c();e<0||e>=n.length||t<0||t>=n.length||(u.keys=os(u.keys,e,t),o(os(n,e,t)))}}},f=r||[];return Array.isArray(f)||(f=[]),i(f.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),h,t)}))))};var ws="__@field_split__";function ks(e){return e.map((function(e){return"".concat(ne(e),":").concat(e)})).join(ws)}var Es=function(){function e(){sn(this,e),this.kvs=new Map}return ln(e,[{key:"set",value:function(e,t){this.kvs.set(ks(e),t)}},{key:"get",value:function(e){return this.kvs.get(ks(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(ks(e))}},{key:"map",value:function(e){return Z(this.kvs.entries()).map((function(t){var n=c(t,2),r=n[0],i=n[1],o=r.split(ws);return e({key:o.map((function(e){var t=c(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),_s=Es,Ts=["name","errors"],As=ln((function e(t){var n=this;sn(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===ha?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(qe(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=ns({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=Qa(i,n,$a(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new _s;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=$a(n.initialValues,e);return e.length?qa(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new _s;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Ka(e);return t.get(n)||{INVALIDATE_NAME_PATH:Ka(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),Ja(n.store,i.map(Ka))},this.getFieldValue=function(e){n.warningUnhooked();var t=Ka(e);return $a(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Ka(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Ka(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Ka(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(Ka),s=!1):(i=null,s=o):(i=o.map(Ka),s=a);var u=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!i)return s?u.every(l):u.some(l);var c=new _s;i.forEach((function(e){c.set(e,[])})),u.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat(Z(t),[e])}))}))}));var h=function(e){return e.some(l)},f=c.map((function(e){return e.value}));return s?f.every(h):f.some(h)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Ka);return t.some((function(e){var t=e.getNamePath();return Za(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new _s,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))qe(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)qe(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||n.updateStore(Qa(n.store,i,Z(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Z(Z(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(ns({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Ka);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Qa(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=(e.errors,he(e,Ts)),a=Ka(i);r.push(a),"value"in o&&n.updateStore(Qa(n.store,a,o.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=ue(ue({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===$a(n.store,r)&&n.updateStore(Qa(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every((function(e){return!rs(e.getNamePath(),t)}))){var s=n.store;n.updateStore(Qa(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=ue(ue({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Z(r))}),r},this.updateValue=function(e,t){var r=Ka(e),i=n.store;n.updateStore(Qa(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(Ja(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Z(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=ns(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new _s;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Ka(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new _s;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return Za(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(Ka):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var u=a.getNamePath();if(!r||Za(i,u)){var l=a.validateRules(ue({validateMessages:ue(ue({},ja),n.validateMessages)},t));o.push(l.then((function(){return{name:u,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,Z(i)):t.push.apply(t,Z(i))})),t.length?Promise.reject({name:u,errors:t,warnings:n}):{name:u,errors:t,warnings:n}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var Ss=function(e){var t=r.useRef(),n=c(r.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var i=new As((function(){n({})}));t.current=i.getForm()}return[t.current]},Cs=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Is=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,o=e.children,a=r.useContext(Cs),s=r.useRef({});return r.createElement(Cs.Provider,{value:ue(ue({},a),{},{validateMessages:ue(ue({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=ue(ue({},s.current),{},ae({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=ue({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},o)},Ps=Cs,Os=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Rs=function(e,t){var n=e.name,i=e.initialValues,o=e.fields,a=e.form,s=e.preserve,u=e.children,l=e.component,f=void 0===l?"form":l,d=e.validateMessages,p=e.validateTrigger,v=void 0===p?"onChange":p,g=e.onValuesChange,m=e.onFieldsChange,y=e.onFinish,x=e.onFinishFailed,b=he(e,Os),w=r.useContext(Ps),k=c(Ss(a),1)[0],E=k.getInternalHooks(ha),_=E.useSubscribe,T=E.setInitialValues,A=E.setCallbacks,S=E.setValidateMessages,C=E.setPreserve,I=E.destroyForm;r.useImperativeHandle(t,(function(){return k})),r.useEffect((function(){return w.registerForm(n,k),function(){w.unregisterForm(n)}}),[w,k,n]),S(ue(ue({},w.validateMessages),d)),A({onValuesChange:g,onFieldsChange:function(e){if(w.triggerFormChange(n,e),m){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];m.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),y&&y(e)},onFinishFailed:x}),C(s);var P,O=r.useRef(null);T(i,!O.current),O.current||(O.current=!0),r.useEffect((function(){return I}),[]);var R="function"===typeof u;R?P=u(k.getFieldsValue(!0),k):P=u;_(!R);var M=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==ne(e)||"object"!==ne(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(Z(n),Z(r)));return Z(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(M.current||[],o||[])||k.setFields(o||[]),M.current=o}),[o,k]);var D=r.useMemo((function(){return ue(ue({},k),{},{validateTrigger:v})}),[k,v]),L=r.createElement(da.Provider,{value:D},P);return!1===f?L:r.createElement(f,h({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),k.submit()},onReset:function(e){var t;e.preventDefault(),k.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),L)};function Ms(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Ds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,r.useState)(),i=c(n,2),o=i[0],a=i[1],s=(0,r.useMemo)((function(){return Ms(o)}),[o]),u=(0,r.useRef)(s);u.current=s;var l=(0,r.useContext)(da),h=t||l,f=h&&h._init,d=Ka(e),p=(0,r.useRef)(d);return p.current=d,(0,r.useEffect)((function(){if(f){var e=h.getFieldsValue,t=(0,(0,h.getInternalHooks)(ha).registerWatch)((function(e){var t=$a(e,p.current),n=Ms(t);u.current!==n&&(u.current=n,a(t))})),n=$a(e(),p.current);return a(n),t}}),[]),o},Ls=r.forwardRef(Rs);Ls.FormProvider=Is,Ls.Field=ys,Ls.List=bs,Ls.useForm=Ss,Ls.useWatch=Ds;var Ns=Ls,Fs=r.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),Bs=r.createContext(null),Us=r.createContext({prefixCls:""}),zs=r.createContext({}),Vs=function(e){var t=e.children,n=e.status,i=e.override,o=(0,r.useContext)(zs),a=(0,r.useMemo)((function(){var e=h({},o);return i&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,i,o]);return r.createElement(zs.Provider,{value:a},t)};vo("warning","error","");function js(e,t,n){var r;return de()((ae(r={},"".concat(e,"-status-success"),"success"===t),ae(r,"".concat(e,"-status-warning"),"warning"===t),ae(r,"".concat(e,"-status-error"),"error"===t),ae(r,"".concat(e,"-status-validating"),"validating"===t),ae(r,"".concat(e,"-has-feedback"),n),r))}var Ys=function(e,t){return t||e},Ws={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Gs=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:Ws}))};Gs.displayName="CloseCircleFilled";var Hs=r.forwardRef(Gs),Xs=vo("text","input");var qs=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"renderClearIcon",value:function(e){var t,n=this.props,i=n.value,o=n.disabled,a=n.readOnly,s=n.handleReset,u=n.suffix,l=!o&&!a&&i,c="".concat(e,"-clear-icon");return r.createElement(Hs,{onClick:s,onMouseDown:function(e){return e.preventDefault()},className:de()((t={},ae(t,"".concat(c,"-hidden"),!l),ae(t,"".concat(c,"-has-suffix"),!!u),t),c),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(e,t,n){var i,o=this.props,a=o.value,s=o.allowClear,u=o.className,l=o.style,c=o.direction,h=o.bordered,f=o.hidden,d=o.status,p=n.status,v=n.hasFeedback;if(!s)return Po(t,{value:a});var g,m=de()("".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"),js("".concat(e,"-affix-wrapper"),Ys(p,d),v),(ae(i={},"".concat(e,"-affix-wrapper-rtl"),"rtl"===c),ae(i,"".concat(e,"-affix-wrapper-borderless"),!h),ae(i,"".concat(u),!((g=this.props).addonBefore||g.addonAfter)&&u),i));return r.createElement("span",{className:m,style:l,hidden:f},Po(t,{style:null,value:a}),this.renderClearIcon(e))}},{key:"render",value:function(){var e=this;return r.createElement(zs.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,i=n.inputType,o=n.element;if(i===Xs[0])return e.renderTextAreaWithClearIcon(r,o,t)}))}}]),n}(r.Component),Ks=qs;function $s(e){return!(!e.addonBefore&&!e.addonAfter)}function Qs(e){return!!(e.prefix||e.suffix||e.allowClear)}function Js(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function Zs(e){return"undefined"===typeof e||null===e?"":String(e)}var eu=function(e){var t=e.inputElement,n=e.prefixCls,i=e.prefix,o=e.suffix,a=e.addonBefore,s=e.addonAfter,u=e.className,l=e.style,c=e.affixWrapperClassName,h=e.groupClassName,f=e.wrapperClassName,d=e.disabled,p=e.readOnly,v=e.focused,g=e.triggerFocus,m=e.allowClear,y=e.value,x=e.handleReset,b=e.hidden,w=(0,r.useRef)(null),k=(0,r.cloneElement)(t,{value:y,hidden:b});if(Qs(e)){var E,_="".concat(n,"-affix-wrapper"),T=de()(_,(ae(E={},"".concat(_,"-disabled"),d),ae(E,"".concat(_,"-focused"),v),ae(E,"".concat(_,"-readonly"),p),ae(E,"".concat(_,"-input-with-clear-btn"),o&&m&&y),E),!$s(e)&&u,c),A=(o||m)&&r.createElement("span",{className:"".concat(n,"-suffix")},function(){var e;if(!m)return null;var t=!d&&!p&&y,i="".concat(n,"-clear-icon"),a="object"===ne(m)&&(null===m||void 0===m?void 0:m.clearIcon)?m.clearIcon:"\u2716";return r.createElement("span",{onClick:x,onMouseDown:function(e){return e.preventDefault()},className:de()(i,(e={},ae(e,"".concat(i,"-hidden"),!t),ae(e,"".concat(i,"-has-suffix"),!!o),e)),role:"button",tabIndex:-1},a)}(),o);k=r.createElement("span",{className:T,style:l,hidden:!$s(e)&&b,onMouseDown:function(e){var t;(null===(t=w.current)||void 0===t?void 0:t.contains(e.target))&&(null===g||void 0===g||g())},ref:w},i&&r.createElement("span",{className:"".concat(n,"-prefix")},i),(0,r.cloneElement)(t,{style:null,value:y,hidden:null}),A)}if($s(e)){var S="".concat(n,"-group"),C="".concat(S,"-addon"),I=de()("".concat(n,"-wrapper"),S,f),P=de()("".concat(n,"-group-wrapper"),u,h);return r.createElement("span",{className:P,style:l,hidden:b},r.createElement("span",{className:I},a&&r.createElement("span",{className:C},a),(0,r.cloneElement)(k,{style:null,hidden:null}),s&&r.createElement("span",{className:C},s)))}return k},tu=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],nu=(0,r.forwardRef)((function(e,t){var n=e.autoComplete,i=e.onChange,o=e.onFocus,a=e.onBlur,s=e.onPressEnter,u=e.onKeyDown,l=e.prefixCls,h=void 0===l?"rc-input":l,f=e.disabled,d=e.htmlSize,p=e.className,v=e.maxLength,g=e.suffix,m=e.showCount,y=e.type,x=void 0===y?"text":y,b=e.inputClassName,w=he(e,tu),k=c(Sn(e.defaultValue,{value:e.value}),2),E=k[0],_=k[1],T=c((0,r.useState)(!1),2),A=T[0],S=T[1],C=(0,r.useRef)(null),I=function(e){C.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(C.current,e)};(0,r.useImperativeHandle)(t,(function(){return{focus:I,blur:function(){var e;null===(e=C.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=C.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=C.current)||void 0===e||e.select()},input:C.current}})),(0,r.useEffect)((function(){S((function(e){return(!e||!f)&&e}))}),[f]);var P=function(t){void 0===e.value&&_(t.target.value),C.current&&Js(C.current,t,i)},O=function(e){s&&"Enter"===e.key&&s(e),null===u||void 0===u||u(e)},R=function(e){S(!0),null===o||void 0===o||o(e)},M=function(e){S(!1),null===a||void 0===a||a(e)};return r.createElement(eu,ue(ue({},w),{},{prefixCls:h,className:p,inputElement:function(){var t=Cn(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return r.createElement("input",ue(ue({autoComplete:n},t),{},{onChange:P,onFocus:R,onBlur:M,onKeyDown:O,className:de()(h,ae({},"".concat(h,"-disabled"),f),b,!$s(e)&&!Qs(e)&&p),ref:C,size:d,type:x}))}(),handleReset:function(e){_(""),I(),C.current&&Js(C.current,e,i)},value:Zs(E),focused:A,triggerFocus:I,suffix:function(){var e=Number(v)>0;if(g||m){var t=Z(Zs(E)).length,n="object"===ne(m)?m.formatter({count:t,maxLength:v}):"".concat(t).concat(e?" / ".concat(v):"");return r.createElement(r.Fragment,null,!!m&&r.createElement("span",{className:de()("".concat(h,"-show-count-suffix"),ae({},"".concat(h,"-show-count-has-suffix"),!!g))},n),g)}return null}(),disabled:f}))})),ru=nu;var iu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ou(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}var au=(0,r.forwardRef)((function(e,t){var n,i,o,a=e.prefixCls,s=e.bordered,u=void 0===s||s,l=e.status,c=e.size,f=e.disabled,d=e.onBlur,p=e.onFocus,v=e.suffix,g=e.allowClear,m=e.addonAfter,y=e.addonBefore,x=iu(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),b=r.useContext(In),w=b.getPrefixCls,k=b.direction,E=b.input,_=w("input",a),T=(0,r.useRef)(null),A=r.useContext(ca),S=c||A,C=r.useContext(sa),I=f||C,P=(0,r.useContext)(zs),O=P.status,R=P.hasFeedback,M=P.feedbackIcon,D=Ys(O,l),L=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e)||!!R,N=(0,r.useRef)(L);(0,r.useEffect)((function(){L&&N.current,N.current=L}),[L]);var F=(0,r.useRef)([]),B=function(){F.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=T.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=T.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=T.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=T.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,r.useEffect)((function(){return B(),function(){return F.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var U,z=(R||v)&&r.createElement(r.Fragment,null,v,R&&M);return"object"===ne(g)&&(null===g||void 0===g?void 0:g.clearIcon)?U=g:g&&(U={clearIcon:r.createElement(Hs,null)}),r.createElement(ru,h({ref:Ot(t,T),prefixCls:_,autoComplete:null===E||void 0===E?void 0:E.autoComplete},x,{disabled:I||void 0,onBlur:function(e){B(),null===d||void 0===d||d(e)},onFocus:function(e){B(),null===p||void 0===p||p(e)},suffix:z,allowClear:U,addonAfter:m&&r.createElement(Vs,{override:!0,status:!0},m),addonBefore:y&&r.createElement(Vs,{override:!0,status:!0},y),inputClassName:de()((n={},ae(n,"".concat(_,"-sm"),"small"===S),ae(n,"".concat(_,"-lg"),"large"===S),ae(n,"".concat(_,"-rtl"),"rtl"===k),ae(n,"".concat(_,"-borderless"),!u),n),!L&&js(_,D)),affixWrapperClassName:de()((i={},ae(i,"".concat(_,"-affix-wrapper-sm"),"small"===S),ae(i,"".concat(_,"-affix-wrapper-lg"),"large"===S),ae(i,"".concat(_,"-affix-wrapper-rtl"),"rtl"===k),ae(i,"".concat(_,"-affix-wrapper-borderless"),!u),i),js("".concat(_,"-affix-wrapper"),D,R)),wrapperClassName:de()(ae({},"".concat(_,"-group-rtl"),"rtl"===k)),groupClassName:de()((o={},ae(o,"".concat(_,"-group-wrapper-sm"),"small"===S),ae(o,"".concat(_,"-group-wrapper-lg"),"large"===S),ae(o,"".concat(_,"-group-wrapper-rtl"),"rtl"===k),o),js("".concat(_,"-group-wrapper"),D,R))}))})),su=au,uu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function lu(e,t){return Z(e||"").slice(0,t).join("")}function cu(e,t,n,r){var i=n;return e?i=lu(n,r):Z(t||"").length<n.length&&Z(n||"").length>r&&(i=t),i}var hu=r.forwardRef((function(e,t){var n,i=e.prefixCls,o=e.bordered,a=void 0===o||o,s=e.showCount,u=void 0!==s&&s,l=e.maxLength,f=e.className,d=e.style,p=e.size,v=e.disabled,g=e.onCompositionStart,m=e.onCompositionEnd,y=e.onChange,x=e.status,b=uu(e,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]),w=r.useContext(In),k=w.getPrefixCls,E=w.direction,_=r.useContext(ca),T=r.useContext(sa),A=v||T,S=r.useContext(zs),C=S.status,I=S.hasFeedback,P=S.isFormItemInput,O=S.feedbackIcon,R=Ys(C,x),M=r.useRef(null),D=r.useRef(null),L=c(r.useState(!1),2),N=L[0],F=L[1],B=r.useRef(),U=r.useRef(0),z=c(Sn(b.defaultValue,{value:b.value}),2),V=z[0],j=z[1],Y=b.hidden,W=function(e,t){void 0===b.value&&(j(e),null===t||void 0===t||t())},G=Number(l)>0,H=k("input",i);r.useImperativeHandle(t,(function(){var e;return{resizableTextArea:null===(e=M.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=M.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=M.current)||void 0===e?void 0:e.blur()}}}));var X=r.createElement(ia,h({},Cn(b,["allowClear"]),{disabled:A,className:de()((n={},ae(n,"".concat(H,"-borderless"),!a),ae(n,f,f&&!u),ae(n,"".concat(H,"-sm"),"small"===_||"small"===p),ae(n,"".concat(H,"-lg"),"large"===_||"large"===p),n),js(H,R)),style:u?void 0:d,prefixCls:H,onCompositionStart:function(e){F(!0),B.current=V,U.current=e.currentTarget.selectionStart,null===g||void 0===g||g(e)},onChange:function(e){var t=e.target.value;!N&&G&&(t=cu(e.target.selectionStart>=l+1||e.target.selectionStart===t.length||!e.target.selectionStart,V,t,l));W(t),ou(e.currentTarget,e,y,t)},onCompositionEnd:function(e){var t;F(!1);var n=e.currentTarget.value;G&&(n=cu(U.current>=l+1||U.current===(null===(t=B.current)||void 0===t?void 0:t.length),B.current,n,l));n!==V&&(W(n),ou(e.currentTarget,e,y,n)),null===m||void 0===m||m(e)},ref:M})),q=function(e){return"undefined"===typeof e||null===e?"":String(e)}(V);N||!G||null!==b.value&&void 0!==b.value||(q=lu(q,l));var K=r.createElement(Ks,h({disabled:A},b,{prefixCls:H,direction:E,inputType:"text",value:q,element:X,handleReset:function(e){var t,n,r;W(""),null===(t=M.current)||void 0===t||t.focus(),ou(null===(r=null===(n=M.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,y)},ref:D,bordered:a,status:x,style:u?void 0:d}));if(u||I){var $,Q=Z(q).length,J="";return J="object"===ne(u)?u.formatter({count:Q,maxLength:l}):"".concat(Q).concat(G?" / ".concat(l):""),r.createElement("div",{hidden:Y,className:de()("".concat(H,"-textarea"),($={},ae($,"".concat(H,"-textarea-rtl"),"rtl"===E),ae($,"".concat(H,"-textarea-show-count"),u),ae($,"".concat(H,"-textarea-in-form-item"),P),$),js("".concat(H,"-textarea"),R,I),f),style:d,"data-count":J},K,I&&r.createElement("span",{className:"".concat(H,"-textarea-suffix")},O))}return K})),fu=hu,du=function(e){var t=e.prefixCls,n=e["aria-label"],i=e.className,o=e.style,a=e.direction,s=e.maxLength,u=e.autoSize,l=void 0===u||u,h=e.value,f=e.onSave,d=e.onCancel,p=e.onEnd,v=e.component,g=e.enterIcon,m=void 0===g?r.createElement(Xo,null):g,y=r.useRef(),x=r.useRef(!1),b=r.useRef(),w=c(r.useState(h),2),k=w[0],E=w[1];r.useEffect((function(){E(h)}),[h]),r.useEffect((function(){if(y.current&&y.current.resizableTextArea){var e=y.current.resizableTextArea.textArea;e.focus();var t=e.value.length;e.setSelectionRange(t,t)}}),[]);var _=function(){f(k.trim())},T=v?"".concat(t,"-").concat(v):"",A=de()(t,"".concat(t,"-edit-content"),ae({},"".concat(t,"-rtl"),"rtl"===a),i,T);return r.createElement("div",{className:A,style:o},r.createElement(fu,{ref:y,maxLength:s,value:k,onChange:function(e){var t=e.target;E(t.value.replace(/[\n\r]/g,""))},onKeyDown:function(e){var t=e.keyCode;x.current||(b.current=t)},onKeyUp:function(e){var t=e.keyCode,n=e.ctrlKey,r=e.altKey,i=e.metaKey,o=e.shiftKey;b.current!==t||x.current||n||r||i||o||(t===Uo.ENTER?(_(),null===p||void 0===p||p()):t===Uo.ESC&&d())},onCompositionStart:function(){x.current=!0},onCompositionEnd:function(){x.current=!1},onBlur:function(){_()},"aria-label":n,rows:1,autoSize:l}),null!==m?Po(m,{className:"".concat(t,"-edit-content-confirm")}):null)};function pu(e,t){return r.useMemo((function(){var n=!!e;return[n,h(h({},t),n&&"object"===ne(e)?e:null)]}),[e])}var vu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},gu=function(e,t){var n=e.prefixCls,i=e.component,o=void 0===i?"article":i,a=e.className,s=e["aria-label"],u=e.setContentRef,l=e.children,c=vu(e,["prefixCls","component","className","aria-label","setContentRef","children"]),f=r.useContext(In),d=f.getPrefixCls,p=f.direction,v=t;u&&(v=Ot(t,u));var g=o,m=d("typography",n),y=de()(m,ae({},"".concat(m,"-rtl"),"rtl"===p),a);return r.createElement(g,h({className:y,"aria-label":s,ref:v},c),l)};var mu=r.forwardRef(gu);function yu(e){var t=ne(e);return"string"===t||"number"===t}function xu(e,t){for(var n=0,r=[],i=0;i<e.length;i+=1){if(n===t)return r;var o=e[i],a=n+(yu(o)?String(o).length:1);if(a>t){var s=t-n;return r.push(String(o).slice(0,s)),r}r.push(o),n=a}return e}var bu=function(e){var t=e.enabledMeasure,n=e.children,i=e.text,o=e.width,a=e.rows,s=e.onEllipsis,u=c(r.useState([0,0,0]),2),l=u[0],f=u[1],d=c(r.useState(0),2),p=d[0],v=d[1],g=c(l,3),m=g[0],y=g[1],x=g[2],b=c(r.useState(0),2),w=b[0],k=b[1],E=r.useRef(null),_=r.useRef(null),T=r.useMemo((function(){return Ct(i)}),[i]),A=r.useMemo((function(){return function(e){var t=0;return e.forEach((function(e){yu(e)?t+=String(e).length:t+=1})),t}(T)}),[T]),S=r.useMemo((function(){return t&&3===p?n(xu(T,y),y<A):n(T,!1)}),[t,p,n,T,y,A]);En((function(){t&&o&&A&&(v(1),f([0,Math.ceil(A/2),A]))}),[t,o,i,A,a]),En((function(){var e;1===p&&k((null===(e=E.current)||void 0===e?void 0:e.offsetHeight)||0)}),[p]),En((function(){var e,t;if(w)if(1===p)((null===(e=_.current)||void 0===e?void 0:e.offsetHeight)||0)<=a*w?(v(4),s(!1)):v(2);else if(2===p)if(m!==x){var n=(null===(t=_.current)||void 0===t?void 0:t.offsetHeight)||0,r=m,i=x;m===x-1?i=m:n<=a*w?r=y:i=y;var o=Math.ceil((r+i)/2);f([r,o,i])}else v(3),s(!0)}),[p,m,x,a,w]);var C={width:o,whiteSpace:"normal",margin:0,padding:0},I=function(e,t,n){return r.createElement("span",{"aria-hidden":!0,ref:t,style:h({position:"fixed",display:"block",left:0,top:0,zIndex:-9999,visibility:"hidden",pointerEvents:"none"},n)},e)};return r.createElement(r.Fragment,null,S,t&&3!==p&&4!==p&&r.createElement(r.Fragment,null,I("lg",E,{wordBreak:"keep-all",whiteSpace:"nowrap"}),1===p?I(n(T,!1),_,C):function(e,t){var r=xu(T,e);return I(n(r,!0),t,C)}(y,_)))};var wu=function(e){var t=e.title,n=e.enabledEllipsis,i=e.isEllipsis,o=e.children;return t&&n?r.createElement(Lo,{title:t,visible:!!i&&void 0},o):o},ku=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Eu(e,t,n){return!0===e||void 0===e?t:e||n&&t}function _u(e){return Array.isArray(e)?e:[e]}var Tu=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.className,o=e.style,a=e.type,s=e.disabled,u=e.children,l=e.ellipsis,f=e.editable,d=e.copyable,p=e.component,v=e.title,g=ku(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),m=r.useContext(In),y=m.getPrefixCls,x=m.direction,b=Bn("Text")[0],w=r.useRef(null),k=r.useRef(null),E=y("typography",n),_=Cn(g,["mark","code","delete","underline","strong","keyboard","italic"]),T=c(pu(f),2),A=T[0],S=T[1],C=c(Sn(!1,{value:S.editing}),2),I=C[0],P=C[1],O=S.triggerType,R=void 0===O?["icon"]:O,M=function(e){var t;e&&(null===(t=S.onStart)||void 0===t||t.call(S)),P(e)};!function(e,t){var n=r.useRef(!1);r.useEffect((function(){n.current?e():n.current=!0}),t)}((function(){var e;I||null===(e=k.current)||void 0===e||e.focus()}),[I]);var D=function(e){null===e||void 0===e||e.preventDefault(),M(!0)},L=c(pu(d),2),N=L[0],F=L[1],B=c(r.useState(!1),2),U=B[0],z=B[1],V=r.useRef(),j={};F.format&&(j.format=F.format);var Y=function(){clearTimeout(V.current)},W=function(e){var t;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),At()(F.text||String(u)||"",j),z(!0),Y(),V.current=setTimeout((function(){z(!1)}),3e3),null===(t=F.onCopy)||void 0===t||t.call(F,e)};r.useEffect((function(){return Y}),[]);var G=c(r.useState(!1),2),H=G[0],X=G[1],q=c(r.useState(!1),2),K=q[0],$=q[1],Q=c(r.useState(!1),2),J=Q[0],Z=Q[1],ee=c(r.useState(!1),2),te=ee[0],re=ee[1],ie=c(r.useState(!1),2),oe=ie[0],se=ie[1],ue=c(pu(l,{expandable:!1}),2),le=ue[0],ce=ue[1],he=le&&!J,fe=ce.rows,pe=void 0===fe?1:fe,ve=r.useMemo((function(){return!he||void 0!==ce.suffix||ce.onEllipsis||ce.expandable||A||N}),[he,ce,A,N]);En((function(){le&&!ve&&(X(Fo("webkitLineClamp")),$(Fo("textOverflow")))}),[ve,le]);var ge=r.useMemo((function(){return!ve&&(1===pe?K:H)}),[ve,K,H]),me=he&&(ge?oe:te),ye=he&&1===pe&&ge,xe=he&&pe>1&&ge,be=function(e){var t;Z(!0),null===(t=ce.onExpand)||void 0===t||t.call(ce,e)},we=c(r.useState(0),2),ke=we[0],Ee=we[1],_e=function(e){var t;re(e),te!==e&&(null===(t=ce.onEllipsis)||void 0===t||t.call(ce,e))};r.useEffect((function(){var e=w.current;if(le&&ge&&e){var t=xe?e.offsetHeight<e.scrollHeight:e.offsetWidth<e.scrollWidth;oe!==t&&se(t)}}),[le,ge,u,xe]);var Te=!0===ce.tooltip?u:ce.tooltip,Ae=r.useMemo((function(){var e=function(e){return["string","number"].includes(ne(e))};if(le&&!ge)return e(u)?u:e(v)?v:e(Te)?Te:void 0}),[le,ge,v,Te,me]);if(I)return r.createElement(du,{value:"string"===typeof u?u:"",onSave:function(e){var t;null===(t=S.onChange)||void 0===t||t.call(S,e),M(!1)},onCancel:function(){var e;null===(e=S.onCancel)||void 0===e||e.call(S),M(!1)},onEnd:S.onEnd,prefixCls:E,className:i,style:o,direction:x,component:p,maxLength:S.maxLength,autoSize:S.autoSize,enterIcon:S.enterIcon});var Se=function(){var e,t=ce.expandable,n=ce.symbol;return t?(e=n||b.expand,r.createElement("a",{key:"expand",className:"".concat(E,"-expand"),onClick:be,"aria-label":b.expand},e)):null},Ce=function(){if(A){var e=S.icon,t=S.tooltip,n=Ct(t)[0]||b.edit,i="string"===typeof n?n:"";return R.includes("icon")?r.createElement(Lo,{key:"edit",title:!1===t?"":n},r.createElement(Yo,{ref:k,className:"".concat(E,"-edit"),onClick:D,"aria-label":i},e||r.createElement(_t,{role:"button"}))):null}},Ie=function(){if(N){var e=F.tooltips,t=F.icon,n=_u(e),i=_u(t),o=U?Eu(n[1],b.copied):Eu(n[0],b.copy),a=U?b.copied:b.copy,s="string"===typeof o?o:a;return r.createElement(Lo,{key:"copy",title:o},r.createElement(Yo,{className:de()("".concat(E,"-copy"),U&&"".concat(E,"-copy-success")),onClick:W,"aria-label":s},U?Eu(i[1],r.createElement(yt,null),!0):Eu(i[0],r.createElement(wt,null),!0)))}};return r.createElement(kn,{onResize:function(e){var t=e.offsetWidth;Ee(t)},disabled:!he||ge},(function(n){var l;return r.createElement(wu,{title:Te,enabledEllipsis:he,isEllipsis:me},r.createElement(mu,h({className:de()((l={},ae(l,"".concat(E,"-").concat(a),a),ae(l,"".concat(E,"-disabled"),s),ae(l,"".concat(E,"-ellipsis"),le),ae(l,"".concat(E,"-single-line"),he&&1===pe),ae(l,"".concat(E,"-ellipsis-single-line"),ye),ae(l,"".concat(E,"-ellipsis-multiple-line"),xe),l),i),style:h(h({},o),{WebkitLineClamp:xe?pe:void 0}),component:p,ref:Ot(n,w,t),direction:x,onClick:R.includes("text")?D:null,"aria-label":Ae,title:v},_),r.createElement(bu,{enabledMeasure:he&&!ge,text:u,rows:pe,width:ke,onEllipsis:_e},(function(t,n){var i=t;t.length&&n&&Ae&&(i=r.createElement("span",{key:"show-content","aria-hidden":!0},i));var o=function(e,t){var n=e.mark,i=e.code,o=e.underline,a=e.delete,s=e.strong,u=e.keyboard,l=e.italic,c=t;function h(e,t){e&&(c=r.createElement(t,{},c))}return h(s,"strong"),h(o,"u"),h(a,"del"),h(i,"code"),h(n,"mark"),h(u,"kbd"),h(l,"i"),c}(e,r.createElement(r.Fragment,null,i,function(e){return[e&&r.createElement("span",{"aria-hidden":!0,key:"ellipsis"},"..."),ce.suffix,(t=e,[t&&Se(),Ce(),Ie()])];var t}(n)));return o}))))}))})),Au=Tu,Su=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Cu=function(e,t){var n=e.ellipsis,i=e.rel,o=Su(e,["ellipsis","rel"]),a=r.useRef(null);r.useImperativeHandle(t,(function(){return a.current}));var s=h(h({},o),{rel:void 0===i&&"_blank"===o.target?"noopener noreferrer":i});return delete s.navigate,r.createElement(Au,h({},s,{ref:a,ellipsis:!!n,component:"a"}))},Iu=r.forwardRef(Cu),Pu=function(e,t){return r.createElement(Au,h({ref:t},e,{component:"div"}))},Ou=r.forwardRef(Pu),Ru=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Mu=function(e,t){var n=e.ellipsis,i=Ru(e,["ellipsis"]),o=r.useMemo((function(){return n&&"object"===ne(n)?Cn(n,["expandable","rows"]):n}),[n]);return r.createElement(Au,h({ref:t},i,{ellipsis:o,component:"span"}))},Du=r.forwardRef(Mu),Lu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Nu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}(1,2,3,4,5),Fu=function(e,t){var n,i=e.level,o=void 0===i?1:i,a=Lu(e,["level"]);return n=-1!==Nu.indexOf(o)?"h".concat(o):"h1",r.createElement(Au,h({ref:t},a,{component:n}))},Bu=r.forwardRef(Fu),Uu=mu;Uu.Text=Du,Uu.Link=Iu,Uu.Title=Bu,Uu.Paragraph=Ou;var zu,Vu=Uu,ju=function(){return Ke()&&window.document.documentElement},Yu=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1];return r.useEffect((function(){n(function(){if(!ju())return!1;if(void 0!==zu)return zu;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),zu=1===e.scrollHeight,document.body.removeChild(e),zu}())}),[]),t},Wu=["xxl","xl","lg","md","sm","xs"],Gu={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Hu=new Map,Xu=-1,qu={},Ku={matchHandlers:{},dispatch:function(e){return qu=e,Hu.forEach((function(e){return e(qu)})),Hu.size>=1},subscribe:function(e){return Hu.size||this.register(),Xu+=1,Hu.set(Xu,e),e(qu),Xu},unsubscribe:function(e){Hu.delete(e),Hu.size||this.unregister()},unregister:function(){var e=this;Object.keys(Gu).forEach((function(t){var n=Gu[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Hu.clear()},register:function(){var e=this;Object.keys(Gu).forEach((function(t){var n=Gu[t],r=function(n){var r=n.matches;e.dispatch(h(h({},qu),ae({},t,r)))},i=window.matchMedia(n);i.addListener(r),e.matchHandlers[n]={mql:i,listener:r},r(i)}))}},$u=(0,r.createContext)({}),Qu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Ju=(vo("top","middle","bottom","stretch"),vo("start","end","center","space-around","space-between","space-evenly"),r.forwardRef((function(e,t){var n,i=e.prefixCls,o=e.justify,a=e.align,s=e.className,u=e.style,l=e.children,f=e.gutter,d=void 0===f?0:f,p=e.wrap,v=Qu(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),g=r.useContext(In),m=g.getPrefixCls,y=g.direction,x=c(r.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),b=x[0],w=x[1],k=Yu(),E=r.useRef(d);r.useEffect((function(){var e=Ku.subscribe((function(e){var t=E.current||0;(!Array.isArray(t)&&"object"===ne(t)||Array.isArray(t)&&("object"===ne(t[0])||"object"===ne(t[1])))&&w(e)}));return function(){return Ku.unsubscribe(e)}}),[]);var _=m("row",i),T=function(){var e=[void 0,void 0];return(Array.isArray(d)?d:[d,void 0]).forEach((function(t,n){if("object"===ne(t))for(var r=0;r<Wu.length;r++){var i=Wu[r];if(b[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),A=de()(_,(ae(n={},"".concat(_,"-no-wrap"),!1===p),ae(n,"".concat(_,"-").concat(o),o),ae(n,"".concat(_,"-").concat(a),a),ae(n,"".concat(_,"-rtl"),"rtl"===y),n),s),S={},C=null!=T[0]&&T[0]>0?T[0]/-2:void 0,I=null!=T[1]&&T[1]>0?T[1]/-2:void 0;if(C&&(S.marginLeft=C,S.marginRight=C),k){var P=c(T,2);S.rowGap=P[1]}else I&&(S.marginTop=I,S.marginBottom=I);var O=c(T,2),R=O[0],M=O[1],D=r.useMemo((function(){return{gutter:[R,M],wrap:p,supportFlexGap:k}}),[R,M,p,k]);return r.createElement($u.Provider,{value:D},r.createElement("div",h({},v,{className:A,style:h(h({},S),u),ref:t}),l))})));var Zu=Ju,el=Zu,tl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var nl=["xs","sm","md","lg","xl","xxl"],rl=r.forwardRef((function(e,t){var n,i=r.useContext(In),o=i.getPrefixCls,a=i.direction,s=r.useContext($u),u=s.gutter,l=s.wrap,c=s.supportFlexGap,f=e.prefixCls,d=e.span,p=e.order,v=e.offset,g=e.push,m=e.pull,y=e.className,x=e.children,b=e.flex,w=e.style,k=tl(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=o("col",f),_={};nl.forEach((function(t){var n,r={},i=e[t];"number"===typeof i?r.span=i:"object"===ne(i)&&(r=i||{}),delete k[t],_=h(h({},_),(ae(n={},"".concat(E,"-").concat(t,"-").concat(r.span),void 0!==r.span),ae(n,"".concat(E,"-").concat(t,"-order-").concat(r.order),r.order||0===r.order),ae(n,"".concat(E,"-").concat(t,"-offset-").concat(r.offset),r.offset||0===r.offset),ae(n,"".concat(E,"-").concat(t,"-push-").concat(r.push),r.push||0===r.push),ae(n,"".concat(E,"-").concat(t,"-pull-").concat(r.pull),r.pull||0===r.pull),ae(n,"".concat(E,"-rtl"),"rtl"===a),n))}));var T=de()(E,(ae(n={},"".concat(E,"-").concat(d),void 0!==d),ae(n,"".concat(E,"-order-").concat(p),p),ae(n,"".concat(E,"-offset-").concat(v),v),ae(n,"".concat(E,"-push-").concat(g),g),ae(n,"".concat(E,"-pull-").concat(m),m),n),y,_),A={};if(u&&u[0]>0){var S=u[0]/2;A.paddingLeft=S,A.paddingRight=S}if(u&&u[1]>0&&!c){var C=u[1]/2;A.paddingTop=C,A.paddingBottom=C}return b&&(A.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==l||A.minWidth||(A.minWidth=0)),r.createElement("div",h({},k,{style:h(h({},A),w),className:T,ref:t}),x)}));var il,ol=rl,al=ol,sl=0,ul={};function ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=sl++,r=t;function i(){(r-=1)<=0?(e(),delete ul[n]):ul[n]=Wn(i)}return ul[n]=Wn(i),n}function cl(e){return!e||null===e.offsetParent||e.hidden}function hl(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}ll.cancel=function(e){void 0!==e&&(Wn.cancel(ul[e]),delete ul[e])},ll.ids=ul;var fl=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).containerRef=r.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,i,o=e.props,a=o.insertExtraNode;if(!(o.disabled||!t||cl(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var s=pn(e).extraNode,u=e.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var l=e.getAttributeName();if(t.setAttribute(l,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&hl(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,h=c instanceof Document?c.body:null!==(i=c.firstChild)&&void 0!==i?i:c;il=nt("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:h})}a&&t.appendChild(s),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!cl(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),ll.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=ll((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,i=e.props.children;if(e.csp=n,!r.isValidElement(i))return i;var o=e.containerRef;return Rt(i)&&(o=Ot(i.ref,e.containerRef)),Po(i,{ref:o})},e}return ln(n,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),il&&(il.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return r.createElement(Pn,null,this.renderWave)}}]),n}(r.Component);fl.contextType=In;var dl=(0,r.forwardRef)((function(e,t){return r.createElement(fl,h({ref:t},e))})),pl=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},vl=r.createContext(void 0),gl=function(e){var t,n=r.useContext(In),i=n.getPrefixCls,o=n.direction,a=e.prefixCls,s=e.size,u=e.className,l=pl(e,["prefixCls","size","className"]),c=i("btn-group",a),f="";switch(s){case"large":f="lg";break;case"small":f="sm"}var d=de()(c,(ae(t={},"".concat(c,"-").concat(f),f),ae(t,"".concat(c,"-rtl"),"rtl"===o),t),u);return r.createElement(vl.Provider,{value:s},r.createElement("div",h({},l,{className:d})))},ml={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},yl=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:ml}))};yl.displayName="LoadingOutlined";var xl=r.forwardRef(yl),bl=function(){return{width:0,opacity:0,transform:"scale(0)"}},wl=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},kl=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?r.createElement("span",{className:"".concat(t,"-loading-icon")},r.createElement(xl,null)):r.createElement(Fr,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:bl,onAppearActive:wl,onEnterStart:bl,onEnterActive:wl,onLeaveStart:wl,onLeaveActive:bl},(function(e,n){var i=e.className,o=e.style;return r.createElement("span",{className:"".concat(t,"-loading-icon"),style:o,ref:n},r.createElement(xl,{className:i}))}))},El=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_l=/^[\u4e00-\u9fa5]{2}$/,Tl=_l.test.bind(_l);function Al(e){return"text"===e||"link"===e}function Sl(e,t){if(null!==e&&void 0!==e){var n,i=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&Tl(e.props.children)?Po(e,{children:e.props.children.split("").join(i)}):"string"===typeof e?Tl(e)?r.createElement("span",null,e.split("").join(i)):r.createElement("span",null,e):(n=e,r.isValidElement(n)&&n.type===r.Fragment?r.createElement("span",null,e):e)}}vo("default","primary","ghost","dashed","link","text"),vo("default","circle","round"),vo("submit","button","reset");function Cl(e){return"danger"===e?{danger:!0}:{type:e}}var Il=function(e,t){var n,i=e.loading,o=void 0!==i&&i,a=e.prefixCls,s=e.type,u=void 0===s?"default":s,l=e.danger,f=e.shape,d=void 0===f?"default":f,p=e.size,v=e.disabled,g=e.className,m=e.children,y=e.icon,x=e.ghost,b=void 0!==x&&x,w=e.block,k=void 0!==w&&w,E=e.htmlType,_=void 0===E?"button":E,T=El(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),A=r.useContext(ca),S=r.useContext(sa),C=v||S,I=r.useContext(vl),P=c(r.useState(!!o),2),O=P[0],R=P[1],M=c(r.useState(!1),2),D=M[0],L=M[1],N=r.useContext(In),F=N.getPrefixCls,B=N.autoInsertSpaceInButton,U=N.direction,z=t||r.createRef(),V=function(){return 1===r.Children.count(m)&&!y&&!Al(u)},j="boolean"===typeof o?o:(null===o||void 0===o?void 0:o.delay)||!0;r.useEffect((function(){var e=null;return"number"===typeof j?e=window.setTimeout((function(){e=null,R(j)}),j):R(j),function(){e&&(window.clearTimeout(e),e=null)}}),[j]),r.useEffect((function(){if(z&&z.current&&!1!==B){var e=z.current.textContent;V()&&Tl(e)?D||L(!0):D&&L(!1)}}),[z]);var Y=function(t){var n=e.onClick;O||C?t.preventDefault():null===n||void 0===n||n(t)},W=F("btn",a),G=!1!==B,H=I||p||A,X=H&&{large:"lg",small:"sm",middle:void 0}[H]||"",q=O?"loading":y,K=Cn(T,["navigate"]),$=de()(W,(ae(n={},"".concat(W,"-").concat(d),"default"!==d&&d),ae(n,"".concat(W,"-").concat(u),u),ae(n,"".concat(W,"-").concat(X),X),ae(n,"".concat(W,"-icon-only"),!m&&0!==m&&!!q),ae(n,"".concat(W,"-background-ghost"),b&&!Al(u)),ae(n,"".concat(W,"-loading"),O),ae(n,"".concat(W,"-two-chinese-chars"),D&&G&&!O),ae(n,"".concat(W,"-block"),k),ae(n,"".concat(W,"-dangerous"),!!l),ae(n,"".concat(W,"-rtl"),"rtl"===U),ae(n,"".concat(W,"-disabled"),void 0!==K.href&&C),n),g),Q=y&&!O?y:r.createElement(kl,{existIcon:!!y,prefixCls:W,loading:!!O}),J=m||0===m?function(e,t){var n=!1,i=[];return r.Children.forEach(e,(function(e){var t=ne(e),r="string"===t||"number"===t;if(n&&r){var o=i.length-1,a=i[o];i[o]="".concat(a).concat(e)}else i.push(e);n=r})),r.Children.map(i,(function(e){return Sl(e,t)}))}(m,V()&&G):null;if(void 0!==K.href)return r.createElement("a",h({},K,{className:$,onClick:Y,ref:z}),Q,J);var Z=r.createElement("button",h({},T,{type:_,className:$,onClick:Y,disabled:C,ref:z}),Q,J);return Al(u)?Z:r.createElement(dl,{disabled:!!O},Z)},Pl=r.forwardRef(Il);Pl.Group=gl,Pl.__ANT_BUTTON=!0;var Ol=Pl;function Rl(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ml(e,t,n){return Ml=dn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&cn(i,n.prototype),i},Ml.apply(null,arguments)}function Dl(e){var t="function"===typeof Map?new Map:void 0;return Dl=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ml(e,arguments,fn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cn(n,e)},Dl(e)}var Ll=!1,Nl=!1,Fl="${JSCORE_VERSION}",Bl=function(e,t){if(!e)throw Ul(t)},Ul=function(e){return new Error("Firebase Database ("+Fl+") INTERNAL ASSERT FAILED: "+e)},zl=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,d=63&l;u||(d=64,a||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zl(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},jl=function(e){var t=zl(e);return Vl.encodeByteArray(t,!0)},Yl=function(e){return jl(e).replace(/\./g,"")},Wl=function(e){try{return Vl.decodeString(e,!0)}catch(VX){console.error("base64Decode failed: ",VX)}return null};function Gl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Hl(n)&&(e[n]=Gl(e[n],t[n]));return e}function Hl(e){return"__proto__"!==e}var Xl=function(){function e(){var t=this;sn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ln(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ql(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yl(JSON.stringify({alg:"none",type:"JWT"})),Yl(JSON.stringify(o)),""].join(".")}function Kl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function $l(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kl())}function Ql(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(VX){return!1}}function Jl(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Zl(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ec(){var e=Kl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tc(){return!0===Ll||!0===Nl}function nc(){return"object"===typeof indexedDB}function rc(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(hU){t(hU)}}))}function ic(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var oc=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(pn(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(pn(o),ac.prototype.create),o}return ln(n)}(Dl(Error)),ac=function(){function e(t,n,r){sn(this,e),this.service=t,this.serviceName=n,this.errors=r}return ln(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?sc(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),a=new oc(n,o,t);return a}}]),e}();function sc(e,t){return e.replace(uc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var uc=/\{\$([^}]+)}/g;function lc(e){return JSON.parse(e)}function cc(e){return JSON.stringify(e)}var hc=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=lc(Wl(o[0])||""),n=lc(Wl(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(VX){}return{header:t,claims:n,data:r,signature:i}};function fc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dc(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function pc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function vc(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function gc(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(mc(s)&&mc(u)){if(!gc(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function mc(e){return null!==e&&"object"===typeof e}function yc(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function xc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function bc(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var wc=function(){function e(){sn(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return ln(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var o=16;o<80;o++){var a=n[o-3]^n[o-8]^n[o-14]^n[o-16];n[o]=4294967295&(a<<1|a>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^c&(h^f),u=1518500249):(s=c^h^f,u=1859775393):p<60?(s=c&h|f&(c|h),u=2400959708):(s=c^h^f,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}]),e}();function kc(e,t){var n=new Ec(e,t);return n.subscribe.bind(n)}var Ec=function(){function e(t,n){var r=this;sn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ln(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Rl(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_c),void 0===r.error&&(r.error=_c),void 0===r.complete&&(r.complete=_c);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(VX){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(VX){"undefined"!==typeof console&&console.error&&console.error(VX)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function _c(){}var Tc=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Ac(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Sc(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Ac(e,t)+"must be a valid function.")}function Cc(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Ac(e,t)+"must be a valid context object.")}var Ic=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Pc=144e5;function Oc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Pc,r+i)}function Rc(e){return e&&e._delegate?e._delegate:e}var Mc=function(){function e(t,n,r){sn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ln(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Dc="[DEFAULT]",Lc=function(){function e(t,n){sn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ln(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Xl;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(VX){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(VX){if(r)return null;throw VX}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dc})}catch(VX){}var t,n=Rl(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(VX){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Z(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Z(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=Rl(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],h=this.normalizeInstanceIdentifier(u);r===h&&l.resolve(o)}}catch(f){a.e(f)}finally{a.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Rl(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(fI){}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Dc?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(fI){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc;return this.component?this.component.multipleInstances?e:Dc:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Nc,Fc,Bc=function(){function e(t){sn(this,e),this.name=t,this.providers=new Map}return ln(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Lc(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Uc=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fc||(Fc={}));var zc={debug:Fc.DEBUG,verbose:Fc.VERBOSE,info:Fc.INFO,warn:Fc.WARN,error:Fc.ERROR,silent:Fc.SILENT},Vc=Fc.INFO,jc=(ae(Nc={},Fc.DEBUG,"log"),ae(Nc,Fc.VERBOSE,"log"),ae(Nc,Fc.INFO,"info"),ae(Nc,Fc.WARN,"warn"),ae(Nc,Fc.ERROR,"error"),Nc),Yc=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=jc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},Wc=function(){function e(t){sn(this,e),this.name=t,this._logLevel=Vc,this._logHandler=Yc,this._userLogHandler=null,Uc.push(this)}return ln(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Fc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?zc[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fc.DEBUG].concat(t)),this._logHandler.apply(this,[this,Fc.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fc.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Fc.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fc.INFO].concat(t)),this._logHandler.apply(this,[this,Fc.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fc.WARN].concat(t)),this._logHandler.apply(this,[this,Fc.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fc.ERROR].concat(t)),this._logHandler.apply(this,[this,Fc.ERROR].concat(t))}}]),e}();var Gc,Hc;var Xc=new WeakMap,qc=new WeakMap,Kc=new WeakMap,$c=new WeakMap,Qc=new WeakMap;var Jc={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return th(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hc||(Hc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nh(this),n),th(Xc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return th(e.apply(nh(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[nh(this),t].concat(r));return Kc.set(o,t.sort?t.sort():[t]),th(o)}}function eh(e){return"function"===typeof e?Zc(e):(e instanceof IDBTransaction&&function(e){if(!qc.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));qc.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,Gc||(Gc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Jc):e)}function th(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(th(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&Xc.set(t,e)})).catch((function(){})),Qc.set(t,e),t}(e);if($c.has(e))return $c.get(e);var t=eh(e);return t!==e&&($c.set(e,t),Qc.set(t,e)),t}var nh=function(e){return Qc.get(e)};var rh,ih,oh,ah=["get","getKey","getAll","getAllKeys","count"],sh=["put","add","delete","clear"],uh=new Map;function lh(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(uh.get(t))return uh.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=sh.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ah.includes(n))){var o=function(){var e=oe(re().mark((function e(t){var o,a,s,u,l,c,h=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),s=a.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,l),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return uh.set(t,o),o}}}rh=function(e){return ue(ue({},e),{},{get:function(t,n,r){return lh(t,n)||e.get(t,n,r)},has:function(t,n){return!!lh(t,n)||e.has(t,n)}})},Jc=rh(Jc);var ch=function(){function e(t){sn(this,e),this.container=t}return ln(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var hh="@firebase/app",fh="0.7.28",dh=new Wc("@firebase/app"),ph="[DEFAULT]",vh=(ae(ih={},hh,"fire-core"),ae(ih,"@firebase/app-compat","fire-core-compat"),ae(ih,"@firebase/analytics","fire-analytics"),ae(ih,"@firebase/analytics-compat","fire-analytics-compat"),ae(ih,"@firebase/app-check","fire-app-check"),ae(ih,"@firebase/app-check-compat","fire-app-check-compat"),ae(ih,"@firebase/auth","fire-auth"),ae(ih,"@firebase/auth-compat","fire-auth-compat"),ae(ih,"@firebase/database","fire-rtdb"),ae(ih,"@firebase/database-compat","fire-rtdb-compat"),ae(ih,"@firebase/functions","fire-fn"),ae(ih,"@firebase/functions-compat","fire-fn-compat"),ae(ih,"@firebase/installations","fire-iid"),ae(ih,"@firebase/installations-compat","fire-iid-compat"),ae(ih,"@firebase/messaging","fire-fcm"),ae(ih,"@firebase/messaging-compat","fire-fcm-compat"),ae(ih,"@firebase/performance","fire-perf"),ae(ih,"@firebase/performance-compat","fire-perf-compat"),ae(ih,"@firebase/remote-config","fire-rc"),ae(ih,"@firebase/remote-config-compat","fire-rc-compat"),ae(ih,"@firebase/storage","fire-gcs"),ae(ih,"@firebase/storage-compat","fire-gcs-compat"),ae(ih,"@firebase/firestore","fire-fst"),ae(ih,"@firebase/firestore-compat","fire-fst-compat"),ae(ih,"fire-js","fire-js"),ae(ih,"firebase","fire-js-all"),ih),gh=new Map,mh=new Map;function yh(e,t){try{e.container.addComponent(t)}catch(VX){dh.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),VX)}}function xh(e,t){e.container.addOrOverwriteComponent(t)}function bh(e){var t=e.name;if(mh.has(t))return dh.debug("There were multiple attempts to register component ".concat(t,".")),!1;mh.set(t,e);var n,r=Rl(gh.values());try{for(r.s();!(n=r.n()).done;){yh(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function wh(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ph;wh(e,t).clearInstance(n)}function Eh(){mh.clear()}var _h=(ae(oh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ae(oh,"bad-app-name","Illegal App name: '{$appName}"),ae(oh,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ae(oh,"app-deleted","Firebase App named '{$appName}' already deleted"),ae(oh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ae(oh,"invalid-log-argument","First argument to `onLog` must be null or a function."),ae(oh,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ae(oh,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ae(oh,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ae(oh,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),oh),Th=new ac("app","Firebase",_h),Ah=function(){function e(t,n,r){var i=this;sn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mc("app",(function(){return i}),"PUBLIC"))}return ln(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Th.create("app-deleted",{appName:this._name})}}]),e}(),Sh="9.9.0";function Ch(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ph,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Th.create("bad-app-name",{appName:String(i)});var o=gh.get(i);if(o){if(gc(e,o.options)&&gc(r,o.config))return o;throw Th.create("duplicate-app",{appName:i})}var a,s=new Bc(i),u=Rl(mh.values());try{for(u.s();!(a=u.n()).done;){var l=a.value;s.addComponent(l)}}catch(h){u.e(h)}finally{u.f()}var c=new Ah(e,r,s);return gh.set(i,c),c}function Ih(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ph,t=gh.get(e);if(!t)throw Th.create("no-app",{appName:e});return t}function Ph(){return Array.from(gh.values())}function Oh(e){return Rh.apply(this,arguments)}function Rh(){return(Rh=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!gh.has(n)){e.next=6;break}return gh.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mh(e,t,n){var r,i=null!==(r=vh[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void dh.warn(s.join(" "))}bh(new Mc("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Dh(e,t){if(null!==e&&"function"!==typeof e)throw Th.create("invalid-log-argument");!function(e,t){var n,r=Rl(Uc);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=zc[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Fc[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}(e,t)}function Lh(e){var t;t=e,Uc.forEach((function(e){e.setLogLevel(t)}))}var Nh="firebase-heartbeat-store",Fh=null;function Bh(){return Fh||(Fh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=th(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(th(s.result),e.oldVersion,e.newVersion,th(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Nh)}}).catch((function(e){throw Th.create("storage-open",{originalErrorMessage:e.message})}))),Fh}function Uh(e){return zh.apply(this,arguments)}function zh(){return zh=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bh();case 3:return r=e.sent,e.abrupt("return",r.transaction(Nh).objectStore(Nh).get(Yh(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Th.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),zh.apply(this,arguments)}function Vh(e,t){return jh.apply(this,arguments)}function jh(){return jh=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bh();case 3:return i=e.sent,o=i.transaction(Nh,"readwrite"),a=o.objectStore(Nh),e.next=8,a.put(n,Yh(t));case 8:return e.abrupt("return",o.done);case 11:throw e.prev=11,e.t0=e.catch(0),Th.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),jh.apply(this,arguments)}function Yh(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wh=function(){function e(t){var n=this;sn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Kh(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ln(e,[{key:"triggerHeartbeat",value:function(){var e=oe(re().mark((function e(){var t,n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Gh(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=oe(re().mark((function e(){var t,n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Gh(),n=Hh(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=Yl(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gh(){return(new Date).toISOString().substring(0,10)}function Hh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=Rl(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),$h(r)>n)return o.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$h(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){var s=a();if("break"===s)break}}catch(u){o.e(u)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Xh,qh,Kh=function(){function e(t){sn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ln(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nc()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",rc().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Uh(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Vh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Z(r.heartbeats),Z(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $h(e){return Yl(JSON.stringify({version:2,heartbeats:e})).length}Xh="",bh(new Mc("platform-logger",(function(e){return new ch(e)}),"PRIVATE")),bh(new Mc("heartbeat",(function(e){return new Wh(e)}),"PRIVATE")),Mh(hh,fh,Xh),Mh(hh,fh,"esm2017"),Mh("fire-js","");var Qh=function(){function e(t,n){var r=this;sn(this,e),this._delegate=t,this.firebase=n,yh(t,new Mc("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ln(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Oh(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ph;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ph;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){yh(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){xh(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Jh=(ae(qh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ae(qh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qh),Zh=new ac("app-compat","Firebase",Jh);var ef=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ch(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(fc(n,i.name))return n[i.name];var o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Mh,setLogLevel:Lh,onLog:Dh,apps:null,SDK_VERSION:Sh,INTERNAL:{registerComponent:function(e){var n=e.name,o=n.replace("-compat","");if(bh(e)&&"PUBLIC"===e.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Zh.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Gl(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!fc(n,e=e||ph))throw Zh.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Qh);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Gl(n,e)},createSubscribe:kc,ErrorFactory:ac,deepExtend:Gl}),n}(),tf=new Wc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){tf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var nf=self.firebase.SDK_VERSION;nf&&nf.indexOf("LITE")>=0&&tf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rf=ef;!function(e){Mh("@firebase/app-compat","0.1.29",e)}();var of,af;var sf=new WeakMap,uf=new WeakMap,lf=new WeakMap,cf=new WeakMap,hf=new WeakMap;var ff={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return uf.get(e);if("objectStoreNames"===t)return e.objectStoreNames||lf.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vf(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function df(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(af||(af=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(gf(this),n),vf(sf.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vf(e.apply(gf(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[gf(this),t].concat(r));return lf.set(o,t.sort?t.sort():[t]),vf(o)}}function pf(e){return"function"===typeof e?df(e):(e instanceof IDBTransaction&&function(e){if(!uf.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));uf.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,of||(of=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ff):e)}function vf(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(vf(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&sf.set(t,e)})).catch((function(){})),hf.set(t,e),t}(e);if(cf.has(e))return cf.get(e);var t=pf(e);return t!==e&&(cf.set(e,t),hf.set(t,e)),t}var gf=function(e){return hf.get(e)};var mf,yf=["get","getKey","getAll","getAllKeys","count"],xf=["put","add","delete","clear"],bf=new Map;function wf(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(bf.get(t))return bf.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=xf.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||yf.includes(n))){var o=function(){var e=oe(re().mark((function e(t){var o,a,s,u,l,c,h=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),s=a.store,u=h.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=h[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(o=s)[n].apply(o,l),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return bf.set(t,o),o}}}!function(e){ff=e(ff)}((function(e){return ue(ue({},e),{},{get:function(t,n,r){return wf(t,n)||e.get(t,n,r)},has:function(t,n){return!!wf(t,n)||e.has(t,n)}})}));var kf="@firebase/installations",Ef="0.5.12",_f=1e4,Tf="w:".concat(Ef),Af="FIS_v2",Sf=36e5,Cf=(ae(mf={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),ae(mf,"not-registered","Firebase Installation is not registered."),ae(mf,"installation-not-found","Firebase Installation not found."),ae(mf,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),ae(mf,"app-offline","Could not process request. Application offline."),ae(mf,"delete-pending-registration","Can't delete installation while there is a pending registration request."),mf),If=new ac("installations","Installations",Cf);function Pf(e){return e instanceof oc&&e.code.includes("request-failed")}function Of(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Rf(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Mf(e,t){return Df.apply(this,arguments)}function Df(){return(Df=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",If.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Nf(e,t){var n=t.refreshToken,r=Lf(e);return r.append("Authorization",function(e){return"".concat(Af," ").concat(e)}(n)),r}function Ff(e){return Bf.apply(this,arguments)}function Bf(){return Bf=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}function Uf(e,t){return zf.apply(this,arguments)}function zf(){return(zf=oe(re().mark((function e(t,n){var r,i,o,a,s,u,l,c,h,f,d,p;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,o=n.fid,a=Of(r),s=Lf(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(l=e.sent)&&s.append("x-firebase-client",l);case 10:return c={fid:o,authVersion:Af,appId:r.appId,sdkVersion:Tf},h={method:"POST",headers:s,body:JSON.stringify(c)},e.next=14,Ff((function(){return fetch(a,h)}));case 14:if(!(f=e.sent).ok){e.next=23;break}return e.next=18,f.json();case 18:return d=e.sent,p={fid:d.fid||o,registrationStatus:2,refreshToken:d.refreshToken,authToken:Rf(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Mf("Create Installation",f);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(e){return new Promise((function(t){setTimeout(t,e)}))}var jf=/^[cdef][\w-]{21}$/;function Yf(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return function(e){return btoa(String.fromCharCode.apply(String,Z(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return jf.test(t)?t:""}catch(fI){return""}}function Wf(e){return"".concat(e.appName,"!").concat(e.appId)}var Gf=new Map;function Hf(e,t){var n=Wf(e);Xf(n,t),function(e,t){var n=Kf();n&&n.postMessage({key:e,fid:t});$f()}(n,t)}function Xf(e,t){var n=Gf.get(e);if(n){var r,i=Rl(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(o){i.e(o)}finally{i.f()}}}var qf=null;function Kf(){return!qf&&"BroadcastChannel"in self&&((qf=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Xf(e.data.key,e.data.fid)}),qf}function $f(){0===Gf.size&&qf&&(qf.close(),qf=null)}var Qf="firebase-installations-store",Jf=null;function Zf(){return Jf||(Jf=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=vf(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(vf(s.result),e.oldVersion,e.newVersion,vf(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(){return o()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Qf)}})),Jf}function ed(e,t){return td.apply(this,arguments)}function td(){return td=oe(re().mark((function e(t,n){var r,i,o,a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wf(t),e.next=3,Zf();case 3:return i=e.sent,o=i.transaction(Qf,"readwrite"),a=o.objectStore(Qf),e.next=8,a.get(r);case 8:return s=e.sent,e.next=11,a.put(n,r);case 11:return e.next=13,o.done;case 13:return s&&s.fid===n.fid||Hf(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e){return rd.apply(this,arguments)}function rd(){return rd=oe(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wf(t),e.next=3,Zf();case 3:return r=e.sent,i=r.transaction(Qf,"readwrite"),e.next=7,i.objectStore(Qf).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t){return od.apply(this,arguments)}function od(){return od=oe(re().mark((function e(t,n){var r,i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wf(t),e.next=3,Zf();case 3:return i=e.sent,o=i.transaction(Qf,"readwrite"),a=o.objectStore(Qf),e.next=8,a.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,a.delete(r);case 13:e.next=17;break;case 15:return e.next=17,a.put(u,r);case 17:return e.next=19,o.done;case 19:return!u||s&&s.fid===u.fid||Hf(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ad(e){return sd.apply(this,arguments)}function sd(){return(sd=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,id(t.appConfig,(function(e){var r=ud(e),i=ld(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ud(e){return pd(e||{fid:Yf(),registrationStatus:0})}function ld(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(If.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return cd.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:hd(e)}:{installationEntry:t}}function cd(){return(cd=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uf(t,n);case 3:return r=e.sent,e.abrupt("return",ed(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Pf(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,nd(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,ed(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function hd(e){return fd.apply(this,arguments)}function fd(){return(fd=oe(re().mark((function e(t){var n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dd(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Vf(100);case 6:return e.next=8,dd(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,ad(t);case 14:if(r=e.sent,i=r.installationEntry,!(o=r.registrationPromise)){e.next=21;break}return e.abrupt("return",o);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e){return id(e,(function(e){if(!e)throw If.create("installation-not-found");return pd(e)}))}function pd(e){return 1===(t=e).registrationStatus&&t.registrationTime+_f<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function vd(e,t){return gd.apply(this,arguments)}function gd(){return(gd=oe(re().mark((function e(t,n){var r,i,o,a,s,u,l,c,h,f,d;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,o=md(r,n),a=Nf(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&a.append("x-firebase-client",u);case 9:return l={installation:{sdkVersion:Tf,appId:r.appId}},c={method:"POST",headers:a,body:JSON.stringify(l)},e.next=13,Ff((function(){return fetch(o,c)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return f=e.sent,d=Rf(f),e.abrupt("return",d);case 22:return e.next=24,Mf("Generate Auth Token",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function md(e,t){var n=t.fid;return"".concat(Of(e),"/").concat(n,"/authTokens:generate")}function yd(e){return xd.apply(this,arguments)}function xd(){return xd=oe(re().mark((function e(t){var n,r,i,o,a=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,id(t.appConfig,(function(e){if(!Td(e))throw If.create("not-registered");var i=e.authToken;if(!n&&Ad(i))return e;if(1===i.requestStatus)return r=bd(t,n),e;if(!navigator.onLine)throw If.create("app-offline");var o=Sd(e);return r=Ed(t,o),o}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return o=e.t0,e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function bd(e,t){return wd.apply(this,arguments)}function wd(){return(wd=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Vf(100);case 6:return e.next=8,kd(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",yd(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(e){return id(e,(function(e){if(!Td(e))throw If.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+_f<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Ed(e,t){return _d.apply(this,arguments)}function _d(){return(_d=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vd(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,ed(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Pf(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,nd(t.appConfig);case 15:e.next=20;break;case 17:return o=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,ed(t.appConfig,o);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Td(e){return void 0!==e&&2===e.registrationStatus}function Ad(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Sf}(e)}function Sd(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Cd(){return(Cd=oe(re().mark((function e(t){var n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ad(n);case 3:return r=e.sent,i=r.installationEntry,(o=r.registrationPromise)?o.catch(console.error):yd(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Id(){return Id=oe(re().mark((function e(t){var n,r,i,o=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],r=t,e.next=4,Pd(r);case 4:return e.next=6,yd(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Pd(e){return Od.apply(this,arguments)}function Od(){return(Od=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ad(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rd(e){return If.create("missing-app-config-values",{valueName:e})}var Md,Dd="installations",Ld=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Rd("App Configuration");if(!e.name)throw Rd("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Rd(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:wh(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Nd=function(e){var t=wh(e.getProvider("app").getImmediate(),Dd).getImmediate(),n={getId:function(){return function(e){return Cd.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Id.apply(this,arguments)}(t,e)}};return n};bh(new Mc(Dd,Ld,"PUBLIC")),bh(new Mc("installations-internal",Nd,"PRIVATE")),Mh(kf,Ef),Mh(kf,Ef,"esm2017");var Fd="analytics",Bd=6e4,Ud="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zd="https://www.googletagmanager.com/gtag/js",Vd=new Wc("@firebase/analytics");function jd(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Yd(e,t){var n=document.createElement("script");n.src="".concat(zd,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Wd(e,t,n,r,i,o){return Gd.apply(this,arguments)}function Gd(){return Gd=oe(re().mark((function e(t,n,r,i,o,a){var s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[o],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,jd(r);case 9:if(u=e.sent,l=u.find((function(e){return e.measurementId===o})),!l){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Vd.error(e.t0);case 19:t("config",o,a);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Gd.apply(this,arguments)}function Hd(e,t,n,r,i){return Xd.apply(this,arguments)}function Xd(){return Xd=oe(re().mark((function e(t,n,r,i,o){var a,s,u,l,c,h;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=[],!o||!o.send_to){e.next=26;break}return s=o.send_to,Array.isArray(s)||(s=[s]),e.next=7,jd(r);case 7:u=e.sent,l=Rl(s),e.prev=9,h=function(){var e=c.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return a=[],"break";a.push(r)},l.s();case 12:if((c=l.n()).done){e.next=18;break}if("break"!==h()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===a.length&&(a=Object.values(n)),e.next=29,Promise.all(a);case 29:t("event",i,o||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Vd.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Xd.apply(this,arguments)}function qd(e,t,n,r,i){var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=oe(re().mark((function i(o,a,s){return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==o){i.next=6;break}return i.next=4,Hd(e,t,n,a,s);case 4:i.next=12;break;case 6:if("config"!==o){i.next=11;break}return i.next=9,Wd(e,t,n,r,a,s);case 9:i.next=12;break;case 11:"consent"===o?e("consent","update",s):e("set",a);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Vd.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function Kd(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(zd))return r}return null}var $d=(ae(Md={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),ae(Md,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),ae(Md,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),ae(Md,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),ae(Md,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ae(Md,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ae(Md,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),ae(Md,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),ae(Md,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),ae(Md,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Md),Qd=new ac("analytics","Analytics",$d),Jd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;sn(this,e),this.throttleMetadata=t,this.intervalMillis=n}return ln(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Zd=new Jd;function ep(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function tp(e){return np.apply(this,arguments)}function np(){return np=oe(re().mark((function e(t){var n,r,i,o,a,s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,o={method:"GET",headers:ep(i)},a=Ud.replace("{app-id}",r),e.next=5,fetch(a,o);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(u=l.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Qd.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),np.apply(this,arguments)}function rp(e){return ip.apply(this,arguments)}function ip(){return ip=oe(re().mark((function e(t){var n,r,i,o,a,s,u,l,c=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:Zd,r=c.length>2?c[2]:void 0,i=t.options,o=i.appId,a=i.apiKey,s=i.measurementId,o){e.next=5;break}throw Qd.create("no-app-id");case 5:if(a){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:o});case 8:throw Qd.create("no-api-key");case 9:return u=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new hp,setTimeout(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Bd),e.abrupt("return",op({appId:o,apiKey:a,measurementId:s},u,l,n));case 13:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function op(e,t,n){return ap.apply(this,arguments)}function ap(){return ap=oe(re().mark((function e(t,n,r){var i,o,a,s,u,l,c,h,f,d,p,v=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,o=n.backoffCount,a=v.length>3&&void 0!==v[3]?v[3]:Zd,l=t.appId,c=t.measurementId,e.prev=3,e.next=6,sp(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return Vd.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(s=e.t0)||void 0===s?void 0:s.message,"]")),e.abrupt("return",{appId:l,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,tp(t);case 17:return h=e.sent,a.deleteThrottleMetadata(l),e.abrupt("return",h);case 22:if(e.prev=22,e.t1=e.catch(14),up(f=e.t1)){e.next=33;break}if(a.deleteThrottleMetadata(l),!c){e.next=32;break}return Vd.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:l,measurementId:c});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null===f||void 0===f?void 0:f.customData)||void 0===u?void 0:u.httpStatus)?Oc(o,a.intervalMillis,30):Oc(o,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},a.setThrottleMetadata(l,p),Vd.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",op(t,p,r,a));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),ap.apply(this,arguments)}function sp(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Qd.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function up(e){if(!(e instanceof oc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var lp,cp,hp=function(){function e(){sn(this,e),this.listeners=[]}return ln(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function fp(){return fp=oe(re().mark((function e(t,n,r,i,o){var a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||!o.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:a=e.sent,s=Object.assign(Object.assign({},i),{send_to:a}),t("event",r,s);case 10:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function dp(){return dp=oe(re().mark((function e(t,n,r,i){var o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:o=e.sent,t("config",o,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(){return pp=oe(re().mark((function e(t,n,r,i){var o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:o=e.sent,t("config",o,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)}))),pp.apply(this,arguments)}function vp(){return vp=oe(re().mark((function e(t,n,r,i){var o,a,s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(o={},a=0,s=Object.keys(r);a<s.length;a++)u=s[a],o["user_properties.".concat(u)]=r[u];return t("set",o),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:l=e.sent,t("config",l,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function gp(){return(gp=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e){cp=e}function yp(e){lp=e}function xp(){return bp.apply(this,arguments)}function bp(){return bp=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nc()){e.next=5;break}return Vd.warn(Qd.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,rc();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Vd.warn(Qd.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),bp.apply(this,arguments)}function wp(){return wp=oe(re().mark((function e(t,n,r,i,o,a,s){var u,l,h,f,d,p,v,g;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=rp(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Vd.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Vd.error(e)})),n.push(l),h=xp().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,h]);case 6:return f=e.sent,d=c(f,2),p=d[0],v=d[1],Kd()||Yd(a,p.measurementId),cp&&(o("consent","default",cp),mp(void 0)),o("js",new Date),(g=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{}).origin="firebase",g.update=!0,null!=v&&(g.firebase_id=v),o("config",p.measurementId,g),lp&&(o("set",lp),yp(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}var kp,Ep,_p=function(){function e(t){sn(this,e),this.app=t}return ln(e,[{key:"_delete",value:function(){return delete Tp[this.app.options.appId],Promise.resolve()}}]),e}(),Tp={},Ap=[],Sp={},Cp="dataLayer",Ip="gtag",Pp=!1;function Op(e){if(Pp)throw Qd.create("already-initialized");e.dataLayerName&&(Cp=e.dataLayerName),e.gtagName&&(Ip=e.gtagName)}function Rp(e,t,n){!function(){var e=[];if(Jl()&&e.push("This is a browser extension environment."),ic()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Qd.create("invalid-analytics-context",{errorInfo:t});Vd.warn(n.message)}}();var r=e.options.appId;if(!r)throw Qd.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Qd.create("no-api-key");Vd.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Tp[r])throw Qd.create("already-exists",{id:r});if(!Pp){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Cp);var i=qd(Tp,Ap,Sp,Cp,Ip),o=i.wrappedGtag,a=i.gtagCore;Ep=o,kp=a,Pp=!0}return Tp[r]=function(e,t,n,r,i,o,a){return wp.apply(this,arguments)}(e,Ap,Sp,t,kp,Cp,n),new _p(e)}function Mp(){return Dp.apply(this,arguments)}function Dp(){return(Dp=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jl()){e.next=2;break}return e.abrupt("return",!1);case 2:if(ic()){e.next=4;break}return e.abrupt("return",!1);case 4:if(nc()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,rc();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function Lp(e,t,n){e=Rc(e),function(e,t,n,r){return dp.apply(this,arguments)}(Ep,Tp[e.app.options.appId],t,n).catch((function(e){return Vd.error(e)}))}function Np(e,t,n){e=Rc(e),function(e,t,n,r){return pp.apply(this,arguments)}(Ep,Tp[e.app.options.appId],t,n).catch((function(e){return Vd.error(e)}))}function Fp(e,t,n){e=Rc(e),function(e,t,n,r){return vp.apply(this,arguments)}(Ep,Tp[e.app.options.appId],t,n).catch((function(e){return Vd.error(e)}))}function Bp(e,t){e=Rc(e),function(e,t){return gp.apply(this,arguments)}(Tp[e.app.options.appId],t).catch((function(e){return Vd.error(e)}))}function Up(e,t,n,r){e=Rc(e),function(e,t,n,r,i){return fp.apply(this,arguments)}(Ep,Tp[e.app.options.appId],t,n,r).catch((function(e){return Vd.error(e)}))}var zp="@firebase/analytics",Vp="0.8.0";bh(new Mc(Fd,(function(e,t){var n=t.options;return Rp(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),bh(new Mc("analytics-internal",(function(e){try{var t=e.getProvider(Fd).getImmediate();return{logEvent:function(e,n,r){return Up(t,e,n,r)}}}catch(VX){throw Qd.create("interop-component-reg-failed",{reason:VX})}}),"PRIVATE")),Mh(zp,Vp),Mh(zp,Vp,"esm2017");var jp,Yp=function(){function e(t,n){sn(this,e),this.app=t,this._delegate=n}return ln(e,[{key:"logEvent",value:function(e,t,n){Up(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){Lp(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){Np(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){Fp(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){Bp(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(jp||(jp={}));var Wp=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new Yp(t,n)};function Gp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fn(e)););return e}function Hp(){return Hp="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Gp(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Hp.apply(this,arguments)}!function(){var e={Analytics:Yp,settings:Op,isSupported:Mp,EventName:jp};rf.INTERNAL.registerComponent(new Mc("analytics-compat",Wp,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),rf.registerVersion("@firebase/analytics-compat","0.1.13");var Xp,qp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Kp={},$p=$p||{},Qp=qp||self;function Jp(){}function Zp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ev(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var tv="closure_uid_"+(1e9*Math.random()>>>0),nv=0;function rv(e,t,n){return e.call.apply(e.bind,arguments)}function iv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ov(e,t,n){return(ov=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rv:iv).apply(null,arguments)}function av(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function sv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function uv(){this.s=this.s,this.o=this.o}var lv={};uv.prototype.s=!1,uv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,tv)&&e[tv]||(e[tv]=++nv)}(this);delete lv[e]}},uv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var cv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},hv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function fv(e){return Array.prototype.concat.apply([],arguments)}function dv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function pv(e){return/^[\s\xa0]*$/.test(e)}var vv,gv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function mv(e,t){return-1!=e.indexOf(t)}function yv(e,t){return e<t?-1:e>t?1:0}e:{var xv=Qp.navigator;if(xv){var bv=xv.userAgent;if(bv){vv=bv;break e}}vv=""}function wv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function kv(e){var t={};for(var n in e)t[n]=e[n];return t}var Ev="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _v(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Ev.length;o++)n=Ev[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Tv(e){return Tv[" "](e),e}Tv[" "]=Jp;var Av,Sv=mv(vv,"Opera"),Cv=mv(vv,"Trident")||mv(vv,"MSIE"),Iv=mv(vv,"Edge"),Pv=Iv||Cv,Ov=mv(vv,"Gecko")&&!(mv(vv.toLowerCase(),"webkit")&&!mv(vv,"Edge"))&&!(mv(vv,"Trident")||mv(vv,"MSIE"))&&!mv(vv,"Edge"),Rv=mv(vv.toLowerCase(),"webkit")&&!mv(vv,"Edge");function Mv(){var e=Qp.document;return e?e.documentMode:void 0}e:{var Dv="",Lv=function(){var e=vv;return Ov?/rv:([^\);]+)(\)|;)/.exec(e):Iv?/Edge\/([\d\.]+)/.exec(e):Cv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rv?/WebKit\/(\S+)/.exec(e):Sv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Lv&&(Dv=Lv?Lv[1]:""),Cv){var Nv=Mv();if(null!=Nv&&Nv>parseFloat(Dv)){Av=String(Nv);break e}}Av=Dv}var Fv,Bv={};function Uv(){return function(e){var t=Bv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gv(String(Av)).split("."),n=gv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=yv(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||yv(0==o[2].length,0==a[2].length)||yv(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Qp.document&&Cv){var zv=Mv();Fv=zv||(parseInt(Av,10)||void 0)}else Fv=void 0;var Vv=Fv,jv=function(){if(!Qp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qp.addEventListener("test",Jp,t),Qp.removeEventListener("test",Jp,t)}catch(n){}return e}();function Yv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Wv(e,t){if(Yv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ov){e:{try{Tv(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wv.Z.h.call(this)}}Yv.prototype.h=function(){this.defaultPrevented=!0},sv(Wv,Yv);var Gv={2:"touch",3:"pen",4:"mouse"};Wv.prototype.h=function(){Wv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Hv="closure_listenable_"+(1e6*Math.random()|0),Xv=0;function qv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Xv,this.ca=this.fa=!1}function Kv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function $v(e){this.src=e,this.g={},this.h=0}function Qv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=cv(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Kv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jv(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}$v.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Jv(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new qv(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Zv="closure_lm_"+(1e6*Math.random()|0),eg={};function tg(e,t,n,r,i){if(r&&r.once)return rg(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)tg(e,t[o],n,r,i);return null}return n=cg(n),e&&e[Hv]?e.N(t,n,ev(r)?!!r.capture:!!r,i):ng(e,t,n,!1,r,i)}function ng(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ev(i)?!!i.capture:!!i,s=ug(e);if(s||(e[Zv]=s=new $v(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=sg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jv||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ag(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function rg(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)rg(e,t[o],n,r,i);return null}return n=cg(n),e&&e[Hv]?e.O(t,n,ev(r)?!!r.capture:!!r,i):ng(e,t,n,!0,r,i)}function ig(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ig(e,t[o],n,r,i);else r=ev(r)?!!r.capture:!!r,n=cg(n),e&&e[Hv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jv(o=e.g[t],n,r,i))&&(Kv(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=ug(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jv(t,n,r,i)),(n=-1<e?t[e]:null)&&og(n))}function og(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Hv])Qv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ag(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ug(t))?(Qv(n,e),0==n.h&&(n.src=null,t[Zv]=null)):Kv(e)}}}function ag(e){return e in eg?eg[e]:eg[e]="on"+e}function sg(e,t){if(e.ca)e=!0;else{t=new Wv(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&og(e),e=n.call(r,t)}return e}function ug(e){return(e=e[Zv])instanceof $v?e:null}var lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function cg(e){return"function"===typeof e?e:(e[lg]||(e[lg]=function(t){return e.handleEvent(t)}),e[lg])}function hg(){uv.call(this),this.i=new $v(this),this.P=this,this.I=null}function fg(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Yv(t,e);else if(t instanceof Yv)t.target=t.target||e;else{var i=t;_v(t=new Yv(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=dg(a,r,!0,t)&&i}if(i=dg(a=t.g=e,r,!0,t)&&i,i=dg(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=dg(a=t.g=n[o],r,!1,t)&&i}function dg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Qv(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}sv(hg,uv),hg.prototype[Hv]=!0,hg.prototype.removeEventListener=function(e,t,n,r){ig(this,e,t,n,r)},hg.prototype.M=function(){if(hg.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Kv(n[r]);delete t.g[e],t.h--}}this.I=null},hg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var pg=Qp.JSON.stringify;function vg(){var e=Eg,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gg,mg=function(){function e(){sn(this,e),this.h=this.g=null}return ln(e,[{key:"add",value:function(e,t){var n=yg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yg=new(function(){function e(t,n){sn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ln(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xg}),(function(e){return e.reset()})),xg=function(){function e(){sn(this,e),this.next=this.g=this.h=null}return ln(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function bg(e){Qp.setTimeout((function(){throw e}),0)}function wg(e,t){gg||function(){var e=Qp.Promise.resolve(void 0);gg=function(){e.then(_g)}}(),kg||(gg(),kg=!0),Eg.add(e,t)}var kg=!1,Eg=new mg;function _g(){for(var e;e=vg();){try{e.h.call(e.g)}catch(n){bg(n)}var t=yg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}kg=!1}function Tg(e,t){hg.call(this),this.h=e||1,this.g=t||Qp,this.j=ov(this.kb,this),this.l=Date.now()}function Ag(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Sg(e,t,n){if("function"===typeof e)n&&(e=ov(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ov(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qp.setTimeout(e,t||0)}function Cg(e){e.g=Sg((function(){e.g=null,e.i&&(e.i=!1,Cg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}sv(Tg,hg),(Xp=Tg.prototype).da=!1,Xp.S=null,Xp.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fg(this,"tick"),this.da&&(Ag(this),this.start()))}},Xp.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xp.M=function(){Tg.Z.M.call(this),Ag(this),delete this.g};var Ig=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ln(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Cg(this)}},{key:"M",value:function(){Hp(fn(n.prototype),"M",this).call(this),this.g&&(Qp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(uv);function Pg(e){uv.call(this),this.h=e,this.g={}}sv(Pg,uv);var Og=[];function Rg(e,t,n,r){Array.isArray(n)||(n&&(Og[0]=n.toString()),n=Og);for(var i=0;i<n.length;i++){var o=tg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Mg(e){wv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&og(e)}),e),e.g={}}function Dg(){this.g=!0}function Lg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return pg(n)}catch(jX){return t}}(e,n)+(r?" "+r:"")}))}Pg.prototype.M=function(){Pg.Z.M.call(this),Mg(this)},Pg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dg.prototype.Aa=function(){this.g=!1},Dg.prototype.info=function(){};var Ng={},Fg=null;function Bg(){return Fg=Fg||new hg}function Ug(e){Yv.call(this,Ng.Ma,e)}function zg(e){var t=Bg();fg(t,new Ug(t,e))}function Vg(e,t){Yv.call(this,Ng.STAT_EVENT,e),this.stat=t}function jg(e){var t=Bg();fg(t,new Vg(t,e))}function Yg(e,t){Yv.call(this,Ng.Na,e),this.size=t}function Wg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qp.setTimeout((function(){e()}),t)}Ng.Ma="serverreachability",sv(Ug,Yv),Ng.STAT_EVENT="statevent",sv(Vg,Yv),Ng.Na="timingevent",sv(Yg,Yv);var Gg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xg(){}function qg(e){return e.h||(e.h=e.i())}function Kg(){}Xg.prototype.h=null;var $g,Qg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jg(){Yv.call(this,"d")}function Zg(){Yv.call(this,"c")}function em(){}function tm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Pg(this),this.P=rm,e=Pv?125:void 0,this.W=new Tg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nm}function nm(){this.i=null,this.g="",this.h=!1}sv(Jg,Yv),sv(Zg,Yv),sv(em,Xg),em.prototype.g=function(){return new XMLHttpRequest},em.prototype.i=function(){return{}},$g=new em;var rm=45e3,im={},om={};function am(e,t,n){e.K=1,e.v=Im(Em(t)),e.s=n,e.U=!0,sm(e,null)}function sm(e,t){e.F=Date.now(),hm(e),e.A=Em(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),jm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new nm,e.g=Wy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ig(ov(e.Ia,e,e.g),e.O)),Rg(e.V,e.g,"readystatechange",e.gb),t=e.H?kv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),zg(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function um(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function lm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=cm(e,n))==om){4==t&&(e.o=4,jg(14),i=!1),Lg(e.j,e.m,null,"[Incomplete Response]");break}if(r==im){e.o=4,jg(15),Lg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Lg(e.j,e.m,r,null),gm(e,r)}um(e)&&r!=om&&r!=im&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,jg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ny(t),t.L=!0,jg(11))):(Lg(e.j,e.m,n,"[Invalid Chunked Response]"),vm(e),pm(e))}function cm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?om:(n=Number(t.substring(n,r)),isNaN(n)?im:(r+=1)+n>t.length?om:(t=t.substr(r,n),e.C=r+n,t))}function hm(e){e.Y=Date.now()+e.P,fm(e,e.P)}function fm(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Wg(ov(e.eb,e),t)}function dm(e){e.B&&(Qp.clearTimeout(e.B),e.B=null)}function pm(e){0==e.l.G||e.I||Uy(e.l,e)}function vm(e){dm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ag(e.W),Mg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function gm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||$m(n.i,e)))if(n.I=e.N,!e.J&&$m(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;By(n),Sy(n)}Ly(n),jg(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Wg(ov(n.ab,n),6e3));if(1>=Km(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Vy(n,11)}else if((e.J||n.g==e)&&By(n),!pv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(mv(c,"spdy")||mv(c,"quic")||mv(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Qm(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Cm(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Yy(r,r.H?r.la:null,r.W),d.J){Jm(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(dm(p),hm(p)),r.g=d}else Dy(r);0<n.l.length&&Py(n)}else"stop"!=o[0]&&"close"!=o[0]||Vy(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Vy(n,7):Ay(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}zg(4)}catch(o){}}function mm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zp(e)||"string"===typeof e)hv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Zp(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Zp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function ym(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ym)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];bm(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)bm(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function bm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Xp=tm.prototype).setTimeout=function(e){this.P=e},Xp.gb=function(e){e=e.target;var t=this.L;t&&3==wy(e)?t.l():this.Ia(e)},Xp.Ia=function(e){try{if(e==this.g)e:{var t=wy(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Pv||this.g&&(this.h.h||this.g.ga()||ky(this.g)))){this.I||4!=t||7==n||zg(8==n||0>=r?3:2),dm(this);var i=this.g.ba();this.N=i;t:if(um(this)){var o=ky(this.g);e="";var a=o.length,s=4==wy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vm(this),pm(this);var u="";break t}this.h.i=new Qp.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pv(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,jg(12),vm(this),pm(this);break e}Lg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gm(this,i)}this.U?(lm(this,t,u),Pv&&this.i&&3==t&&(Rg(this.V,this.W,"tick",this.fb),this.W.start())):(Lg(this.j,this.m,u,null),gm(this,u)),4==t&&vm(this),this.i&&!this.I&&(4==t?Uy(this.l,this):(this.i=!1,hm(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,jg(12)):(this.o=0,jg(13)),vm(this),pm(this)}}}catch(t){}},Xp.fb=function(){if(this.g){var e=wy(this.g),t=this.g.ga();this.C<t.length&&(dm(this),lm(this,e,t),this.i&&4!=e&&hm(this))}},Xp.cancel=function(){this.I=!0,vm(this)},Xp.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(zg(3),jg(17)),vm(this),this.o=2,pm(this)):fm(this,this.Y-e)},(Xp=ym.prototype).R=function(){xm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Xp.T=function(){return xm(this),this.g.concat()},Xp.get=function(e,t){return bm(this.h,e)?this.h[e]:t},Xp.set=function(e,t){bm(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Xp.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var wm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function km(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof km){this.g=void 0!==t?t:e.g,_m(this,e.j),this.s=e.s,Tm(this,e.i),Am(this,e.m),this.l=e.l,t=e.h;var n=new Bm;n.i=t.i,t.g&&(n.g=new ym(t.g),n.h=t.h),Sm(this,n),this.o=e.o}else e&&(n=String(e).match(wm))?(this.g=!!t,_m(this,n[1]||"",!0),this.s=Pm(n[2]||""),Tm(this,n[3]||"",!0),Am(this,n[4]),this.l=Pm(n[5]||"",!0),Sm(this,n[6]||"",!0),this.o=Pm(n[7]||"")):(this.g=!!t,this.h=new Bm(null,this.g))}function Em(e){return new km(e)}function _m(e,t,n){e.j=n?Pm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Tm(e,t,n){e.i=n?Pm(t,!0):t}function Am(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sm(e,t,n){t instanceof Bm?(e.h=t,function(e,t){t&&!e.j&&(Um(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zm(this,t),jm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Om(t,Nm)),e.h=new Bm(t,e.g))}function Cm(e,t,n){e.h.set(t,n)}function Im(e){return Cm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Pm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Om(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Rm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}km.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Om(t,Mm,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Om(t,Mm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Om(n,"/"==n.charAt(0)?Lm:Dm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Om(n,Fm)),e.join("")};var Mm=/[#\/\?@]/g,Dm=/[#\?:]/g,Lm=/[#\?]/g,Nm=/[#\?@]/g,Fm=/#/g;function Bm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Um(e){e.g||(e.g=new ym,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zm(e,t){Um(e),t=Ym(e,t),bm(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,bm((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&xm(e)))}function Vm(e,t){return Um(e),t=Ym(e,t),bm(e.g.h,t)}function jm(e,t,n){zm(e,t),0<n.length&&(e.i=null,e.g.set(Ym(e,t),dv(n)),e.h+=n.length)}function Ym(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xp=Bm.prototype).add=function(e,t){Um(this),this.i=null,e=Ym(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xp.forEach=function(e,t){Um(this),this.g.forEach((function(n,r){hv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Xp.T=function(){Um(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Xp.R=function(e){Um(this);var t=[];if("string"===typeof e)Vm(this,e)&&(t=fv(t,this.g.get(Ym(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=fv(t,e[n])}return t},Xp.set=function(e,t){return Um(this),this.i=null,Vm(this,e=Ym(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xp.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Xp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Wm=ln((function e(t,n){sn(this,e),this.h=t,this.g=n}));function Gm(e){this.l=e||Xm,Qp.PerformanceNavigationTiming?e=0<(e=Qp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qp.g&&Qp.g.Ea&&Qp.g.Ea()&&Qp.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hm,Xm=10;function qm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Km(e){return e.h?1:e.g?e.g.size:0}function $m(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qm(e,t){e.g?e.g.add(t):e.h=t}function Jm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Zm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Rl(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return dv(e.i)}function ey(){}function ty(){this.g=new ey}function ny(e,t,n){var r=n||"";try{mm(e,(function(e,n){var i=e;ev(e)&&(i=pg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(VX){throw t.push(r+"type="+encodeURIComponent("_badmap")),VX}}function ry(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function iy(e){this.l=e.$b||null,this.j=e.ib||!1}function oy(e,t){hg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ay,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gm.prototype.cancel=function(){if(this.i=Zm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Rl(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ey.prototype.stringify=function(e){return Qp.JSON.stringify(e,void 0)},ey.prototype.parse=function(e){return Qp.JSON.parse(e,void 0)},sv(iy,Xg),iy.prototype.g=function(){return new oy(this.l,this.j)},iy.prototype.i=(Hm={},function(){return Hm}),sv(oy,hg);var ay=0;function sy(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function uy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ly(e)}function ly(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xp=oy.prototype).open=function(e,t){if(this.readyState!=ay)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ly(this)},Xp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Qp).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Xp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uy(this)),this.readyState=ay},Xp.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ly(this)),this.g&&(this.readyState=3,ly(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Qp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sy(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Xp.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uy(this):ly(this),3==this.readyState&&sy(this)}},Xp.Ua=function(e){this.g&&(this.response=this.responseText=e,uy(this))},Xp.Ta=function(e){this.g&&(this.response=e,uy(this))},Xp.ha=function(){this.g&&uy(this)},Xp.setRequestHeader=function(e,t){this.v.append(e,t)},Xp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cy=Qp.JSON.parse;function hy(e){hg.call(this),this.headers=new ym,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fy,this.K=this.L=!1}sv(hy,hg);var fy="",dy=/^https?$/i,py=["POST","PUT"];function vy(e){return"content-type"==e.toLowerCase()}function gy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,my(e),xy(e)}function my(e){e.D||(e.D=!0,fg(e,"complete"),fg(e,"error"))}function yy(e){if(e.h&&"undefined"!=typeof $p&&(!e.C[1]||4!=wy(e)||2!=e.ba()))if(e.v&&4==wy(e))Sg(e.Fa,0,e);else if(fg(e,"readystatechange"),4==wy(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(wm)[1]||null;if(!o&&Qp.self&&Qp.self.location){var a=Qp.self.location.protocol;o=a.substr(0,a.length-1)}i=!dy.test(o?o.toLowerCase():"")}t=i}if(t)fg(e,"complete"),fg(e,"success");else{e.m=6;try{var s=2<wy(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",my(e)}}finally{xy(e)}}}function xy(e,t){if(e.g){by(e);var n=e.g,r=e.C[0]?Jp:null;e.g=null,e.C=null,t||fg(e,"ready");try{n.onreadystatechange=r}catch(VX){}}}function by(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Qp.clearTimeout(e.A),e.A=null)}function wy(e){return e.g?e.g.readyState:0}function ky(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wH){return null}}function Ey(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return wv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Cm(e,t,n))}function _y(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ty(e){this.za=0,this.l=[],this.h=new Dg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_y("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_y("baseRetryDelayMs",5e3,e),this.$a=_y("retryDelaySeedMs",1e4,e),this.Ya=_y("forwardChannelMaxRetries",2,e),this.ra=_y("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Gm(e&&e.concurrentRequestLimit),this.Ca=new ty,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ay(e){if(Cy(e),3==e.G){var t=e.V++,n=Em(e.F);Cm(n,"SID",e.J),Cm(n,"RID",t),Cm(n,"TYPE","terminate"),Ry(e,n),(t=new tm(e,e.h,t,void 0)).K=2,t.v=Im(Em(n)),n=!1,Qp.navigator&&Qp.navigator.sendBeacon&&(n=Qp.navigator.sendBeacon(t.v.toString(),"")),!n&&Qp.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hm(t)}jy(e)}function Sy(e){e.g&&(Ny(e),e.g.cancel(),e.g=null)}function Cy(e){Sy(e),e.u&&(Qp.clearTimeout(e.u),e.u=null),By(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qp.clearTimeout(e.m),e.m=null)}function Iy(e,t){e.l.push(new Wm(e.Za++,t)),3==e.G&&Py(e)}function Py(e){qm(e.i)||e.m||(e.m=!0,wg(e.Ha,e),e.C=0)}function Oy(e,t){var n;n=t?t.m:e.V++;var r=Em(e.F);Cm(r,"SID",e.J),Cm(r,"RID",n),Cm(r,"AID",e.U),Ry(e,r),e.o&&e.s&&Ey(r,e.o,e.s),n=new tm(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=My(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Qm(e.i,n),am(n,r,t)}function Ry(e,t){e.j&&mm({},(function(e,n){Cm(t,n,e)}))}function My(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ov(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=o))o=Math.max(0,i[u].h-100),s=!1;else try{ny(c,a,"req"+l+"_")}catch(yx){r&&r(c)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Dy(e){e.g||e.u||(e.Y=1,wg(e.Ga,e),e.A=0)}function Ly(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Wg(ov(e.Ga,e),zy(e,e.A)),e.A++,!0)}function Ny(e){null!=e.B&&(Qp.clearTimeout(e.B),e.B=null)}function Fy(e){e.g=new tm(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Em(e.oa);Cm(t,"RID","rpc"),Cm(t,"SID",e.J),Cm(t,"CI",e.N?"0":"1"),Cm(t,"AID",e.U),Ry(e,t),Cm(t,"TYPE","xmlhttp"),e.o&&e.s&&Ey(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Im(Em(t)),n.s=null,n.U=!0,sm(n,e)}function By(e){null!=e.v&&(Qp.clearTimeout(e.v),e.v=null)}function Uy(e,t){var n=null;if(e.g==t){By(e),Ny(e),e.g=null;var r=2}else{if(!$m(e.i,t))return;n=t.D,Jm(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;fg(r=Bg(),new Yg(r,n,t,i)),Py(e)}else Dy(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Km(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Wg(ov(e.Ha,e,t),zy(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ly(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vy(e,5);break;case 4:Vy(e,10);break;case 3:Vy(e,6);break;default:Vy(e,2)}}function zy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Vy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ov(e.jb,e);n||(n=new km("//www.google.com/images/cleardot.gif"),Qp.location&&"http"==Qp.location.protocol||_m(n,"https"),Im(n)),function(e,t){var n=new Dg;if(Qp.Image){var r=new Image;r.onload=av(ry,n,r,"TestLoadImage: loaded",!0,t),r.onerror=av(ry,n,r,"TestLoadImage: error",!1,t),r.onabort=av(ry,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=av(ry,n,r,"TestLoadImage: timeout",!1,t),Qp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else jg(2);e.G=0,e.j&&e.j.va(t),jy(e),Cy(e)}function jy(e){e.G=0,e.I=-1,e.j&&(0==Zm(e.i).length&&0==e.l.length||(e.i.i.length=0,dv(e.l),e.l.length=0),e.j.ua())}function Yy(e,t,n){var r=function(e){return e instanceof km?Em(e):new km(e,void 0)}(n);if(""!=r.i)t&&Tm(r,t+"."+r.i),Am(r,r.m);else{var i=Qp.location;r=function(e,t,n,r){var i=new km(null,void 0);return e&&_m(i,e),t&&Tm(i,t),n&&Am(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&wv(e.aa,(function(e,t){Cm(r,t,e)})),t=e.D,n=e.sa,t&&n&&Cm(r,t,n),Cm(r,"VER",e.ma),Ry(e,r),r}function Wy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new hy(new iy({ib:!0})):new hy(e.qa)).L=e.H,t}function Gy(){}function Hy(){if(Cv&&!(10<=Number(Vv)))throw Error("Environmental error: no available transport.")}function Xy(e,t){hg.call(this),this.g=new Ty(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!pv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $y(this)}function qy(e){Jg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ky(){Zg.call(this),this.status=1}function $y(e){this.g=e}(Xp=hy.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$g.g(),this.C=this.u?qg(this.u):qg($g),this.g.onreadystatechange=ov(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void gy(this,o)}e=n||"";var i=new ym(this.headers);r&&mm(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=vy,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Qp.FormData&&e instanceof Qp.FormData,!(0<=cv(py,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{by(this),0<this.B&&((this.K=function(e){return Cv&&Uv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ov(this.pa,this)):this.A=Sg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){gy(this,o)}},Xp.pa=function(){"undefined"!=typeof $p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fg(this,"timeout"),this.abort(8))},Xp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fg(this,"complete"),fg(this,"abort"),xy(this))},Xp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xy(this,!0)),hy.Z.M.call(this)},Xp.Fa=function(){this.s||(this.F||this.v||this.l?yy(this):this.cb())},Xp.cb=function(){yy(this)},Xp.ba=function(){try{return 2<wy(this)?this.g.status:-1}catch(Hm){return-1}},Xp.ga=function(){try{return this.g?this.g.responseText:""}catch(Hm){return""}},Xp.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cy(t)}},Xp.Da=function(){return this.m},Xp.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xp=Ty.prototype).ma=8,Xp.G=1,Xp.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(wH){}},Xp.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new tm(this,this.h,e,void 0),n=this.s;if(this.P&&(n?_v(n=kv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=My(this,t,r),Cm(i=Em(this.F),"RID",e),Cm(i,"CVER",22),this.D&&Cm(i,"X-HTTP-Session-Id",this.D),Ry(this,i),this.o&&n&&Ey(i,this.o,n),Qm(this.i,t),this.Ra&&Cm(i,"TYPE","init"),this.ja?(Cm(i,"$req",r),Cm(i,"SID","null"),t.$=!0,am(t,i,null)):am(t,i,r),this.G=2}}else 3==this.G&&(e?Oy(this,e):0==this.l.length||qm(this.i)||Oy(this))},Xp.Ga=function(){if(this.u=null,Fy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Wg(ov(this.bb,this),e)}},Xp.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jg(10),Sy(this),Fy(this))},Xp.ab=function(){null!=this.v&&(this.v=null,Sy(this),Ly(this),jg(19))},Xp.jb=function(e){e?(this.h.info("Successfully pinged google.com"),jg(2)):(this.h.info("Failed to ping google.com"),jg(1))},(Xp=Gy.prototype).xa=function(){},Xp.wa=function(){},Xp.va=function(){},Xp.ua=function(){},Xp.Oa=function(){},Hy.prototype.g=function(e,t){return new Xy(e,t)},sv(Xy,hg),Xy.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),wg(ov(e.hb,e,t))),jg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Yy(e,null,e.W),Py(e)},Xy.prototype.close=function(){Ay(this.g)},Xy.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Iy(this.g,t)}else this.v?((t={}).__data__=pg(e),Iy(this.g,t)):Iy(this.g,e)},Xy.prototype.M=function(){this.g.j=null,delete this.j,Ay(this.g),delete this.g,Xy.Z.M.call(this)},sv(qy,Jg),sv(Ky,Zg),sv($y,Gy),$y.prototype.xa=function(){fg(this.g,"a")},$y.prototype.wa=function(e){fg(this.g,new qy(e))},$y.prototype.va=function(e){fg(this.g,new Ky(e))},$y.prototype.ua=function(){fg(this.g,"b")},Hy.prototype.createWebChannel=Hy.prototype.g,Xy.prototype.send=Xy.prototype.u,Xy.prototype.open=Xy.prototype.m,Xy.prototype.close=Xy.prototype.close,Gg.NO_ERROR=0,Gg.TIMEOUT=8,Gg.HTTP_ERROR=6,Hg.COMPLETE="complete",Kg.EventType=Qg,Qg.OPEN="a",Qg.CLOSE="b",Qg.ERROR="c",Qg.MESSAGE="d",hg.prototype.listen=hg.prototype.N,hy.prototype.listenOnce=hy.prototype.O,hy.prototype.getLastError=hy.prototype.La,hy.prototype.getLastErrorCode=hy.prototype.Da,hy.prototype.getStatus=hy.prototype.ba,hy.prototype.getResponseJson=hy.prototype.Qa,hy.prototype.getResponseText=hy.prototype.ga,hy.prototype.send=hy.prototype.ea;var Qy=Kp.createWebChannelTransport=function(){return new Hy},Jy=Kp.getStatEventTarget=function(){return Bg()},Zy=Kp.ErrorCode=Gg,ex=Kp.EventType=Hg,tx=Kp.Event=Ng,nx=Kp.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rx=Kp.FetchXmlHttpFactory=iy,ix=Kp.WebChannel=Kg,ox=Kp.XhrIo=hy,ax="@firebase/firestore",sx=function(){function e(t){sn(this,e),this.uid=t}return ln(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();sx.UNAUTHENTICATED=new sx(null),sx.GOOGLE_CREDENTIALS=new sx("google-credentials-uid"),sx.FIRST_PARTY=new sx("first-party-uid"),sx.MOCK_USER=new sx("mock-user");var ux="9.9.0",lx=new Wc("@firebase/firestore");function cx(){return lx.logLevel}function hx(e){if(lx.logLevel<=Fc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(px);lx.debug.apply(lx,["Firestore (".concat(ux,"): ").concat(e)].concat(Z(i)))}}function fx(e){if(lx.logLevel<=Fc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(px);lx.error.apply(lx,["Firestore (".concat(ux,"): ").concat(e)].concat(Z(i)))}}function dx(e){if(lx.logLevel<=Fc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(px);lx.warn.apply(lx,["Firestore (".concat(ux,"): ").concat(e)].concat(Z(i)))}}function px(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ux,") INTERNAL ASSERTION FAILED: ")+e;throw fx(t),new Error(t)}function gx(e,t){e||vx()}function mx(e,t){return e}var yx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xx=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ln(n)}(oc),bx=ln((function e(){var t=this;sn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wx=ln((function e(t,n){sn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),kx=function(){function e(){sn(this,e)}return ln(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sx.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ex=function(){function e(t){sn(this,e),this.token=t,this.changeListener=null}return ln(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),_x=function(){function e(t){sn(this,e),this.t=t,this.currentUser=sx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ln(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new bx;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new bx,e.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(){var t=o;e.enqueueRetryable(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){hx("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(hx("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bx)}}),0),a()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hx("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(gx("string"==typeof n.accessToken),new wx(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return gx(null===e||"string"==typeof e),new sx(e)}}]),e}(),Tx=ln((function e(t,n,r){sn(this,e),this.type="FirstParty",this.user=sx.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ax=function(){function e(t,n,r){sn(this,e),this.h=t,this.l=n,this.m=r}return ln(e,[{key:"getToken",value:function(){return Promise.resolve(new Tx(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(sx.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Sx=ln((function e(t){sn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cx=function(){function e(t){sn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ln(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hx("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,hx("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hx("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):hx("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(gx("string"==typeof t.token),e.p=t.token,new Sx(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ix(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Px=function(){function e(){sn(this,e)}return ln(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ix(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ox(e,t){return e<t?-1:e>t?1:0}function Rx(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Mx(e){return e+"\0"}var Dx=function(){function e(t,n){if(sn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new xx(yx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xx(yx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new xx(yx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xx(yx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ln(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ox(this.nanoseconds,e.nanoseconds):Ox(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lx=function(){function e(t){sn(this,e),this.timestamp=t}return ln(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Dx(0,0))}},{key:"max",value:function(){return new e(new Dx(253402300799,999999999))}}]),e}(),Nx=function(){function e(t,n,r){sn(this,e),void 0===n?n=0:n>t.length&&vx(),void 0===r?r=t.length-n:r>t.length-n&&vx(),this.segments=t,this.offset=n,this.len=r}return ln(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Fx=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new xx(yx.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Z(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nx),Bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ux=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Bx.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new xx(yx.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new xx(yx.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xx(yx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new xx(yx.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nx),zx=function(){function e(t){sn(this,e),this.path=t}return ln(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Fx.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Fx.fromString(t))}},{key:"fromName",value:function(t){return new e(Fx.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Fx.emptyPath())}},{key:"comparator",value:function(e,t){return Fx.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Fx(t.slice()))}}]),e}(),Vx=ln((function e(t,n,r,i){sn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function jx(e){return e.fields.find((function(e){return 2===e.kind}))}function Yx(e){return e.fields.filter((function(e){return 2!==e.kind}))}Vx.UNKNOWN_ID=-1;var Wx=ln((function e(t,n){sn(this,e),this.fieldPath=t,this.kind=n})),Gx=function(){function e(t,n){sn(this,e),this.sequenceNumber=t,this.offset=n}return ln(e,null,[{key:"empty",value:function(){return new e(0,qx.min())}}]),e}();function Hx(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lx.fromTimestamp(1e9===r?new Dx(n+1,0):new Dx(n,r));return new qx(i,zx.empty(),t)}function Xx(e){return new qx(e.readTime,e.key,-1)}var qx=function(){function e(t,n,r){sn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ln(e,null,[{key:"min",value:function(){return new e(Lx.min(),zx.empty(),-1)}},{key:"max",value:function(){return new e(Lx.max(),zx.empty(),-1)}}]),e}();function Kx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=zx.comparator(e.documentKey,t.documentKey))?n:Ox(e.largestBatchId,t.largestBatchId)}var $x="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qx=function(){function e(){sn(this,e),this.onCommittedListeners=[]}return ln(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Jx(e){return Zx.apply(this,arguments)}function Zx(){return Zx=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===yx.FAILED_PRECONDITION&&t.message===$x){e.next=2;break}throw t;case 2:hx("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}var eb=function(){function e(t){var n=this;sn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ln(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Rl(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,o=new Array(i),a=0,s=function(s){var u=s;n(t[u]).next((function(t){o[u]=t,++a===i&&e(o)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),tb=function(){function e(t,n){var r=this;sn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new bx,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new ib(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=lb(e.target.error);r.T.reject(new ib(t,n))}}return ln(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(hx("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ab(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ib(n,t)}}}]),e}(),nb=function(){function e(t,n,r){sn(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Kl())&&fx("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ln(e,[{key:"k",value:function(){var e=oe(re().mark((function e(t){var n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return hx("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ib(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new xx(yx.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new xx(yx.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ib(t,n))},i.onupgradeneeded=function(e){hx("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){hx("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=oe(re().mark((function e(t,n,r,i){var o,a,s,u,l,c=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="readonly"===n,a=0;case 2:return++a,e.prev=3,e.delegateYield(re().mark((function e(){var n,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.k(t);case 2:return c.db=e.sent,n=tb.open(c.db,t,o?"readonly":"readwrite",r),a=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),eb.reject(e)})).toPromise(),a.catch((function(){})),e.next=7,n.A;case 7:return e.t0=a,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,l="FirebaseError"!==u.name&&a<3,hx("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),l){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return hx("SimpleDb","Removing database:",e),sb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!nc())return!1;if(e.S())return!0;var t=Kl(),n=e.v(t),r=0<n&&n<10,i=e.D(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),rb=function(){function e(t){sn(this,e),this.$=t,this.B=!1,this.L=null}return ln(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return sb(this.$.delete())}}]),e}(),ib=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,yx.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ln(n)}(xx);function ob(e){return"IndexedDbTransactionError"===e.name}var ab=function(){function e(t){sn(this,e),this.store=t}return ln(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(hx("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hx("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sb(n)}},{key:"add",value:function(e){return hx("SimpleDb","ADD",this.store.name,e,e),sb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return sb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),hx("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return hx("SimpleDb","DELETE",this.store.name,e),sb(this.store.delete(e))}},{key:"count",value:function(){return hx("SimpleDb","COUNT",this.store.name),sb(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var o=this.store.getAll(n.range);return new eb((function(e,t){o.onerror=function(e){t(e.target.error)},o.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new eb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){hx("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new eb((function(n,r){t.onerror=function(e){var t=lb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new eb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new rb(i),a=t(i.primaryKey,i.value,o);if(a instanceof eb){var s=a.catch((function(e){return o.done(),eb.reject(e)}));n.push(s)}o.isDone?r():null===o.U?i.continue():i.continue(o.U)}else r()}})).next((function(){return eb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function sb(e){return new eb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=lb(e.target.error);n(t)}}))}var ub=!1;function lb(e){var t=nb.v(Kl());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new xx("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ub||(ub=!0,setTimeout((function(){throw r}),0)),r}}return e}var cb=function(){function e(t,n){sn(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ln(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;hx("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=hx,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ob(e.t4)){e.next=17;break}hx("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Jx(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),hb=function(){function e(t,n){sn(this,e),this.localStore=t,this.persistence=n}return ln(e,[{key:"tt",value:function(){var e=oe(re().mark((function e(){var t,n=this,r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,o=!0;return eb.doWhile((function(){return!0===o&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return hx("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));o=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var o=n.changes;return r.localStore.indexManager.updateIndexEntries(e,o).next((function(){return r.st(i,n)})).next((function(n){return hx("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return o.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Xx(t);Kx(r,n)>0&&(n=r)})),new qx(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),fb=function(){function e(t,n){var r=this;sn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ln(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function db(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}fb.ot=-1;var gb=function(){function e(t,n){sn(this,e),this.comparator=t,this.root=n||yb.EMPTY}return ln(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new mb(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new mb(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new mb(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new mb(this.root,e,this.comparator,!0)}}]),e}(),mb=function(){function e(t,n,r,i){sn(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ln(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),yb=function(){function e(t,n,r,i,o){sn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return ln(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vx();if(this.right.isRed())throw vx();var e=this.left.check();if(e!==this.right.check())throw vx();return e+(this.isRed()?0:1)}}]),e}();yb.EMPTY=null,yb.RED=!0,yb.BLACK=!1,yb.EMPTY=new(function(){function e(){sn(this,e),this.size=0}return ln(e,[{key:"key",get:function(){throw vx()}},{key:"value",get:function(){throw vx()}},{key:"color",get:function(){throw vx()}},{key:"left",get:function(){throw vx()}},{key:"right",get:function(){throw vx()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new yb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var xb=function(){function e(t){sn(this,e),this.comparator=t,this.data=new gb(this.comparator)}return ln(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new bb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new bb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),bb=function(){function e(t){sn(this,e),this.iter=t}return ln(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function wb(e){return e.hasNext()?e.getNext():void 0}var kb=function(){function e(t){sn(this,e),this.fields=t,t.sort(Ux.comparator)}return ln(e,[{key:"unionWith",value:function(t){var n,r=new xb(Ux.comparator),i=Rl(this.fields);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.add(o)}}catch(l){i.e(l)}finally{i.f()}var a,s=Rl(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Rl(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Rx(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Eb=function(e){function t(e){sn(this,t),this.binaryString=e}return ln(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ox(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Eb.EMPTY_BYTE_STRING=new Eb("");var _b=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tb(e){if(gx(!!e),"string"==typeof e){var t=0,n=_b.exec(e);if(gx(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ab(e.seconds),nanos:Ab(e.nanos)}}function Ab(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sb(e){return"string"==typeof e?Eb.fromBase64String(e):Eb.fromUint8Array(e)}function Cb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ib(e){var t=e.mapValue.fields.__previous_value__;return Cb(t)?Ib(t):t}function Pb(e){var t=Tb(e.mapValue.fields.__local_write_time__.timestampValue);return new Dx(t.seconds,t.nanos)}var Ob=ln((function e(t,n,r,i,o,a,s,u){sn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Rb=function(){function e(t,n){sn(this,e),this.projectId=t,this.database=n||"(default)"}return ln(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Mb(e){return null==e}function Db(e){return 0===e&&1/e==-1/0}function Lb(e){return"number"==typeof e&&Number.isInteger(e)&&!Db(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Nb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fb={nullValue:"NULL_VALUE"};function Bb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cb(e)?4:Jb(e)?9007199254740991:10:vx()}function Ub(e,t){if(e===t)return!0;var n=Bb(e);if(n!==Bb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pb(e).isEqual(Pb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Tb(e.timestampValue),r=Tb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sb(e.bytesValue).isEqual(Sb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ab(e.geoPointValue.latitude)===Ab(t.geoPointValue.latitude)&&Ab(e.geoPointValue.longitude)===Ab(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ab(e.integerValue)===Ab(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ab(e.doubleValue),r=Ab(t.doubleValue);return n===r?Db(n)===Db(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rx(e.arrayValue.values||[],t.arrayValue.values||[],Ub);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(db(n)!==db(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ub(n[i],r[i])))return!1;return!0}(e,t);default:return vx()}}function zb(e,t){return void 0!==(e.values||[]).find((function(e){return Ub(e,t)}))}function Vb(e,t){if(e===t)return 0;var n=Bb(e),r=Bb(t);if(n!==r)return Ox(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ox(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ab(e.integerValue||e.doubleValue),r=Ab(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jb(e.timestampValue,t.timestampValue);case 4:return jb(Pb(e),Pb(t));case 5:return Ox(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Sb(e),r=Sb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ox(n[i],r[i]);if(0!==o)return o}return Ox(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ox(Ab(e.latitude),Ab(t.latitude));return 0!==n?n:Ox(Ab(e.longitude),Ab(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Vb(n[i],r[i]);if(o)return o}return Ox(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Nb.mapValue&&t===Nb.mapValue)return 0;if(e===Nb.mapValue)return 1;if(t===Nb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Ox(r[a],o[a]);if(0!==s)return s;var u=Vb(n[r[a]],i[o[a]]);if(0!==u)return u}return Ox(r.length,o.length)}(e.mapValue,t.mapValue);default:throw vx()}}function jb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ox(e,t);var n=Tb(e),r=Tb(t),i=Ox(n.seconds,r.seconds);return 0!==i?i:Ox(n.nanos,r.nanos)}function Yb(e){return Wb(e)}function Wb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Tb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zx.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Rl(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=Wb(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Rl(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(Wb(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):vx();var t,n}function Gb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Hb(e){return!!e&&"integerValue"in e}function Xb(e){return!!e&&"arrayValue"in e}function qb(e){return!!e&&"nullValue"in e}function Kb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $b(e){return!!e&&"mapValue"in e}function Qb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Qb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zb(e){return"nullValue"in e?Fb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gb(Rb.empty(),zx.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:vx()}function ew(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gb(Rb.empty(),zx.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Nb:vx()}function tw(e,t){var n=Vb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nw(e,t){var n=Vb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var rw=function(){function e(t){sn(this,e),this.value=t}return ln(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$b(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qb(t)}},{key:"setAll",value:function(e){var t=this,n=Ux.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Qb(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$b(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ub(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$b(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){pb(t,(function(t,n){return e[t]=n}));var r,i=Rl(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(Qb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function iw(e){var t=[];return pb(e.fields,(function(e,n){var r=new Ux([e]);if($b(n)){var i=iw(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=Rl(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.push(r.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else t.push(r)})),new kb(t)}var ow=function(){function e(t,n,r,i,o,a){sn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=o,this.documentState=a}return ln(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=rw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=rw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lx.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lx.min(),Lx.min(),rw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Lx.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lx.min(),rw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lx.min(),rw.empty(),2)}}]),e}(),aw=ln((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;sn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ut=null}));function sw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new aw(e,t,n,r,i,o,a)}function uw(e){var t=mx(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Yb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Mb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Yb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Yb(e)})).join(",")),t.ut=n}return t.ut}function lw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ub(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Sw(e.startAt,t.startAt)&&Sw(e.endAt,t.endAt)}function cw(e){return zx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hw(e,t){return e.filters.filter((function(e){return e instanceof pw&&e.field.isEqual(t)}))}function fw(e,t,n){var r,i=Fb,o=!0,a=Rl(hw(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=Fb,l=!0;switch(s.op){case"<":case"<=":u=Zb(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,l=!1;break;case"!=":case"not-in":u=Fb}tw({value:i,inclusive:o},{value:u,inclusive:l})<0&&(i=u,o=l)}}catch(f){a.e(f)}finally{a.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var h=n.position[c];tw({value:i,inclusive:o},{value:h,inclusive:n.inclusive})<0&&(i=h,o=n.inclusive);break}return{value:i,inclusive:o}}function dw(e,t,n){var r,i=Nb,o=!0,a=Rl(hw(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=Nb,l=!0;switch(s.op){case">=":case">":u=ew(s.value),l=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,l=!1;break;case"!=":case"not-in":u=Nb}nw({value:i,inclusive:o},{value:u,inclusive:l})>0&&(i=u,o=l)}}catch(f){a.e(f)}finally{a.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var h=n.position[c];nw({value:i,inclusive:o},{value:h,inclusive:n.inclusive})>0&&(i=h,o=n.inclusive);break}return{value:i,inclusive:o}}var pw=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return ln(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Vb(t,this.value)):null!==t&&Bb(this.value)===Bb(t)&&this.at(Vb(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vx()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new vw(e,t,r):"array-contains"===t?new xw(e,r):"in"===t?new bw(e,r):"not-in"===t?new ww(e,r):"array-contains-any"===t?new kw(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new gw(e,n):new mw(e,n)}}]),n}(function(){return ln((function e(){sn(this,e)}))}()),vw=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this,e,r,i)).key=zx.fromName(i.referenceValue),o}return ln(n,[{key:"matches",value:function(e){var t=zx.comparator(e.key,this.key);return this.at(t)}}]),n}(pw),gw=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,"in",r)).keys=yw("in",r),i}return ln(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pw),mw=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,"not-in",r)).keys=yw("not-in",r),i}return ln(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pw);function yw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zx.fromName(e.referenceValue)}))}var xw=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,"array-contains",r)}return ln(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Xb(t)&&zb(t.arrayValue,this.value)}}]),n}(pw),bw=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,"in",r)}return ln(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&zb(this.value.arrayValue,t)}}]),n}(pw),ww=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,"not-in",r)}return ln(n,[{key:"matches",value:function(e){if(zb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!zb(this.value.arrayValue,t)}}]),n}(pw),kw=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,"array-contains-any",r)}return ln(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Xb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return zb(t.value.arrayValue,e)}))}}]),n}(pw),Ew=ln((function e(t,n){sn(this,e),this.position=t,this.inclusive=n})),_w=ln((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";sn(this,e),this.field=t,this.dir=n}));function Tw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Aw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?zx.comparator(zx.fromName(a.referenceValue),n.key):Vb(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Sw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ub(e.position[n],t.position[n]))return!1;return!0}var Cw=ln((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;sn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Iw(e,t,n,r,i,o,a,s){return new Cw(e,t,n,r,i,o,a,s)}function Pw(e){return new Cw(e)}function Ow(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rw(e){var t,n=Rl(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Mw(e){return null!==e.collectionGroup}function Dw(e){var t=mx(e);if(null===t.lt){t.lt=[];var n=Rw(t),r=Ow(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new _w(n)),t.lt.push(new _w(Ux.keyField(),"asc"));else{var i,o=!1,a=Rl(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(o=!0)}}catch(l){a.e(l)}finally{a.f()}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new _w(Ux.keyField(),u))}}}return t.lt}function Lw(e){var t=mx(e);if(!t.ft)if("F"===t.limitType)t.ft=sw(t.path,t.collectionGroup,Dw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Rl(Dw(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new _w(o.field,a))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new Ew(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Ew(t.startAt.position,t.startAt.inclusive):null;t.ft=sw(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function Nw(e,t,n){return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fw(e,t){return lw(Lw(e),Lw(t))&&e.limitType===t.limitType}function Bw(e){return"".concat(uw(Lw(e)),"|lt:").concat(e.limitType)}function Uw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Yb(t.value));var t})).join(", "),"]")),Mb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Yb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Yb(e)})).join(",")),"Target(".concat(t,")")}(Lw(e)),"; limitType=").concat(e.limitType,")")}function zw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zx.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Rl(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Rl(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Aw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dw(e),t))&&!(e.endAt&&!function(e,t,n){var r=Aw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dw(e),t))}(e,t)}function Vw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jw(e){return function(t,n){var r,i=!1,o=Rl(Dw(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Yw(a,t,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function Yw(e,t,n){var r=e.field.isKeyField()?zx.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vb(r,i):vx()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vx()}}function Ww(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Db(t)?"-0":t}}function Gw(e){return{integerValue:""+e}}function Hw(e,t){return Lb(t)?Gw(t):Ww(e,t)}var Xw=ln((function e(){sn(this,e),this._=void 0}));function qw(e,t,n){return e instanceof Qw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jw?Zw(e,t):e instanceof ek?tk(e,t):function(e,t){var n=$w(e,t),r=rk(n)+rk(e._t);return Hb(n)&&Hb(e._t)?Gw(r):Ww(e.wt,r)}(e,t)}function Kw(e,t,n){return e instanceof Jw?Zw(e,t):e instanceof ek?tk(e,t):n}function $w(e,t){return e instanceof nk?Hb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Qw=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n)}(Xw),Jw=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).elements=e,r}return ln(n)}(Xw);function Zw(e,t){var n,r=ik(t),i=Rl(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return Ub(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var ek=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).elements=e,r}return ln(n)}(Xw);function tk(e,t){var n,r=ik(t),i=Rl(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!Ub(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var nk=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ln(n)}(Xw);function rk(e){return Ab(e.integerValue||e.doubleValue)}function ik(e){return Xb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ok=ln((function e(t,n){sn(this,e),this.field=t,this.transform=n}));var ak=ln((function e(t,n){sn(this,e),this.version=t,this.transformResults=n})),sk=function(){function e(t,n){sn(this,e),this.updateTime=t,this.exists=n}return ln(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function uk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lk=ln((function e(){sn(this,e)}));function ck(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kk(e.key,sk.none()):new vk(e.key,e.data,sk.none());var n,r=e.data,i=rw.empty(),o=new xb(Ux.comparator),a=Rl(t.fields);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!o.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),o=o.add(s)}}}catch(l){a.e(l)}finally{a.f()}return new gk(e.key,i,new kb(o.toArray()),sk.none())}function hk(e,t,n){e instanceof vk?function(e,t,n){var r=e.value.clone(),i=yk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gk?function(e,t,n){if(uk(e.precondition,t)){var r=yk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fk(e,t,n,r){return e instanceof vk?function(e,t,n,r){if(!uk(e.precondition,t))return n;var i=e.value.clone(),o=xk(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gk?function(e,t,n,r){if(!uk(e.precondition,t))return n;var i=xk(e.fieldTransforms,r,t),o=t.data;return o.setAll(mk(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return uk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dk(e,t){var n,r=null,i=Rl(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),s=$w(o.transform,a||null);null!=s&&(null===r&&(r=rw.empty()),r.set(o.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function pk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Rx(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jw&&t instanceof Jw||e instanceof ek&&t instanceof ek?Rx(e.elements,t.elements,Ub):e instanceof nk&&t instanceof nk?Ub(e._t,t._t):e instanceof Qw&&t instanceof Qw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var vk=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return sn(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return ln(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lk),gk=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return sn(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return ln(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(lk);function mk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function yk(e,t,n){var r=new Map;gx(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Kw(a,s,n[i]))}return r}function xk(e,t,n){var r,i=new Map,o=Rl(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,u=n.data.field(a.field);i.set(a.field,qw(s,u,t))}}catch(l){o.e(l)}finally{o.f()}return i}var bk,wk,kk=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ln(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lk),Ek=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ln(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lk),_k=ln((function e(t){sn(this,e),this.count=t}));function Tk(e){switch(e){default:return vx();case yx.CANCELLED:case yx.UNKNOWN:case yx.DEADLINE_EXCEEDED:case yx.RESOURCE_EXHAUSTED:case yx.INTERNAL:case yx.UNAVAILABLE:case yx.UNAUTHENTICATED:return!1;case yx.INVALID_ARGUMENT:case yx.NOT_FOUND:case yx.ALREADY_EXISTS:case yx.PERMISSION_DENIED:case yx.FAILED_PRECONDITION:case yx.ABORTED:case yx.OUT_OF_RANGE:case yx.UNIMPLEMENTED:case yx.DATA_LOSS:return!0}}function Ak(e){if(void 0===e)return fx("GRPC error has no .code"),yx.UNKNOWN;switch(e){case bk.OK:return yx.OK;case bk.CANCELLED:return yx.CANCELLED;case bk.UNKNOWN:return yx.UNKNOWN;case bk.DEADLINE_EXCEEDED:return yx.DEADLINE_EXCEEDED;case bk.RESOURCE_EXHAUSTED:return yx.RESOURCE_EXHAUSTED;case bk.INTERNAL:return yx.INTERNAL;case bk.UNAVAILABLE:return yx.UNAVAILABLE;case bk.UNAUTHENTICATED:return yx.UNAUTHENTICATED;case bk.INVALID_ARGUMENT:return yx.INVALID_ARGUMENT;case bk.NOT_FOUND:return yx.NOT_FOUND;case bk.ALREADY_EXISTS:return yx.ALREADY_EXISTS;case bk.PERMISSION_DENIED:return yx.PERMISSION_DENIED;case bk.FAILED_PRECONDITION:return yx.FAILED_PRECONDITION;case bk.ABORTED:return yx.ABORTED;case bk.OUT_OF_RANGE:return yx.OUT_OF_RANGE;case bk.UNIMPLEMENTED:return yx.UNIMPLEMENTED;case bk.DATA_LOSS:return yx.DATA_LOSS;default:return vx()}}(wk=bk||(bk={}))[wk.OK=0]="OK",wk[wk.CANCELLED=1]="CANCELLED",wk[wk.UNKNOWN=2]="UNKNOWN",wk[wk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wk[wk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wk[wk.NOT_FOUND=5]="NOT_FOUND",wk[wk.ALREADY_EXISTS=6]="ALREADY_EXISTS",wk[wk.PERMISSION_DENIED=7]="PERMISSION_DENIED",wk[wk.UNAUTHENTICATED=16]="UNAUTHENTICATED",wk[wk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wk[wk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wk[wk.ABORTED=10]="ABORTED",wk[wk.OUT_OF_RANGE=11]="OUT_OF_RANGE",wk[wk.UNIMPLEMENTED=12]="UNIMPLEMENTED",wk[wk.INTERNAL=13]="INTERNAL",wk[wk.UNAVAILABLE=14]="UNAVAILABLE",wk[wk.DATA_LOSS=15]="DATA_LOSS";var Sk=function(){function e(t,n){sn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ln(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Rl(n);try{for(i.s();!(r=i.n()).done;){var o=c(r.value,2),a=o[0],s=o[1];if(this.equalsFn(a,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){pb(this.inner,(function(t,n){var r,i=Rl(n);try{for(i.s();!(r=i.n()).done;){var o=c(r.value,2),a=o[0],s=o[1];e(a,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return vb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ck=new gb(zx.comparator);function Ik(){return Ck}var Pk=new gb(zx.comparator);function Ok(){for(var e=Pk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.insert(a.key,a)}return e}function Rk(e){var t=Pk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Mk(){return Lk()}function Dk(){return Lk()}function Lk(){return new Sk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Nk=new gb(zx.comparator),Fk=new xb(zx.comparator);function Bk(){for(var e=Fk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var Uk=new xb(Ox);function zk(){return Uk}var Vk=function(){function e(t,n,r,i,o){sn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return ln(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,jk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Lx.min(),r,zk(),Ik(),Bk())}}]),e}(),jk=function(){function e(t,n,r,i,o){sn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return ln(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Eb.EMPTY_BYTE_STRING,n,Bk(),Bk(),Bk())}}]),e}(),Yk=ln((function e(t,n,r,i){sn(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Wk=ln((function e(t,n){sn(this,e),this.targetId=t,this.It=n})),Gk=ln((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;sn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Hk=function(){function e(){sn(this,e),this.Tt=0,this.Et=Kk(),this.At=Eb.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ln(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Bk(),t=Bk(),n=Bk();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vx()}})),new jk(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Kk()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Xk=function(){function e(t){sn(this,e),this.Mt=t,this.Ft=new Map,this.$t=Ik(),this.Bt=qk(),this.Lt=new xb(Ox)}return ln(e,[{key:"Ut",value:function(e){var t,n=Rl(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,o=Rl(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.Kt(a,e.key,e.yt)}}catch(s){o.e(s)}finally{o.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:vx()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(cw(i))if(0===n){var o=new zx(i.path);this.Kt(t,o,ow.newNoDocument(o,Lx.min()))}else gx(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var o=t.Ht(i);if(o){if(r.current&&cw(o.target)){var a=new zx(o.target.path);null!==t.$t.get(a)||t.Xt(i,a)||t.Kt(i,a,ow.newNoDocument(a,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Bk();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Vk(e,n,this.Lt,this.$t,r);return this.$t=Ik(),this.Bt=qk(),this.Lt=new xb(Ox),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Hk,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new xb(Ox),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||hx("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Hk),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function qk(){return new gb(zx.comparator)}function Kk(){return new gb(zx.comparator)}var $k={asc:"ASCENDING",desc:"DESCENDING"},Qk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jk=ln((function e(t,n){sn(this,e),this.databaseId=t,this.dt=n}));function Zk(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function eE(e,t){return e.dt?t.toBase64():t.toUint8Array()}function tE(e,t){return Zk(e,t.toTimestamp())}function nE(e){return gx(!!e),Lx.fromTimestamp(function(e){var t=Tb(e);return new Dx(t.seconds,t.nanos)}(e))}function rE(e,t){return function(e){return new Fx(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function iE(e){var t=Fx.fromString(e);return gx(SE(t)),t}function oE(e,t){return rE(e.databaseId,t.path)}function aE(e,t){var n=iE(t);if(n.get(1)!==e.databaseId.projectId)throw new xx(yx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xx(yx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zx(cE(n))}function sE(e,t){return rE(e.databaseId,t)}function uE(e){var t=iE(e);return 4===t.length?Fx.emptyPath():cE(t)}function lE(e){return new Fx(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cE(e){return gx(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hE(e,t,n){return{name:oE(e,t),fields:n.value.mapValue.fields}}function fE(e,t,n){var r=aE(e,t.name),i=nE(t.updateTime),o=new rw({mapValue:{fields:t.fields}}),a=ow.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function dE(e,t){return"found"in t?function(e,t){gx(!!t.found),t.found.name,t.found.updateTime;var n=aE(e,t.found.name),r=nE(t.found.updateTime),i=new rw({mapValue:{fields:t.found.fields}});return ow.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){gx(!!t.missing),gx(!!t.readTime);var n=aE(e,t.missing),r=nE(t.readTime);return ow.newNoDocument(n,r)}(e,t):vx()}function pE(e,t){var n;if(t instanceof vk)n={update:hE(e,t.key,t.value)};else if(t instanceof kk)n={delete:oE(e,t.key)};else if(t instanceof gk)n={update:hE(e,t.key,t.data),updateMask:AE(t.fieldMask)};else{if(!(t instanceof Ek))return vx();n={verify:oE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Qw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ek)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nk)return{fieldPath:t.field.canonicalString(),increment:n._t};throw vx()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vx()}(e,t.precondition)),n}function vE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sk.updateTime(nE(e.updateTime)):void 0!==e.exists?sk.exists(e.exists):sk.none()}(t.currentDocument):sk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)gx("REQUEST_TIME"===t.setToServerValue),n=new Qw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Jw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ek(i)}else"increment"in t?n=new nk(e,t.increment):vx();var o=Ux.fromServerFormat(t.fieldPath);return new ok(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=aE(e,t.update.name),o=new rw({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new kb(t.map((function(e){return Ux.fromServerFormat(e)})))}(t.updateMask);return new gk(i,o,a,n,r)}return new vk(i,o,n,r)}if(t.delete){var s=aE(e,t.delete);return new kk(s,n)}if(t.verify){var u=aE(e,t.verify);return new Ek(u,n)}return vx()}function gE(e,t){return{documents:[sE(e,t.path)]}}function mE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Kb(e.value))return{unaryFilter:{field:kE(e.field),op:"IS_NAN"}};if(qb(e.value))return{unaryFilter:{field:kE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Kb(e.value))return{unaryFilter:{field:kE(e.field),op:"IS_NOT_NAN"}};if(qb(e.value))return{unaryFilter:{field:kE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kE(e.field),op:wE(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kE(e.field),direction:bE(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=function(e,t){return e.dt||Mb(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function yE(e){var t=uE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gx(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=xE(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new _w(EE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Mb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new Ew(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new Ew(n,t)}(n.endAt)),Iw(t,i,s,a,u,"F",l,c)}function xE(e){return e?void 0!==e.unaryFilter?[TE(e)]:void 0!==e.fieldFilter?[_E(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xE(e)})).reduce((function(e,t){return e.concat(t)})):vx():[]}function bE(e){return $k[e]}function wE(e){return Qk[e]}function kE(e){return{fieldPath:e.canonicalString()}}function EE(e){return Ux.fromServerFormat(e.fieldPath)}function _E(e){return pw.create(EE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vx()}}(e.fieldFilter.op),e.fieldFilter.value)}function TE(e){switch(e.unaryFilter.op){case"IS_NAN":var t=EE(e.unaryFilter.field);return pw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=EE(e.unaryFilter.field);return pw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=EE(e.unaryFilter.field);return pw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=EE(e.unaryFilter.field);return pw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vx()}}function AE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function SE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function CE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=PE(t)),t=IE(e.get(n),t);return PE(t)}function IE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function PE(e){return e+"\x01\x01"}function OE(e){var t=e.length;if(gx(t>=2),2===t)return gx("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Fx.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&vx(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:vx()}o=a+2}return new Fx(r)}var RE=["userId","batchId"];function ME(e,t){return[e,CE(t)]}function DE(e,t,n){return[e,CE(t),n]}var LE={},NE=["prefixPath","collectionGroup","readTime","documentId"],FE=["prefixPath","collectionGroup","documentId"],BE=["collectionGroup","readTime","prefixPath","documentId"],UE=["canonicalId","targetId"],zE=["targetId","path"],VE=["path","targetId"],jE=["collectionId","parent"],YE=["indexId","uid"],WE=["uid","sequenceNumber"],GE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HE=["indexId","uid","orderedDocumentKey"],XE=["userId","collectionPath","documentId"],qE=["userId","collectionPath","largestBatchId"],KE=["userId","collectionGroup","largestBatchId"],$E=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),QE=[].concat(Z($E),["documentOverlays"]),JE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZE=JE,e_=[].concat(ZE,["indexConfiguration","indexState","indexEntries"]),t_=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ln(n)}(Qx);function n_(e,t){var n=mx(e);return nb.N(n.ee,t)}var r_=function(){function e(t,n,r,i){sn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ln(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Rl(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=fk(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var o,a=Rl(this.mutations);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.key.isEqual(e.key)&&(t=fk(s,e,t,this.localWriteTime))}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Dk();return this.mutations.forEach((function(i){var o=e.get(i.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=ck(a,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Lx.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Rx(this.mutations,e.mutations,(function(e,t){return pk(e,t)}))&&Rx(this.baseMutations,e.baseMutations,(function(e,t){return pk(e,t)}))}}]),e}(),i_=function(){function e(t,n,r,i){sn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ln(e,null,[{key:"from",value:function(t,n,r){gx(t.mutations.length===r.length);for(var i=Nk,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),o_=function(){function e(t,n){sn(this,e),this.largestBatchId=t,this.mutation=n}return ln(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),a_=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lx.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lx.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Eb.EMPTY_BYTE_STRING;sn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}return ln(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),s_=ln((function e(t){sn(this,e),this.ne=t}));function u_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:l_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:oE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Zk(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:c_(t.version)};else{if(!t.isUnknownDocument())return vx();r.unknownDocument={path:n.path.toArray(),version:c_(t.version)}}return r}function l_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function c_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function h_(e){var t=new Dx(e.seconds,e.nanoseconds);return Lx.fromTimestamp(t)}function f_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return vE(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return vE(e.ne,t)})),s=Dx.fromMillis(t.localWriteTimeMs);return new r_(t.batchId,s,n,a)}function d_(e){var t,n,r=h_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?h_(e.lastLimboFreeSnapshotVersion):Lx.min();return void 0!==e.query.documents?(gx(1===(n=e.query).documents.length),t=Lw(Pw(uE(n.documents[0])))):t=function(e){return Lw(yE(e))}(e.query),new a_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Eb.fromBase64String(e.resumeToken))}function p_(e,t){var n,r=c_(t.snapshotVersion),i=c_(t.lastLimboFreeSnapshotVersion);n=cw(t.target)?gE(e.ne,t.target):mE(e.ne,t.target);var o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:uw(t.target),readTime:r,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function v_(e){var t=yE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nw(t,t.limit,"L"):t}function g_(e,t){return new o_(t.largestBatchId,vE(e.ne,t.overlayMutation))}function m_(e,t){var n=t.path.lastSegment();return[e,CE(t.path.popLast()),n]}function y_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:c_(r.readTime),documentKey:CE(r.documentKey.path),largestBatchId:r.largestBatchId}}var x_=function(){function e(){sn(this,e)}return ln(e,[{key:"getBundleMetadata",value:function(e,t){return b_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:h_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return b_(e).put({bundleId:(n=t).id,createTime:c_(nE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return w_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:v_(t.bundledQuery),readTime:h_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return w_(e).put(function(e){return{name:e.name,readTime:c_(nE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function b_(e){return n_(e,"bundles")}function w_(e){return n_(e,"namedQueries")}var k_=function(){function e(t,n){sn(this,e),this.wt=t,this.userId=n}return ln(e,[{key:"getOverlay",value:function(e,t){var n=this;return E_(e).get(m_(this.userId,t)).next((function(e){return e?g_(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mk();return eb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,o){var a=new o_(t,o);i.push(r.ie(e,a))})),eb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(CE(e.getCollectionPath()))}));var o=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);o.push(E_(e).W("collectionPathOverlayIndex",i))})),eb.waitFor(o)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Mk(),o=CE(t),a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return E_(e).K("collectionPathOverlayIndex",a).next((function(e){var t,n=Rl(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=g_(r.wt,o);i.set(a.getKey(),a)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,o=this,a=Mk(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return E_(e).J({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=g_(o.wt,t);a.size()<r||s.largestBatchId===i?(a.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return a}))}},{key:"ie",value:function(e,t){return E_(e).put(function(e,t,n){var r=c(m_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:pE(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function E_(e){return n_(e,"documentOverlays")}var __=function(){function e(){sn(this,e)}return ln(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ab(e.integerValue));else if("doubleValue"in e){var n=Ab(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Db(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Sb(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Jb(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):vx()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this.le(o,t),this.oe(n[o],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=Rl(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.oe(o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),zx.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function T_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function A_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=T_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}__.ye=new __;var S_=function(){function e(){sn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ln(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=Rl(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var o=r.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=Rl(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var o=r.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=A_(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=A_(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),C_=function(){function e(t){sn(this,e),this.Me=t}return ln(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),I_=function(){function e(t){sn(this,e),this.Me=t}return ln(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),P_=function(){function e(){sn(this,e),this.Me=new S_,this.Fe=new C_(this.Me),this.$e=new I_(this.Me)}return ln(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),O_=function(){function e(t,n,r,i){sn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ln(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function R_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=M_(e.arrayValue,t.arrayValue))?n:0!==(n=M_(e.directionalValue,t.directionalValue))?n:zx.comparator(e.documentKey,t.documentKey)}function M_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var D_=function(){function e(t){sn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=Rl(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(o){r.e(o)}finally{r.f()}}return ln(e,[{key:"Ge",value:function(e){var t=jx(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Yx(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var o=n[r];if(!this.je(this.Ke,o)||!this.We(this.Ue[i++],o))return!1;++r}for(;r<n.length;++r){var a=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],a))return!1}return!0}},{key:"Qe",value:function(e){var t,n=Rl(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),L_=function(){function e(){sn(this,e),this.ze=new N_}return ln(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),eb.resolve()}},{key:"getCollectionParents",value:function(e,t){return eb.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return eb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return eb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return eb.resolve(null)}},{key:"getIndexType",value:function(e,t){return eb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return eb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return eb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return eb.resolve(qx.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return eb.resolve(qx.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return eb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return eb.resolve()}}]),e}(),N_=function(){function e(){sn(this,e),this.index={}}return ln(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xb(Fx.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new xb(Fx.comparator)).toArray()}}]),e}(),F_=new Uint8Array(0),B_=function(){function e(t,n){sn(this,e),this.user=t,this.databaseId=n,this.He=new N_,this.Je=new Sk((function(e){return uw(e)}),(function(e,t){return lw(e,t)})),this.uid=t.uid||""}return ln(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var o={collectionId:r,parent:CE(i)};return U_(e).put(o)}return eb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Mx(t),""],!1,!0);return U_(e).K(r).next((function(e){var r,i=Rl(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(OE(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=V_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var o=r.add(i);if(t.indexState){var a=j_(e);return o.next((function(e){a.put(y_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=V_(e),r=j_(e),i=z_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=z_(e),i=!0,o=new Map;return eb.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),o.set(t,e)}))})).next((function(){if(i){var e=Bk(),a=[];return eb.forEach(o,(function(i,o){var s;hx("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(uw(t)));var u=function(e,t){var n=jx(t);if(void 0===n)return null;var r,i=Rl(hw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(a){i.e(a)}finally{i.f()}return null}(o,i),l=function(e,t){var n,r=new Map,i=Rl(Yx(t));try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=Rl(hw(e,a.fieldPath));try{for(s.s();!(o=s.n()).done;){var u=o.value;switch(u.op){case"==":case"in":r.set(a.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(a.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(o,i),c=function(e,t){var n,r=[],i=!0,o=Rl(Yx(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?fw(e,a.fieldPath,e.startAt):dw(e,a.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new Ew(r,i)}(o,i),h=function(e,t){var n,r=[],i=!0,o=Rl(Yx(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?dw(e,a.fieldPath,e.endAt):fw(e,a.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new Ew(r,i)}(o,i),f=n.Ze(i,o,c),d=n.Ze(i,o,h),p=n.tn(i,o,l),v=n.en(i.indexId,u,f,c.inclusive,d,h.inclusive,p);return eb.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=zx.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),a.push(n))}))}))}))})).next((function(){return a}))}return eb.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,o,a){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),l=u/(null!=t?t.length:1),c=[],h=function(u){var h=t?s.nn(t[u/l]):F_,f=s.sn(e,h,n[u%l],r),d=s.rn(e,h,i[u%l],o),p=a.map((function(t){return s.sn(e,h,t,!0)}));c.push.apply(c,Z(s.createRange(f,d,p)))},f=0;f<u;++f)h(f);return c}},{key:"sn",value:function(e,t,n,r){var i=new O_(e,zx.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new O_(e,zx.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new D_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Rl(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.Ge(o)&&(!r||o.fields.length>r.fields.length)&&(r=o)}}catch(a){i.e(a)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return eb.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new xb(Ux.comparator),r=!1,i=Rl(e.filters);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.field.isKeyField()||("array-contains"===o.op||"array-contains-any"===o.op?r=!0:n=n.add(o.field))}}catch(l){i.e(l)}finally{i.f()}var a,s=Rl(e.orderBy);try{for(s.s();!(a=s.n()).done;){var u=a.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(l){s.e(l)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new P_,i=Rl(Yx(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.fieldPath);if(null==a)return null;var s=r.Be(o.kind);__.ye.re(a,s)}}catch(u){i.e(u)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new P_;return __.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new P_;return __.ye.re(Gb(this.databaseId,t),n.Be(function(e){var t=Yx(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new P_);var i,o=0,a=Rl(Yx(e));try{for(a.s();!(i=a.n()).done;){var s,u=i.value,l=n[o++],c=Rl(r);try{for(c.s();!(s=c.n()).done;){var h=s.value;if(this.cn(t,u.fieldPath)&&Xb(l))r=this.an(r,u,l);else{var f=h.Be(u.kind);__.ye.re(l,f)}}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=Z(e),o=[],a=Rl(n.arrayValue.values||[]);try{for(a.s();!(r=a.n()).done;){var s,u=r.value,l=Rl(i);try{for(l.s();!(s=l.n()).done;){var c=s.value,h=new P_;h.seed(c.Oe()),__.ye.re(u,h.Be(t.kind)),o.push(h)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){a.e(f)}finally{a.f()}return o}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof pw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=V_(e),i=j_(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return eb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Gx(t.sequenceNumber,new qx(h_(t.readTime),new zx(OE(t.documentKey)),t.largestBatchId)):Gx.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Wx(Ux.fromServerFormat(n),r)}));return new Vx(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ox(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=V_(e),o=j_(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return eb.forEach(t,(function(t){return o.put(y_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return eb.forEach(t,(function(t,i){var o=r.get(t.collectionGroup);return(o?eb.resolve(o):n.getFieldIndexes(e,t.collectionGroup)).next((function(o){return r.set(t.collectionGroup,o),eb.forEach(o,(function(r){return n.fn(e,t,r).next((function(t){var o=n.dn(i,r);return t.isEqual(o)?eb.resolve():n._n(e,i,r,t,o)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return z_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return z_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=z_(e),i=new xb(R_);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new O_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new xb(R_),r=this.on(t,e);if(null==r)return n;var i=jx(t);if(null!=i){var o=e.data.field(i.fieldPath);if(Xb(o)){var a,s=Rl(o.arrayValue.values||[]);try{for(s.s();!(a=s.n()).done;){var u=a.value;n=n.add(new O_(t.indexId,e.key,this.nn(u),r))}}catch(l){s.e(l)}finally{s.f()}}}else n=n.add(new O_(t.indexId,e.key,F_,r));return n}},{key:"_n",value:function(e,t,n,r,i){var o=this;hx("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var o=e.getIterator(),a=t.getIterator(),s=wb(o),u=wb(a);s||u;){var l=!1,c=!1;if(s&&u){var h=n(s,u);h<0?c=!0:h>0&&(l=!0)}else null!=s?c=!0:l=!0;l?(r(u),u=wb(a)):c?(i(s),s=wb(o)):(s=wb(o),u=wb(a))}}(r,i,R_,(function(r){a.push(o.wn(e,t,n,r))}),(function(r){a.push(o.mn(e,t,n,r))})),eb.waitFor(a)}},{key:"ln",value:function(e){var t=1;return j_(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return R_(e,t)})).filter((function(e,t,n){return!t||0!==R_(e,n[t-1])}));var r=[];r.push(e);var i,o=Rl(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=R_(a,e),u=R_(a,t);if(0===s)r[0]=e.Le();else if(s>0&&u<0)r.push(a),r.push(a.Le());else if(u>0)break}}catch(h){o.e(h)}finally{o.f()}r.push(t);for(var l=[],c=0;c<r.length;c+=2)l.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,F_,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,F_,[]]));return l}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Y_)}},{key:"getMinOffset",value:function(e,t){var n=this;return eb.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||vx()}))})).next(Y_)}}]),e}();function U_(e){return n_(e,"collectionParents")}function z_(e){return n_(e,"indexEntries")}function V_(e){return n_(e,"indexConfiguration")}function j_(e){return n_(e,"indexState")}function Y_(e){gx(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Kx(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new qx(t.readTime,t.documentKey,n)}var W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G_=function(){function e(t,n,r){sn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ln(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function H_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.J({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){gx(1===s)})));var l,c=[],h=Rl(n.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value,d=DE(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return eb.waitFor(o).next((function(){return c}))}function X_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vx();t=e.noDocument}return JSON.stringify(t).length}G_.DEFAULT_COLLECTION_PERCENTILE=10,G_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,G_.DEFAULT=new G_(41943040,G_.DEFAULT_COLLECTION_PERCENTILE,G_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),G_.DISABLED=new G_(-1,0,0);var q_=function(){function e(t,n,r,i){sn(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ln(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $_(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=Q_(e),a=$_(e);return a.add({}).next((function(s){gx("number"==typeof s);var u,l=new r_(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return pE(e.ne,t)})),i=n.mutations.map((function(t){return pE(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,l),h=[],f=new xb((function(e,t){return Ox(e.canonicalString(),t.canonicalString())})),d=Rl(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=DE(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(a.put(c)),h.push(o.put(v,LE))}}catch(g){d.e(g)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[s]=l.keys()})),eb.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return $_(e).get(t).next((function(e){return e?(gx(e.userId===n.userId),f_(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?eb.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return $_(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(gx(t.batchId>=r),o=f_(n.wt,t)),i.done()})).next((function(){return o}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $_(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $_(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return f_(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ME(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Q_(e).J({range:i},(function(r,i,a){var s=c(r,3),u=s[0],l=s[1],h=s[2],f=OE(l);if(u===n.userId&&t.path.isEqual(f))return $_(e).get(h).next((function(e){if(!e)throw vx();gx(e.userId===n.userId),o.push(f_(n.wt,e))}));a.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xb(Ox),i=[];return t.forEach((function(t){var o=ME(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Q_(e).J({range:a},(function(e,i,o){var a=c(e,3),s=a[0],u=a[1],l=a[2],h=OE(u);s===n.userId&&t.path.isEqual(h)?r=r.add(l):o.done()}));i.push(s)})),eb.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=ME(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new xb(Ox);return Q_(e).J({range:a},(function(e,t,o){var a=c(e,3),u=a[0],l=a[1],h=a[2],f=OE(l);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(h)):o.done()})).next((function(){return n.pn(e,s)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push($_(e).get(t).next((function(e){if(null===e)throw vx();gx(e.userId===n.userId),r.push(f_(n.wt,e))})))})),eb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return H_(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),eb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return eb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Q_(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var o=OE(e[1]);i.push(o)}else r.done()})).next((function(){gx(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return K_(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return J_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return gx(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function K_(e,t,n){var r=ME(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Q_(e).J({range:o,H:!0},(function(e,n,r){var o=c(e,3),s=o[0],u=o[1];o[2];s===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function $_(e){return n_(e,"mutations")}function Q_(e){return n_(e,"documentMutations")}function J_(e){return n_(e,"mutationQueues")}var Z_=function(){function e(t){sn(this,e),this.En=t}return ln(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),eT=function(){function e(t,n){sn(this,e),this.referenceDelegate=t,this.wt=n}return ln(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new Z_(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Lx.fromTimestamp(new Dx(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return tT(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return gx(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return tT(e).J((function(a,s){var u=d_(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return eb.waitFor(o)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return tT(e).J((function(e,n){var r=d_(n);t(r)}))}},{key:"bn",value:function(e){return nT(e).get("targetGlobalKey").next((function(e){return gx(null!==e),e}))}},{key:"Pn",value:function(e,t){return nT(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return tT(e).put(p_(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=uw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return tT(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var o=d_(n);lw(t,o.target)&&(i=o,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=rT(e);return t.forEach((function(t){var a=CE(t.path);i.push(o.put({targetId:n,path:a})),i.push(r.referenceDelegate.addReference(e,n,t))})),eb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=rT(e);return eb.forEach(t,(function(t){var o=CE(t.path);return eb.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=rT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=rT(e),i=Bk();return r.J({range:n,H:!0},(function(e,t,n){var r=OE(e[1]),o=new zx(r);i=i.add(o)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=CE(t.path),r=IDBKeyRange.bound([n],[Mx(n)],!1,!0),i=0;return rT(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return tT(e).get(t).next((function(e){return e?d_(e):null}))}}]),e}();function tT(e){return n_(e,"targets")}function nT(e){return n_(e,"targetGlobal")}function rT(e){return n_(e,"targetDocuments")}function iT(e,t){var n=c(e,2),r=n[0],i=n[1],o=c(t,2),a=o[0],s=o[1],u=Ox(r,a);return 0===u?Ox(i,s):u}var oT=function(){function e(t){sn(this,e),this.Sn=t,this.buffer=new xb(iT),this.Dn=0}return ln(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();iT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),aT=function(){function e(t,n,r){sn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ln(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;hx("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ob(e.t0)){e.next=12;break}hx("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Jx(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),sT=function(){function e(t,n){sn(this,e),this.On=t,this.params=n}return ln(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return eb.resolve(fb.ot);var r=new oT(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(hx("LruGarbageCollector","Garbage collection skipped; disabled"),eb.resolve(W_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(hx("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),W_):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,o,a,s,u,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(hx("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),cx()<=Fc.DEBUG&&hx("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-c,"ms")),eb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),uT=function(){function e(t,n){sn(this,e),this.db=t,this.garbageCollector=function(e,t){return new sT(e,t)}(this,n)}return ln(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return lT(e,n)}},{key:"removeReference",value:function(e,t,n){return lT(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return lT(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return J_(e).Y((function(r){return K_(e,r,t).next((function(e){return e&&(n=!0),eb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Ln(e,(function(a,s){if(s<=t){var u=n.Un(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a,Lx.min()),rT(e).delete([0,CE(a.path)])}))}));i.push(u)}})).next((function(){return eb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return lT(e,t)}},{key:"Ln",value:function(e,t){var n,r=rT(e),i=fb.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var o=c(e,2),a=o[0],s=(o[1],r.path),u=r.sequenceNumber;0===a?(i!==fb.ot&&t(new zx(OE(n)),i),i=u,n=s):i=fb.ot})).next((function(){i!==fb.ot&&t(new zx(OE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function lT(e,t){return rT(e).put(function(e,t){return{targetId:0,path:CE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var cT=function(){function e(){sn(this,e),this.changes=new Sk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ln(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ow.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?eb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),hT=function(){function e(t){sn(this,e),this.wt=t}return ln(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return vT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return vT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],l_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ow.newInvalidDocument(t);return vT(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gT(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:ow.newInvalidDocument(t)};return vT(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(gT(t))},(function(e,i){r={document:n.Kn(t,i),size:X_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ik();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Ik(),i=new gb(zx.comparator);return this.Qn(e,t,(function(e,t){var o=n.Kn(e,t);r=r.insert(e,o),i=i.insert(e,X_(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return eb.resolve();var r=new xb(yT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(gT(r.first()),gT(r.last())),o=r.getIterator(),a=o.getNext();return vT(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=zx.fromSegments([].concat(Z(t.prefixPath),[t.collectionGroup,t.documentId]));a&&yT(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.q(gT(a)):r.done()})).next((function(){for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),l_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vT(e).K(IDBKeyRange.bound(i,o,!0)).next((function(e){var t,n=Ik(),i=Rl(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=r.Kn(zx.fromSegments(o.prefixPath.concat(o.collectionGroup,o.documentId)),o);n=n.insert(a.key,a)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,o=Ik(),a=mT(t,n),s=mT(t,qx.max());return vT(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(function(e,t,n){var a=i.Kn(zx.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(o=o.insert(a.key,a)).size===r&&n.done()})).next((function(){return o}))}},{key:"newChangeBuffer",value:function(e){return new dT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return pT(e).get("remoteDocumentGlobalKey").next((function(e){return gx(!!e),e}))}},{key:"qn",value:function(e,t){return pT(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=fE(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=zx.fromSegments(t.noDocument.path),i=h_(t.noDocument.readTime);n=ow.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return vx();var o=zx.fromSegments(t.unknownDocument.path),a=h_(t.unknownDocument.version);n=ow.newUnknownDocument(o,a)}return t.readTime&&n.setReadTime(function(e){var t=new Dx(e[0],e[1]);return Lx.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Lx.min()))return n}return ow.newInvalidDocument(e)}}]),e}();function fT(e){return new hT(e)}var dT=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new Sk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ln(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new xb((function(e,t){return Ox(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Hn.get(o);if(n.push(t.zn.removeEntry(e,o,s.readTime)),a.isValidDocument()){var u=u_(t.zn.wt,a);i=i.add(o.path.popLast());var l=X_(u);r+=l-s.size,n.push(t.zn.addEntry(e,o,u))}else if(r-=s.size,t.trackRemovals){var c=u_(t.zn.wt,a.convertToNoDocument(Lx.min()));n.push(t.zn.addEntry(e,o,c))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),eb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(cT);function pT(e){return n_(e,"remoteDocumentGlobal")}function vT(e){return n_(e,"remoteDocumentsV14")}function gT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mT(e,t){var n=t.documentKey.path.toArray();return[e,l_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ox(n[o],r[o]))return i;return(i=Ox(n.length,r.length))||((i=Ox(n[n.length-2],r[r.length-2]))||Ox(n[n.length-1],r[r.length-1]))}var xT=ln((function e(t,n){sn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),bT=function(){function e(t,n,r,i){sn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ln(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&fk(r.mutation,e,kb.empty(),Dx.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Bk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bk(),i=Mk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ok();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Mk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Bk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ik(),o=Lk(),a=Lk();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof gk)?i=i.insert(t.key,t):void 0!==a&&(o.set(t.key,a.mutation.getFieldMask()),fk(a.mutation,t,a.mutation.getFieldMask(),Dx.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return o.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new xT(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Lk(),i=new gb((function(e,t){return e-t})),o=Bk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=Rl(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var o=t.get(n);if(null!==o){var a=r.get(n)||kb.empty();a=e.applyToLocalView(o,a),r.set(n,a);var s=(i.get(e.batchId)||Bk()).add(n);i=i.insert(e.batchId,s)}}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}})).next((function(){for(var a=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Dk();l.forEach((function(e){if(!o.has(e)){var n=ck(t.get(e),r.get(e));null!==n&&c.set(e,n),o=o.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return eb.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return zx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(o){var a=r-o.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):eb.resolve(Mk()),s=-1,u=o;return a.next((function(t){return eb.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?eb.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,o)})).next((function(){return i.computeViews(e,u,t,Bk())})).next((function(e){return{batchId:s,changes:Rk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new zx(t)).next((function(e){var t=Ok();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,o=Ok();return this.indexManager.getCollectionParents(e,i).next((function(a){return eb.forEach(a,(function(a){var s=function(e,t){return new Cw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(o){return r=o,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,ow.newInvalidDocument(n)))}));var n=Ok();return r.forEach((function(r,i){var o=e.get(r);void 0!==o&&fk(o.mutation,i,kb.empty(),Dx.now()),zw(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):eb.resolve(ow.newInvalidDocument(t))}}]),e}(),wT=function(){function e(t){sn(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ln(e,[{key:"getBundleMetadata",value:function(e,t){return eb.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:nE(n.createTime)}),eb.resolve()}},{key:"getNamedQuery",value:function(e,t){return eb.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:v_(e.bundledQuery),readTime:nE(e.readTime)}}(t)),eb.resolve()}}]),e}(),kT=function(){function e(){sn(this,e),this.overlays=new gb(zx.comparator),this.Xn=new Map}return ln(e,[{key:"getOverlay",value:function(e,t){return eb.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mk();return eb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),eb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),eb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Mk(),i=t.length+1,o=new zx(t.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return eb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gb((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var s=i.get(a.largestBatchId);null===s&&(s=Mk(),i=i.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=Mk(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return eb.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new o_(t,n));var o=this.Xn.get(t);void 0===o&&(o=Bk(),this.Xn.set(t,o)),this.Xn.set(t,o.add(n.key))}}]),e}(),ET=function(){function e(){sn(this,e),this.Zn=new xb(_T.ts),this.es=new xb(_T.ns)}return ln(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new _T(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new _T(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new zx(new Fx([])),r=new _T(n,e),i=new _T(n,e+1),o=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),o.push(e.key)})),o}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new zx(new Fx([])),n=new _T(t,e),r=new _T(t,e+1),i=Bk();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new _T(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),_T=function(){function e(t,n){sn(this,e),this.key=t,this.ls=n}return ln(e,null,[{key:"ts",value:function(e,t){return zx.comparator(e.key,t.key)||Ox(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Ox(e.ls,t.ls)||zx.comparator(e.key,t.key)}}]),e}(),TT=function(){function e(t,n){sn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new xb(_T.ts)}return ln(e,[{key:"checkEmpty",value:function(e){return eb.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new r_(i,t,n,r);this.mutationQueue.push(o);var a,s=Rl(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.ds=this.ds.add(new _T(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return eb.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return eb.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return eb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return eb.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return eb.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new _T(t,0),i=new _T(t,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);o.push(t)})),eb.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xb(Ox);return t.forEach((function(e){var t=new _T(e,0),i=new _T(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),eb.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zx.isDocumentKey(i)||(i=i.child(""));var o=new _T(new zx(i),0),a=new xb(Ox);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ls)),!0)}),o),eb.resolve(this.gs(a))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;gx(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return eb.forEach(t.mutations,(function(i){var o=new _T(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new _T(t,0),r=this.ds.firstAfterOrEqual(n);return eb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,eb.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),AT=function(){function e(t){sn(this,e),this.ps=t,this.docs=new gb(zx.comparator),this.size=0}return ln(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return eb.resolve(n?n.document.mutableCopy():ow.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ik();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ow.newInvalidDocument(e))})),eb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ik(),i=new zx(t.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Kx(Xx(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return eb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vx()}},{key:"Is",value:function(e,t){return eb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ST(this)}},{key:"getSize",value:function(e){return eb.resolve(this.size)}}]),e}(),ST=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).zn=e,r}return ln(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),eb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(cT),CT=function(){function e(t){sn(this,e),this.persistence=t,this.Ts=new Sk((function(e){return uw(e)}),lw),this.lastRemoteSnapshotVersion=Lx.min(),this.highestTargetId=0,this.Es=0,this.As=new ET,this.targetCount=0,this.Rs=Z_.An()}return ln(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),eb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return eb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return eb.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),eb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),eb.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Z_(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,eb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),eb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,eb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.Ts.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),eb.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return eb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return eb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),eb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),eb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),eb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return eb.resolve(n)}},{key:"containsKey",value:function(e,t){return eb.resolve(this.As.containsKey(t))}}]),e}(),IT=function(){function e(t,n){var r=this;sn(this,e),this.bs={},this.overlays={},this.Ps=new fb(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new CT(this),this.indexManager=new L_,this.remoteDocumentCache=new AT((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new s_(n),this.Ds=new wT(this.wt)}return ln(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new kT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new TT(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;hx("MemoryPersistence","Starting transaction:",e);var i=new PT(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return eb.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),PT=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ln(n)}(Qx),OT=function(){function e(t){sn(this,e),this.persistence=t,this.ks=new ET,this.Os=null}return ln(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw vx()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),eb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),eb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),eb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return eb.forEach(this.Fs,(function(r){var i=zx.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Lx.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return eb.or([function(){return eb.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),RT=function(){function e(t){sn(this,e),this.wt=t}return ln(e,[{key:"O",value:function(e,t,n,r){var i=this,o=new tb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RE,{unique:!0}),e.createObjectStore("documentMutations")}(e),MT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var a=eb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),MT(e)),a=a.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lx.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RE,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return eb.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Bs(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Us(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.qs(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ks(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(a=a.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:XE});t.createIndex("collectionPathOverlayIndex",qE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",KE,{unique:!1})}(e)}))),n<13&&r>=13&&(a=a.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:NE});t.createIndex("documentKeyIndex",FE),t.createIndex("collectionGroupIndex",BE)}(e)})).next((function(){return i.Gs(e,o)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(a=a.next((function(){return i.Qs(e,o)}))),n<15&&r>=15&&(a=a.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:YE}).createIndex("sequenceNumberIndex",WE,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:GE}).createIndex("documentKeyIndex",HE,{unique:!1})}(e)}))),a}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=X_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return eb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return eb.forEach(r,(function(r){gx(r.userId===n.userId);var i=f_(t.wt,r);return H_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var o=new Fx(n),a=function(e){return[0,CE(e)]}(o);r.push(t.get(a).next((function(n){return n?eb.resolve():function(n){return t.put({targetId:0,path:CE(n),sequenceNumber:e.highestListenSequenceNumber})}(o)})))})).next((function(){return eb.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:jE});var n=t.store("collectionParents"),r=new N_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:CE(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Fx(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),o=(n[2],OE(r));return i(o.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=d_(r),o=p_(t.wt,i);return n.put(o)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,o=t.store("remoteDocumentsV14"),a=(i=n,i.document?new zx(Fx.fromString(i.document.name).popFirst(5)):i.noDocument?zx.fromSegments(i.noDocument.path):i.unknownDocument?zx.fromSegments(i.unknownDocument.path):vx()).path.toArray(),s={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(o.put(s))})).next((function(){return eb.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=fT(this.wt),o=new IT(OT.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Bk();f_(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),eb.forEach(r,(function(e,r){var a=new sx(r),s=k_.se(n.wt,a),u=o.getIndexManager(a),l=q_.se(a,n.wt,u,o.referenceDelegate);return new bT(i,l,s,u).recalculateAndSaveOverlaysForDocumentKeys(new t_(t,fb.ot),e).next()}))}))}}]),e}();function MT(e){e.createObjectStore("targetDocuments",{keyPath:zE}).createIndex("documentTargetsIndex",VE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",UE,{unique:!0}),e.createObjectStore("targetGlobal")}var DT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LT=function(){function e(t,n,r,i,o,a,s,u,l,c){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(sn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=o,this.window=a,this.document=s,this.Ws=l,this.zs=c,this.Hs=h,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new xx(yx.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uT(this,i),this.ei=n+"main",this.wt=new s_(u),this.ni=new nb(this.ei,this.Hs,new RT(this.wt)),this.Vs=new eT(this.referenceDelegate,this.wt),this.remoteDocumentCache=fT(this.wt),this.Ds=new x_,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===c&&fx("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ln(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new xx(yx.FAILED_PRECONDITION,DT);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new fb(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=oe(re().mark((function n(r){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=oe(re().mark((function t(n){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return FT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(ob(t))return hx("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return hx("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return NT(e).get("owner").next((function(e){return eb.resolve(t.di(e))}))}},{key:"_i",value:function(e){return FT(e).delete(this.clientId)}},{key:"wi",value:function(){var e=oe(re().mark((function e(){var t,n,r,i,o=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=n_(e,"clientMetadata");return t.K().next((function(e){var n=o.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return eb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=Rl(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?eb.resolve(!0):NT(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new xx(yx.FAILED_PRECONDITION,DT);return!1}}return!(!t.networkEnabled||!t.inForeground)||FT(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&hx("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=oe(re().mark((function e(){var t=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new t_(e,fb.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return FT(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return q_.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new B_(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return k_.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;hx("IndexedDbPersistence","Starting transaction:",e);var i,o,a="readonly"===t?"readonly":"readwrite",s=15===(i=this.Hs)?e_:14===i?ZE:13===i?JE:12===i?QE:11===i?$E:void vx();return this.ni.runTransaction(e,a,s,(function(i){return o=new t_(i,r.Ps?r.Ps.next():fb.ot),"readwrite-primary"===t?r.ai(o).next((function(e){return!!e||r.hi(o)})).next((function(t){if(!t)throw fx("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new xx(yx.FAILED_PRECONDITION,$x);return n(o)})).next((function(e){return r.fi(o).next((function(){return e}))})):r.bi(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return NT(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new xx(yx.FAILED_PRECONDITION,DT)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return NT(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=NT(e);return n.get("owner").next((function(e){return t.di(e)?(hx("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):eb.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(fx("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Ql()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return hx("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return fx("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(sv){fx("Failed to set zombie client id.",sv)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(sv){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return nb.V()}}]),e}();function NT(e){return n_(e,"owner")}function FT(e){return n_(e,"clientMetadata")}function BT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var UT=function(){function e(t,n,r,i){sn(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ln(e,null,[{key:"Vi",value:function(t,n){var r,i=Bk(),o=Bk(),a=Rl(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),zT=function(){function e(){sn(this,e),this.Si=!1}return ln(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(o){return o||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return eb.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Lx.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(o){var a=i.ki(t,o);return i.Oi(t,a,n,r)?i.Ni(e,t):(cx()<=Fc.DEBUG&&hx("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Uw(t)),i.Mi(e,a,t,Hx(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new xb(jw(e));return t.forEach((function(t,r){zw(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return cx()<=Fc.DEBUG&&hx("QueryEngine","Using full collection scan to execute query:",Uw(t)),this.Di.getDocumentsMatchingQuery(e,t,qx.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),VT=function(){function e(t,n,r,i){sn(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new gb(Ox),this.Bi=new Sk((function(e){return uw(e)}),lw),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ln(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bT(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function jT(e,t,n,r){return new VT(e,t,n,r)}function YT(e,t){return WT.apply(this,arguments)}function WT(){return WT=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,o=[],a=[],s=Bk(),u=Rl(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;o.push(l.batchId);var c,h=Rl(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;s=s.add(f.key)}}catch(x){h.e(x)}finally{h.f()}}}catch(x){u.e(x)}finally{u.f()}var d,p=Rl(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var g,m=Rl(v.mutations);try{for(m.s();!(g=m.n()).done;){var y=g.value;s=s.add(y.key)}}catch(x){m.e(x)}finally{m.f()}}}catch(x){p.e(x)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function GT(e,t){var n=mx(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=eb.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);gx(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Bk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function HT(e){var t=mx(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function XT(e,t){var n=mx(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var a=[];t.targetChanges.forEach((function(o,s){var u=i.get(s);if(u){a.push(n.Vs.removeMatchingKeys(e,o.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,o.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(Eb.EMPTY_BYTE_STRING,Lx.min()).withLastLimboFreeSnapshotVersion(Lx.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,o)&&a.push(n.Vs.updateTargetData(e,l))}}));var s=Ik(),u=Bk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(qT(e,o,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(Lx.min())){var l=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(l)}return eb.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function qT(e,t,n){var r=Bk(),i=Bk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ik();return n.forEach((function(n,o){var a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Lx.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):hx("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Gi:r,Qi:i}}))}function KT(e,t){var n=mx(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function $T(e,t){var n=mx(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,eb.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new a_(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function QT(e,t,n){return JT.apply(this,arguments)}function JT(){return JT=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mx(t),o=i.$i.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ob(e.t1)){e.next=12;break}throw e.t1;case 12:hx("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),JT.apply(this,arguments)}function ZT(e,t,n){var r=mx(e),i=Lx.min(),o=Bk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=mx(e),i=r.Bi.get(n);return void 0!==i?eb.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Lw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Lx.min(),n?o:Bk())})).next((function(e){return nA(r,Vw(t),e),{documents:e,ji:o}}))}))}function eA(e,t){var n=mx(e),r=mx(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function tA(e,t){var n=mx(e),r=n.Li.get(t)||Lx.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Hx(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return nA(n,t,e),e}))}function nA(e,t,n){var r=Lx.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function rA(e,t,n,r){return iA.apply(this,arguments)}function iA(){return iA=oe(re().mark((function e(t,n,r,i){var o,a,s,u,l,c,h,f,d,p;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=mx(t),a=Bk(),s=Ik(),u=Rl(r);try{for(u.s();!(l=u.n()).done;)c=l.value,h=n.Wi(c.metadata.name),c.document&&(a=a.add(h)),(f=n.zi(c)).setReadTime(n.Hi(c.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=o.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,$T(o,function(e){return Lw(Pw(Fx.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qT(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return o.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.Vs.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function oA(e,t){return aA.apply(this,arguments)}function aA(){return aA=oe(re().mark((function e(t,n){var r,i,o,a=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:Bk(),e.next=3,$T(t,Lw(v_(n.bundledQuery)));case 3:return i=e.sent,o=mx(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",(function(e){var t=nE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Ds.saveNamedQuery(e,n);var a=i.withResumeToken(Eb.EMPTY_BYTE_STRING,t);return o.$i=o.$i.insert(a.targetId,a),o.Vs.updateTargetData(e,a).next((function(){return o.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return o.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function sA(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function uA(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function lA(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var cA=function(){function e(t,n,r,i){sn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ln(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xx(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(fx("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),hA=function(){function e(t,n,r){sn(this,e),this.targetId=t,this.state=n,this.error=r}return ln(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xx(i.error.code,i.error.message))),o?new e(t,i.state,r):(fx("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),fA=function(){function e(t,n){sn(this,e),this.clientId=t,this.activeTargetIds=n}return ln(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=zk(),a=0;i&&a<r.activeTargetIds.length;++a)i=Lb(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(fx("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),dA=function(){function e(t,n){sn(this,e),this.clientId=t,this.onlineState=n}return ln(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(fx("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),pA=function(){function e(){sn(this,e),this.activeTargetIds=zk()}return ln(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),vA=function(){function e(t,n,r,i,o){sn(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new gb(Ox),this.started=!1,this.ir=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=sA(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new pA),this.cr=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ln(e,[{key:"start",value:function(){var e=oe(re().mark((function e(){var t,n,r,i,o,a,s,u,l,c,h,f=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=Rl(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(o=this.getItem(sA(this.persistenceKey,i)))&&(a=fA.Ji(i,o))&&(this.sr=this.sr.insert(a.clientId,a));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(u=this.wr(s))&&this.mr(u),l=Rl(this.ir);try{for(l.s();!(c=l.n()).done;)h=c.value,this.nr(h)}catch(d){l.e(d)}finally{l.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(lA(this.persistenceKey,e));if(n){var r=hA.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(lA(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return hx("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){hx("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){hx("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(hx("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void fx("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(oe(re().mark((function e(){var r,i,o,a,s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(o));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(a));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}u=function(e){var t=fb.ot;if(null!=e)try{var n=JSON.parse(e);gx("number"==typeof n),t=n}catch(e){fx("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==fb.ot&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return l=t.Cr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new cA(this.currentUser,e,t,n),i=uA(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=uA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=lA(this.persistenceKey,e),i=new hA(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return fA.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return cA.Ji(new sx(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return hA.Ji(r,t)}},{key:"wr",value:function(e){return dA.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:hx("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),o=this.gr(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.Mr(a,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=zk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),gA=function(){function e(){sn(this,e),this.Fr=new pA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ln(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new pA,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),mA=function(){function e(){sn(this,e)}return ln(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),yA=function(){function e(){var t=this;sn(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ln(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){hx("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Rl(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){hx("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Rl(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),xA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bA=function(){function e(t){sn(this,e),this.jr=t.jr,this.Wr=t.Wr}return ln(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),wA=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ln(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,o){var a=new ox;a.listenOnce(ex.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Zy.NO_ERROR:var t=a.getResponseJson();hx("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Zy.TIMEOUT:hx("Connection",'RPC "'+e+'" timed out'),o(new xx(yx.DEADLINE_EXCEEDED,"Request time out"));break;case Zy.HTTP_ERROR:var n=a.getStatus();if(hx("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(yx).indexOf(t)>=0?t:yx.UNKNOWN}(r.status);o(new xx(s,r.message))}else o(new xx(yx.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new xx(yx.UNAVAILABLE,"Connection failed."));break;default:vx()}}finally{hx("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Qy(),o=Jy(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new rx({})),this.uo(a.initMessageHeaders,t,n),$l()||Zl()||Kl().indexOf("Electron/")>=0||ec()||Kl().indexOf("MSAppHost/")>=0||Jl()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");hx("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),l=!1,c=!1,h=new bA({jr:function(e){c?hx("Connection","Not sending because WebChannel is closed:",e):(l||(hx("Connection","Opening WebChannel transport."),u.open(),l=!0),hx("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,ix.EventType.OPEN,(function(){c||hx("Connection","WebChannel transport opened.")})),f(u,ix.EventType.CLOSE,(function(){c||(c=!0,hx("Connection","WebChannel transport closed"),h.eo())})),f(u,ix.EventType.ERROR,(function(e){c||(c=!0,dx("Connection","WebChannel transport errored:",e),h.eo(new xx(yx.UNAVAILABLE,"The operation could not be completed")))})),f(u,ix.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];gx(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){hx("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=bk[e];if(void 0!==t)return Ak(t)}(o),s=i.message;void 0===a&&(a=yx.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,h.eo(new xx(a,s)),u.close()}else hx("Connection","WebChannel received:",n),h.no(n)}})),f(o,tx.STAT_EVENT,(function(e){e.stat===nx.PROXY?hx("Connection","Detected buffering proxy"):e.stat===nx.NOPROXY&&hx("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Zr()}),0),h}}]),n}(function(){function e(t){sn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ln(e,[{key:"ro",value:function(e,t,n,r,i){var o=this.oo(e,t);hx("RestConnection","Sending: ",o,n);var a={};return this.uo(a,r,i),this.co(e,o,a,n).then((function(e){return hx("RestConnection","Received: ",e),e}),(function(t){throw dx("RestConnection","".concat(e," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,o){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ux,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=xA[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function kA(){return"undefined"!=typeof window?window:null}function EA(){return"undefined"!=typeof document?document:null}function _A(e){return new Jk(e,!0)}var TA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;sn(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ln(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&hx("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),AA=function(){function e(t,n,r,i,o,a,s,u){sn(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new TA(t,n)}return ln(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===yx.RESOURCE_EXHAUSTED?(fx(n.toString()),fx("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===yx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],o=r[1];e.Po===n&&e.Uo(i,o)}),(function(n){t((function(){var t=new xx(yx.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return hx("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(hx("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),SA=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o,a,s){var u;return sn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,s)).wt=a,u}return ln(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vx()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.dt?(gx(void 0===t||"string"==typeof t),Eb.fromBase64String(t||"")):(gx(void 0===t||t instanceof Uint8Array),Eb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?yx.UNKNOWN:Ak(e.code);return new xx(t,e.message||"")}(a);n=new Gk(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=aE(e,u.document.name),c=nE(u.document.updateTime),h=new rw({mapValue:{fields:u.document.fields}}),f=ow.newFoundDocument(l,c,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Yk(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=aE(e,v.document),m=v.readTime?nE(v.readTime):Lx.min(),y=ow.newNoDocument(g,m),x=v.removedTargetIds||[];n=new Yk([],x,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=aE(e,b.document),k=b.removedTargetIds||[];n=new Yk([],k,w,null)}else{if(!("filter"in t))return vx();t.filter;var E=t.filter;E.targetId;var _=E.count||0,T=new _k(_),A=E.targetId;n=new Wk(A,T)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Lx.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lx.min():t.readTime?nE(t.readTime):Lx.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=lE(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=cw(r)?{documents:gE(e,r)}:{query:mE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=eE(e,t.resumeToken):t.snapshotVersion.compareTo(Lx.min())>0&&(n.readTime=Zk(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vx()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=lE(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(AA),CA=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o,a,s){var u;return sn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,s)).wt=a,u.Wo=!1,u}return ln(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Hp(fn(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(gx(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(gx(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?nE(e.updateTime):nE(t);return n.isEqual(Lx.min())&&(n=nE(t)),new ak(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=nE(e.commitTime);return this.listener.Jo(n,t)}return gx(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=lE(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return pE(t.wt,e)}))};this.Mo(n)}}]),n}(AA),IA=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o){var a;return sn(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.bo=i,a.wt=o,a.Zo=!1,a}return ln(n,[{key:"tu",value:function(){if(this.Zo)throw new xx(yx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=c(i,2),a=o[0],s=o[1];return r.bo.ro(e,t,n,a,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yx.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xx(yx.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=c(o,2),s=a[0],u=a[1];return i.bo.ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yx.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new xx(yx.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ln((function e(){sn(this,e)}))}()),PA=function(){function e(t,n){sn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ln(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(fx(t),this.su=!1):hx("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),OA=ln((function e(t,n,r,i,o){var a=this;sn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br((function(e){r.enqueueAndForget(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=jA(a),!e.t0){e.next=5;break}return hx("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mx(t)).lu.add(4),e.next=4,DA(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,RA(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new PA(r,i)}));function RA(e){return MA.apply(this,arguments)}function MA(){return MA=oe(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jA(t)){e.next=18;break}n=Rl(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),MA.apply(this,arguments)}function DA(e){return LA.apply(this,arguments)}function LA(){return LA=oe(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rl(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),LA.apply(this,arguments)}function NA(e,t){var n=mx(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),VA(n)?zA(n):mS(n).Co()&&BA(n,t))}function FA(e,t){var n=mx(e),r=mS(n);n.hu.delete(t),r.Co()&&UA(n,t),0===n.hu.size&&(r.Co()?r.ko():jA(n)&&n._u.set("Unknown"))}function BA(e,t){e.wu.Nt(t.targetId),mS(e).Qo(t)}function UA(e,t){e.wu.Nt(t),mS(e).jo(t)}function zA(e){e.wu=new Xk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),mS(e).start(),e._u.iu()}function VA(e){return jA(e)&&!mS(e).Do()&&e.hu.size>0}function jA(e){return 0===mx(e).lu.size}function YA(e){e.wu=void 0}function WA(e){return GA.apply(this,arguments)}function GA(){return GA=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){BA(t,e)}));case 1:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function HA(e,t){return XA.apply(this,arguments)}function XA(){return XA=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:YA(t),VA(t)?(t._u.uu(n),zA(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),XA.apply(this,arguments)}function qA(e,t,n){return KA.apply(this,arguments)}function KA(){return KA=oe(re().mark((function e(t,n,r){var i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Gk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Rl(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(a=o.value,e.t0=t.hu.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.hu.delete(a),t.wu.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hx("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,$A(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Yk?t.wu.Ut(n):n instanceof Wk?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Lx.min())){e.next=29;break}return e.prev=14,e.next=17,HT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Eb.EMPTY_BYTE_STRING,n.snapshotVersion)),UA(e,t);var r=new a_(n.target,t,1,n.sequenceNumber);BA(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hx("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,$A(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),KA.apply(this,arguments)}function $A(e,t,n){return QA.apply(this,arguments)}function QA(){return QA=oe(re().mark((function e(t,n,r){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ob(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,DA(t);case 5:t._u.set("Offline"),r||(r=function(){return HT(t.localStore)}),t.asyncQueue.enqueueRetryable(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hx("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,RA(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function JA(e,t){return t().catch((function(n){return $A(e,n,t)}))}function ZA(e){return eS.apply(this,arguments)}function eS(){return eS=oe(re().mark((function e(t){var n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mx(t),r=yS(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!tS(n)){e.next=19;break}return e.prev=3,e.next=6,KT(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=o.batchId,nS(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,$A(n,e.t0);case 17:e.next=2;break;case 19:rS(n)&&iS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),eS.apply(this,arguments)}function tS(e){return jA(e)&&e.au.length<10}function nS(e,t){e.au.push(t);var n=yS(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function rS(e){return jA(e)&&!yS(e).Do()&&e.au.length>0}function iS(e){yS(e).start()}function oS(e){return aS.apply(this,arguments)}function aS(){return aS=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yS(t).Xo();case 1:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function sS(e){return uS.apply(this,arguments)}function uS(){return uS=oe(re().mark((function e(t){var n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yS(t),r=Rl(t.au);try{for(r.s();!(i=r.n()).done;)o=i.value,n.Ho(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function lS(e,t,n){return cS.apply(this,arguments)}function cS(){return cS=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),o=i_.from(i,n,r),e.next=3,JA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,ZA(t);case 5:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function hS(e,t){return fS.apply(this,arguments)}function fS(){return fS=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&yS(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tk(i=n.code)||i===yx.ABORTED){e.next=7;break}return r=t.au.shift(),yS(t).No(),e.next=5,JA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ZA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:rS(t)&&iS(t);case 5:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function dS(e,t){return pS.apply(this,arguments)}function pS(){return pS=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=mx(t)).asyncQueue.verifyOperationInProgress(),hx("RemoteStore","RemoteStore received new credentials"),i=jA(r),r.lu.add(3),e.next=6,DA(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,RA(r);case 12:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(e,t){return gS.apply(this,arguments)}function gS(){return gS=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mx(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,RA(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,DA(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function mS(e){return e.mu||(e.mu=function(e,t,n){var r=mx(e);return r.tu(),new SA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:WA.bind(null,e),Jr:HA.bind(null,e),Go:qA.bind(null,e)}),e.fu.push(function(){var t=oe(re().mark((function t(n){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),VA(e)?zA(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:YA(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function yS(e){return e.gu||(e.gu=function(e,t,n){var r=mx(e);return r.tu(),new CA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:oS.bind(null,e),Jr:hS.bind(null,e),Yo:sS.bind(null,e),Jo:lS.bind(null,e)}),e.fu.push(function(){var t=oe(re().mark((function t(n){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,ZA(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(hx("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var xS=function(){function e(t,n,r,i,o){sn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bx,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ln(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xx(yx.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function bS(e,t){if(fx("AsyncQueue","".concat(t,": ").concat(e)),ob(e))return new xx(yx.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var wS=function(){function e(t){sn(this,e),this.comparator=t?function(e,n){return t(e,n)||zx.comparator(e.key,n.key)}:function(e,t){return zx.comparator(e.key,t.key)},this.keyedMap=Ok(),this.sortedSet=new gb(this.comparator)}return ln(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),kS=function(){function e(){sn(this,e),this.yu=new gb(zx.comparator)}return ln(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):vx():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ES=function(){function e(t,n,r,i,o,a,s,u){sn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u}return ln(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,wS.emptySet(n),o,r,i,!0,!1)}}]),e}(),_S=ln((function e(){sn(this,e),this.Iu=void 0,this.listeners=[]})),TS=ln((function e(){sn(this,e),this.queries=new Sk((function(e){return Bw(e)}),Fw),this.onlineState="Unknown",this.Tu=new Set}));function AS(e,t){return SS.apply(this,arguments)}function SS(){return SS=oe(re().mark((function e(t,n){var r,i,o,a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mx(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new _S),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=bS(e.t0,"Initialization of query '".concat(Uw(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,a),a.listeners.push(n),n.Eu(r.onlineState),a.Iu&&n.Au(a.Iu)&&RS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),SS.apply(this,arguments)}function CS(e,t){return IS.apply(this,arguments)}function IS(){return IS=oe(re().mark((function e(t,n){var r,i,o,a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mx(t),i=n.query,o=!1,(a=r.queries.get(i))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),IS.apply(this,arguments)}function PS(e,t){var n,r=mx(e),i=!1,o=Rl(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=r.queries.get(s);if(u){var l,c=Rl(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Au(a)&&(i=!0)}}catch(h){c.e(h)}finally{c.f()}u.Iu=a}}}catch(h){o.e(h)}finally{o.f()}i&&RS(r)}function OS(e,t,n){var r=mx(e),i=r.queries.get(t);if(i){var o,a=Rl(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(t)}function RS(e){e.Tu.forEach((function(e){e.next()}))}var MS=function(){function e(t,n,r){sn(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ln(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Rl(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new ES(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),o=!0):this.Vu(e,this.onlineState)&&(this.Su(e),o=!0),this.Pu=e,o}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=ES.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),DS=function(){function e(t,n){sn(this,e),this.payload=t,this.byteLength=n}return ln(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),LS=function(){function e(t){sn(this,e),this.wt=t}return ln(e,[{key:"Wi",value:function(e){return aE(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?fE(this.wt,e.document,!1):ow.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return nE(e)}}]),e}(),NS=function(){function e(t,n,r){sn(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FS(t)}return ln(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Fx.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new LS(this.wt),i=Rl(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.metadata.queries){var a,s=r.Wi(o.metadata.name),u=Rl(o.metadata.queries);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=(n.get(l)||Bk()).add(s);n.set(l,c)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=oe(re().mark((function e(){var t,n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rA(this.localStore,new LS(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=Rl(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return o=i.value,e.next=11,oA(this.localStore,o,n.get(o.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function FS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var BS=ln((function e(t){sn(this,e),this.key=t})),US=ln((function e(t){sn(this,e),this.key=t})),zS=function(){function e(t,n){sn(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Bk(),this.mutatedKeys=Bk(),this.Lu=jw(t),this.Uu=new wS(this.Lu)}return ln(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new kS,i=t?t.Uu:this.Uu,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=zw(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Qu(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Lu(h,u)>0||l&&n.Lu(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var c="F"===this.query.limitType?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Uu:a,Gu:r,Oi:s,mutatedKeys:o}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var o=e.Gu.pu();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vx()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var a=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==o.length||u?{snapshot:new ES(this.query,e.Uu,i,o,e.mutatedKeys,0===s,u,!1),zu:a}:{zu:a}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new kS,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Bk(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new US(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new BS(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Bk();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return ES.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),VS=ln((function e(t,n,r){sn(this,e),this.query=t,this.targetId=n,this.view=r})),jS=ln((function e(t){sn(this,e),this.key=t,this.Xu=!1})),YS=function(){function e(t,n,r,i,o,a){sn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Zu={},this.tc=new Sk((function(e){return Bw(e)}),Fw),this.ec=new Map,this.nc=new Set,this.sc=new gb(zx.comparator),this.ic=new Map,this.rc=new ET,this.oc={},this.uc=new Map,this.cc=Z_.Rn(),this.onlineState="Unknown",this.ac=void 0}return ln(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function WS(e,t){return GS.apply(this,arguments)}function GS(){return GS=oe(re().mark((function e(t,n){var r,i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FC(t),!(a=r.tc.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.Yu(),e.next=15;break;case 6:return e.next=8,$T(r.localStore,Lw(n));case 8:return s=e.sent,r.isPrimaryClient&&NA(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,HS(r,n,i,"current"===u);case 14:o=e.sent;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function HS(e,t,n,r){return XS.apply(this,arguments)}function XS(){return XS=oe(re().mark((function e(t,n,r,i){var o,a,s,u,l,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=oe(re().mark((function e(t,n,r,i){var o,a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Ku(r),e.t0=o.Oi,!e.t0){e.next=6;break}return e.next=5,ZT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,o)}));case 5:o=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(o,t.isPrimaryClient,a),e.abrupt("return",(dC(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ZT(t.localStore,n,!0);case 3:return o=e.sent,a=new zS(n,o.ji),s=a.Ku(o.documents),u=jk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=a.applyChanges(s,t.isPrimaryClient,u),dC(t,r,l.zu),c=new VS(n,r,a),e.abrupt("return",(t.tc.set(n,c),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function qS(e,t){return KS.apply(this,arguments)}function KS(){return KS=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mx(t),i=r.tc.get(n),!((o=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,o.filter((function(e){return!Fw(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,QT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),FA(r.remoteStore,i.targetId),hC(r,i.targetId)})).catch(Jx);case 9:e.next=14;break;case 11:return hC(r,i.targetId),e.next=14,QT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function $S(e,t,n){return QS.apply(this,arguments)}function QS(){return QS=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=BC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=mx(e),o=Dx.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Bk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Ik(),u=Bk();return i.Ui.getEntries(e,a).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var a,s=[],u=Rl(t);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=dk(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new gk(l.key,c,iw(c.value.mapValue),sk.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,o,s,t)})).next((function(t){r=t;var o=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((function(){return{batchId:r.batchId,changes:Rk(n)}}))}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new gb(Ox)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,gC(i,o.changes);case 9:return e.next=11,ZA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=bS(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),QS.apply(this,arguments)}function JS(e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),e.prev=1,e.next=4,XT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(gx(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?gx(n.Xu):e.removedDocuments.size>0&&(gx(n.Xu),n.Xu=!1))})),e.next=8,gC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Jx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ZS.apply(this,arguments)}function eC(e,t,n){var r=mx(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=mx(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=Rl(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&RS(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function tC(e,t,n){return nC.apply(this,arguments)}function nC(){return nC=oe(re().mark((function e(t,n,r){var i,o,a,s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=mx(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.ic.get(n),!(a=o&&o.key)){e.next=14;break}return s=(s=new gb(zx.comparator)).insert(a,ow.newNoDocument(a,Lx.min())),u=Bk().add(a),l=new Vk(Lx.min(),new Map,new xb(Ox),s,u),e.next=9,JS(i,l);case 9:i.sc=i.sc.remove(a),i.ic.delete(n),vC(i),e.next=16;break;case 14:return e.next=16,QT(i.localStore,n,!1).then((function(){return hC(i,n,r)})).catch(Jx);case 16:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t){return iC.apply(this,arguments)}function iC(){return iC=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),i=n.batch.batchId,e.prev=1,e.next=4,GT(r.localStore,n);case 4:return o=e.sent,cC(r,i,null),lC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gC(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),iC.apply(this,arguments)}function oC(e,t,n){return aC.apply(this,arguments)}function aC(){return aC=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mx(t),e.prev=1,e.next=4,function(e,t){var n=mx(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return gx(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return o=e.sent,cC(i,n,r),lC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gC(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),aC.apply(this,arguments)}function sC(e,t){return uC.apply(this,arguments)}function uC(){return uC=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jA((r=mx(t)).remoteStore)||hx("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=mx(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.uc.get(i)||[]).push(n),r.uc.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=bS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),uC.apply(this,arguments)}function lC(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function cC(e,t,n){var r=mx(e),i=r.oc[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function hC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Rl(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.tc.delete(o),n&&e.Zu.lc(o,n)}}catch(a){i.e(a)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||fC(e,t)}))}function fC(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(FA(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),vC(e))}function dC(e,t,n){var r,i=Rl(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof BS?(e.rc.addReference(o.key,t),pC(e,o)):o instanceof US?(hx("SyncEngine","Document no longer in limbo: "+o.key),e.rc.removeReference(o.key,t),e.rc.containsKey(o.key)||fC(e,o.key)):vx()}}catch(a){i.e(a)}finally{i.f()}}function pC(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(hx("SyncEngine","New document in limbo: "+n),e.nc.add(r),vC(e))}function vC(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new zx(Fx.fromString(t)),r=e.cc.next();e.ic.set(r,new jS(n)),e.sc=e.sc.insert(n,r),NA(e.remoteStore,new a_(Lw(Pw(n.path)),r,2,fb.ot))}}function gC(e,t,n){return mC.apply(this,arguments)}function mC(){return mC=oe(re().mark((function e(t,n,r){var i,o,a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mx(t),o=[],a=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=UT.Vi(t.targetId,e);a.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(o),e.next=9,function(){var e=oe(re().mark((function e(t,n){var r,i,o,a,s,u,l,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return eb.forEach(n,(function(t){return eb.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return eb.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ob(e.t0)){e.next=10;break}throw e.t0;case 10:hx("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Rl(n);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.targetId,a.fromCache||(u=r.$i.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.$i=r.$i.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function yC(e,t){return xC.apply(this,arguments)}function xC(){return xC=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=mx(t)).currentUser.isEqual(n)){e.next=11;break}return hx("SyncEngine","User change. New user:",n.toKey()),e.next=5,YT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new xx(yx.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gC(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function bC(e,t){var n=mx(e),r=n.ic.get(t);if(r&&r.Xu)return Bk().add(r.key);var i=Bk(),o=n.ec.get(t);if(!o)return i;var a,s=Rl(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=n.tc.get(u);i=i.unionWith(l.view.qu)}}catch(c){s.e(c)}finally{s.f()}return i}function wC(e,t){return kC.apply(this,arguments)}function kC(){return kC=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),e.next=3,ZT(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&dC(r,n.targetId,o.zu),o));case 6:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function EC(e,t){return _C.apply(this,arguments)}function _C(){return _C=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),e.abrupt("return",tA(r.localStore,n).then((function(e){return gC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function TC(e,t,n,r){return AC.apply(this,arguments)}function AC(){return AC=oe(re().mark((function e(t,n,r,i){var o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=mx(t),e.next=3,function(e,t){var n=mx(e),r=mx(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):eb.resolve(null)}))}))}(o.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ZA(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(cC(o,n,i||null),lC(o,n),function(e,t){mx(mx(e).mutationQueue).In(t)}(o.localStore,n)):vx();case 11:return e.next=13,gC(o,a);case 13:e.next=16;break;case 15:hx("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function SC(e,t){return CC.apply(this,arguments)}function CC(){return CC=oe(re().mark((function e(t,n){var r,i,o,a,s,u,l,c;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FC(r=mx(t)),BC(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,IC(r,i.toArray());case 5:return o=e.sent,r.ac=!0,e.next=9,vS(r.remoteStore,!0);case 9:a=Rl(o);try{for(a.s();!(s=a.n()).done;)u=s.value,NA(r.remoteStore,u)}catch(h){a.e(h)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return l=[],c=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return hC(r,t),QT(r.localStore,t,!0)})),FA(r.remoteStore,t)})),e.next=19,c;case 19:return e.next=21,IC(r,l);case 21:return function(e){var t=mx(e);t.ic.forEach((function(e,n){FA(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new gb(zx.comparator)}(r),r.ac=!1,e.next=25,vS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function IC(e,t,n){return PC.apply(this,arguments)}function PC(){return PC=oe(re().mark((function e(t,n,r){var i,o,a,s,u,l,c,h,f,d,p,v,g,m;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=mx(t),o=[],a=[],s=Rl(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(l=u.value,c=void 0,!(h=i.ec.get(l))||0===h.length){e.next=34;break}return e.next=11,$T(i.localStore,Lw(h[0]));case 11:c=e.sent,f=Rl(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,wC(i,v);case 20:(g=e.sent).snapshot&&a.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,eA(i.localStore,l);case 36:return m=e.sent,e.next=39,$T(i.localStore,m);case 39:return c=e.sent,e.next=42,HS(i,OC(m),l,!1);case 42:o.push(c);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(a),o));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),PC.apply(this,arguments)}function OC(e){return Iw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function RC(e){var t=mx(e);return mx(mx(t.localStore).persistence).Ri()}function MC(e,t,n,r){return DC.apply(this,arguments)}function DC(){return DC=oe(re().mark((function e(t,n,r,i){var o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=mx(t)).ac){e.next=3;break}return e.abrupt("return",void hx("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((a=o.ec.get(n))&&a.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,tA(o.localStore,Vw(a[0]));case 10:return s=e.sent,u=Vk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,gC(o,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,QT(o.localStore,n,!0);case 17:return hC(o,n,i),e.abrupt("break",20);case 19:vx();case 20:case"end":return e.stop()}}),e)}))),DC.apply(this,arguments)}function LC(e,t,n){return NC.apply(this,arguments)}function NC(){return NC=oe(re().mark((function e(t,n,r){var i,o,a,s,u,l,c,h,f;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=FC(t)).ac){e.next=45;break}o=Rl(n),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=21;break}if(s=a.value,!i.ec.has(s)){e.next=10;break}return hx("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,eA(i.localStore,s);case 12:return u=e.sent,e.next=15,$T(i.localStore,u);case 15:return l=e.sent,e.next=18,HS(i,OC(u),l.targetId,!1);case 18:NA(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:c=Rl(r),e.prev=30,f=re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,QT(i.localStore,t,!1).then((function(){FA(i.remoteStore,t),hC(i,t)})).catch(Jx);case 5:case"end":return e.stop()}}),e)})),c.s();case 33:if((h=c.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),c.e(e.t2);case 42:return e.prev=42,c.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),NC.apply(this,arguments)}function FC(e){var t=mx(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tC.bind(null,t),t.Zu.Go=PS.bind(null,t.eventManager),t.Zu.lc=OS.bind(null,t.eventManager),t}function BC(e){var t=mx(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oC.bind(null,t),t}function UC(e,t,n){var r=mx(e);(function(){var e=oe(re().mark((function e(t,n,r){var i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=mx(e),r=nE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(FS(i)),o=new NS(i,t.localStore,n.wt),e.next=15,n.fc();case 15:a=e.sent;case 16:if(!a){e.next=26;break}return e.next=19,o.Nu(a);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fc();case 23:a=e.sent;case 24:e.next=16;break;case 26:return e.next=28,o.complete();case 28:return u=e.sent,e.next=31,gC(t,u.Mu,void 0);case 31:return e.next=33,function(e,t){var n=mx(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(dx("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var zC=function(){function e(){sn(this,e),this.synchronizeTabs=!1}return ln(e,[{key:"initialize",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=_A(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return jT(this.persistence,new zT,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new IT(OT.Ms,this.wt)}},{key:"dc",value:function(e){return new gA}},{key:"terminate",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VC=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this)).yc=e,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return ln(n,[{key:"initialize",value:function(){var e=oe(re().mark((function e(t){var r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(fn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,BC(this.yc.syncEngine);case 6:return e.next=8,ZA(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return jT(this.persistence,new zT,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new aT(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new hb(t,this.persistence);return new cb(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=BT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?G_.withCacheSize(this.cacheSizeBytes):G_.DEFAULT;return new LT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,kA(),EA(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new gA}}]),n}(zC),jC=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ln(n,[{key:"initialize",value:function(){var e=oe(re().mark((function e(t){var r,i=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(fn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof vA,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:TC.bind(null,r),Or:MC.bind(null,r),Mr:LC.bind(null,r),Ri:RC.bind(null,r),Nr:EC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SC(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=kA();if(!vA.V(t))throw new xx(yx.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=BT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(VC),YC=function(){function e(){sn(this,e)}return ln(e,[{key:"initialize",value:function(){var e=oe(re().mark((function e(t,n){var r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return eC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yC.bind(null,this.syncEngine),e.next=12,vS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new TS}},{key:"createDatastore",value:function(e){var t,n=_A(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new wA(t));return function(e,t,n,r){return new IA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return eC(a.syncEngine,e,0)},o=yA.V()?new yA:new mA,new OA(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var s=new YS(e,t,n,r,i,o);return a&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mx(t),hx("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,DA(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function WC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return oe(re().mark((function r(){var i;return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var GC=function(){function e(t){sn(this,e),this.observer=t,this.muted=!1}return ln(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),HC=function(){function e(t,n){var r=this;sn(this,e),this.Ec=t,this.wt=n,this.metadata=new bx,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ln(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=oe(re().mark((function e(){var t,n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new DS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=oe(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=oe(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),XC=function(){function e(t){sn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ln(e,[{key:"lookup",value:function(){var e=oe(re().mark((function e(t){var n,r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new xx(yx.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=oe(re().mark((function e(t,n){var r,i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),i=lE(r.wt)+"/documents",o={documents:n.map((function(e){return oE(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,o,n.length);case 5:return a=e.sent,s=new Map,a.forEach((function(e){var t=dE(r.wt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());gx(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new kk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=oe(re().mark((function e(){var t,n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=zx.fromPath(t);n.mutations.push(new Ek(r,n.precondition(r)))})),e.next=7,function(){var e=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mx(t),i=lE(r.wt)+"/documents",o={writes:n.map((function(e){return pE(r.wt,e)}))},e.next=3,r.ro("Commit",i,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vx();t=Lx.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xx(yx.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?sk.updateTime(t):sk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lx.min()))throw new xx(yx.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sk.updateTime(t)}return sk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qC=function(){function e(t,n,r,i,o){sn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Dc=r.maxAttempts,this.So=new TA(this.asyncQueue,"transaction_retry")}return ln(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(oe(re().mark((function t(){var n,r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new XC(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Mb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Tk(t)}return!1}}]),e}(),KC=function(){function e(t,n,r,i){var o=this;sn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sx.UNAUTHENTICATED,this.clientId=Px.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hx("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hx("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return ln(e,[{key:"getConfiguration",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new xx(yx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bx;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(oe(re().mark((function n(){var r;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=bS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function $C(e,t){return QC.apply(this,arguments)}function QC(){return QC=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hx("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,YT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),QC.apply(this,arguments)}function JC(e,t){return ZC.apply(this,arguments)}function ZC(){return ZC=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,eI(t);case 3:return r=e.sent,hx("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return dS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return dS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ZC.apply(this,arguments)}function eI(e){return tI.apply(this,arguments)}function tI(){return tI=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return hx("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,$C(t,new zC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e){return rI.apply(this,arguments)}function rI(){return rI=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return hx("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,JC(t,new YC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e){return eI(e).then((function(e){return e.persistence}))}function oI(e){return eI(e).then((function(e){return e.localStore}))}function aI(e){return nI(e).then((function(e){return e.remoteStore}))}function sI(e){return nI(e).then((function(e){return e.syncEngine}))}function uI(e){return lI.apply(this,arguments)}function lI(){return lI=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=WS.bind(null,n.syncEngine),r.onUnlisten=qS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function cI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bx;return e.asyncQueue.enqueueAndForget(oe(re().mark((function i(){return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new GC({next:function(o){t.enqueueAndForget((function(){return CS(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new xx(yx.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new xx(yx.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new MS(Pw(n.path),o,{includeMetadataChanges:!0,Du:!0});return AS(e,a)},i.next=3,uI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function hI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bx;return e.asyncQueue.enqueueAndForget(oe(re().mark((function i(){return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new GC({next:function(n){t.enqueueAndForget((function(){return CS(e,a)})),n.fromCache&&"server"===r.source?i.reject(new xx(yx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new MS(n,o,{includeMetadataChanges:!0,Du:!0});return AS(e,a)},i.next=3,uI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var fI=new Map;function dI(e,t,n){if(!n)throw new xx(yx.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pI(e,t,n,r){if(!0===t&&!0===r)throw new xx(yx.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function vI(e){if(!zx.isDocumentKey(e))throw new xx(yx.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function gI(e){if(zx.isDocumentKey(e))throw new xx(yx.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function mI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vx()}function yI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xx(yx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=mI(e);throw new xx(yx.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function xI(e,t){if(t<=0)throw new xx(yx.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var bI=function(){function e(t){var n;if(sn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new xx(yx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xx(yx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,pI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ln(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),wI=function(){function e(t,n,r){sn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bI({}),this._settingsFrozen=!1,t instanceof Rb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xx(yx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rb(e.options.projectId)}(t))}return ln(e,[{key:"app",get:function(){if(!this._app)throw new xx(yx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new xx(yx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kx;switch(e.type){case"gapi":var t=e.client;return gx(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ax(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xx(yx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=fI.get(e);t&&(hx("ComponentProvider","Removing Datastore"),fI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function kI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=yI(e,wI))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&dx("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,s;if("string"==typeof i.mockUserToken)a=i.mockUserToken,s=sx.MOCK_USER;else{a=ql(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new xx(yx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new sx(u)}e._authCredentials=new Ex(new wx(a,s))}}var EI=function(){function e(t,n,r){sn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ln(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new TI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),_I=function(){function e(t,n,r){sn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ln(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),TI=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this,e,r,Pw(i)))._path=i,o.type="collection",o}return ln(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new EI(this.firestore,null,new zx(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(_I);function AI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rc(e),dI("collection","path",t),e instanceof wI){var o=Fx.fromString.apply(Fx,[t].concat(r));return gI(o),new TI(e,null,o)}if(!(e instanceof EI||e instanceof TI))throw new xx(yx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Fx.fromString.apply(Fx,[t].concat(r)));return gI(a),new TI(e.firestore,null,a)}function SI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Rc(e),1===arguments.length&&(t=Px.I()),dI("doc","path",t),e instanceof wI){var o=Fx.fromString.apply(Fx,[t].concat(r));return vI(o),new EI(e,null,new zx(o))}if(!(e instanceof EI||e instanceof TI))throw new xx(yx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Fx.fromString.apply(Fx,[t].concat(r)));return vI(a),new EI(e.firestore,e instanceof TI?e.converter:null,new zx(a))}function CI(e,t){return e=Rc(e),t=Rc(t),(e instanceof EI||e instanceof TI)&&(t instanceof EI||t instanceof TI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function II(e,t){return e=Rc(e),t=Rc(t),e instanceof _I&&t instanceof _I&&e.firestore===t.firestore&&Fw(e._query,t._query)&&e.converter===t.converter}var PI=function(){function e(){var t=this;sn(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new TA(this,"async_queue_retry"),this.Kc=function(){var e=EA();e&&hx("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=EA();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ln(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=EA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new bx;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=oe(re().mark((function e(){var t=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ob(e.t0)){e.next=12;break}throw e.t0;case 12:hx("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw fx("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=xS.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&vx()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=Rl(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Rl(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function OI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Rl(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var RI=function(){function e(){sn(this,e),this._progressObserver={},this._taskCompletionResolver=new bx,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ln(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),MI=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this,e,r,i)).type="firestore",o._queue=new PI,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return ln(n,[{key:"_terminate",value:function(){return this._firestoreClient||LI(this),this._firestoreClient.terminate()}}]),n}(wI);function DI(e){return e._firestoreClient||LI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function LI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ob(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new KC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function NI(e,t,n){var r=new bx;return e.asyncQueue.enqueue(oe(re().mark((function i(){var o;return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,$C(e,n);case 3:return i.next=5,JC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===yx.FAILED_PRECONDITION||e.code===yx.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(o=i.t0)){i.next=13;break}throw o;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function FI(e){return function(e){return e.asyncQueue.enqueue(oe(re().mark((function t(){var n,r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iI(e);case 2:return n=t.sent,t.next=5,aI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=mx(e);return t.lu.delete(0),RA(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(DI(e=yI(e,MI)))}function BI(e){return function(e){return e.asyncQueue.enqueue(oe(re().mark((function t(){var n,r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,iI(e);case 2:return n=t.sent,t.next=5,aI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mx(t)).lu.add(0),e.next=4,DA(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(DI(e=yI(e,MI)))}function UI(e,t){var n=DI(e=yI(e,MI)),r=new RI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new HC(e,t)}(function(e,t){if(e instanceof Uint8Array)return WC(e,t);if(e instanceof ArrayBuffer)return WC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,_A(t));e.asyncQueue.enqueueAndForget(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UC,t.next=3,sI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function zI(e,t){return function(e,t){return e.asyncQueue.enqueue(oe(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=mx(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,oI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(DI(e=yI(e,MI)),t).then((function(t){return t?new _I(e,null,t.query):null}))}function VI(e){if(e._initialized||e._terminated)throw new xx(yx.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jI=function(){function e(){sn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new xx(yx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ux(n)}return ln(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var YI=function(){function e(t){sn(this,e),this._byteString=t}return ln(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Eb.fromBase64String(t))}catch(t){throw new xx(yx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Eb.fromUint8Array(t))}}]),e}(),WI=ln((function e(t){sn(this,e),this._methodName=t})),GI=function(){function e(t,n){if(sn(this,e),!isFinite(t)||t<-90||t>90)throw new xx(yx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xx(yx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ln(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ox(this._lat,e._lat)||Ox(this._long,e._long)}}]),e}(),HI=/^__.*__$/,XI=function(){function e(t,n,r){sn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ln(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gk(e,this.data,this.fieldMask,t,this.fieldTransforms):new vk(e,this.data,t,this.fieldTransforms)}}]),e}(),qI=function(){function e(t,n,r){sn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ln(e,[{key:"toMutation",value:function(e,t){return new gk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function KI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vx()}}var $I=function(){function e(t,n,r,i,o,a){sn(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return ln(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return gP(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(KI(this.Zc)&&HI.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),QI=function(){function e(t,n,r){sn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||_A(t)}return ln(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $I({Zc:e,methodName:t,ca:n,path:Ux.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function JI(e){var t=e._freezeSettings(),n=_A(e._databaseId);return new QI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ZI(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.aa(o.merge||o.mergeFields?2:0,t,n,i);fP("Data must be an object, but it was:",a,r);var s,u,l=cP(r,a);if(o.merge)s=new kb(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var c,h=[],f=Rl(o.mergeFields);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=dP(t,d,n);if(!a.contains(p))throw new xx(yx.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));mP(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new kb(h),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new XI(new rw(l),s,u)}var eP=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(WI);function tP(e,t,n){return new $I({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var nP=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"_toFieldTransform",value:function(e){return new ok(e.path,new Qw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(WI),rP=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e)).ha=r,i}return ln(n,[{key:"_toFieldTransform",value:function(e){var t=tP(this,e,!0),n=this.ha.map((function(e){return lP(e,t)})),r=new Jw(n);return new ok(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WI),iP=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e)).ha=r,i}return ln(n,[{key:"_toFieldTransform",value:function(e){var t=tP(this,e,!0),n=this.ha.map((function(e){return lP(e,t)})),r=new ek(n);return new ok(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WI),oP=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e)).la=r,i}return ln(n,[{key:"_toFieldTransform",value:function(e){var t=new nk(e.wt,Hw(e.wt,this.la));return new ok(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(WI);function aP(e,t,n,r){var i=e.aa(1,t,n);fP("Data must be an object, but it was:",i,r);var o=[],a=rw.empty();pb(r,(function(e,r){var s=vP(t,e,n);r=Rc(r);var u=i.ia(s);if(r instanceof eP)o.push(s);else{var l=lP(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new kb(o);return new qI(a,s,i.fieldTransforms)}function sP(e,t,n,r,i,o){var a=e.aa(1,t,n),s=[dP(t,r,n)],u=[i];if(o.length%2!=0)throw new xx(yx.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<o.length;l+=2)s.push(dP(t,o[l])),u.push(o[l+1]);for(var c=[],h=rw.empty(),f=s.length-1;f>=0;--f)if(!mP(c,s[f])){var d=s[f],p=u[f];p=Rc(p);var v=a.ia(d);if(p instanceof eP)c.push(d);else{var g=lP(p,v);null!=g&&(c.push(d),h.set(d,g))}}var m=new kb(c);return new qI(h,m,a.fieldTransforms)}function uP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lP(n,e.aa(r?4:3,t))}function lP(e,t){if(hP(e=Rc(e)))return fP("Unsupported field value:",t,e),cP(e,t);if(e instanceof WI)return function(e,t){if(!KI(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=Rl(e);try{for(o.s();!(n=o.n()).done;){var a=lP(n.value,t.ra(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Rc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hw(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Dx.fromDate(e);return{timestampValue:Zk(t.wt,n)}}if(e instanceof Dx){var r=new Dx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zk(t.wt,r)}}if(e instanceof GI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof YI)return{bytesValue:eE(t.wt,e._byteString)};if(e instanceof EI){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.oa("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:rE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(mI(e)))}(e,t)}function cP(e,t){var n={};return vb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pb(e,(function(e,r){var i=lP(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dx||e instanceof GI||e instanceof YI||e instanceof EI||e instanceof WI)}function fP(e,t,n){if(!hP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=mI(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function dP(e,t,n){if((t=Rc(t))instanceof jI)return t._internalPath;if("string"==typeof t)return vP(e,t);throw gP("Field path arguments must be of type string or ",e,!1,void 0,n)}var pP=new RegExp("[~\\*/\\[\\]]");function vP(e,t,n){if(t.search(pP)>=0)throw gP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ml(jI,Z(t.split(".")))._internalPath}catch(r){throw gP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function gP(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new xx(yx.INVALID_ARGUMENT,s+e+u)}function mP(e,t){return e.some((function(e){return e.isEqual(t)}))}var yP=function(){function e(t,n,r,i,o){sn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return ln(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new EI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(bP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),xP=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"data",value:function(){return Hp(fn(n.prototype),"data",this).call(this)}}]),n}(yP);function bP(e,t){return"string"==typeof t?vP(e,t):t instanceof jI?t._internalPath:t._delegate._internalPath}var wP=function(){function e(t,n){sn(this,e),this.hasPendingWrites=t,this.fromCache=n}return ln(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),kP=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o,a,s){var u;return sn(this,n),(u=t.call(this,e,r,i,o,s))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return ln(n,[{key:"exists",value:function(){return Hp(fn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new EP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(bP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(yP),EP=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hp(fn(n.prototype),"data",this).call(this,e)}}]),n}(kP),_P=function(){function e(t,n,r,i){sn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new wP(i.hasPendingWrites,i.fromCache),this.query=r}return ln(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new EP(n._firestore,n._userDataWriter,r.key,r,new wP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xx(yx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new EP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new EP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:TP(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function TP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vx()}}function AP(e,t){return e instanceof kP&&t instanceof kP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _P&&t instanceof _P&&e._firestore===t._firestore&&II(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function SP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new xx(yx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var CP=ln((function e(){sn(this,e)}));function IP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}var PP=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this)).fa=e,o.da=r,o._a=i,o.type="where",o}return ln(n,[{key:"_apply",value:function(e){var t=JI(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xx(yx.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){VP(a,o);var u,l=[],c=Rl(a);try{for(c.s();!(u=c.n()).done;){var h=u.value;l.push(zP(r,e,h))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=zP(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||VP(a,o),s=uP(n,"where",a,"in"===o||"not-in"===o);var f=pw.create(i,o,s);return function(e,t){if(t.ht()){var n=Rw(e);if(null!==n&&!n.isEqual(t.field))throw new xx(yx.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ow(e);null!==r&&jP(e,t.field,r)}var i=function(e,t){var n,r=Rl(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new xx(yx.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new xx(yx.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new _I(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(CP);var OP=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ln(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xx(yx.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xx(yx.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _w(t,n);return function(e,t){if(null===Ow(e)){var n=Rw(e);null!==n&&jP(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new _I(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Cw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(CP);var RP=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this)).type=e,o.ma=r,o.ga=i,o}return ln(n,[{key:"_apply",value:function(e){return new _I(e.firestore,e.converter,Nw(e._query,this.ma,this.ga))}}]),n}(CP);var MP=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this)).type=e,o.ya=r,o.pa=i,o}return ln(n,[{key:"_apply",value:function(e){var t=UP(e,this.type,this.ya,this.pa);return new _I(e.firestore,e.converter,function(e,t){return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(CP);function DP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MP("startAt",t,!0)}function LP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MP("startAfter",t,!1)}var NP=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o;return sn(this,n),(o=t.call(this)).type=e,o.ya=r,o.pa=i,o}return ln(n,[{key:"_apply",value:function(e){var t=UP(e,this.type,this.ya,this.pa);return new _I(e.firestore,e.converter,function(e,t){return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(CP);function FP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NP("endBefore",t,!1)}function BP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NP("endAt",t,!0)}function UP(e,t,n,r){if(n[0]=Rc(n[0]),n[0]instanceof yP)return function(e,t,n,r,i){if(!r)throw new xx(yx.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],s=Rl(Dw(e));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.field.isKeyField())a.push(Gb(t,r.key));else{var l=r.data.field(u.field);if(Cb(l))throw new xx(yx.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.canonicalString();throw new xx(yx.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}a.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new Ew(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=JI(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new xx(yx.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.isKeyField()){if("string"!=typeof l)throw new xx(yx.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof l));if(!Mw(e)&&-1!==l.indexOf("/"))throw new xx(yx.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=e.path.child(Fx.fromString(l));if(!zx.isDocumentKey(c))throw new xx(yx.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var h=new zx(c);s.push(Gb(t,h))}else{var f=uP(n,r,l);s.push(f)}}return new Ew(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function zP(e,t,n){if("string"==typeof(n=Rc(n))){if(""===n)throw new xx(yx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mw(t)&&-1!==n.indexOf("/"))throw new xx(yx.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Fx.fromString(n));if(!zx.isDocumentKey(r))throw new xx(yx.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gb(e,new zx(r))}if(n instanceof EI)return Gb(e,n._key);throw new xx(yx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(mI(n),"."))}function VP(e,t){if(!Array.isArray(e)||0===e.length)throw new xx(yx.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new xx(yx.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function jP(e,t,n){if(!n.isEqual(t))throw new xx(yx.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var YP={maxAttempts:5},WP=function(){function e(){sn(this,e)}return ln(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ab(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vx()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return pb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new GI(Ab(e.latitude),Ab(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ib(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Tb(e);return new Dx(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Fx.fromString(e);gx(SE(n));var r=new Rb(n.get(1),n.get(3)),i=new zx(n.popFirst(5));return r.isEqual(t)||fx("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function GP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var HP=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).firestore=e,r}return ln(n,[{key:"convertBytes",value:function(e){return new YI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new EI(this.firestore,null,t)}}]),n}(WP),XP=function(){function e(t,n){sn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=JI(t)}return ln(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=qP(e,this._firestore),i=GP(r.converter,t,n),o=ZI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,sk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=qP(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=Rc(t))||t instanceof jI?sP(this._dataReader,"WriteBatch.update",i._key,t,n,a):aP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=qP(e,this._firestore);return this._mutations=this._mutations.concat(new kk(t._key,sk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new xx(yx.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function qP(e,t){if((e=Rc(e)).firestore!==t)throw new xx(yx.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var KP=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).firestore=e,r}return ln(n,[{key:"convertBytes",value:function(e){return new YI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new EI(this.firestore,null,t)}}]),n}(WP);function $P(e){e=yI(e,EI);var t=yI(e.firestore,MI),n=DI(t),r=new KP(t);return function(e,t){var n=new bx;return e.asyncQueue.enqueueAndForget(oe(re().mark((function r(){return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=mx(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new xx(yx.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=bS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new kP(t,r,e._key,n,new wP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function QP(e){e=yI(e,_I);var t=yI(e.firestore,MI),n=DI(t),r=new KP(t);return function(e,t){var n=new bx;return e.asyncQueue.enqueueAndForget(oe(re().mark((function r(){return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=oe(re().mark((function e(t,n,r){var i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ZT(t,n,!0);case 3:i=e.sent,o=new zS(n,i.ji),a=o.Ku(i.documents),s=o.applyChanges(a,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=bS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,oI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new _P(t,r,e,n)}))}function JP(e,t,n){e=yI(e,EI);var r=yI(e.firestore,MI),i=GP(e.converter,t,n);return nO(r,[ZI(JI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sk.none())])}function ZP(e,t,n){e=yI(e,EI);for(var r=yI(e.firestore,MI),i=JI(r),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return nO(r,[("string"==typeof(t=Rc(t))||t instanceof jI?sP(i,"updateDoc",e._key,t,n,a):aP(i,"updateDoc",e._key,t)).toMutation(e._key,sk.exists(!0))])}function eO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=Rc(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||OI(n[u])||(s=n[u],u++);var l,c,h,f={includeMetadataChanges:s.includeMetadataChanges};if(OI(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(o=d.error)||void 0===o?void 0:o.bind(d),n[u+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof EI)c=yI(e.firestore,MI),h=Pw(e._key.path),l={next:function(t){n[u]&&n[u](rO(c,e,t))},error:n[u+1],complete:n[u+2]};else{var p=yI(e,_I);c=yI(p.firestore,MI),h=p._query;var v=new KP(c);l={next:function(e){n[u]&&n[u](new _P(c,v,p,e))},error:n[u+1],complete:n[u+2]},SP(e._query)}return function(e,t,n,r){var i=new GC(r),o=new MS(t,i,n);return e.asyncQueue.enqueueAndForget(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=AS,t.next=3,uI(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CS,t.next=3,uI(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(DI(c),h,f,l)}function tO(e,t){return function(e,t){var n=new GC(t);return e.asyncQueue.enqueueAndForget(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mx(e).Tu.add(t),t.next()},t.next=3,uI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mx(e).Tu.delete(t)},t.next=3,uI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(DI(e=yI(e,MI)),OI(t)?t:{next:t})}function nO(e,t){return function(e,t){var n=new bx;return e.asyncQueue.enqueueAndForget(oe(re().mark((function r(){return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=$S,r.next=3,sI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(DI(e),t)}function rO(e,t,n){var r=n.docs.get(t._key),i=new KP(e);return new kP(e,i,t._key,r,new wP(n.hasPendingWrites,n.fromCache),t.converter)}var iO=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r))._firestore=e,i}return ln(n,[{key:"get",value:function(e){var t=this,r=qP(e,this._firestore),i=new KP(this._firestore);return Hp(fn(n.prototype),"get",this).call(this,e).then((function(e){return new kP(t._firestore,i,r._key,e._document,new wP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){sn(this,e),this._firestore=t,this._transaction=n,this._dataReader=JI(t)}return ln(e,[{key:"get",value:function(e){var t=this,n=qP(e,this._firestore),r=new HP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return vx();var i=e[0];if(i.isFoundDocument())return new yP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new yP(t._firestore,r,n._key,null,n.converter);throw vx()}))}},{key:"set",value:function(e,t,n){var r=qP(e,this._firestore),i=GP(r.converter,t,n),o=ZI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}},{key:"update",value:function(e,t,n){for(var r,i=qP(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(t=Rc(t))||t instanceof jI?sP(this._dataReader,"Transaction.update",i._key,t,n,a):aP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=qP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function oO(e,t,n){e=yI(e,MI);var r=Object.assign(Object.assign({},YP),n);return function(e){if(e.maxAttempts<1)throw new xx(yx.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new bx;return e.asyncQueue.enqueueAndForget(oe(re().mark((function i(){var o;return re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return nI(e).then((function(e){return e.datastore}))}(e);case 2:o=i.sent,new qC(e.asyncQueue,o,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(DI(e),(function(n){return t(new iO(e,n))}),r)}function aO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rP("arrayUnion",t)}function sO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ux=e}(Sh),bh(new Mc("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),o=new MI(i,new _x(e.getProvider("auth-internal")),new Cx(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC")),Mh(ax,"3.4.12",e),Mh(ax,"3.4.12","esm2017")}();function uO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xx("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lO(){if("undefined"===typeof Uint8Array)throw new xx("unimplemented","Uint8Arrays are not available in this environment.")}function cO(){if("undefined"==typeof atob)throw new xx("unimplemented","Blobs are unavailable in Firestore in this environment.")}var hO=function(){function e(t){sn(this,e),this._delegate=t}return ln(e,[{key:"toBase64",value:function(){return cO(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return cO(),new e(YI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lO(),new e(YI.fromUint8Array(t))}}]),e}();function fO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Rl(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"===typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e,["next","error","complete"])}var dO=function(){function e(){sn(this,e)}return ln(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){VI(e=yI(e,MI));var n=DI(e),r=e._freezeSettings(),i=new YC;return NI(n,i,new VC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){VI(e=yI(e,MI));var t=DI(e),n=e._freezeSettings(),r=new YC;return NI(t,r,new jC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new xx(yx.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new bx;return e._queue.enqueueAndForgetEvenWhileRestricted(oe(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nb.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,nb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(BT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),pO=function(){function e(t,n,r){var i=this;sn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Rb||(this._appCompat=t)}return ln(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||dx("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return FI(this._delegate)}},{key:"disableNetwork",value:function(){return BI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&pI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new bx;return e.asyncQueue.enqueueAndForget(oe(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=sC,n.next=3,sI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(DI(e=yI(e,MI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return tO(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new xx("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new CO(this,AI(this._delegate,e))}catch(VX){throw bO(VX,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new xO(this,SI(this._delegate,e))}catch(VX){throw bO(VX,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new TO(this,function(e,t){if(e=yI(e,wI),dI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xx(yx.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new _I(e,null,function(e){return new Cw(Fx.emptyPath(),e)}(t))}(this._delegate,e))}catch(VX){throw bO(VX,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return oO(this._delegate,(function(n){return e(new gO(t,n))}))}},{key:"batch",value:function(){var e=this;return DI(this._delegate),new mO(new XP(this._delegate,(function(t){return nO(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return UI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return zI(this._delegate,e).then((function(e){return e?new TO(t,e):null}))}}]),e}(),vO=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).firestore=e,r}return ln(n,[{key:"convertBytes",value:function(e){return new hO(new YI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xO.forKey(t,this.firestore,null)}}]),n}(WP);var gO=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new vO(t)}return ln(e,[{key:"get",value:function(e){var t=this,n=IO(e);return this._delegate.get(n).then((function(e){return new EO(t._firestore,new kP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=IO(e);return n?(uO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=IO(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=IO(e);return this._delegate.delete(t),this}}]),e}(),mO=function(){function e(t){sn(this,e),this._delegate=t}return ln(e,[{key:"set",value:function(e,t,n){var r=IO(e);return n?(uO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,s=IO(e);2===arguments.length?this._delegate.update(s,t):(a=this._delegate).update.apply(a,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=IO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),yO=function(){function e(t,n,r){sn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ln(e,[{key:"fromFirestore",value:function(e,t){var n=new EP(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _O(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new vO(t),n),i.set(n,o)),o}}]),e}();yO.INSTANCES=new WeakMap;var xO=function(){function e(t,n){sn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new vO(t)}return ln(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new CO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new CO(this.firestore,AI(this._delegate,e))}catch(VX){throw bO(VX,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Rc(e))instanceof EI&&CI(this._delegate,e)}},{key:"set",value:function(e,t){t=uO("DocumentReference.set",t);try{return t?JP(this._delegate,e,t):JP(this._delegate,e)}catch(VX){throw bO(VX,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ZP(this._delegate,e):ZP.apply(void 0,[this._delegate,e,t].concat(r))}catch(VX){throw bO(VX,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return nO(yI(e.firestore,MI),[new kk(e._key,sk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=wO(n),o=kO(n,(function(t){return new EO(e.firestore,new kP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return eO(this._delegate,i,o)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?$P(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yI(e,EI);var t=yI(e.firestore,MI);return cI(DI(t),e._key,{source:"server"}).then((function(n){return rO(t,e,n)}))}(this._delegate):function(e){e=yI(e,EI);var t=yI(e.firestore,MI);return cI(DI(t),e._key).then((function(n){return rO(t,e,n)}))}(this._delegate),t.then((function(e){return new EO(n.firestore,new kP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(yO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new xx("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new EI(n._delegate,r,new zx(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new EI(n._delegate,r,t))}}]),e}();function bO(e,t,n){return e.message=e.message.replace(t,n),e}function wO(e){var t,n=Rl(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!fO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kO(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=fO(e[0])?e[0]:fO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var EO=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n}return ln(e,[{key:"ref",get:function(){return new xO(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return AP(this._delegate,e._delegate)}}]),e}(),_O=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||vx()}(void 0!==t),t}}]),n}(EO),TO=function(){function e(t,n){sn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new vO(t)}return ln(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,IP(this._delegate,function(e,t,n){var r=t,i=bP("where",e);return new PP(i,r,n)}(t,n,r)))}catch(VX){throw bO(VX,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,IP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bP("orderBy",e);return new OP(n,t)}(t,n)))}catch(VX){throw bO(VX,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,IP(this._delegate,function(e){return xI("limit",e),new RP("limit",e,"F")}(t)))}catch(VX){throw bO(VX,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,IP(this._delegate,function(e){return xI("limitToLast",e),new RP("limitToLast",e,"L")}(t)))}catch(VX){throw bO(VX,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,IP(this._delegate,DP.apply(void 0,arguments)))}catch(VX){throw bO(VX,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,IP(this._delegate,LP.apply(void 0,arguments)))}catch(VX){throw bO(VX,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,IP(this._delegate,FP.apply(void 0,arguments)))}catch(VX){throw bO(VX,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,IP(this._delegate,BP.apply(void 0,arguments)))}catch(VX){throw bO(VX,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return II(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?QP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yI(e,_I);var t=yI(e.firestore,MI),n=DI(t),r=new KP(t);return hI(n,e._query,{source:"server"}).then((function(n){return new _P(t,r,e,n)}))}(this._delegate):function(e){e=yI(e,_I);var t=yI(e.firestore,MI),n=DI(t),r=new KP(t);return SP(e._query),hI(n,e._query).then((function(n){return new _P(t,r,e,n)}))}(this._delegate),t.then((function(e){return new SO(n.firestore,new _P(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=wO(n),o=kO(n,(function(t){return new SO(e.firestore,new _P(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return eO(this._delegate,i,o)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(yO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),AO=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n}return ln(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new _O(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),SO=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n}return ln(e,[{key:"query",get:function(){return new TO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new _O(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new AO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new _O(n._firestore,r))}))}},{key:"isEqual",value:function(e){return AP(this._delegate,e._delegate)}}]),e}(),CO=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ln(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new xO(this.firestore,e):null}},{key:"doc",value:function(e){try{return new xO(this.firestore,void 0===e?SI(this._delegate):SI(this._delegate,e))}catch(VX){throw bO(VX,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=yI(e.firestore,MI),r=SI(e),i=GP(e.converter,t);return nO(n,[ZI(JI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xO(t.firestore,e)}))}},{key:"isEqual",value:function(e){return CI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(yO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(TO);function IO(e){return yI(e,EI)}var PO,OO=function(){function e(){sn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ml(jI,n)}return ln(e,[{key:"isEqual",value:function(e){return(e=Rc(e))instanceof jI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ux.keyField().canonicalString())}}]),e}(),RO=function(){function e(t){sn(this,e),this._delegate=t}return ln(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new nP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new eP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=aO.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=sO.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new oP("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),MO={Firestore:pO,GeoPoint:GI,Timestamp:Dx,Blob:hO,Transaction:gO,WriteBatch:mO,DocumentReference:xO,DocumentSnapshot:EO,Query:TO,QueryDocumentSnapshot:_O,QuerySnapshot:SO,CollectionReference:CO,FieldPath:OO,FieldValue:RO,setLogLevel:function(e){!function(e){lx.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Mc("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},MO)))})(PO=rf,(function(e,t){return new pO(e,t,new dO)})),PO.registerVersion("@firebase/firestore-compat","0.1.21");rf.registerVersion("firebase","9.9.0","app-compat");function DO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var LO;Object.create;var NO="facebook.com",FO="github.com",BO="google.com",UO="password",zO="twitter.com",VO="EMAIL_SIGNIN",jO="PASSWORD_RESET",YO="RECOVER_EMAIL",WO="REVERT_SECOND_FACTOR_ADDITION",GO="VERIFY_AND_CHANGE_EMAIL",HO="VERIFY_EMAIL";function XO(){return ae({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var qO=function(){var e;return ae(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ae(e,"argument-error",""),ae(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ae(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ae(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ae(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ae(e,"cordova-not-ready","Cordova framework is not ready."),ae(e,"cors-unsupported","This browser is not supported."),ae(e,"credential-already-in-use","This credential is already associated with a different user account."),ae(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ae(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ae(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ae(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ae(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ae(e,"email-already-in-use","The email address is already in use by another account."),ae(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ae(e,"expired-action-code","The action code has expired."),ae(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ae(e,"internal-error","An internal AuthError has occurred."),ae(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ae(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ae(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ae(e,"invalid-auth-event","An internal AuthError has occurred."),ae(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ae(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ae(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ae(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ae(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ae(e,"invalid-email","The email address is badly formatted."),ae(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ae(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ae(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ae(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ae(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ae(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ae(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ae(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ae(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ae(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ae(e,"wrong-password","The password is invalid or the user does not have a password."),ae(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ae(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ae(e,"invalid-provider-id","The specified provider ID is invalid."),ae(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ae(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ae(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ae(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ae(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ae(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ae(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ae(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ae(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ae(e,"missing-continue-uri","A continue URL must be provided in the request."),ae(e,"missing-iframe-start","An internal AuthError has occurred."),ae(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ae(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ae(e,"missing-multi-factor-info","No second factor identifier is provided."),ae(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ae(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ae(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ae(e,"app-deleted","This instance of FirebaseApp has been deleted."),ae(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ae(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ae(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ae(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ae(e,"no-auth-event","An internal AuthError has occurred."),ae(e,"no-such-provider","User was not linked to an account with the given provider."),ae(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ae(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ae(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ae(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ae(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ae(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ae(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ae(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ae(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ae(e,"rejected-credential","The request contains malformed or mismatching credentials."),ae(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ae(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ae(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ae(e,"timeout","The operation has timed out."),ae(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ae(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ae(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ae(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ae(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ae(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ae(e,"unverified-email","The operation requires a verified email."),ae(e,"user-cancelled","The user did not grant your application the permissions it requested."),ae(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ae(e,"user-disabled","The user account has been disabled by an administrator."),ae(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ae(e,"user-signed-out",""),ae(e,"weak-password","The password must be 6 characters long or more."),ae(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ae(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},KO=XO,$O=new ac("auth","Firebase",XO()),QO=new Wc("@firebase/auth");function JO(e){if(QO.logLevel<=Fc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];QO.error.apply(QO,["Auth (".concat(Sh,"): ").concat(e)].concat(n))}}function ZO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw rR.apply(void 0,[e].concat(n))}function eR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rR.apply(void 0,[e].concat(n))}function tR(e,t,n){var r=Object.assign(Object.assign({},KO()),ae({},t,n));return new ac("auth","Firebase",r).create(t,{appName:e.name})}function nR(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ZO(e,"argument-error"),tR(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function rR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],a=Z(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat(Z(a)))}return $O.create.apply($O,[e].concat(n))}function iR(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw rR.apply(void 0,[t].concat(r))}}function oR(e){var t="INTERNAL ASSERTION FAILED: "+e;throw JO(t),new Error(t)}function aR(e,t){e||oR(t)}var sR=new Map;function uR(e){aR(e instanceof Function,"Expected a class definition");var t=sR.get(e);return t?(aR(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sR.set(e,t),t)}function lR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function cR(){return"http:"===hR()||"https:"===hR()}function hR(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var fR=function(){function e(t,n){sn(this,e),this.shortDelay=t,this.longDelay=n,aR(n>t,"Short delay should be less than long delay!"),this.isMobile=$l()||Zl()}return ln(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(cR()||Jl()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function dR(e,t){aR(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var pR=function(){function e(){sn(this,e)}return ln(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void oR("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void oR("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void oR("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),vR=(ae(LO={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ae(LO,"MISSING_CUSTOM_TOKEN","internal-error"),ae(LO,"INVALID_IDENTIFIER","invalid-email"),ae(LO,"MISSING_CONTINUE_URI","internal-error"),ae(LO,"INVALID_PASSWORD","wrong-password"),ae(LO,"MISSING_PASSWORD","internal-error"),ae(LO,"EMAIL_EXISTS","email-already-in-use"),ae(LO,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ae(LO,"INVALID_IDP_RESPONSE","invalid-credential"),ae(LO,"INVALID_PENDING_TOKEN","invalid-credential"),ae(LO,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ae(LO,"MISSING_REQ_TYPE","internal-error"),ae(LO,"EMAIL_NOT_FOUND","user-not-found"),ae(LO,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ae(LO,"EXPIRED_OOB_CODE","expired-action-code"),ae(LO,"INVALID_OOB_CODE","invalid-action-code"),ae(LO,"MISSING_OOB_CODE","internal-error"),ae(LO,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ae(LO,"INVALID_ID_TOKEN","invalid-user-token"),ae(LO,"TOKEN_EXPIRED","user-token-expired"),ae(LO,"USER_NOT_FOUND","user-token-expired"),ae(LO,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ae(LO,"INVALID_CODE","invalid-verification-code"),ae(LO,"INVALID_SESSION_INFO","invalid-verification-id"),ae(LO,"INVALID_TEMPORARY_PROOF","invalid-credential"),ae(LO,"MISSING_SESSION_INFO","missing-verification-id"),ae(LO,"SESSION_EXPIRED","code-expired"),ae(LO,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ae(LO,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ae(LO,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ae(LO,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ae(LO,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ae(LO,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ae(LO,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ae(LO,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ae(LO,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ae(LO,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ae(LO,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),LO),gR=new fR(3e4,6e4);function mR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function yR(e,t,n,r){return xR.apply(this,arguments)}function xR(){return xR=oe(re().mark((function e(t,n,r,i){var o,a=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",bR(t,o,oe(re().mark((function e(){var o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},a={},i&&("GET"===n?a=i:o={body:JSON.stringify(i)}),s=yc(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",pR.fetch()(_R(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),xR.apply(this,arguments)}function bR(e,t,n){return wR.apply(this,arguments)}function wR(){return wR=oe(re().mark((function e(t,n,r){var i,o,a,s,u,l,h,f,d,p;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},vR),n),e.prev=2,o=new TR(t),e.next=6,Promise.race([r(),o.promise]);case 6:return a=e.sent,o.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw AR(t,"account-exists-with-different-credential",s);case 13:if(!a.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=a.ok?s.errorMessage:s.error.message,l=u.split(" : "),h=c(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw AR(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw AR(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw AR(t,"user-disabled",s);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw tR(t,p,d);case 34:ZO(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof oc)){e.next=41;break}throw e.t0;case 41:ZO(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),wR.apply(this,arguments)}function kR(e,t,n,r){return ER.apply(this,arguments)}function ER(){return ER=oe(re().mark((function e(t,n,r,i){var o,a,s=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,yR(t,n,r,i,o);case 3:return"mfaPendingCredential"in(a=e.sent)&&ZO(t,"multi-factor-auth-required",{_serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),ER.apply(this,arguments)}function _R(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?dR(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var TR=function(){function e(t){var n=this;sn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(eR(n.auth,"network-request-failed"))}),gR.get())}))}return ln(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function AR(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=eR(e,t,r);return i.customData._tokenResponse=n,i}function SR(e,t){return CR.apply(this,arguments)}function CR(){return CR=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),CR.apply(this,arguments)}function IR(e,t){return PR.apply(this,arguments)}function PR(){return PR=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),PR.apply(this,arguments)}function OR(e,t){return RR.apply(this,arguments)}function RR(){return RR=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),RR.apply(this,arguments)}function MR(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(VX){}}function DR(){return DR=oe(re().mark((function e(t){var n,r,i,o,a,s,u=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Rc(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,iR((o=NR(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:MR(LR(o.auth_time)),issuedAtTime:MR(LR(o.iat)),expirationTime:MR(LR(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),DR.apply(this,arguments)}function LR(e){return 1e3*Number(e)}function NR(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return JO("JWT malformed, contained fewer than 3 sections"),null;try{var a=Wl(i);return a?JSON.parse(a):(JO("Failed to decode base64 JWT payload"),null)}catch(VX){return JO("Caught error parsing JWT payload as JSON",null===(t=VX)||void 0===t?void 0:t.toString()),null}}function FR(e,t){return BR.apply(this,arguments)}function BR(){return BR=oe(re().mark((function e(t,n){var r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof oc&&UR(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),BR.apply(this,arguments)}function UR(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var zR=function(){function e(t){sn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ln(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),VR=function(){function e(t,n){sn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ln(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=MR(this.lastLoginAt),this.creationTime=MR(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function jR(e){return YR.apply(this,arguments)}function YR(){return YR=oe(re().mark((function e(t){var n,r,i,o,a,s,u,l,c,h,f;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,FR(t,OR(r,{idToken:i}));case 6:iR(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),s=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?HR(a.providerUserInfo):[],u=GR(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!l&&c,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new VR(a.createdAt,a.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),YR.apply(this,arguments)}function WR(){return(WR=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rc(t),e.next=3,jR(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GR(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Z(n),Z(t))}function HR(e){return e.map((function(e){var t=e.providerId,n=DO(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function XR(e,t){return qR.apply(this,arguments)}function qR(){return qR=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bR(t,{},oe(re().mark((function e(){var r,i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,o=i.tokenApiHost,a=i.apiKey,s=_R(t,o,"/v1/token","key=".concat(a)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",pR.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),qR.apply(this,arguments)}var KR=function(){function e(){sn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ln(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){iR(e.idToken,"internal-error"),iR("undefined"!==typeof e.idToken,"internal-error"),iR("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=NR(e);return iR(t,"internal-error"),iR("undefined"!==typeof t.exp,"internal-error"),iR("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=oe(re().mark((function e(t){var n,r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],iR(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XR(t,n);case 2:r=e.sent,i=r.accessToken,o=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,o,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return oR("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(iR("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(iR("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(iR("number"===typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function $R(e,t){iR("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var QR=function(){function e(t){sn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=DO(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?Z(o.providerData):[],this.metadata=new VR(o.createdAt||void 0,o.lastLoginAt||void 0)}return ln(e,[{key:"getIdToken",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FR(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(iR(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return DR.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return WR.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(iR(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){iR(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=oe(re().mark((function e(t){var n,r,i=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,jR(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,FR(this,SR(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,u,l,c,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,x=n.uid,b=n.emailVerified,w=n.isAnonymous,k=n.providerData,E=n.stsTokenManager;iR(x&&E,t,"internal-error");var _=KR.fromJSON(this.name,E);iR("string"===typeof x,t,"internal-error"),$R(h,t.name),$R(f,t.name),iR("boolean"===typeof b,t,"internal-error"),iR("boolean"===typeof w,t,"internal-error"),$R(d,t.name),$R(p,t.name),$R(v,t.name),$R(g,t.name),$R(m,t.name),$R(y,t.name);var T=new e({uid:x,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:m,lastLoginAt:y});return k&&Array.isArray(k)&&(T.providerData=k.map((function(e){return Object.assign({},e)}))),g&&(T._redirectEventId=g),T}},{key:"_fromIdTokenResponse",value:function(){var t=oe(re().mark((function t(n,r){var i,o,a,s=arguments;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(o=new KR).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,jR(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),JR=function(){function e(){sn(this,e),this.type="NONE",this.storage={}}return ln(e,[{key:"_isAvailable",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();JR.type="NONE";var ZR=JR;function eM(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var tM=function(){function e(t,n,r){sn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=eM(this.userKey,o.apiKey,a),this.fullPersistenceKey=eM("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ln(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?QR._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=oe(re().mark((function t(n,r){var i,o,a,s,u,l,c,h,f,d,p,v=arguments;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(uR(ZR),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),a=o[0]||uR(ZR),s=eM(i,n.config.apiKey,n.name),u=null,l=Rl(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return h=c.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=QR._fromJSON(n,f),h!==a&&(u=d),a=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=o.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=p[0],!u){t.next=44;break}return t.next=44,a._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function nM(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uM(t))return"Blackberry";if(lM(t))return"Webos";if(iM(t))return"Safari";if((t.includes("chrome/")||oM(t))&&!t.includes("edge/"))return"Chrome";if(sM(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function rM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/firefox\//i.test(e)}function iM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/crios\//i.test(e)}function aM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/iemobile/i.test(e)}function sM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/android/i.test(e)}function uM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/blackberry/i.test(e)}function lM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/webos/i.test(e)}function cM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function hM(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return cM(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function fM(){return ec()&&10===document.documentMode}function dM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return cM(e)||sM(e)||lM(e)||uM(e)||/windows phone/i.test(e)||aM(e)}function pM(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=nM(Kl());break;case"Worker":t="".concat(nM(Kl()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sh,"/").concat(r)}var vM=function(){function e(t){sn(this,e),this.auth=t,this.queue=[]}return ln(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(VX){r(VX)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=oe(re().mark((function e(t){var n,r,i,o,a,s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Rl(this.queue),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=14;break}return a=o.value,e.next=11,a(t);case 11:a.onAbort&&r.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=Rl(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(kH){}}}catch(c){s.e(c)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gM=function(){function e(t,n,r){sn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yM(this),this.idTokenSubscription=new yM(this),this.beforeStateQueue=new vM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$O,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ln(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=uR(t)),this._initializationPromise=this.queue(oe(re().mark((function r(){var i,o;return re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,tM.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=oe(re().mark((function e(t){var n,r,i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,a&&a!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,o=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return iR(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jR(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Rc(t):null)&&iR(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=oe(re().mark((function e(t){var n,r=this,i=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&iR(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(oe(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(uR(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ac("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return iR(n=t&&uR(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,tM.create(this,[uR(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=oe(re().mark((function e(t){var n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return iR(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return iR(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pM(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=oe(re().mark((function e(){var t,n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ae({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function mM(e){return Rc(e)}var yM=function(){function e(t){var n=this;sn(this,e),this.auth=t,this.observer=null,this.addObserver=kc((function(e){return n.observer=e}))}return ln(e,[{key:"next",get:function(){return iR(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function xM(e,t,n){var r=mM(e);iR(r._canInitEmulator,r,"emulator-config-failed"),iR(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=bM(t),a=function(e){var t=bM(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:wM(r.substr(o.length+1))}}var a=c(r.split(":"),2);return{host:a[0],port:wM(a[1])}}(t),s=a.host,u=a.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function bM(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wM(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var kM=function(){function e(t,n){sn(this,e),this.providerId=t,this.signInMethod=n}return ln(e,[{key:"toJSON",value:function(){return oR("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return oR("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return oR("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return oR("not implemented")}}]),e}();function EM(e,t){return _M.apply(this,arguments)}function _M(){return _M=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:resetPassword",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),_M.apply(this,arguments)}function TM(e,t){return AM.apply(this,arguments)}function AM(){return AM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),AM.apply(this,arguments)}function SM(e,t){return CM.apply(this,arguments)}function CM(){return CM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:update",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),CM.apply(this,arguments)}function IM(e,t){return PM.apply(this,arguments)}function PM(){return PM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(t,"POST","/v1/accounts:signInWithPassword",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),PM.apply(this,arguments)}function OM(e,t){return RM.apply(this,arguments)}function RM(){return RM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:sendOobCode",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),RM.apply(this,arguments)}function MM(e,t){return DM.apply(this,arguments)}function DM(){return DM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OM(t,n));case 1:case"end":return e.stop()}}),e)}))),DM.apply(this,arguments)}function LM(e,t){return NM.apply(this,arguments)}function NM(){return NM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OM(t,n));case 1:case"end":return e.stop()}}),e)}))),NM.apply(this,arguments)}function FM(e,t){return BM.apply(this,arguments)}function BM(){return BM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OM(t,n));case 1:case"end":return e.stop()}}),e)}))),BM.apply(this,arguments)}function UM(e,t){return zM.apply(this,arguments)}function zM(){return zM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OM(t,n));case 1:case"end":return e.stop()}}),e)}))),zM.apply(this,arguments)}function VM(e,t){return jM.apply(this,arguments)}function jM(){return jM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(t,"POST","/v1/accounts:signInWithEmailLink",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),jM.apply(this,arguments)}function YM(e,t){return WM.apply(this,arguments)}function WM(){return WM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(t,"POST","/v1/accounts:signInWithEmailLink",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),WM.apply(this,arguments)}var GM=function(e){hn(n,e);var t=gn(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return sn(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return ln(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",IM(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",VM(t,{email:this._email,oobCode:this._password}));case 5:ZO(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",TM(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",YM(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ZO(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(kM);function HM(e,t){return XM.apply(this,arguments)}function XM(){return XM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(t,"POST","/v1/accounts:signInWithIdp",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),XM.apply(this,arguments)}var qM=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ln(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return HM(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,HM(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,HM(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ZO("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=DO(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(kM);function KM(e,t){return $M.apply(this,arguments)}function $M(){return $M=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:sendVerificationCode",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),$M.apply(this,arguments)}function QM(){return QM=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(t,"POST","/v1/accounts:signInWithPhoneNumber",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),QM.apply(this,arguments)}function JM(){return JM=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kR(t,"POST","/v1/accounts:signInWithPhoneNumber",mR(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw AR(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),JM.apply(this,arguments)}var ZM=ae({},"USER_NOT_FOUND","user-not-found");function eD(){return eD=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",kR(t,"POST","/v1/accounts:signInWithPhoneNumber",mR(t,r),ZM));case 2:case"end":return e.stop()}}),e)}))),eD.apply(this,arguments)}var tD=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ln(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return QM.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return JM.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return eD.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(kM);var nD=function(){function e(t){var n,r,i,o,a,s;sn(this,e);var u=xc(bc(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);iR(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ln(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=xc(bc(e)).link,n=t?xc(bc(t)).deep_link_id:null,r=xc(bc(e)).deep_link_id;return(r?xc(bc(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(fI){return null}}}]),e}();var rD=function(){function e(){sn(this,e),this.providerId=e.PROVIDER_ID}return ln(e,null,[{key:"credential",value:function(e,t){return GM._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=nD.parseLink(t);return iR(n,"argument-error"),GM._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();rD.PROVIDER_ID="password",rD.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rD.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var iD=function(){function e(t){sn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ln(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),oD=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ln(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Z(this.scopes)}}]),n}(iD),aD=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return iR(e.idToken||e.accessToken,"argument-error"),qM._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return iR("providerId"in t&&"signInMethod"in t,"argument-error"),qM._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!o&&!r&&!a)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:a})}catch(VX){return null}}}]),n}(oD),sD=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.call(this,"facebook.com")}return ln(n,null,[{key:"credential",value:function(e){return qM._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fI){return null}}}]),n}(oD);sD.FACEBOOK_SIGN_IN_METHOD="facebook.com",sD.PROVIDER_ID="facebook.com";var uD=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ln(n,null,[{key:"credential",value:function(e,t){return qM._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(fI){return null}}}]),n}(oD);uD.GOOGLE_SIGN_IN_METHOD="google.com",uD.PROVIDER_ID="google.com";var lD=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.call(this,"github.com")}return ln(n,null,[{key:"credential",value:function(e){return qM._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fI){return null}}}]),n}(oD);lD.GITHUB_SIGN_IN_METHOD="github.com",lD.PROVIDER_ID="github.com";var cD=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ln(n,[{key:"_getIdTokenResponse",value:function(e){return HM(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,HM(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,HM(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=t.pendingToken;return r&&i&&o&&r===i?new n(r,o):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(kM),hD=function(e){hn(n,e);var t=gn(n);function n(e){return sn(this,n),iR(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ln(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=cD.fromJSON(e);return iR(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return cD._create(r,n)}catch(VX){return null}}}]),n}(iD),fD=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.call(this,"twitter.com")}return ln(n,null,[{key:"credential",value:function(e,t){return qM._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(fI){return null}}}]),n}(oD);function dD(e,t){return pD.apply(this,arguments)}function pD(){return pD=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(t,"POST","/v1/accounts:signUp",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),pD.apply(this,arguments)}fD.TWITTER_SIGN_IN_METHOD="twitter.com",fD.PROVIDER_ID="twitter.com";var vD=function(){function e(t){sn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ln(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=oe(re().mark((function t(n,r,i){var o,a,s,u,l=arguments;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>3&&void 0!==l[3]&&l[3],t.next=3,QR._fromIdTokenResponse(n,i,o);case 3:return a=t.sent,s=gD(i),u=new e({user:a,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=oe(re().mark((function t(n,r,i){var o;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=gD(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function gD(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function mD(){return mD=oe(re().mark((function e(t){var n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mM(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new vD({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,dD(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,vD._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),mD.apply(this,arguments)}var yD=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o){var a,s;return sn(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=o,Object.setPrototypeOf(pn(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return ln(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(oc);function xD(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw yD._fromErrorAndOperation(e,n,t,r);throw n}))}function bD(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function wD(e,t){return kD.apply(this,arguments)}function kD(){return kD=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rc(t),e.next=3,TD(!0,r,n);case 3:return e.t0=IR,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=bD(o||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),kD.apply(this,arguments)}function ED(e,t){return _D.apply(this,arguments)}function _D(){return _D=oe(re().mark((function e(t,n){var r,i,o=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=FR,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",vD._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),_D.apply(this,arguments)}function TD(e,t,n){return AD.apply(this,arguments)}function AD(){return(AD=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jR(n);case 2:i=bD(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",iR(i.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SD(e,t){return CD.apply(this,arguments)}function CD(){return CD=oe(re().mark((function e(t,n){var r,i,o,a,s,u,l,c=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],o=t.auth,a="reauthenticate",e.prev=3,e.next=6,FR(t,xD(o,a,n,t),r);case 6:return iR((s=e.sent).idToken,o,"internal-error"),iR(u=NR(s.idToken),o,"internal-error"),l=u.sub,iR(t.uid===l,o,"user-mismatch"),e.abrupt("return",vD._forOperation(t,a,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&ZO(o,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),CD.apply(this,arguments)}function ID(e,t){return PD.apply(this,arguments)}function PD(){return PD=oe(re().mark((function e(t,n){var r,i,o,a,s=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,xD(t,i,n);case 4:return o=e.sent,e.next=7,vD._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),PD.apply(this,arguments)}function OD(e,t){return RD.apply(this,arguments)}function RD(){return RD=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ID(mM(t),n));case 1:case"end":return e.stop()}}),e)}))),RD.apply(this,arguments)}function MD(e,t){return DD.apply(this,arguments)}function DD(){return(DD=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rc(t),e.next=3,TD(!1,r,n.providerId);case 3:return e.abrupt("return",ED(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LD(e,t){return ND.apply(this,arguments)}function ND(){return(ND=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SD(Rc(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FD(e,t){return BD.apply(this,arguments)}function BD(){return BD=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kR(t,"POST","/v1/accounts:signInWithCustomToken",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),BD.apply(this,arguments)}function UD(){return UD=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mM(t),e.next=3,FD(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,vD._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),UD.apply(this,arguments)}var zD=function(){function e(t,n){sn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ln(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?VD._fromServerResponse(e,t):ZO(e,"internal-error")}}]),e}(),VD=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ln(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(zD);function jD(e,t,n){var r;iR((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),iR("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(iR(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(iR(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function YD(){return YD=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(t),o={requestType:"PASSWORD_RESET",email:n},r&&jD(i,o,r),e.next=5,LM(i,o);case 5:case"end":return e.stop()}}),e)}))),YD.apply(this,arguments)}function WD(){return WD=oe(re().mark((function e(t,n,r){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EM(Rc(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),WD.apply(this,arguments)}function GD(){return GD=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SM(Rc(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),GD.apply(this,arguments)}function HD(e,t){return XD.apply(this,arguments)}function XD(){return XD=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rc(t),e.next=3,EM(r,{oobCode:n});case 3:i=e.sent,iR(o=i.requestType,r,"internal-error"),e.t0=o,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return iR(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:iR(i.mfaInfo,r,"internal-error");case 13:iR(i.email,r,"internal-error");case 14:return a=null,i.mfaInfo&&(a=zD._fromServerResponse(mM(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:o});case 17:case"end":return e.stop()}}),e)}))),XD.apply(this,arguments)}function qD(){return qD=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HD(Rc(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),qD.apply(this,arguments)}function KD(e,t,n){return $D.apply(this,arguments)}function $D(){return $D=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mM(t),e.next=3,dD(i,{returnSecureToken:!0,email:n,password:r});case 3:return o=e.sent,e.next=6,vD._fromIdTokenResponse(i,"signIn",o);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),$D.apply(this,arguments)}function QD(){return QD=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(t),o={requestType:"EMAIL_SIGNIN",email:n},iR(r.handleCodeInApp,i,"argument-error"),r&&jD(i,o,r),e.next=6,FM(i,o);case 6:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function JD(){return JD=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(t),iR((o=rD.credentialWithLink(n,r||lR()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",OD(i,o));case 4:case"end":return e.stop()}}),e)}))),JD.apply(this,arguments)}function ZD(e,t){return eL.apply(this,arguments)}function eL(){return eL=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:createAuthUri",mR(t,n)));case 1:case"end":return e.stop()}}),e)}))),eL.apply(this,arguments)}function tL(){return tL=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cR()?lR():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ZD(Rc(t),i);case 4:return o=e.sent,a=o.signinMethods,e.abrupt("return",a||[]);case 7:case"end":return e.stop()}}),e)}))),tL.apply(this,arguments)}function nL(){return(nL=oe(re().mark((function e(t,n){var r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rc(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_EMAIL",idToken:i},n&&jD(r.auth,o,n),e.next=8,MM(r.auth,o);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rL(){return(rL=oe(re().mark((function e(t,n,r){var i,o,a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(t),e.next=3,t.getIdToken();case 3:return o=e.sent,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:n},r&&jD(i.auth,a,r),e.next=8,UM(i.auth,a);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iL(e,t){return oL.apply(this,arguments)}function oL(){return oL=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yR(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oL.apply(this,arguments)}function aL(){return(aL=oe(re().mark((function e(t,n){var r,i,o,a,s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=Rc(t),e.next=6,o.getIdToken();case 6:return a=e.sent,s={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,FR(o,iL(o.auth,s));case 10:return u=e.sent,o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null,(l=o.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=o.displayName,l.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sL(e,t,n){return uL.apply(this,arguments)}function uL(){return uL=oe(re().mark((function e(t,n,r){var i,o,a,s;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,a={idToken:o,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,FR(t,TM(i,a));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),uL.apply(this,arguments)}var lL=ln((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),cL=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o){var a;return sn(this,n),(a=t.call(this,e,r,i)).username=o,a}return ln(n)}(lL),hL=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,"facebook.com",r)}return ln(n)}(lL),fL=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ln(n)}(cL),dL=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,"google.com",r)}return ln(n)}(lL),pL=function(e){hn(n,e);var t=gn(n);function n(e,r,i){return sn(this,n),t.call(this,e,"twitter.com",r,i)}return ln(n)}(cL);function vL(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=NR(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new lL(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new hL(o,i);case"github.com":return new fL(o,i);case"google.com":return new dL(o,i);case"twitter.com":return new pL(o,i,e.screenName||null);case"custom":case"anonymous":return new lL(o,null);default:return new lL(o,r,i)}}(n)}var gL=function(){function e(t,n){sn(this,e),this.type=t,this.credential=n}return ln(e,[{key:"toJSON",value:function(){return{multiFactorSession:ae({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),mL=function(){function e(t,n,r){sn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ln(e,[{key:"resolveSignIn",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=mM(t),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map((function(e){return zD._fromServerResponse(r,e)}));iR(i.mfaPendingCredential,r,"internal-error");var a=gL._fromMfaPendingCredential(i.mfaPendingCredential);return new e(a,o,function(){var e=oe(re().mark((function e(t){var o,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:o=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:o.idToken,refreshToken:o.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,vD._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return iR(n.user,r,"internal-error"),e.abrupt("return",vD._forOperation(n.user,n.operationType,s));case 17:ZO(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function yL(e,t){return yR(e,"POST","/v2/accounts/mfaEnrollment:start",mR(e,t))}function xL(e,t){return yR(e,"POST","/v2/accounts/mfaEnrollment:withdraw",mR(e,t))}var bL=function(){function e(t){var n=this;sn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return zD._fromServerResponse(t.auth,e)})))}))}return ln(e,[{key:"getSession",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=gL,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,FR(this.user,r._process(this.user.auth,i,n));case 6:return o=e.sent,e.next=9,this.user._updateTokensIfNecessary(o);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=oe(re().mark((function e(t){var n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,FR(this.user,xL(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return o=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(o);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),wL=new WeakMap;var kL="__sak",EL=function(){function e(t,n){sn(this,e),this.storageRetriever=t,this.type=n}return ln(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(kL,"1"),this.storage.removeItem(kL),Promise.resolve(!0)):Promise.resolve(!1)}catch(fI){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var _L=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Kl();return iM(e)||cM(e)}()&&function(){try{return!(!window||window===window.top)}catch(VX){return!1}}(),e.fallbackToPolling=dM(),e._shouldAllowMigration=!0,e}return ln(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);fM()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=oe(re().mark((function e(t,r){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(fn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(re().mark((function e(t){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(fn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(fn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(EL);_L.type="LOCAL";var TL=_L,AL=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ln(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(EL);AL.type="SESSION";var SL=AL;function CL(e){return Promise.all(e.map(function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var IL=function(){function e(t){sn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ln(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=oe(re().mark((function e(t){var n,r,i,o,a,s,u,l;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,o=r.eventType,a=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:o}),u=Array.from(s).map(function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,CL(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function PL(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}IL.receivers=[];var OL=function(){function e(t){sn(this,e),this.target=t,this.handlers=new Set}return ln(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=oe(re().mark((function e(t,n){var r,i,o,a,s=this,u=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=PL("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),o=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"))}}},s.handlers.add(a),i.port1.addEventListener("message",a.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){a&&s.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function RL(){return window}function ML(){return"undefined"!==typeof RL().WorkerGlobalScope&&"function"===typeof RL().importScripts}function DL(){return LL.apply(this,arguments)}function LL(){return(LL=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function NL(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var FL="firebaseLocalStorageDb",BL="firebaseLocalStorage",UL="fbase_key",zL=function(){function e(t){sn(this,e),this.request=t}return ln(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function VL(e,t){return e.transaction([BL],t?"readwrite":"readonly").objectStore(BL)}function jL(){var e=indexedDB.deleteDatabase(FL);return new zL(e).toPromise()}function YL(){var e=indexedDB.open(FL,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(BL,{keyPath:UL})}catch(VX){n(VX)}})),e.addEventListener("success",oe(re().mark((function n(){var r;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(BL)){n.next=12;break}return r.close(),n.next=5,jL();case 5:return n.t0=t,n.next=8,YL();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function WL(e,t,n){return GL.apply(this,arguments)}function GL(){return GL=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=VL(t,!0).put((ae(i={},UL,n),ae(i,"value",r),i)),e.abrupt("return",new zL(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),GL.apply(this,arguments)}function HL(e,t){return XL.apply(this,arguments)}function XL(){return XL=oe(re().mark((function e(t,n){var r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=VL(t,!1).get(n),e.next=3,new zL(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),XL.apply(this,arguments)}function qL(e,t){var n=VL(e,!0).delete(t);return new zL(n).toPromise()}var KL=function(){function e(){sn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ln(e,[{key:"_openDb",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,YL();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ML()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=oe(re().mark((function e(){var t=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=IL._getInstance(ML()?self:null),this.receiver._subscribe("keyChanged",function(){var e=oe(re().mark((function e(n,r){var i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=oe(re().mark((function e(){var t,n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DL();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new OL(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&NL()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,YL();case 5:return t=e.sent,e.next=8,WL(t,kL,"1");case 8:return e.next=10,qL(t,kL);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=oe(re().mark((function e(t,n){var r=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return WL(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return HL(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=oe(re().mark((function e(t){var n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return qL(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=oe(re().mark((function e(){var t,n,r,i,o,a,s,u,l,c,h;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=VL(e,!1).getAll();return new zL(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Rl(t);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.fbase_key,u=a.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)h=c[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();KL.type="LOCAL";var $L=KL;function QL(e,t){return yR(e,"POST","/v2/accounts/mfaSignIn:start",mR(e,t))}function JL(e){return ZL.apply(this,arguments)}function ZL(){return ZL=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yR(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ZL.apply(this,arguments)}function eN(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=eR("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function tN(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var nN=1e12,rN=function(){function e(t){sn(this,e),this.auth=t,this.counter=nN,this._widgets=new Map}return ln(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new iN(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||nN;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||nN;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||nN,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),iN=function(){function e(t,n,r){var i=this;sn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;iR(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ln(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(VX){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(VX){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var oN=tN("rcb"),aN=new fR(3e4,6e4),sN="https://www.google.com/recaptcha/api.js?",uN=function(){function e(){var t;sn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=RL().grecaptcha)||void 0===t?void 0:t.render)}return ln(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return iR(lN(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(RL().grecaptcha):new Promise((function(r,i){var o=RL().setTimeout((function(){i(eR(e,"network-request-failed"))}),aN.get());RL()[oN]=function(){RL().clearTimeout(o),delete RL()[oN];var a=RL().grecaptcha;if(a){var s=a.render;a.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(eR(e,"internal-error"))},eN("".concat(sN,"?").concat(yc({onload:oN,render:"explicit",hl:n}))).catch((function(){clearTimeout(o),i(eR(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=RL().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function lN(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var cN=function(){function e(){sn(this,e)}return ln(e,[{key:"load",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new rN(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),hN="recaptcha",fN={theme:"light",type:"image"},dN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},fN),r=arguments.length>2?arguments[2]:void 0;sn(this,e),this.parameters=n,this.type=hN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mM(r),this.isInvisible="invisible"===this.parameters.size,iR("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;iR(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cN:new uN,this.validateStartingState()}return ln(e,[{key:"verify",value:function(){var e=oe(re().mark((function e(){var t,n,r,i=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(VX){return Promise.reject(VX)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){iR(!this.parameters.sitekey,this.auth,"argument-error"),iR(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),iR("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=RL()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){iR(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=oe(re().mark((function e(){var t,n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iR(cR()&&!ML(),this.auth,"internal-error"),e.next=3,pN();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,JL(this.auth);case 8:iR(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return iR(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function pN(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var vN=function(){function e(t,n){sn(this,e),this.verificationId=t,this.onConfirmation=n}return ln(e,[{key:"confirm",value:function(e){var t=tD._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function gN(){return gN=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mM(t),e.next=3,bN(i,n,Rc(r));case 3:return o=e.sent,e.abrupt("return",new vN(o,(function(e){return OD(i,e)})));case 5:case"end":return e.stop()}}),e)}))),gN.apply(this,arguments)}function mN(e,t,n){return yN.apply(this,arguments)}function yN(){return(yN=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(t),e.next=3,TD(!1,i,"phone");case 3:return e.next=5,bN(i.auth,n,Rc(r));case 5:return o=e.sent,e.abrupt("return",new vN(o,(function(e){return MD(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xN(){return(xN=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(t),e.next=3,bN(i.auth,n,Rc(r));case 3:return o=e.sent,e.abrupt("return",new vN(o,(function(e){return LD(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bN(e,t,n){return wN.apply(this,arguments)}function wN(){return wN=oe(re().mark((function e(t,n,r){var i,o,a,s,u,l,c,h,f;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,iR("string"===typeof o,t,"argument-error"),iR(r.type===hN,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=a.session,!("phoneNumber"in a)){e.next=17;break}return iR("enroll"===s.type,t,"internal-error"),e.next=13,yL(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return iR("signin"===s.type,t,"internal-error"),iR(l=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,QL(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:o}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,KM(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),wN.apply(this,arguments)}function kN(){return(kN=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ED(Rc(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EN=function(){function e(t){sn(this,e),this.providerId=e.PROVIDER_ID,this.auth=mM(t)}return ln(e,[{key:"verifyPhoneNumber",value:function(e,t){return bN(this.auth,e,Rc(t))}}],[{key:"credential",value:function(e,t){return tD._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?tD._fromTokenResponse(n,r):null}}]),e}();function _N(e,t){return t?uR(t):(iR(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}EN.PROVIDER_ID="phone",EN.PHONE_SIGN_IN_METHOD="phone";var TN=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ln(n,[{key:"_getIdTokenResponse",value:function(e){return HM(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return HM(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return HM(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(kM);function AN(e){return ID(e.auth,new TN(e),e.bypassAuthState)}function SN(e){var t=e.auth,n=e.user;return iR(n,t,"internal-error"),SD(n,new TN(e),e.bypassAuthState)}function CN(e){return IN.apply(this,arguments)}function IN(){return IN=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,iR(r=t.user,n,"internal-error"),e.abrupt("return",ED(r,new TN(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}var PN=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];sn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ln(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=oe(re().mark((function t(n,r){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=oe(re().mark((function e(t){var n,r,i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,a=t.error,s=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AN;case"linkViaPopup":case"linkViaRedirect":return CN;case"reauthViaPopup":case"reauthViaRedirect":return SN;default:ZO(this.auth,"internal-error")}}},{key:"resolve",value:function(e){aR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){aR(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ON=new fR(2e3,1e4);function RN(e,t,n){return MN.apply(this,arguments)}function MN(){return MN=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mM(t),nR(t,n,iD),o=_N(i,r),a=new FN(i,"signInViaPopup",n,o),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),MN.apply(this,arguments)}function DN(){return(DN=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nR((i=Rc(t)).auth,n,iD),o=_N(i.auth,r),a=new FN(i.auth,"reauthViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LN(e,t,n){return NN.apply(this,arguments)}function NN(){return(NN=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nR((i=Rc(t)).auth,n,iD),o=_N(i.auth,r),a=new FN(i.auth,"linkViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FN=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o,a){var s;return sn(this,n),(s=t.call(this,e,r,o,a)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=pn(s),s}return ln(n,[{key:"executeNotNull",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return iR(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(re().mark((function e(){var t,n=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aR(1===this.filter.length,"Popup operations only handle one event"),t=PL(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(eR(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(eR(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(eR(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ON.get())}()}}]),n}(PN);FN.currentPopupAction=null;var BN=new Map,UN=function(e){hn(n,e);var t=gn(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return sn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return ln(n,[{key:"execute",value:function(){var e=oe(re().mark((function e(){var t,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=BN.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,zN(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Hp(fn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:BN.set(this.auth._key(),t);case 21:return this.bypassAuthState||BN.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=oe(re().mark((function e(t){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Hp(fn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Hp(fn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(PN);function zN(e,t){return VN.apply(this,arguments)}function VN(){return VN=oe(re().mark((function e(t,n){var r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HN(n),i=GN(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)}))),VN.apply(this,arguments)}function jN(e,t){return YN.apply(this,arguments)}function YN(){return YN=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GN(t)._set(HN(n),"true"));case 1:case"end":return e.stop()}}),e)}))),YN.apply(this,arguments)}function WN(e,t){BN.set(e._key(),t)}function GN(e){return uR(e._redirectPersistence)}function HN(e){return eM("pendingRedirect",e.config.apiKey,e.name)}function XN(e,t,n){return function(e,t,n){return qN.apply(this,arguments)}(e,t,n)}function qN(){return qN=oe(re().mark((function e(t,n,r){var i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mM(t),nR(t,n,iD),o=_N(i,r),e.next=5,jN(o,i);case 5:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),qN.apply(this,arguments)}function KN(e,t,n){return function(e,t,n){return $N.apply(this,arguments)}(e,t,n)}function $N(){return($N=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nR((i=Rc(t)).auth,n,iD),o=_N(i.auth,r),e.next=5,jN(o,i.auth);case 5:return e.next=7,rF(i);case 7:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QN(e,t,n){return function(e,t,n){return JN.apply(this,arguments)}(e,t,n)}function JN(){return(JN=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nR((i=Rc(t)).auth,n,iD),o=_N(i.auth,r),e.next=5,TD(!1,i,n.providerId);case 5:return e.next=7,jN(o,i.auth);case 7:return e.next=9,rF(i);case 9:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZN(e,t){return eF.apply(this,arguments)}function eF(){return eF=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mM(t)._initializationPromise;case 2:return e.abrupt("return",tF(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),eF.apply(this,arguments)}function tF(e,t){return nF.apply(this,arguments)}function nF(){return nF=oe(re().mark((function e(t,n){var r,i,o,a,s,u=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=mM(t),o=_N(i,n),a=new UN(i,o,r),e.next=6,a.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),nF.apply(this,arguments)}function rF(e){return iF.apply(this,arguments)}function iF(){return(iF=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=PL("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oF=function(){function e(t){sn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ln(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sF(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!sF(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(eR(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(aF(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(aF(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function aF(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function sF(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function uF(e){return lF.apply(this,arguments)}function lF(){return lF=oe(re().mark((function e(t){var n,r=arguments;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",yR(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),lF.apply(this,arguments)}var cF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hF=/^https?/;function fF(){return fF=oe(re().mark((function e(t){var n,r,i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uF(t);case 4:n=e.sent,r=n.authorizedDomains,i=Rl(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!dF(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ZO(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),fF.apply(this,arguments)}function dF(e){var t=lR(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!hF.test(r))return!1;if(cF.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var pF=new fR(3e4,6e4);function vF(){var e=RL().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Z(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gF=null;function mF(e){return gF=gF||function(e){return new Promise((function(t,n){var r,i,o;function a(){vF(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){vF(),n(eR(e,"network-request-failed"))},timeout:pF.get()})}if(null===(i=null===(r=RL().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=RL().gapi)||void 0===o?void 0:o.load)){var s=tN("iframefcb");return RL()[s]=function(){gapi.load?a():n(eR(e,"network-request-failed"))},eN("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw gF=null,e}))}(e),gF}var yF=new fR(5e3,15e3),xF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wF(e){var t=e.config;iR(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?dR(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sh},i=bF.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(yc(r).slice(1))}function kF(e){return EF.apply(this,arguments)}function EF(){return EF=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mF(t);case 2:return n=e.sent,iR(r=RL().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:wF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xF,dontclear:!0},(function(e){return new Promise(function(){var n=oe(re().mark((function n(r,i){var o,a,s;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){RL().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=eR(t,"network-request-failed"),a=RL().setTimeout((function(){i(o)}),yF.get()),e.ping(s).then(s,(function(){i(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),EF.apply(this,arguments)}var _F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TF="_blank",AF="http://localhost",SF=function(){function e(t){sn(this,e),this.window=t,this.associatedEvent=null}return ln(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(VX){}}}]),e}();function CF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},_F),{width:r.toString(),height:i.toString(),top:o,left:a}),l=Kl().toLowerCase();n&&(s=oM(l)?TF:n),rM(l)&&(t=t||AF,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(hM(l)&&"_self"!==s)return IF(t||"",s),new SF(null);var f=window.open(t||"",s,h);iR(f,e,"popup-blocked");try{f.focus()}catch(VX){}return new SF(f)}function IF(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var PF="__/auth/handler",OF="emulator/auth/handler";function RF(e,t,n,r,i,o){iR(e.config.authDomain,e,"auth-domain-config-required"),iR(e.config.apiKey,e,"invalid-api-key");var a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sh,eventId:i};if(t instanceof iD){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",pc(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(o||{});s<u.length;s++){var l=c(u[s],2),h=l[0],f=l[1];a[h]=f}}if(t instanceof oD){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);for(var p=a,v=0,g=Object.keys(p);v<g.length;v++){var m=g[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(PF);return dR(t,OF)}(e),"?").concat(yc(p).slice(1))}var MF="webStorageSupport",DF=function(){function e(){sn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SL,this._completeRedirectFn=tF,this._overrideRedirectResult=WN}return ln(e,[{key:"_openPopup",value:function(){var e=oe(re().mark((function e(t,n,r,i){var o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aR(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),a=RF(t,n,r,lR(),i),e.abrupt("return",CF(t,a,PL()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=oe(re().mark((function e(t,n,r,i){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return o=RF(t,n,r,lR(),i),RL().location.href=o,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var o}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(aR(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kF(t);case 2:return n=e.sent,r=new oF(t),n.register("authEvent",(function(e){return iR(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(MF,{type:MF},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ZO(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fF.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return dM()||iM()||cM()}}]),e}(),LF=DF,NF=function(){function e(t){sn(this,e),this.factorId=t}return ln(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return oR("unexpected MultiFactorSessionType")}}}]),e}(),FF=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"phone")).credential=e,r}return ln(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return yR(e,"POST","/v2/accounts/mfaEnrollment:finalize",mR(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return yR(e,"POST","/v2/accounts/mfaSignIn:finalize",mR(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(NF),BF=function(){function e(){sn(this,e)}return ln(e,null,[{key:"assertion",value:function(e){return FF._fromCredential(e)}}]),e}();BF.FACTOR_ID="phone";var UF,zF="@firebase/auth",VF="0.20.5",jF=function(){function e(t){sn(this,e),this.auth=t,this.internalListeners=new Map}return ln(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){iR(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function YF(){return window}UF="Browser",bh(new Mc("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=r.options,a=o.apiKey,s=o.authDomain;return function(e,t){iR(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),iR(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:a,authDomain:s,clientPlatform:UF,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pM(UF)},i=new gM(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(uR);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),bh(new Mc("auth-internal",(function(e){return function(e){return new jF(e)}(mM(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Mh(zF,VF,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(UF)),Mh(zF,VF,"esm2017");function WF(e,t,n){return GF.apply(this,arguments)}function GF(){return GF=oe(re().mark((function e(t,n,r){var i,o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=YF(),a=o.BuildInfo,aR(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,QF(n.sessionId);case 4:return s=e.sent,u={},cM()?u.ibi=a.packageName:sM()?u.apn=a.packageName:ZO(t,"operation-not-supported-in-this-environment"),a.displayName&&(u.appDisplayName=a.displayName),u.sessionId=s,e.abrupt("return",RF(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),GF.apply(this,arguments)}function HF(){return HF=oe(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=YF(),r=n.BuildInfo,i={},cM()?i.iosBundleId=r.packageName:sM()?i.androidPackageName=r.packageName:ZO(t,"operation-not-supported-in-this-environment"),e.next=5,uF(t,i);case 5:case"end":return e.stop()}}),e)}))),HF.apply(this,arguments)}function XF(e){var t=YF().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function qF(e,t,n){return KF.apply(this,arguments)}function KF(){return KF=oe(re().mark((function e(t,n,r){var i,o,a;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=YF(),o=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function l(){s||(s=window.setTimeout((function(){i(eR(t,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}n.addPassiveListener(u),document.addEventListener("resume",l,!1),sM()&&document.addEventListener("visibilitychange",c,!1),a=function(){n.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),KF.apply(this,arguments)}function $F(e){var t,n,r,i,o,a,s,u,l,c,h=YF();iR("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),iR("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),iR("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),iR("function"===typeof(null===(u=null===(s=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),iR("function"===typeof(null===(c=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function QF(e){return JF.apply(this,arguments)}function JF(){return(JF=oe(re().mark((function e(t){var n,r,i;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ZF(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZF(e){if(aR(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var eB=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ln(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Hp(fn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(oF);function tB(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:aB(),postBody:null,tenantId:e.tenantId,error:eR(e,"no-auth-event")}}function nB(e,t){return sB()._set(uB(e),t)}function rB(e){return iB.apply(this,arguments)}function iB(){return iB=oe(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sB()._get(uB(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,sB()._remove(uB(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),iB.apply(this,arguments)}function oB(e,t){var n,r,i=function(e){var t=lB(e),n=t.link?decodeURIComponent(t.link):void 0,r=lB(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return lB(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=lB(i),a=o.firebaseError?function(e){try{return JSON.parse(e)}catch(VX){return null}}(decodeURIComponent(o.firebaseError)):null,s=null===(r=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?eR(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function aB(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function sB(){return uR(TL)}function uB(e){return eM("authEvent",e.config.apiKey,e.name)}function lB(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Wa(e.split("?"));t[0];return xc(t.slice(1).join("?"))}var cB=function(){function e(){sn(this,e),this._redirectPersistence=SL,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tF,this._overrideRedirectResult=WN}return ln(e,[{key:"_initialize",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new eB(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ZO(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=oe(re().mark((function e(t,n,r,i){var o,a,s,u;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $F(t),e.next=3,this._initialize(t);case 3:return o=e.sent,e.next=6,o.initialized();case 6:return o.resetRedirect(),BN.clear(),e.next=10,this._originValidation(t);case 10:return a=tB(t,r,i),e.next=13,nB(t,a);case 13:return e.next=15,WF(t,a,n);case 15:return s=e.sent,e.next=18,XF(s);case 18:return u=e.sent,e.abrupt("return",qF(t,o,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return HF.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=YF(),r=n.universalLinks,i=n.handleOpenURL,o=n.BuildInfo,a=setTimeout(oe(re().mark((function n(){return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,rB(e);case 2:t.onEvent(fB());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=oe(re().mark((function n(r){var i,o;return re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(a),n.next=3,rB(e);case 3:i=n.sent,o=null,i&&(null===r||void 0===r?void 0:r.url)&&(o=oB(i,r.url)),t.onEvent(o||fB());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,l="".concat(o.packageName.toLowerCase(),"://");YF().handleOpenURL=function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof u)try{u(t)}catch(VX){console.error(VX)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),hB=cB;function fB(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:eR("no-auth-event")}}function dB(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function pB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return!("file:"!==dB()&&"ionic:"!==dB()&&"capacitor:"!==dB()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vB(){return ec()&&11===(null===document||void 0===document?void 0:document.documentMode)}function gB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return/Edge\/\d+/.test(e)}function mB(){try{var e=self.localStorage,t=PL();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl();return vB()||gB(e)}()||nc()}catch(VX){return yB()&&nc()}return!1}function yB(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function xB(){return("http:"===dB()||"https:"===dB()||Jl()||pB())&&!(Zl()||Ql())&&mB()&&!yB()}function bB(){return pB()&&"undefined"!==typeof document}function wB(){return kB.apply(this,arguments)}function kB(){return(kB=oe(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bB()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EB={LOCAL:"local",NONE:"none",SESSION:"session"},_B=iR,TB="persistence";function AB(e,t){_B(Object.values(EB).includes(t),e,"invalid-persistence-type"),Zl()?_B(t!==EB.SESSION,e,"unsupported-persistence-type"):Ql()?_B(t===EB.NONE,e,"unsupported-persistence-type"):yB()?_B(t===EB.NONE||t===EB.LOCAL&&nc(),e,"unsupported-persistence-type"):_B(t===EB.NONE||mB(),e,"unsupported-persistence-type")}function SB(e){return CB.apply(this,arguments)}function CB(){return CB=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=IB(),r=eM(TB,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),CB.apply(this,arguments)}function IB(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(VX){return null}}var PB=iR,OB=function(){function e(){sn(this,e),this.browserResolver=uR(LF),this.cordovaResolver=uR(hB),this.underlyingResolver=null,this._redirectPersistence=SL,this._completeRedirectFn=tF,this._overrideRedirectResult=WN}return ln(e,[{key:"_initialize",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=oe(re().mark((function e(t,n,r,i){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=oe(re().mark((function e(t,n,r,i){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return bB()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return PB(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wB();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function RB(e){return e.unwrap()}function MB(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new BB(e,function(e,t){var n,r=Rc(e),i=t;return iR(t.customData.operationType,r,"argument-error"),iR(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),mL._fromError(r,i)}(e,t));else if(i){var o=DB(t),a=t;o&&(a.credential=o,a.tenantId=i.tenantId||void 0,a.email=i.email||void 0,a.phoneNumber=i.phoneNumber||void 0)}}function DB(e){var t=(e instanceof oc?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof oc)&&"temporaryProof"in t&&"phoneNumber"in t)return EN.credentialFromResult(e);var n,r=t.providerId;if(!r||r===UO)return null;switch(r){case BO:n=uD;break;case NO:n=sD;break;case FO:n=lD;break;case zO:n=fD;break;default:var i=t.oauthIdToken,o=t.oauthAccessToken,a=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return o||a||i||s?s?r.startsWith("saml.")?cD._create(r,s):qM._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:o}):new aD(r).credential({idToken:i,accessToken:o,rawNonce:u}):null}return e instanceof oc?n.credentialFromError(e):n.credentialFromResult(e)}function LB(e,t){return t.catch((function(t){throw t instanceof oc&&MB(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,DB(t)),additionalUserInfo:vL(e),user:UB.getOrCreate(r)}}))}function NB(e,t){return FB.apply(this,arguments)}function FB(){return FB=oe(re().mark((function e(t,n){var r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return LB(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),FB.apply(this,arguments)}var BB=function(){function e(t,n){sn(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return ln(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return LB(RB(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),UB=function(){function e(t){sn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Rc(e);return wL.has(t)||wL.set(t,bL._fromUser(t)),wL.get(t)}(t)}return ln(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LB(this.auth,MD(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NB(this.auth,mN(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LB(this.auth,LN(this._delegate,t,OB)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SB(mM(this.auth));case 2:return e.abrupt("return",QN(this._delegate,t,OB));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LB(this.auth,LD(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return NB(this.auth,function(e,t,n){return xN.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return LB(this.auth,function(e,t,n){return DN.apply(this,arguments)}(this._delegate,e,OB))}},{key:"reauthenticateWithRedirect",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SB(mM(this.auth));case 2:return e.abrupt("return",KN(this._delegate,t,OB));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return nL.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wD(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return sL(Rc(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return sL(Rc(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return kN.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return aL.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return rL.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();UB.USER_MAP=new WeakMap;var zB=iR,VB=function(){function e(t,n){if(sn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;zB(r,"invalid-api-key",{appName:t.name}),zB(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?OB:void 0;this._delegate=n.initialize({options:{persistence:YB(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(qO),this.linkUnderlyingAuth()}return ln(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?UB.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){xM(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return GD.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return HD(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return WD.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",LB(this._delegate,KD(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return tL.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=nD.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=oe(re().mark((function e(){var t;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zB(xB(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ZN(this._delegate,OB);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",LB(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){mM(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=jB(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,o,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=jB(e,t,n),i=r.next,o=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,o,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return QD.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return YD.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=oe(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:AB(this._delegate,t),e.t0=t,e.next=e.t0===EB.SESSION?4:e.t0===EB.LOCAL?6:e.t0===EB.NONE?11:13;break;case 4:return n=SL,e.abrupt("break",14);case 6:return e.next=8,uR($L)._isAvailable();case 8:return r=e.sent,n=r?$L:TL,e.abrupt("break",14);case 11:return n=ZR,e.abrupt("break",14);case 13:return e.abrupt("return",ZO("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return LB(this._delegate,function(e){return mD.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return LB(this._delegate,OD(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return LB(this._delegate,function(e,t){return UD.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return LB(this._delegate,function(e,t,n){return OD(Rc(e),rD.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return LB(this._delegate,function(e,t,n){return JD.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return NB(this._delegate,function(e,t,n){return gN.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zB(xB(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",LB(this._delegate,RN(this._delegate,t,OB)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zB(xB(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,SB(this._delegate);case 3:return e.abrupt("return",XN(this._delegate,t,OB));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return qD.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function jB(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&UB.getOrCreate(e))},error:t,complete:n}}function YB(e,t){var n=function(e,t){var n=IB();if(!n)return[];var r=eM(TB,e,t);switch(n.getItem(r)){case EB.NONE:return[ZR];case EB.LOCAL:return[$L,SL];case EB.SESSION:return[SL];default:return[]}}(e,t);if("undefined"===typeof self||n.includes($L)||n.push($L),"undefined"!==typeof window)for(var r=0,i=[TL,SL];r<i.length;r++){var o=i[r];n.includes(o)||n.push(o)}return n.includes(ZR)||n.push(ZR),n}VB.Persistence=EB;var WB=function(){function e(){sn(this,e),this.providerId="phone",this._delegate=new EN(RB(rf.auth()))}return ln(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return EN.credential(e,t)}}]),e}();WB.PHONE_SIGN_IN_METHOD=EN.PHONE_SIGN_IN_METHOD,WB.PROVIDER_ID=EN.PROVIDER_ID;var GB=iR,HB=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rf.app();sn(this,e),GB(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new dN(t,n,i.auth()),this.type=this._delegate.type}return ln(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Mc("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new VB(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:VO,PASSWORD_RESET:jO,RECOVER_EMAIL:YO,REVERT_SECOND_FACTOR_ADDITION:WO,VERIFY_AND_CHANGE_EMAIL:GO,VERIFY_EMAIL:HO}},EmailAuthProvider:rD,FacebookAuthProvider:sD,GithubAuthProvider:lD,GoogleAuthProvider:uD,OAuthProvider:aD,SAMLAuthProvider:hD,PhoneAuthProvider:WB,PhoneMultiFactorGenerator:BF,RecaptchaVerifier:HB,TwitterAuthProvider:fD,Auth:VB,AuthCredential:kM,Error:oc}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.18")}(rf);var XB="@firebase/database",qB="0.13.3",KB="";function $B(e){KB=e}var QB=function(){function e(t){sn(this,e),this.domStorage_=t,this.prefix_="firebase:"}return ln(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),cc(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:lc(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),JB=function(){function e(){sn(this,e),this.cache_={},this.isInMemoryStorage=!0}return ln(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return fc(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),ZB=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new QB(t)}}catch(VX){}return new JB},eU=ZB("localStorage"),tU=ZB("sessionStorage"),nU=new Wc("@firebase/database"),rU=function(){var e=1;return function(){return e++}}(),iU=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Bl(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new wc;n.update(t);var r=n.digest();return Vl.encodeByteArray(r)},oU=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?cc(r):r,t+=" "}return t},aU=null,sU=!0,uU=function(e,t){Bl(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(nU.logLevel=Fc.VERBOSE,aU=nU.log.bind(nU),t&&tU.set("logging_enabled",!0)):"function"===typeof e?aU=e:(aU=null,tU.remove("logging_enabled"))},lU=function(){if(!0===sU&&(sU=!1,null===aU&&!0===tU.get("logging_enabled")&&uU(!0)),aU){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=oU.apply(null,t);aU(r)}},cU=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];lU.apply(void 0,[e].concat(n))}},hU=function(){var e="FIREBASE INTERNAL ERROR: "+oU.apply(void 0,arguments);nU.error(e)},fU=function(){var e="FIREBASE FATAL ERROR: ".concat(oU.apply(void 0,arguments));throw nU.error(e),new Error(e)},dU=function(){var e="FIREBASE WARNING: "+oU.apply(void 0,arguments);nU.warn(e)},pU=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vU="[MIN_NAME]",gU="[MAX_NAME]",mU=function(e,t){if(e===t)return 0;if(e===vU||t===gU)return-1;if(t===vU||e===gU)return 1;var n=SU(e),r=SU(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},yU=function(e,t){return e===t?0:e<t?-1:1},xU=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+cc(t))},bU=function e(t){if("object"!==typeof t||null===t)return cc(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=cc(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},wU=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function kU(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var EU=function(e){Bl(!pU(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var _U=new RegExp("^-?(0*)\\d{1,10}$"),TU=-2147483648,AU=2147483647,SU=function(e){if(_U.test(e)){var t=Number(e);if(t>=TU&&t<=AU)return t}return null},CU=function(e){try{e()}catch(VX){setTimeout((function(){var t=VX.stack||"";throw dU("Exception was thrown by user callback.",t),VX}),Math.floor(0))}},IU=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},PU=function(){function e(t,n){var r=this;sn(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return ln(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){dU('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),OU=function(){function e(t,n,r){var i=this;sn(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return ln(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(lU("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dU(e)}}]),e}(),RU=function(){function e(t){sn(this,e),this.accessToken=t}return ln(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();RU.OWNER="owner";var MU="5",DU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LU="websocket",NU="long_polling",FU=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];sn(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=eU.get("host:"+t)||this._host}return ln(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&eU.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function BU(e,t,n){var r;if(Bl("string"===typeof t,"typeof type must == string"),Bl("object"===typeof n,"typeof params must == object"),t===LU)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==NU)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return kU(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var UU=function(){function e(){sn(this,e),this.counters_={}}return ln(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;fc(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return function(e){return Gl(void 0,e)}(this.counters_)}}]),e}(),zU={},VU={};function jU(e){var t=e.toString();return zU[t]||(zU[t]=new UU),zU[t]}var YU=function(){function e(t){sn(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return ln(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&CU((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),WU="start",GU="close",HU=function(){function e(t,n,r,i,o,a,s){var u=this;sn(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cU(t),this.stats_=jU(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),BU(n,NU,e)}}return ln(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new YU(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(tc()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new XU((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1],a=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===WU)n.id=o,n.password=a;else{if(i!==GU)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=MU,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&DU.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=cc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=jl(t),r=wU(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!tc()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=cc(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!tc()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),XU=function(){function e(t,n,r,i){if(sn(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,tc())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=rU(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(VX){lU("frame writing exception"),VX.stack&&lU(VX.stack),lU(VX)}}}return ln(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;tc()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){lU("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(VX){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||lU("No IE domain setting required")}catch(VX){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),qU=null;"undefined"!==typeof MozWebSocket?qU=MozWebSocket:"undefined"!==typeof WebSocket&&(qU=WebSocket);var KU=function(){function e(t,n,r,i,o,a,s){sn(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cU(this.connId),this.stats_=jU(n),this.connURL=e.connectionURL_(n,a,s,i,r),this.nodeAdmin=n.nodeAdmin}return ln(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,eU.set("previous_websocket_failure",!0);try{var r;if(tc()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(MU,"/").concat(KB,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new qU(this.connURL,[],r)}catch(VX){this.log_("Error instantiating WebSocket.");var s=VX.message||VX.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){eU.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=lc(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Bl(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=cc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=wU(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(VX){this.log_("Exception thrown from WebSocket.send():",VX.message||VX.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var o={};return o.v=MU,!tc()&&"undefined"!==typeof location&&location.hostname&&DU.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),i&&(o.p=i),BU(e,LU,o)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==qU&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return eU.isInMemoryStorage||!0===eU.get("previous_websocket_failure")}}]),e}();KU.responsesRequiredToBeHealthy=2,KU.healthyTimeout=3e4;var $U=function(){function e(t){sn(this,e),this.initTransports_(t)}return ln(e,[{key:"initTransports_",value:function(t){var n=KU&&KU.isAvailable(),r=n&&!KU.previouslyFailed();if(t.webSocketOnly&&(n||dU("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[KU];else{var i,o=this.transports_=[],a=Rl(e.ALL_TRANSPORTS);try{for(a.s();!(i=a.n()).done;){var s=i.value;s&&s.isAvailable()&&o.push(s)}}catch(u){a.e(u)}finally{a.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[HU,KU]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();$U.globalTransportInitialized_=!1;var QU=function(){function e(t,n,r,i,o,a,s,u,l,c){sn(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cU("c:"+this.id+":"),this.transportManager_=new $U(n),this.log_("Connection created"),this.start_()}return ln(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=IU((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=xU("t",e),n=xU("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=xU("t",e),n=xU("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=xU("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?hU("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hU("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),MU!==n&&dU("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),IU((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):IU((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(eU.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),JU=function(){function e(){sn(this,e)}return ln(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),ZU=function(){function e(t){sn(this,e),this.allowedEvents_=t,this.listeners_={},Bl(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return ln(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Z(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].callback.apply(t[o].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Bl(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ez=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||$l()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return ln(n,[{key:"getInitialEvent",value:function(e){return Bl("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(ZU),tz=function(){function e(t,n){if(sn(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return ln(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function nz(){return new tz("")}function rz(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function iz(e){return e.pieces_.length-e.pieceNum_}function oz(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new tz(e.pieces_,t)}function az(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function sz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function uz(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new tz(t,0)}function lz(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof tz)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var o=t.split("/"),a=0;a<o.length;a++)o[a].length>0&&n.push(o[a]);return new tz(n,0)}function cz(e){return e.pieceNum_>=e.pieces_.length}function hz(e,t){var n=rz(e),r=rz(t);if(null===n)return t;if(n===r)return hz(oz(e),oz(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fz(e,t){for(var n=sz(e,0),r=sz(t,0),i=0;i<n.length&&i<r.length;i++){var o=mU(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function dz(e,t){if(iz(e)!==iz(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pz(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(iz(e)>iz(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var vz=ln((function e(t,n){sn(this,e),this.errorPrefix_=n,this.parts_=sz(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ic(this.parts_[r]);gz(this)}));function gz(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+mz(e))}function mz(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var yz=function(e){hn(n,e);var t=gn(n);function n(){var e,r,i;return sn(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return ln(n,[{key:"getInitialEvent",value:function(e){return Bl("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(ZU),xz=1e3,bz=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o,a,s,u,l){var c;if(sn(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=cU("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=xz,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!tc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return yz.getInstance().on("visible",c.onVisible_,pn(c)),-1===e.host.indexOf("fblocal")&&ez.getInstance().on("online",c.onOnline_,pn(c)),c}return ln(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(cc(i)),Bl(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new Xl,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Bl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Bl(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(o))===e&&(t.log_("listen response",a),"ok"!==u&&t.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=hc(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=hc(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Bl(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+cc(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):hU("Unrecognized action received from server: "+cc(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Bl(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xz,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=xz,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xz),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=oe(re().mark((function e(){var t,r,i,o,a,s,u,l,h,f,d,p,v,g,m=this;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},h=function(e){Bl(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=c(d,2),v=p[0],g=p[1],s?lU("getToken() completed but was canceled"):(lU("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=g&&g.token,u=new QU(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){dU(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),a)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&dU(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){lU("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){lU("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pc(this.interruptReasons_)&&(this.reconnectDelay_=xz,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return bU(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new tz(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){lU("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){lU("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Rl(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Rl(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";tc()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+KB.replace(/\./g,"-")]=1,$l()?e["framework.cordova"]=1:Zl()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ez.getInstance().currentlyOnline();return pc(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&fc(e,"w")){var n=dc(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();dU("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(JU);bz.nextPersistentConnectionId_=0,bz.nextConnectionId_=0;var wz,kz=function(){function e(t,n){sn(this,e),this.name=t,this.node=n}return ln(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ez=function(){function e(){sn(this,e)}return ln(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new kz(vU,e),r=new kz(vU,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return kz.MIN}}]),e}(),_z=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"compare",value:function(e,t){return mU(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Ul("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return kz.MIN}},{key:"maxPost",value:function(){return new kz(gU,wz)}},{key:"makePost",value:function(e,t){return Bl("string"===typeof e,"KeyIndex indexValue must always be a string."),new kz(e,wz)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return wz},set:function(e){wz=e}}]),n}(Ez),Tz=new _z,Az=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;sn(this,e),this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return ln(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Sz=function(){function e(t,n,r,i,o){sn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Pz.EMPTY_NODE,this.right=null!=o?o:Pz.EMPTY_NODE}return ln(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Pz.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pz.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Sz.RED=!0,Sz.BLACK=!1;var Cz,Iz=function(){function e(){sn(this,e)}return ln(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sz(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Pz=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;sn(this,e),this.comparator_=t,this.root_=n}return ln(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Sz.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Sz.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Az(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Az(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Az(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Az(this.root_,null,this.comparator_,!0,e)}}]),e}();function Oz(e,t){return mU(e.name,t.name)}function Rz(e,t){return mU(e,t)}Pz.EMPTY_NODE=new Iz;var Mz,Dz,Lz,Nz=function(e){return"number"===typeof e?"number:"+EU(e):"string:"+e},Fz=function(e){if(e.isLeafNode()){var t=e.val();Bl("string"===typeof t||"number"===typeof t||"object"===typeof t&&fc(t,".sv"),"Priority must be a string or number.")}else Bl(e===Cz||e.isEmpty(),"priority of unexpected type.");Bl(e===Cz||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Bz=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;sn(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Bl(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Fz(this.priorityNode_)}return ln(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return cz(t)?this:".priority"===rz(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=rz(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Bl(".priority"!==r||1===iz(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(oz(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Nz(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?EU(this.value_):this.value_,this.lazyHash_=iU(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Bl(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Bl(i>=0,"Unknown leaf type: "+n),Bl(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Mz},set:function(e){Mz=e}}]),e}();Bz.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Uz,zz,Vz=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?mU(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return kz.MIN}},{key:"maxPost",value:function(){return new kz(gU,new Bz("[PRIORITY-POST]",Lz))}},{key:"makePost",value:function(e,t){var n=Dz(e);return new kz(t,new Bz("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ez),jz=new Vz,Yz=Math.log(2),Wz=function(){function e(t){sn(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Yz,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return ln(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Gz=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Sz(a,o.node,Sz.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return o=e[u],a=n?n(o):o,new Sz(a,o.node,Sz.BLACK,l,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var l=i(o+1,s),c=e[o],h=n?n(c):c;u(new Sz(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,Sz.BLACK):(s(h,Sz.BLACK),s(h,Sz.RED))}return o}(new Wz(e.length));return new Pz(r||t,o)},Hz={},Xz=function(){function e(t,n){sn(this,e),this.indexes_=t,this.indexSet_=n}return ln(e,[{key:"get",value:function(e){var t=dc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pz?t:null}},{key:"hasIndex",value:function(e){return fc(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Bl(t!==Tz,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(kz.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Gz(i,t.getCompare()):Hz;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=vc(this.indexes_,(function(e,i){var o=dc(r.indexSet_,i);if(Bl(o,"Missing index implementation for "+i),e===Hz){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(kz.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Gz(a,o.getCompare())}return Hz}var l=n.get(t.name),c=e;return l&&(c=c.remove(new kz(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(vc(this.indexes_,(function(e){if(e===Hz)return e;var r=n.get(t.name);return r?e.remove(new kz(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Bl(Hz&&jz,"ChildrenNode.ts has not been loaded"),Uz=Uz||new e({".priority":Hz},{".priority":jz})}}]),e}(),qz=function(){function e(t,n,r){sn(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Fz(this.priorityNode_),this.children_.isEmpty()&&Bl(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return ln(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||zz}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?zz:t}},{key:"getChild",value:function(e){var t=rz(e);return null===t?this:this.getImmediateChild(t).getChild(oz(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Bl(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,o=new kz(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(o,this.children_));var a=r.isEmpty()?zz:this.priorityNode_;return new e(r,a,i)}},{key:"updateChild",value:function(e,t){var n=rz(e);if(null===n)return t;Bl(".priority"!==rz(e)||1===iz(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(oz(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(jz,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Nz(this.getPriority().val())+":"),this.forEachChild(jz,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":iU(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new kz(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new kz(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new kz(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,kz.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,kz.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Kz?-1:0}},{key:"withIndex",value:function(t){if(t===Tz||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Tz||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(jz),r=t.getIterator(jz),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Tz?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return zz||(zz=new e(new Pz(Rz),null,Xz.Default))}}]),e}();qz.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Kz=new(function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.call(this,new Pz(Rz),qz.EMPTY_NODE,Xz.Default)}return ln(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return qz.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(qz));Object.defineProperties(kz,{MIN:{value:new kz(vU,qz.EMPTY_NODE)},MAX:{value:new kz(gU,Kz)}}),_z.__EMPTY_NODE=qz.EMPTY_NODE,Bz.__childrenNodeConstructor=qz,function(e){Cz=e}(Kz),function(e){Lz=e}(Kz);function $z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return qz.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Bl(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Bz(n,$z(t))}if(e instanceof Array){var r=qz.EMPTY_NODE;return kU(e,(function(t,n){if(fc(e,t)&&"."!==t.substring(0,1)){var i=$z(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority($z(t))}var i=[],o=!1,a=e;if(kU(a,(function(e,t){if("."!==e.substring(0,1)){var n=$z(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new kz(e,n)))}})),0===i.length)return qz.EMPTY_NODE;var s=Gz(i,Oz,(function(e){return e.name}),Rz);if(o){var u=Gz(i,jz.getCompare());return new qz(s,$z(t),new Xz({".priority":u},{".priority":jz}))}return new qz(s,$z(t),Xz.Default)}!function(e){Dz=e}($z);var Qz=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).indexPath_=e,Bl(!cz(e)&&".priority"!==rz(e),"Can't create PathIndex with empty path or .priority key"),r}return ln(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?mU(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=$z(e),r=qz.EMPTY_NODE.updateChild(this.indexPath_,n);return new kz(t,r)}},{key:"maxPost",value:function(){var e=qz.EMPTY_NODE.updateChild(this.indexPath_,Kz);return new kz(gU,e)}},{key:"toString",value:function(){return sz(this.indexPath_,0).join("/")}}]),n}(Ez),Jz=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?mU(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return kz.MIN}},{key:"maxPost",value:function(){return kz.MAX}},{key:"makePost",value:function(e,t){var n=$z(e);return new kz(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ez),Zz=new Jz,eV="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tV=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var o=new Array(8);for(r=7;r>=0;r--)o[r]=eV.charAt(n%64),n=Math.floor(n/64);Bl(0===n,"Cannot push at time == 0");var a=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=eV.charAt(t[r]);return Bl(20===a.length,"nextPushId: Length should be 20."),a}}(),nV=function(e){if("2147483647"===e)return"-";var t=SU(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return gU;var o=n[i],a=eV.charAt(eV.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},rV=function(e){if("-2147483648"===e)return vU;var t=SU(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=eV.charAt(eV.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function iV(e){return{type:"value",snapshotNode:e}}function oV(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function aV(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function sV(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var uV=function(){function e(t){sn(this,e),this.index_=t}return ln(e,[{key:"updateChild",value:function(e,t,n,r,i,o){Bl(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(aV(t,a)):Bl(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(oV(t,n)):o.trackChildChange(sV(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(jz,(function(e,r){t.hasChild(e)||n.trackChildChange(aV(e,r))})),t.isLeafNode()||t.forEachChild(jz,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(sV(t,r,i))}else n.trackChildChange(oV(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?qz.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),lV=function(){function e(t){sn(this,e),this.indexedFilter_=new uV(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return ln(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,o){return this.matches(new kz(t,n))||(n=qz.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=qz.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(qz.EMPTY_NODE);var i=this;return t.forEachChild(jz,(function(e,t){i.matches(new kz(e,t))||(r=r.updateImmediateChild(e,qz.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),cV=function(){function e(t){sn(this,e),this.rangedFilter_=new lV(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return ln(e,[{key:"updateChild",value:function(e,t,n,r,i,o){return this.rangedFilter_.matches(new kz(t,n))||(n=qz.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=qz.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=qz.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{var s,u,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(qz.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(e,t){return h(t,e)}}else c=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var f=0,d=!1;c.hasNext();){var p=c.getNext();!d&&l(s,p)<=0&&(d=!0),d&&f<this.limit_&&l(p,u)<=0?f++:r=r.updateImmediateChild(p.name,qz.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;Bl(s.numChildren()===this.limit_,"");var u=new kz(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:o(f,u);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(sV(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(aV(t,h));var p=s.updateImmediateChild(t,qz.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(oV(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(aV(l.name,l.node)),i.trackChildChange(oV(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,qz.EMPTY_NODE)):e}}]),e}(),hV=function(){function e(){sn(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jz}return ln(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Bl(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Bl(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vU}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Bl(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Bl(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gU}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Bl(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===jz}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function fV(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function dV(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function pV(e,t){var n=e.copy();return n.index_=t,n}function vV(e){var t,n={};return e.isDefault()||(e.index_===jz?t="$priority":e.index_===Zz?t="$value":e.index_===Tz?t="$key":(Bl(e.index_ instanceof Qz,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=cc(t),e.startSet_&&(n.startAt=cc(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+cc(e.indexStartName_))),e.endSet_&&(n.endAt=cc(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+cc(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function gV(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==jz&&(t.i=e.index_.toString()),t}var mV=function(e){hn(n,e);var t=gn(n);function n(e,r,i,o){var a;return sn(this,n),(a=t.call(this)).repoInfo_=e,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=o,a.log_=cU("p:rest:"),a.listens_={},a}return ln(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=vV(e._queryParams);this.restRequest_(a+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),dc(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=vV(e._queryParams),r=e._path.toString(),i=new Xl;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=c(i,2),a=o[0],s=o[1];a&&a.accessToken&&(n.auth=a.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+yc(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=lc(l.responseText)}catch(VX){dU("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&dU("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Bl(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(JU),yV=function(){function e(){sn(this,e),this.rootNode_=qz.EMPTY_NODE}return ln(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function xV(){return{value:null,children:new Map}}function bV(e,t,n){if(cz(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=rz(t);e.children.has(r)||e.children.set(r,xV()),bV(e.children.get(r),t=oz(t),n)}}function wV(e,t){if(cz(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(jz,(function(t,n){bV(e,new tz(t),n)})),wV(e,t)}if(e.children.size>0){var r=rz(t);if(t=oz(t),e.children.has(r))wV(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function kV(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){kV(r,new tz(t.toString()+"/"+e),n)}))}var EV,_V=function(){function e(t){sn(this,e),this.collection_=t,this.last_=null}return ln(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&kU(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),TV=function(){function e(t,n){sn(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new _V(t);var r=1e4+2e4*Math.random();IU(this.reportStats_.bind(this),Math.floor(r))}return ln(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;kU(t,(function(t,i){i>0&&fc(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),IU(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function AV(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(EV||(EV={}));var SV,CV=function(){function e(t,n,r){sn(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=EV.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return ln(e,[{key:"operationForChild",value:function(t){if(cz(this.path)){if(null!=this.affectedTree.value)return Bl(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new tz(t));return new e(nz(),n,this.revert)}return Bl(rz(this.path)===t,"operationForChild called for unrelated child."),new e(oz(this.path),this.affectedTree,this.revert)}}]),e}(),IV=function(){function e(t,n){sn(this,e),this.source=t,this.path=n,this.type=EV.LISTEN_COMPLETE}return ln(e,[{key:"operationForChild",value:function(t){return cz(this.path)?new e(this.source,nz()):new e(this.source,oz(this.path))}}]),e}(),PV=function(){function e(t,n,r){sn(this,e),this.source=t,this.path=n,this.snap=r,this.type=EV.OVERWRITE}return ln(e,[{key:"operationForChild",value:function(t){return cz(this.path)?new e(this.source,nz(),this.snap.getImmediateChild(t)):new e(this.source,oz(this.path),this.snap)}}]),e}(),OV=function(){function e(t,n,r){sn(this,e),this.source=t,this.path=n,this.children=r,this.type=EV.MERGE}return ln(e,[{key:"operationForChild",value:function(t){if(cz(this.path)){var n=this.children.subtree(new tz(t));return n.isEmpty()?null:n.value?new PV(this.source,nz(),n.value):new e(this.source,nz(),n)}return Bl(rz(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,oz(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),RV=function(){function e(t,n,r){sn(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return ln(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(cz(e))return this.isFullyInitialized()&&!this.filtered_;var t=rz(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),MV=ln((function e(t){sn(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function DV(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Ul("Should only compare child_ events.");var r=new kz(t.childName,t.snapshotNode),i=new kz(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function LV(e,t){return{eventCache:e,serverCache:t}}function NV(e,t,n,r){return LV(new RV(t,n,r),e.serverCache)}function FV(e,t,n,r){return LV(e.eventCache,new RV(t,n,r))}function BV(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function UV(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var zV=function(){return SV||(SV=new Pz(yU)),SV},VV=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zV();sn(this,e),this.value=t,this.children=n}return ln(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:nz(),value:this.value};if(cz(e))return null;var n=rz(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(oz(e),t);return null!=i?{path:lz(new tz(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(cz(t))return this;var n=rz(t),r=this.children.get(n);return null!==r?r.subtree(oz(t)):new e(null)}},{key:"set",value:function(t,n){if(cz(t))return new e(n,this.children);var r=rz(t),i=(this.children.get(r)||new e(null)).set(oz(t),n),o=this.children.insert(r,i);return new e(this.value,o)}},{key:"remove",value:function(t){if(cz(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=rz(t),r=this.children.get(n);if(r){var i,o=r.remove(oz(t));return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(cz(e))return this.value;var t=rz(e),n=this.children.get(t);return n?n.get(oz(e)):null}},{key:"setTree",value:function(t,n){if(cz(t))return n;var r,i=rz(t),o=(this.children.get(i)||new e(null)).setTree(oz(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(nz(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(lz(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,nz(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(cz(e))return null;var i=rz(e),o=this.children.get(i);return o?o.findOnPath_(oz(e),lz(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,nz(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(cz(t))return this;this.value&&r(n,this.value);var i=rz(t),o=this.children.get(i);return o?o.foreachOnPath_(oz(t),lz(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(nz(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(lz(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return kU(t,(function(e,t){n=n.set(new tz(e),t)})),n}}]),e}(),jV=function(){function e(t){sn(this,e),this.writeTree_=t}return ln(e,null,[{key:"empty",value:function(){return new e(new VV(null))}}]),e}();function YV(e,t,n){if(cz(t))return new jV(new VV(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=hz(i,t);return o=o.updateChild(a,n),new jV(e.writeTree_.set(i,o))}var s=new VV(n),u=e.writeTree_.setTree(t,s);return new jV(u)}function WV(e,t,n){var r=e;return kU(n,(function(e,n){r=YV(r,lz(t,e),n)})),r}function GV(e,t){if(cz(t))return jV.empty();var n=e.writeTree_.setTree(t,new VV(null));return new jV(n)}function HV(e,t){return null!=XV(e,t)}function XV(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(hz(n.path,t)):null}function qV(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(jz,(function(e,n){t.push(new kz(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new kz(e,n.value))})),t}function KV(e,t){if(cz(t))return e;var n=XV(e,t);return new jV(null!=n?new VV(n):e.writeTree_.subtree(t))}function $V(e){return e.writeTree_.isEmpty()}function QV(e,t){return JV(nz(),e.writeTree_,t)}function JV(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Bl(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=JV(lz(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(lz(e,".priority"),r)),n}function ZV(e,t){return dj(t,e)}function ej(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function tj(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Bl(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&nj(s,r.path)?i=!1:pz(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=ij(e.allWrites,rj,nz()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=GV(e.visibleWrites,r.path):kU(r.children,(function(t){e.visibleWrites=GV(e.visibleWrites,lz(r.path,t))}));return!0}return!1}function nj(e,t){if(e.snap)return pz(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&pz(lz(e.path,n),t))return!0;return!1}function rj(e){return e.visible}function ij(e,t,n){for(var r=jV.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)pz(n,a)?r=YV(r,s=hz(n,a),o.snap):pz(a,n)&&(s=hz(a,n),r=YV(r,nz(),o.snap.getChild(s)));else{if(!o.children)throw Ul("WriteRecord should have .snap or .children");if(pz(n,a))r=WV(r,s=hz(n,a),o.children);else if(pz(a,n))if(cz(s=hz(a,n)))r=WV(r,nz(),o.children);else{var u=dc(o.children,rz(s));if(u){var l=u.getChild(oz(s));r=YV(r,nz(),l)}}}}}return r}function oj(e,t,n,r,i){if(r||i){var o=KV(e.visibleWrites,t);if(!i&&$V(o))return n;if(i||null!=n||HV(o,nz())){return QV(ij(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(pz(e.path,t)||pz(t,e.path))}),t),n||qz.EMPTY_NODE)}return null}var a=XV(e.visibleWrites,t);if(null!=a)return a;var s=KV(e.visibleWrites,t);return $V(s)?n:null!=n||HV(s,nz())?QV(s,n||qz.EMPTY_NODE):null}function aj(e,t,n,r){return oj(e.writeTree,e.treePath,t,n,r)}function sj(e,t){return function(e,t,n){var r=qz.EMPTY_NODE,i=XV(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(jz,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=KV(e.visibleWrites,t);return n.forEachChild(jz,(function(e,t){var n=QV(KV(o,new tz(e)),t);r=r.updateImmediateChild(e,n)})),qV(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return qV(KV(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function uj(e,t,n,r){return function(e,t,n,r,i){Bl(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=lz(t,n);if(HV(e.visibleWrites,o))return null;var a=KV(e.visibleWrites,o);return $V(a)?i.getChild(n):QV(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function lj(e,t){return function(e,t){return XV(e.visibleWrites,t)}(e.writeTree,lz(e.treePath,t))}function cj(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=KV(e.visibleWrites,t),l=XV(u,nz());if(null!=l)s=l;else{if(null==n)return[];s=QV(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function hj(e,t,n){return function(e,t,n,r){var i=lz(t,n),o=XV(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?QV(KV(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function fj(e,t){return dj(lz(e.treePath,t),e.writeTree)}function dj(e,t){return{treePath:e,writeTree:t}}var pj=function(){function e(){sn(this,e),this.changeMap=new Map}return ln(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Bl("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Bl(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,sV(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,aV(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,oV(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ul("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,sV(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),vj=new(function(){function e(){sn(this,e)}return ln(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),gj=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;sn(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return ln(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new RV(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hj(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:UV(this.viewCache_),i=cj(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function mj(e,t,n,r,i){var o,a,s=new pj;if(n.type===EV.OVERWRITE){var u=n;u.source.fromUser?o=bj(e,t,u.path,u.snap,r,i,s):(Bl(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!cz(u.path),o=xj(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===EV.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var l=lz(n,r);wj(t,rz(l))&&(s=bj(e,s,l,u,i,o,a))})),r.foreach((function(r,u){var l=lz(n,r);wj(t,rz(l))||(s=bj(e,s,l,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,s):(Bl(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Ej(e,t,l.path,l.children,r,i,a,s))}else if(n.type===EV.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var a;if(null!=lj(r,n))return t;var s,u=new gj(r,t,i),l=t.eventCache.getNode();if(cz(n)||".priority"===rz(n)){var c;if(t.serverCache.isFullyInitialized())c=aj(r,UV(t));else{var h=t.serverCache.getNode();Bl(h instanceof qz,"serverChildren would be complete if leaf node"),c=sj(r,h)}s=e.filter.updateFullNode(l,c,o)}else{var f=rz(n),d=hj(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(l,f,d,oz(n),u,o):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,qz.EMPTY_NODE,oz(n),u,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=aj(r,UV(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,a,o))}return a=t.serverCache.isFullyInitialized()||null!=lj(r,nz()),NV(t,s,a,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=lj(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(cz(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return xj(e,t,n,u.getNode().getChild(n),i,o,s,a);if(cz(n)){var l=new VV(null);return u.getNode().forEachChild(Tz,(function(e,t){l=l.set(new tz(e),t)})),Ej(e,t,n,l,i,o,s,a)}return t}var c=new VV(null);return r.foreach((function(e,t){var r=lz(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Ej(e,t,n,c,i,o,s,a)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==EV.LISTEN_COMPLETE)throw Ul("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=FV(t,o.getNode(),o.isFullyInitialized()||cz(n),o.isFiltered());return yj(e,a,n,r,vj,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=BV(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(iV(BV(t)))}}(t,o,h),{viewCache:o,changes:h}}function yj(e,t,n,r,i,o){var a,s,u=t.eventCache;if(null!=lj(r,n))return t;if(cz(n))if(Bl(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=UV(t),c=sj(r,l instanceof qz?l:qz.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var h=aj(r,UV(t));a=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var f=rz(n);if(".priority"===f){Bl(1===iz(n),"Can't have a priority with additional path components");var d=u.getNode(),p=uj(r,n,d,s=t.serverCache.getNode());a=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,g=oz(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var m=uj(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(f).updateChild(g,m):u.getNode().getImmediateChild(f)}else v=hj(r,f,t.serverCache);a=null!=v?e.filter.updateChild(u.getNode(),f,v,g,i,o):u.getNode()}}return NV(t,a,u.isFullyInitialized()||cz(n),e.filter.filtersNodes())}function xj(e,t,n,r,i,o,a,s){var u,l=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(cz(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=rz(n);if(!l.isCompleteForPath(n)&&iz(n)>1)return t;var d=oz(n),p=l.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,d,vj,null)}var v=FV(t,u,l.isFullyInitialized()||cz(n),c.filtersNodes());return yj(e,v,n,i,new gj(i,v,o),s)}function bj(e,t,n,r,i,o,a){var s,u,l=t.eventCache,c=new gj(i,t,o);if(cz(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=NV(t,u,!0,e.filter.filtersNodes());else{var h=rz(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=NV(t,u,l.isFullyInitialized(),l.isFiltered());else{var f,d=oz(n),p=l.getNode().getImmediateChild(h);if(cz(d))f=r;else{var v=c.getCompleteChild(h);f=null!=v?".priority"===az(d)&&v.getChild(uz(d)).isEmpty()?v:v.updateChild(d,r):qz.EMPTY_NODE}if(p.equals(f))s=t;else s=NV(t,e.filter.updateChild(l.getNode(),h,f,d,c,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function wj(e,t){return e.eventCache.isCompleteForChild(t)}function kj(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ej(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=cz(n)?r:new VV(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=kj(0,t.serverCache.getNode().getImmediateChild(n),r);l=xj(e,l,new tz(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=kj(0,t.serverCache.getNode().getImmediateChild(n),r);l=xj(e,l,new tz(n),h,i,o,a,s)}})),l}var _j,Tj=function(){function e(t,n){sn(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,o=new uV(i.getIndex()),a=(r=i).loadsAllData()?new uV(r.getIndex()):r.hasLimit()?new cV(r):new lV(r);this.processor_=function(e){return{filter:e}}(a);var s=n.serverCache,u=n.eventCache,l=o.updateFullNode(qz.EMPTY_NODE,s.getNode(),null),c=a.updateFullNode(qz.EMPTY_NODE,u.getNode(),null),h=new RV(l,s.isFullyInitialized(),o.filtersNodes()),f=new RV(c,u.isFullyInitialized(),a.filtersNodes());this.viewCache_=LV(f,h),this.eventGenerator_=new MV(this.query_)}return ln(e,[{key:"query",get:function(){return this.query_}}]),e}();function Aj(e,t){var n=UV(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!cz(t)&&!n.getImmediateChild(rz(t)).isEmpty())?n.getChild(t):null}function Sj(e){return 0===e.eventRegistrations_.length}function Cj(e,t,n){var r=[];if(n){Bl(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function Ij(e,t,n,r){t.type===EV.MERGE&&null!==t.source.queryId&&(Bl(UV(e.viewCache_),"We should always have a full cache before handling merges"),Bl(BV(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=mj(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,Bl(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Bl(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Bl(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Pj(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Pj(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),DV(e,i,"child_removed",t,r,n),DV(e,i,"child_added",t,r,n),DV(e,i,"child_moved",o,r,n),DV(e,i,"child_changed",t,r,n),DV(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Oj,Rj=ln((function e(){sn(this,e),this.views=new Map}));function Mj(e,t,n,r){var i=t.source.queryId;if(null!==i){var o=e.views.get(i);return Bl(null!=o,"SyncTree gave us an op for an invalid query."),Ij(o,t,n,r)}var a,s=[],u=Rl(e.views.values());try{for(u.s();!(a=u.n()).done;){var l=a.value;s=s.concat(Ij(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Dj(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=aj(n,i?r:null),u=!1;s?u=!0:r instanceof qz?(s=sj(n,r),u=!1):(s=qz.EMPTY_NODE,u=!1);var l=LV(new RV(s,u,!1),new RV(r,i,!1));return new Tj(t,l)}return a}function Lj(e,t,n,r,i,o){var a=Dj(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(jz,(function(e,t){r.push(oV(e,t))})),n.isFullyInitialized()&&r.push(iV(n.getNode())),Pj(e,r,n.getNode(),t)}(a,n)}function Nj(e,t,n,r){var i=t._queryIdentifier,o=[],a=[],s=Vj(e);if("default"===i){var u,l=Rl(e.views.entries());try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),f=h[0],d=h[1];a=a.concat(Cj(d,n,r)),Sj(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||o.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(a=a.concat(Cj(p,n,r)),Sj(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||o.push(p.query)))}return s&&!Vj(e)&&o.push(new(Bl(_j,"Reference.ts has not been loaded"),_j)(t._repo,t._path)),{removed:o,events:a}}function Fj(e){var t,n=[],r=Rl(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(o){r.e(o)}finally{r.f()}return n}function Bj(e,t){var n,r=null,i=Rl(e.views.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r||Aj(o,t)}}catch(a){i.e(a)}finally{i.f()}return r}function Uj(e,t){if(t._queryParams.loadsAllData())return jj(e);var n=t._queryIdentifier;return e.views.get(n)}function zj(e,t){return null!=Uj(e,t)}function Vj(e){return null!=jj(e)}function jj(e){var t,n=Rl(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Yj=1,Wj=ln((function e(t){sn(this,e),this.listenProvider_=t,this.syncPointTree_=new VV(null),this.pendingWriteTree_={visibleWrites:jV.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Gj(e,t,n,r,i){return function(e,t,n,r,i){Bl(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=YV(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?tY(e,new PV({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Hj(e,t,n,r){!function(e,t,n,r){Bl(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=WV(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=VV.fromObject(n);return tY(e,new OV({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Xj(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ej(e.pendingWriteTree_,t),i=tj(e.pendingWriteTree_,t);if(i){var o=new VV(null);return null!=r.snap?o=o.set(nz(),!0):kU(r.children,(function(e){o=o.set(new tz(e),!0)})),tY(e,new CV(r.path,o,n))}return[]}function qj(e,t,n){return tY(e,new PV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Kj(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||zj(o,t))){var s=Nj(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Vj(t)}));if(l&&!c){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Vj(t))return[jj(t)];var r=[];return t&&(r=Fj(t)),kU(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=iY(e,p);e.listenProvider_.startListening(cY(v),oY(e,v),g.hashFn,g.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(cY(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(aY(t));e.listenProvider_.stopListening(cY(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=aY(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function $j(e,t,n,r){var i=sY(e,r);if(null!=i){var o=uY(i),a=o.path,s=o.queryId,u=hz(a,t);return lY(e,a,new PV(AV(s),u,n))}return[]}function Qj(e,t){var n=e._path,r=null,i=!1;t.syncPointTree_.foreachOnPath(n,(function(e,t){var o=hz(e,n);r=r||Bj(t,o),i=i||Vj(t)}));var o,a=t.syncPointTree_.get(n);(a?(i=i||Vj(a),r=r||Bj(a,nz())):(a=new Rj,t.syncPointTree_=t.syncPointTree_.set(n,a)),null!=r)?o=!0:(o=!1,r=qz.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((function(e,t){var n=Bj(t,nz());n&&(r=r.updateImmediateChild(e,n))})));var s=zj(a,e);if(!s&&!e._queryParams.loadsAllData()){var u=aY(e);Bl(!t.queryToTagMap.has(u),"View does not exist, but we have a tag");var l=Yj++;t.queryToTagMap.set(u,l),t.tagToQueryMap.set(l,u)}return{syncPoint:a,writesCache:ZV(t.pendingWriteTree_,n),serverCache:r,serverCacheComplete:o,foundAncestorDefaultView:i,viewAlreadyExists:s}}function Jj(e,t,n){var r=Qj(t,e),i=r.syncPoint,o=r.serverCache,a=r.writesCache,s=r.serverCacheComplete,u=r.viewAlreadyExists,l=r.foundAncestorDefaultView,c=Lj(i,t,n,a,o,s);if(!u&&!l){var h=Uj(i,t);c=c.concat(function(e,t,n){var r=t._path,i=oY(e,t),o=iY(e,n),a=e.listenProvider_.startListening(cY(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Bl(!Vj(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!cz(e)&&t&&Vj(t))return[jj(t).query];var r=[];return t&&(r=r.concat(Fj(t).map((function(e){return e.query})))),kU(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(cY(c),oY(e,c))}return a}(e,t,h))}return c}function Zj(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Bj(n,hz(e,t));if(r)return r}));return oj(r,t,i,n,!0)}function eY(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=hz(e,n);r=r||Bj(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Bj(i,nz()):(i=new Rj,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new RV(r,!0,!1):null;return function(e){return BV(e.viewCache_)}(Dj(i,t,ZV(e.pendingWriteTree_,t._path),o?a.getNode():qz.EMPTY_NODE,o))}function tY(e,t){return nY(t,e.syncPointTree_,null,ZV(e.pendingWriteTree_,nz()))}function nY(e,t,n,r){if(cz(e.path))return rY(e,t,n,r);var i=t.get(nz());null==n&&null!=i&&(n=Bj(i,nz()));var o=[],a=rz(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=fj(r,a);o=o.concat(nY(s,u,l,c))}return i&&(o=o.concat(Mj(i,e,r,n))),o}function rY(e,t,n,r){var i=t.get(nz());null==n&&null!=i&&(n=Bj(i,nz()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=fj(r,t),u=e.operationForChild(t);u&&(o=o.concat(rY(u,i,a,s)))})),i&&(o=o.concat(Mj(i,e,r,n))),o}function iY(e,t){var n=t.query,r=oY(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||qz.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=sY(e,n);if(r){var i=uY(r),o=i.path,a=i.queryId,s=hz(o,t);return lY(e,o,new IV(AV(a),s))}return[]}(e,n._path,r):function(e,t){return tY(e,new IV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Kj(e,n,null,i)}}}function oY(e,t){var n=aY(t);return e.queryToTagMap.get(n)}function aY(e){return e._path.toString()+"$"+e._queryIdentifier}function sY(e,t){return e.tagToQueryMap.get(t)}function uY(e){var t=e.indexOf("$");return Bl(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tz(e.substr(0,t))}}function lY(e,t,n){var r=e.syncPointTree_.get(t);return Bl(r,"Missing sync point for query tag that we're tracking"),Mj(r,n,ZV(e.pendingWriteTree_,t),null)}function cY(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Bl(Oj,"Reference.ts has not been loaded"),Oj)(e._repo,e._path):e}var hY=function(){function e(t){sn(this,e),this.node_=t}return ln(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),fY=function(){function e(t,n){sn(this,e),this.syncTree_=t,this.path_=n}return ln(e,[{key:"getImmediateChild",value:function(t){var n=lz(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Zj(this.syncTree_,this.path_)}}]),e}(),dY=function(e,t,n){return e&&"object"===typeof e?(Bl(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?pY(e[".sv"],t,n):"object"===typeof e[".sv"]?vY(e[".sv"],t):void Bl(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},pY=function(e,t,n){if("timestamp"===e)return n.timestamp;Bl(!1,"Unexpected server value: "+e)},vY=function(e,t,n){e.hasOwnProperty("increment")||Bl(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Bl(!1,"Unexpected increment value: "+r);var i=t.node();if(Bl(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!==typeof o?r:o+r},gY=function(e,t,n,r){return yY(t,new fY(n,e),r)},mY=function(e,t,n){return yY(e,new hY(t),n)};function yY(e,t,n){var r,i=e.getPriority().val(),o=dY(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=dY(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Bz(s,$z(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Bz(o))),u.forEachChild(jz,(function(e,i){var o=yY(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var xY=ln((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};sn(this,e),this.name=t,this.parent=n,this.node=r}));function bY(e,t){for(var n=t instanceof tz?t:new tz(t),r=e,i=rz(n);null!==i;){var o=dc(r.node.children,i)||{children:{},childCount:0};r=new xY(i,r,o),i=rz(n=oz(n))}return r}function wY(e){return e.node.value}function kY(e,t){e.node.value=t,SY(e)}function EY(e){return e.node.childCount>0}function _Y(e,t){kU(e.node.children,(function(n,r){t(new xY(n,e,r))}))}function TY(e,t,n,r){n&&!r&&t(e),_Y(e,(function(e){TY(e,t,!0,r)})),n&&r&&t(e)}function AY(e){return new tz(null===e.parent?e.name:AY(e.parent)+"/"+e.name)}function SY(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===wY(e)&&!EY(e)}(n),i=fc(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,SY(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,SY(e))}(e.parent,e.name,e)}var CY=/[\[\].#$\/\u0000-\u001F\u007F]/,IY=/[\[\].#$\u0000-\u001F\u007F]/,PY=10485760,OY=function(e){return"string"===typeof e&&0!==e.length&&!CY.test(e)},RY=function(e){return"string"===typeof e&&0!==e.length&&!IY.test(e)},MY=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!pU(e)||e&&"object"===typeof e&&fc(e,".sv")},DY=function(e,t,n,r){r&&void 0===t||LY(Ac(e,"value"),t,n)},LY=function e(t,n,r){var i=r instanceof tz?new vz(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+mz(i));if("function"===typeof n)throw new Error(t+"contains a function "+mz(i)+" with contents = "+n.toString());if(pU(n))throw new Error(t+"contains "+n.toString()+" "+mz(i));if("string"===typeof n&&n.length>PY/3&&Ic(n)>PY)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+mz(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var o=!1,a=!1;if(kU(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!OY(n)))throw new Error(t+" contains an invalid key ("+n+") "+mz(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Ic(u),gz(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ic(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),o&&a)throw new Error(t+' contains ".value" child '+mz(i)+" in addition to actual children.")}},NY=function(e,t,n,r){if(!r||void 0!==t){var i=Ac(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];kU(t,(function(e,t){var r=new tz(e);if(LY(i,t,lz(n,r)),".priority"===az(r)&&!MY(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=sz(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!OY(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(fz);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&pz(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},FY=function(e,t,n){if(!n||void 0!==t){if(pU(t))throw new Error(Ac(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!MY(t))throw new Error(Ac(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},BY=function(e,t,n,r){if((!r||void 0!==n)&&!OY(n))throw new Error(Ac(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},UY=function(e,t,n,r){if((!r||void 0!==n)&&!RY(n))throw new Error(Ac(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},zY=function(e,t){if(".info"===rz(t))throw new Error(e+" failed = Can't modify data under /.info/")},VY=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!OY(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),RY(e)}(n))throw new Error(Ac(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},jY=ln((function e(){sn(this,e),this.eventLists_=[],this.recursionDepth_=0}));function YY(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||dz(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function WY(e,t,n){YY(e,n),HY(e,(function(e){return dz(e,t)}))}function GY(e,t,n){YY(e,n),HY(e,(function(e){return pz(e,t)||pz(t,e)}))}function HY(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(XY(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function XY(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();aU&&lU("event: "+n.toString()),CU(r)}}}var qY="repo_interrupt",KY=function(){function e(t,n,r,i){sn(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xV(),this.transactionQueueTree_=new xY,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return ln(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function $Y(e,t,n){if(e.stats_=jU(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new mV(e.repoInfo_,(function(t,n,r,i){ZY(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return eW(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{cc(n)}catch(VX){throw new Error("Invalid authOverride provided: "+VX)}}e.persistentConnection_=new bz(e.repoInfo_,t,(function(t,n,r,i){ZY(e,t,n,r,i)}),(function(t){eW(e,t)}),(function(t){!function(e,t){kU(t,(function(t,n){tW(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return VU[n]||(VU[n]=t()),VU[n]}(e.repoInfo_,(function(){return new TV(e.stats_,e.server_)})),e.infoData_=new yV,e.infoSyncTree_=new Wj({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=qj(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),tW(e,"connected",!1),e.serverSyncTree_=new Wj({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);GY(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function QY(e){var t=e.infoData_.getNode(new tz(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function JY(e){return(t=(t={timestamp:QY(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ZY(e,t,n,r,i){e.dataUpdateCount++;var o=new tz(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=vc(n,(function(e){return $z(e)}));a=function(e,t,n,r){var i=sY(e,r);if(i){var o=uY(i),a=o.path,s=o.queryId,u=hz(a,t),l=VV.fromObject(n);return lY(e,a,new OV(AV(s),u,l))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=$z(n);a=$j(e.serverSyncTree_,o,u,i)}else if(r){var l=vc(n,(function(e){return $z(e)}));a=function(e,t,n){var r=VV.fromObject(n);return tY(e,new OV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{var c=$z(n);a=qj(e.serverSyncTree_,o,c)}var h=o;a.length>0&&(h=pW(e,o)),GY(e.eventQueue_,h,a)}function eW(e,t){tW(e,"connected",t),!1===t&&function(e){lW(e,"onDisconnectEvents");var t=JY(e),n=xV();kV(e.onDisconnect_,nz(),(function(r,i){var o=gY(r,i,e.serverSyncTree_,t);bV(n,r,o)}));var r=[];kV(n,nz(),(function(t,n){r=r.concat(qj(e.serverSyncTree_,t,n));var i=xW(e,t);pW(e,i)})),e.onDisconnect_=xV(),GY(e.eventQueue_,nz(),r)}(e)}function tW(e,t,n){var r=new tz("/.info/"+t),i=$z(n);e.infoData_.updateSnapshot(r,i);var o=qj(e.infoSyncTree_,r,i);GY(e.eventQueue_,r,o)}function nW(e){return e.nextWriteId_++}function rW(e,t){var n=eY(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=$z(n).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())qj(e.serverSyncTree_,t._path,r);else{var i=function(e,t){var n=Qj(t,e),r=n.syncPoint,i=n.serverCache,o=Dj(r,t,n.writesCache,i,n.serverCacheComplete);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,o),t._queryParams.loadsAllData()?null:oY(e,t)}(e.serverSyncTree_,t);$j(e.serverSyncTree_,t._path,r,i)}return Kj(e.serverSyncTree_,t,null).length>0&&lW(e,"unexpected cancel events in repoGetValue"),r}),(function(n){return lW(e,"get for query "+cc(t)+" failed: "+n),Promise.reject(new Error(n))}))}function iW(e,t,n,r,i){lW(e,"set",{path:t.toString(),value:n,priority:r});var o=JY(e),a=$z(n,r),s=Zj(e.serverSyncTree_,t),u=mY(a,s,o),l=nW(e),c=Gj(e.serverSyncTree_,t,u,l,!0);YY(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||dU("set at "+t+" failed: "+n);var a=Xj(e.serverSyncTree_,l,!o);GY(e.eventQueue_,t,a),cW(e,i,n,r)}));var h=xW(e,t);pW(e,h),GY(e.eventQueue_,h,[])}function oW(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&wV(e.onDisconnect_,t),cW(e,n,r,i)}))}function aW(e,t,n,r){var i=$z(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&bV(e.onDisconnect_,t,i),cW(e,r,n,o)}))}function sW(e,t,n){var r;r=".info"===rz(t._path)?Kj(e.infoSyncTree_,t,n):Kj(e.serverSyncTree_,t,n),WY(e.eventQueue_,t._path,r)}function uW(e){e.persistentConnection_&&e.persistentConnection_.interrupt(qY)}function lW(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];lU.apply(void 0,[t].concat(r))}function cW(e,t,n,r){t&&CU((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function hW(e,t,n){return Zj(e.serverSyncTree_,t,n)||qz.EMPTY_NODE}function fW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||yW(e,t),wY(t)){var n=gW(e,t);Bl(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&dW(e,AY(t),n)}else EY(t)&&_Y(t,(function(t){fW(e,t)}))}function dW(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=hW(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];Bl(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=hz(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){lW(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Xj(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);yW(e,bY(e.transactionQueueTree_,t)),fW(e,e.transactionQueueTree_),GY(e.eventQueue_,t,i);for(var u=0;u<o.length;u++)CU(o[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{dU("transaction at "+h.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}pW(e,t)}}),a)}function pW(e,t){var n=vW(e,t),r=AY(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})),a=o.map((function(e){return e.currentWriteId})),s=function(o){var s,u=t[o],l=hz(n,u.path),c=!1,h=void 0;if(Bl(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,h=u.abortReason,i=i.concat(Xj(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,h="maxretry",i=i.concat(Xj(e.serverSyncTree_,u.currentWriteId,!0));else{var f=hW(e,u.path,a);u.currentInputSnapshot=f;var d=t[o].update(f.val());if(void 0!==d){LY("transaction failed: Data returned ",d,u.path);var p=$z(d);"object"===typeof d&&null!=d&&fc(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,g=JY(e),m=mY(p,f,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=nW(e),a.splice(a.indexOf(v),1),i=(i=i.concat(Gj(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Xj(e.serverSyncTree_,v,!0))}else c=!0,h="nodata",i=i.concat(Xj(e.serverSyncTree_,u.currentWriteId,!0))}GY(e.eventQueue_,n,i),i=[],c&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===h?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);yW(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)CU(r[l]);fW(e,e.transactionQueueTree_)}(e,gW(e,n),r),r}function vW(e,t){var n,r=e.transactionQueueTree_;for(n=rz(t);null!==n&&void 0===wY(r);)r=bY(r,n),n=rz(t=oz(t));return r}function gW(e,t){var n=[];return mW(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function mW(e,t,n){var r=wY(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);_Y(t,(function(t){mW(e,t,n)}))}function yW(e,t){var n=wY(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,kY(t,n.length>0?n:void 0)}_Y(t,(function(t){yW(e,t)}))}function xW(e,t){var n=AY(vW(e,t)),r=bY(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){bW(e,t)})),bW(e,r),TY(r,(function(t){bW(e,t)})),n}function bW(e,t){var n=wY(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Bl(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(Bl(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Xj(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?kY(t,void 0):n.length=o+1,GY(e.eventQueue_,AY(t),i);for(var s=0;s<r.length;s++)CU(r[s])}}var wW=function(e,t){var n=kW(e),r=n.namespace;"firebase.com"===n.domain&&fU(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||fU("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dU("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new FU(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new tz(n.pathString)}},kW=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(VX){}t+="/"+i}return t}(e.substring(c,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Rl(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):dU("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(a){r.e(a)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},EW=function(){function e(t,n,r,i){sn(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return ln(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+cc(this.snapshot.exportVal())}}]),e}(),_W=function(){function e(t,n,r){sn(this,e),this.eventRegistration=t,this.error=n,this.path=r}return ln(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),TW=function(){function e(t,n){sn(this,e),this.snapshotCallback=t,this.cancelCallback=n}return ln(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Bl(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),AW=function(){function e(t,n){sn(this,e),this._repo=t,this._path=n}return ln(e,[{key:"cancel",value:function(){var e=new Xl;return oW(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){zY("OnDisconnect.remove",this._path);var e=new Xl;return aW(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){zY("OnDisconnect.set",this._path),DY("OnDisconnect.set",e,this._path,!1);var t=new Xl;return aW(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){zY("OnDisconnect.setWithPriority",this._path),DY("OnDisconnect.setWithPriority",e,this._path,!1),FY("OnDisconnect.setWithPriority",t,!1);var n=new Xl;return function(e,t,n,r,i){var o=$z(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&bV(e.onDisconnect_,t,o),cW(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){zY("OnDisconnect.update",this._path),NY("OnDisconnect.update",e,this._path,!1);var t=new Xl;return function(e,t,n,r){if(pc(n))return lU("onDisconnect().update() called with empty data.  Don't do anything."),void cW(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&kU(n,(function(n,r){var i=$z(r);bV(e.onDisconnect_,lz(t,n),i)})),cW(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),SW=function(){function e(t,n,r,i){sn(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return ln(e,[{key:"key",get:function(){return cz(this._path)?null:az(this._path)}},{key:"ref",get:function(){return new OW(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=gV(this._queryParams),t=bU(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return gV(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Rc(t))instanceof e))return!1;var n=this._repo===t._repo,r=dz(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function CW(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function IW(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Tz){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==vU)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==gU)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===jz){if(null!=t&&!MY(t)||null!=n&&!MY(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Bl(e.getIndex()instanceof Qz||e.getIndex()===Zz,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function PW(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var OW=function(e){hn(n,e);var t=gn(n);function n(e,r){return sn(this,n),t.call(this,e,r,new hV,!1)}return ln(n,[{key:"parent",get:function(){var e=uz(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(SW),RW=function(){function e(t,n,r){sn(this,e),this._node=t,this.ref=n,this._index=r}return ln(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new tz(t),r=LW(this.ref,t);return new e(this._node.getChild(n),r,jz)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,LW(n.ref,r),jz))}))}},{key:"hasChild",value:function(e){var t=new tz(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function MW(e,t){return(e=Rc(e))._checkNotDeleted("ref"),void 0!==t?LW(e._root,t):e._root}function DW(e,t){(e=Rc(e))._checkNotDeleted("refFromURL");var n=wW(t,e._repo.repoInfo_.nodeAdmin);VY("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||fU("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),MW(e,n.path.toString())}function LW(e,t){var n,r,i,o;return null===rz((e=Rc(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),UY(n,r,i,o)):UY("child","path",t,!1),new OW(e._repo,lz(e._path,t))}function NW(e,t){e=Rc(e),zY("push",e._path),DY("push",t,e._path,!0);var n,r=QY(e._repo),i=tV(r),o=LW(e,i),a=LW(e,i);return n=null!=t?BW(a,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function FW(e){return zY("remove",e._path),BW(e,null)}function BW(e,t){e=Rc(e),zY("set",e._path),DY("set",t,e._path,!1);var n=new Xl;return iW(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function UW(e,t){e=Rc(e),zY("setPriority",e._path),FY("setPriority",t,!1);var n=new Xl;return iW(e._repo,lz(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function zW(e,t,n){if(zY("setWithPriority",e._path),DY("setWithPriority",t,e._path,!1),FY("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Xl;return iW(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function VW(e,t){NY("update",t,e._path,!1);var n=new Xl;return function(e,t,n,r){lW(e,"update",{path:t.toString(),value:n});var i=!0,o=JY(e),a={};if(kU(n,(function(n,r){i=!1,a[n]=gY(lz(t,n),$z(r),e.serverSyncTree_,o)})),i)lU("update() called with empty data.  Don't do anything."),cW(0,r,"ok",void 0);else{var s=nW(e),u=Hj(e.serverSyncTree_,t,a,s);YY(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||dU("update at "+t+" failed: "+n);var a=Xj(e.serverSyncTree_,s,!o),u=a.length>0?pW(e,t):t;GY(e.eventQueue_,u,a),cW(0,r,n,i)})),kU(n,(function(n){var r=xW(e,lz(t,n));pW(e,r)})),GY(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var jW=function(){function e(t){sn(this,e),this.callbackContext=t}return ln(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new EW("value",this,new RW(e.snapshotNode,new OW(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new _W(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),YW=function(){function e(t,n){sn(this,e),this.eventType=t,this.callbackContext=n}return ln(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new _W(this,e,t):null}},{key:"createEvent",value:function(e,t){Bl(null!=e.childName,"Child events should have a childName.");var n=LW(new OW(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new EW(e.type,this,new RW(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function WW(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){sW(e._repo,e,l),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new TW(n,o||void 0),l="value"===t?new jW(u):new YW(t,u);return function(e,t,n){var r;r=".info"===rz(t._path)?Jj(e.infoSyncTree_,t,n):Jj(e.serverSyncTree_,t,n),WY(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return sW(e._repo,e,l)}}function GW(e,t,n,r){return WW(e,"value",t,n,r)}function HW(e,t,n,r){return WW(e,"child_added",t,n,r)}function XW(e,t,n,r){return WW(e,"child_changed",t,n,r)}function qW(e,t,n,r){return WW(e,"child_moved",t,n,r)}function KW(e,t,n,r){return WW(e,"child_removed",t,n,r)}function $W(e,t,n){var r=null,i=n?new TW(n):null;"value"===t?r=new jW(i):t&&(r=new YW(t,i)),sW(e._repo,e,r)}var QW=ln((function e(){sn(this,e)})),JW=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this))._value=e,i._key=r,i}return ln(n,[{key:"_apply",value:function(e){DY("endAt",this._value,e._path,!0);var t=dV(e._queryParams,this._value,this._key);if(PW(t),IW(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new SW(e._repo,e._path,t,e._orderByCalled)}}]),n}(QW);function ZW(e,t){return BY("endAt","key",t,!0),new JW(e,t)}var eG=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this))._value=e,i._key=r,i}return ln(n,[{key:"_apply",value:function(e){DY("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Tz?("string"===typeof t&&(t=rV(t)),r=dV(e,t,n)):r=dV(e,t,null==n?vU:rV(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(PW(t),IW(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new SW(e._repo,e._path,t,e._orderByCalled)}}]),n}(QW);function tG(e,t){return BY("endBefore","key",t,!0),new eG(e,t)}var nG=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this))._value=e,i._key=r,i}return ln(n,[{key:"_apply",value:function(e){DY("startAt",this._value,e._path,!0);var t=fV(e._queryParams,this._value,this._key);if(PW(t),IW(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new SW(e._repo,e._path,t,e._orderByCalled)}}]),n}(QW);function rG(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return BY("startAt","key",t,!0),new nG(e,t)}var iG=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this))._value=e,i._key=r,i}return ln(n,[{key:"_apply",value:function(e){DY("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Tz?("string"===typeof t&&(t=nV(t)),r=fV(e,t,n)):r=fV(e,t,null==n?gU:nV(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(PW(t),IW(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new SW(e._repo,e._path,t,e._orderByCalled)}}]),n}(QW);function oG(e,t){return BY("startAfter","key",t,!0),new iG(e,t)}var aG=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this))._limit=e,r}return ln(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new SW(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(QW);function sG(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new aG(e)}var uG=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this))._limit=e,r}return ln(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new SW(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(QW);function lG(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uG(e)}var cG=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this))._path=e,r}return ln(n,[{key:"_apply",value:function(e){CW(e,"orderByChild");var t=new tz(this._path);if(cz(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Qz(t),r=pV(e._queryParams,n);return IW(r),new SW(e._repo,e._path,r,!0)}}]),n}(QW);function hG(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return UY("orderByChild","path",e,!1),new cG(e)}var fG=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"_apply",value:function(e){CW(e,"orderByKey");var t=pV(e._queryParams,Tz);return IW(t),new SW(e._repo,e._path,t,!0)}}]),n}(QW);function dG(){return new fG}var pG=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"_apply",value:function(e){CW(e,"orderByPriority");var t=pV(e._queryParams,jz);return IW(t),new SW(e._repo,e._path,t,!0)}}]),n}(QW);function vG(){return new pG}var gG=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"_apply",value:function(e){CW(e,"orderByValue");var t=pV(e._queryParams,Zz);return IW(t),new SW(e._repo,e._path,t,!0)}}]),n}(QW);function mG(){return new gG}var yG=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this))._value=e,i._key=r,i}return ln(n,[{key:"_apply",value:function(e){if(DY("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new JW(this._value,this._key)._apply(new nG(this._value,this._key)._apply(e))}}]),n}(QW);function xG(e,t){return BY("equalTo","key",t,!0),new yG(e,t)}function bG(e){for(var t=Rc(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t=s._apply(t)}return t}!function(e){Bl(!_j,"__referenceConstructor has already been defined"),_j=e}(OW),function(e){Bl(!Oj,"__referenceConstructor has already been defined"),Oj=e}(OW);var wG={},kG=!1;function EG(e,t,n,r){e.repoInfo_=new FU("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function _G(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||fU("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lU("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var a,s=wW(o,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://".concat(l,"?ns=").concat(u.namespace),u=(s=wW(o,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new RU(RU.OWNER):new OU(e.name,e.options,t);VY("Invalid Firebase Database URL",s),cz(s.path)||fU("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=wG[t.name];i||(i={},wG[t.name]=i);var o=i[e.toURLString()];o&&fU("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new KY(e,kG,n,r),i[e.toURLString()]=o,o}(u,e,c,new PU(e.name,n));return new TG(h,e)}var TG=function(){function e(t,n){sn(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return ln(e,[{key:"_repo",get:function(){return this._instanceStarted||($Y(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new OW(this._repo,nz())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=wG[t];n&&n[e.key]===e||fU("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),uW(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&fU("Cannot call "+e+" on a deleted database.")}}]),e}();function AG(){$U.IS_TRANSPORT_INITIALIZED&&dU("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function SG(){AG(),HU.forceDisallow()}function CG(){AG(),KU.forceDisallow(),HU.forceAllow()}function IG(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Rc(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&fU("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fU('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new RU(RU.OWNER);else if(r.mockUserToken){var a="string"===typeof r.mockUserToken?r.mockUserToken:ql(r.mockUserToken,e.app.options.projectId);o=new RU(a)}EG(i,t,n,o)}function PG(e){(e=Rc(e))._checkNotDeleted("goOffline"),uW(e._repo)}function OG(e){var t;(e=Rc(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(qY)}function RG(e,t){uU(e,t)}var MG={".sv":"timestamp"};var DG=function(){function e(t,n){sn(this,e),this.committed=t,this.snapshot=n}return ln(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function LG(e,t,n){var r;if(e=Rc(e),zY("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,o=new Xl,a=GW(e,(function(){}));return function(e,t,n,r,i,o){lW(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:rU(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=hW(e,t,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{LY("transaction failed: Data returned ",u,a.path),a.status=0;var l,c=bY(e.transactionQueueTree_,t),h=wY(c)||[];h.push(a),kY(c,h),"object"===typeof u&&null!==u&&fc(u,".priority")?(l=dc(u,".priority"),Bl(MY(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(Zj(e.serverSyncTree_,t)||qz.EMPTY_NODE).getPriority().val();var f=JY(e),d=$z(u,l),p=mY(d,s,f);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=p,a.currentWriteId=nW(e);var v=Gj(e.serverSyncTree_,t,p,a.currentWriteId,a.applyLocally);GY(e.eventQueue_,t,v),fW(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new RW(r,new OW(e._repo,e._path),jz),o.resolve(new DG(n,i)))}),a,i),o.promise}bz.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},bz.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){$B(Sh),bh(new Mc("database",(function(e,t){var n=t.instanceIdentifier;return _G(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Mh(XB,qB,e),Mh(XB,qB,"esm2017")}();var NG=new Wc("@firebase/database-compat"),FG=function(e){var t="FIREBASE WARNING: "+e;NG.warn(t)},BG=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Ac(e,t)+"must be a boolean.")},UG=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ac(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zG=function(){function e(t){sn(this,e),this._delegate=t}return ln(e,[{key:"cancel",value:function(e){Tc("OnDisconnect.cancel",0,1,arguments.length),Sc("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Tc("OnDisconnect.remove",0,1,arguments.length),Sc("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Tc("OnDisconnect.set",1,2,arguments.length),Sc("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Tc("OnDisconnect.setWithPriority",2,3,arguments.length),Sc("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Tc("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,FG("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Sc("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),VG=function(){function e(t,n){sn(this,e),this.committed=t,this.snapshot=n}return ln(e,[{key:"toJSON",value:function(){return Tc("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),jG=function(){function e(t,n){sn(this,e),this._database=t,this._delegate=n}return ln(e,[{key:"val",value:function(){return Tc("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Tc("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Tc("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Tc("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Tc("DataSnapshot.child",0,1,arguments.length),t=String(t),UY("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Tc("DataSnapshot.hasChild",1,1,arguments.length),UY("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Tc("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Tc("DataSnapshot.forEach",1,1,arguments.length),Sc("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Tc("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Tc("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Tc("DataSnapshot.ref",0,0,arguments.length),new WG(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),YG=function(){function e(t,n){sn(this,e),this.database=t,this._delegate=n}return ln(e,[{key:"on",value:function(t,n,r,i){var o,a=this;Tc("Query.on",2,4,arguments.length),Sc("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new jG(a.database,e),t)};u.userCallback=n,u.context=s.context;var l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return GW(this._delegate,u,l),n;case"child_added":return HW(this._delegate,u,l),n;case"child_removed":return KW(this._delegate,u,l),n;case"child_changed":return XW(this._delegate,u,l),n;case"child_moved":return qW(this._delegate,u,l),n;default:throw new Error(Ac("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Tc("Query.off",0,3,arguments.length),UG("Query.off",e,!0),Sc("Query.off","callback",t,!0),Cc("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,$W(this._delegate,e,r)}else $W(this._delegate,e)}},{key:"get",value:function(){var e=this;return function(e){return rW((e=Rc(e))._repo,e).then((function(t){return new RW(t,new OW(e._repo,e._path),e._queryParams.getIndex())}))}(this._delegate).then((function(t){return new jG(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var o=this;Tc("Query.once",1,4,arguments.length),Sc("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=new Xl,u=function(e,t){var r=new jG(o.database,e);n&&n.call(a.context,r,t),s.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)};switch(t){case"value":GW(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":HW(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":KW(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":XW(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":qW(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Ac("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Tc("Query.limitToFirst",1,1,arguments.length),new e(this.database,bG(this._delegate,sG(t)))}},{key:"limitToLast",value:function(t){return Tc("Query.limitToLast",1,1,arguments.length),new e(this.database,bG(this._delegate,lG(t)))}},{key:"orderByChild",value:function(t){return Tc("Query.orderByChild",1,1,arguments.length),new e(this.database,bG(this._delegate,hG(t)))}},{key:"orderByKey",value:function(){return Tc("Query.orderByKey",0,0,arguments.length),new e(this.database,bG(this._delegate,dG()))}},{key:"orderByPriority",value:function(){return Tc("Query.orderByPriority",0,0,arguments.length),new e(this.database,bG(this._delegate,vG()))}},{key:"orderByValue",value:function(){return Tc("Query.orderByValue",0,0,arguments.length),new e(this.database,bG(this._delegate,mG()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Tc("Query.startAt",0,2,arguments.length),new e(this.database,bG(this._delegate,rG(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Tc("Query.startAfter",0,2,arguments.length),new e(this.database,bG(this._delegate,oG(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Tc("Query.endAt",0,2,arguments.length),new e(this.database,bG(this._delegate,ZW(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Tc("Query.endBefore",0,2,arguments.length),new e(this.database,bG(this._delegate,tG(t,n)))}},{key:"equalTo",value:function(t,n){return Tc("Query.equalTo",1,2,arguments.length),new e(this.database,bG(this._delegate,xG(t,n)))}},{key:"toString",value:function(){return Tc("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Tc("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Tc("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new WG(this.database,new OW(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Sc(e,"cancel",r.cancel,!0),r.context=n,Cc(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Ac(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),WG=function(e){hn(n,e);var t=gn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,new SW(r._repo,r._path,new hV,!1))).database=e,i._delegate=r,i}return ln(n,[{key:"getKey",value:function(){return Tc("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Tc("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,LW(this._delegate,e))}},{key:"getParent",value:function(){Tc("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Tc("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Tc("Reference.set",1,2,arguments.length),Sc("Reference.set","onComplete",t,!0);var n=BW(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Tc("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,FG("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zY("Reference.update",this._delegate._path),Sc("Reference.update","onComplete",t,!0);var i=VW(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Tc("Reference.setWithPriority",2,3,arguments.length),Sc("Reference.setWithPriority","onComplete",n,!0);var r=zW(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Tc("Reference.remove",0,1,arguments.length),Sc("Reference.remove","onComplete",e,!0);var t=FW(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Tc("Reference.transaction",1,3,arguments.length),Sc("Reference.transaction","transactionUpdate",e,!1),Sc("Reference.transaction","onComplete",t,!0),BG("Reference.transaction","applyLocally",n,!0);var i=LG(this._delegate,e,{applyLocally:n}).then((function(e){return new VG(e.committed,new jG(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Tc("Reference.setPriority",1,2,arguments.length),Sc("Reference.setPriority","onComplete",t,!0);var n=UW(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Tc("Reference.push",0,2,arguments.length),Sc("Reference.push","onComplete",t,!0);var i=NW(this._delegate,e),o=i.then((function(e){return new n(r.database,e)}));t&&o.then((function(){return t(null)}),(function(e){return t(e)}));var a=new n(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a}},{key:"onDisconnect",value:function(){return zY("Reference.onDisconnect",this._delegate._path),new zG(new AW(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(YG),GG=function(){function e(t,n){var r=this;sn(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:SG,forceLongPolling:CG}}return ln(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};IG(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Tc("database.ref",0,1,arguments.length),e instanceof WG){var t=DW(this._delegate,e.toString());return new WG(this,t)}var n=MW(this._delegate,e);return new WG(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Tc(t,1,1,arguments.length);var n=DW(this._delegate,e);return new WG(this,n)}},{key:"goOffline",value:function(){return Tc("database.goOffline",0,0,arguments.length),PG(this._delegate)}},{key:"goOnline",value:function(){return Tc("database.goOnline",0,0,arguments.length),OG(this._delegate)}}]),e}();GG.ServerValue={TIMESTAMP:MG,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var HG=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;$B(r);var u=new Lc("auth-internal",new Bc("database-standalone"));return u.setComponent(new Mc("auth-internal",(function(){return i}),"PRIVATE")),{instance:new GG(_G(t,u,void 0,n,s),t),namespace:o}}}),XG=GG.ServerValue;!function(e){e.INTERNAL.registerComponent(new Mc("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new GG(i,r)}),"PUBLIC").setServiceProps({Reference:WG,Query:YG,Database:GG,DataSnapshot:jG,enableLogging:RG,INTERNAL:HG,ServerValue:XG}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.2.3")}(rf);rf.initializeApp({apiKey:"AIzaSyAKDKy6vH5hWsz9t6AOQj2zzTU_X4hcnHA",authDomain:"vinhnt-react.firebaseapp.com",projectId:"vinhnt-react",storageBucket:"vinhnt-react.appspot.com",messagingSenderId:"951499924008",appId:"1:951499924008:web:87f05ab3cbafdf184c8b1d",measurementId:"G-NJJY4B0TMZ"}),rf.analytics();var qG=rf.auth(),KG=rf.firestore(),$G=rf.database(),QG=rf,JG=function(e,t){KG.collection(e).add(ue(ue({},t),{},{createdAt:QG.firestore.FieldValue.serverTimestamp()}))},ZG=function(e){for(var t=e.split(" ").filter((function(e){return e})),n=t.length,r=[],i=[],o=[],a=0;a<n;a++)r[a]=!1;!function e(a){for(var s=0;s<n;s++)r[s]||(r[s]=!0,i[a]=t[s],a===n-1&&o.push(i.join(" ")),e(a+1),r[s]=!1)}(0);var s=o.reduce((function(e,t){var n=function(e){var t=[],n="";return e.split("").forEach((function(e){n+=e,t.push(n)})),t}(t);return[].concat(Z(e),Z(n))}),[]);return s},eH=new QG.auth.GoogleAuthProvider,tH=Vu.Title,nH=function(){var e=function(){var e=oe(re().mark((function e(t){var n,r,i,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qG.signInWithPopup(eH);case 2:n=e.sent,r=n.additionalUserInfo,i=n.user,null!==r&&void 0!==r&&r.isNewUser&&JG("users",{displayName:i.displayName,email:i.email,photoURL:i.photoURL,uid:i.uid,providerId:r.providerId,keywords:ZG(null===(o=i.displayName)||void 0===o?void 0:o.toLowerCase())});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ee.jsx)("div",{className:"container",children:(0,ee.jsx)(el,{justify:"center",style:{height:700},children:(0,ee.jsxs)(al,{span:8,children:[(0,ee.jsx)(tH,{style:{textAlign:"center"},level:3,children:"Chat App"}),(0,ee.jsx)(Ol,{style:{width:"100%",marginBottom:5},onClick:function(){return e()},children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Google"})]})})})};function rH(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var iH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"},oH=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:iH}))};oH.displayName="UserAddOutlined";var aH=r.forwardRef(oH),sH=n(7441);var uH=function(e){function t(e,r,u,l,f){for(var d,p,v,g,b,k=0,E=0,_=0,T=0,A=0,R=0,D=v=d=0,N=0,F=0,B=0,U=0,z=u.length,V=z-1,j="",Y="",W="",G="";N<z;){if(p=u.charCodeAt(N),N===V&&0!==E+T+_+k&&(0!==E&&(p=47===E?10:47),T=_=k=0,z++,V++),0===E+T+_+k){if(N===V&&(0<F&&(j=j.replace(h,"")),0<j.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:j+=u.charAt(N)}p=59}switch(p){case 123:for(d=(j=j.trim()).charCodeAt(0),v=1,U=++N;N<z;){switch(p=u.charCodeAt(N)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(N+1)){case 42:case 47:e:{for(D=N+1;D<V;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&N+2!==D){N=D+1;break e}break;case 10:if(47===p){N=D+1;break e}}N=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;N++<V&&u.charCodeAt(N)!==p;);}if(0===v)break;N++}if(v=u.substring(U,N),0===d&&(d=(j=j.replace(c,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(j=j.replace(h,"")),p=j.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=O}if(U=(v=t(r,F,v,p,f+1)).length,0<M&&(b=s(3,v,F=n(O,j,B),r,C,S,U,p,f,l),j=F.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:j=j.replace(w,a);case 100:case 109:case 45:v=j+"{"+v+"}";break;case 107:v=(j=j.replace(m,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=j+v,112===l&&(Y+=v,v="")}else v=""}else v=t(r,n(r,j,B),v,l,f+1);W+=v,v=B=F=D=d=0,j="",p=u.charCodeAt(++N);break;case 125:case 59:if(1<(U=(j=(0<F?j.replace(h,""):j).trim()).length))switch(0===D&&(d=j.charCodeAt(0),45===d||96<d&&123>d)&&(U=(j=j.replace(" ",":")).length),0<M&&void 0!==(b=s(1,j,r,e,C,S,Y.length,l,f,l))&&0===(U=(j=b.trim()).length)&&(j="\0\0"),d=j.charCodeAt(0),p=j.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=j+u.charAt(N);break}default:58!==j.charCodeAt(U-1)&&(Y+=i(j,d,p,j.charCodeAt(2)))}B=F=D=d=0,j="",p=u.charCodeAt(++N)}}switch(p){case 13:case 10:47===E?E=0:0===1+d&&107!==l&&0<j.length&&(F=1,j+="\0"),0<M*L&&s(0,j,r,e,C,S,Y.length,l,f,l),S=1,C++;break;case 59:case 125:if(0===E+T+_+k){S++;break}default:switch(S++,g=u.charAt(N),p){case 9:case 32:if(0===T+k+E)switch(A){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===T+E+k&&(F=B=1,g="\f"+g);break;case 108:if(0===T+E+k+I&&0<D)switch(N-D){case 2:112===A&&58===u.charCodeAt(N-3)&&(I=A);case 8:111===R&&(I=R)}break;case 58:0===T+E+k&&(D=N);break;case 44:0===E+_+T+k&&(F=1,g+="\r");break;case 34:case 39:0===E&&(T=T===p?0:0===T?p:T);break;case 91:0===T+E+_&&k++;break;case 93:0===T+E+_&&k--;break;case 41:0===T+E+k&&_--;break;case 40:if(0===T+E+k){if(0===d)if(2*A+3*R===533);else d=1;_++}break;case 64:0===E+_+T+k+D+v&&(v=1);break;case 42:case 47:if(!(0<T+k+_))switch(E){case 0:switch(2*p+3*u.charCodeAt(N+1)){case 235:E=47;break;case 220:U=N,E=42}break;case 42:47===p&&42===A&&U+2!==N&&(33===u.charCodeAt(U+2)&&(Y+=u.substring(U,N+1)),g="",E=0)}}0===E&&(j+=g)}R=A,A=p,N++}if(0<(U=Y.length)){if(F=r,0<M&&(void 0!==(b=s(2,Y,F,e,C,S,U,l,f,l))&&0===(Y=b).length))return G+Y+W;if(Y=F.join(",")+"{"+Y+"}",0!==P*I){switch(2!==P||o(Y,2)||(I=0),I){case 111:Y=Y.replace(x,":-moz-$1")+Y;break;case 112:Y=Y.replace(y,"::-webkit-input-$1")+Y.replace(y,"::-moz-$1")+Y.replace(y,":-ms-input-$1")+Y}I=0}}return G+Y+W}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[u++]=r(e[l]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(A,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(_,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,c){for(var h,f=0,d=t;f<M;++f)switch(h=R[f].call(l,e,d,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?P=1:(P=2,D=e):P=0),u}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<M){var i=s(-1,n,r,r,C,S,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(O,r,n,0,0);return 0<M&&(void 0!==(i=s(-2,o,r,r,C,S,o.length,0,0,0))&&(o=i)),"",I=0,S=C=1,o}var c=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,x=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,E=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,S=1,C=1,I=0,P=1,O=[],R=[],M=0,D=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:M=R.length=0;break;default:if("function"===typeof t)R[M++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},l.set=u,void 0!==e&&u(e),l},lH={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var cH=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},hH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fH=cH((function(e){return hH.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),dH=fH,pH=n(2110),vH=n.n(pH);function gH(){return(gH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mH=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},yH=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,sH.typeOf)(e)},xH=Object.freeze([]),bH=Object.freeze({});function wH(e){return"function"==typeof e}function kH(e){return e.displayName||e.name||"Component"}function EH(e){return e&&"string"==typeof e.styledComponentId}var _H="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",TH="undefined"!=typeof window&&"HTMLElement"in window,AH=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/vinhnt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function SH(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var CH=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&SH(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),IH=new Map,PH=new Map,OH=1,RH=function(e){if(IH.has(e))return IH.get(e);for(;PH.has(OH);)OH++;var t=OH++;return IH.set(e,t),PH.set(t,e),t},MH=function(e){return PH.get(e)},DH=function(e,t){t>=OH&&(OH=t+1),IH.set(e,t),PH.set(t,e)},LH="style["+_H+'][data-styled-version="5.3.5"]',NH=new RegExp("^"+_H+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),FH=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},BH=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(NH);if(s){var u=0|parseInt(s[1],10),l=s[2];0!==u&&(DH(l,u),FH(e,l,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},UH=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},zH=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(_H))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(_H,"active"),r.setAttribute("data-styled-version","5.3.5");var a=UH();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},VH=function(){function e(e){var t=this.element=zH(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}SH(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),jH=function(){function e(e){var t=this.element=zH(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),YH=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),WH=TH,GH={isServer:!TH,useCSSOMInjection:!AH},HH=function(){function e(e,t,n){void 0===e&&(e=bH),void 0===t&&(t={}),this.options=gH({},GH,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&TH&&WH&&(WH=!1,function(e){for(var t=document.querySelectorAll(LH),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(_H)&&(BH(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return RH(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(gH({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new YH(i):r?new VH(i):new jH(i),new CH(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(RH(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(RH(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(RH(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=MH(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=_H+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+s+u+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),XH=/(a)(d)/gi,qH=function(e){return String.fromCharCode(e+(e>25?39:97))};function KH(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=qH(t%52)+n;return(qH(t%52)+n).replace(XH,"$1-$2")}var $H=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},QH=function(e){return $H(5381,e)};function JH(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(wH(n)&&!EH(n))return!1}return!0}var ZH=QH("5.3.5"),eX=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&JH(e),this.componentId=t,this.baseHash=$H(ZH,t),this.baseStyle=n,HH.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=yX(this.rules,e,t,n).join(""),a=KH($H(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,l=$H(this.baseHash,n.hash),c="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)c+=f;else if(f){var d=yX(f,e,t,n),p=Array.isArray(d)?d.join(""):d;l=$H(l,p+h),c+=p}}if(c){var v=KH(l>>>0);if(!t.hasNameForId(r,v)){var g=n(c,"."+v,void 0,r);t.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},e}(),tX=/^\s*\/\/.*$/gm,nX=[":","[",".","#"];function rX(e){var t,n,r,i,o=void 0===e?bH:e,a=o.options,s=void 0===a?bH:a,u=o.plugins,l=void 0===u?xH:u,c=new uH(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,l,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==nX.indexOf(o[n.length])||o.match(i)?e:"."+t};function p(e,o,a,s){void 0===s&&(s="&");var u=e.replace(tX,""),l=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(a||!o?"":o,l)}return c.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=l.length?l.reduce((function(e,t){return t.name||SH(15),$H(e,t.name)}),5381).toString():"",p}var iX=r.createContext(),oX=(iX.Consumer,r.createContext()),aX=(oX.Consumer,new HH),sX=rX();function uX(){return(0,r.useContext)(iX)||aX}function lX(){return(0,r.useContext)(oX)||sX}function cX(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],o=uX(),a=(0,r.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return rX({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){ea()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(iX.Provider,{value:a},r.createElement(oX.Provider,{value:s},e.children))}var hX=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=sX);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return SH(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=sX),this.name+e.hash},e}(),fX=/([A-Z])/,dX=/([A-Z])/g,pX=/^ms-/,vX=function(e){return"-"+e.toLowerCase()};function gX(e){return fX.test(e)?e.replace(dX,vX).replace(pX,"-ms-"):e}var mX=function(e){return null==e||!1===e||""===e};function yX(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=yX(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return mX(e)?"":EH(e)?"."+e.styledComponentId:wH(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:yX(e(t),t,n,r):e instanceof hX?n?(e.inject(n,r),e.getName(r)):e:yH(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!mX(t[a])&&(Array.isArray(t[a])&&t[a].isCss||wH(t[a])?o.push(gX(a)+":",t[a],";"):yH(t[a])?o.push.apply(o,e(t[a],a)):o.push(gX(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in lH?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}var xX=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function bX(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wH(e)||yH(e)?xX(yX(mH(xH,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:xX(yX(mH(e,n)))}new Set;var wX=function(e,t,n){return void 0===n&&(n=bH),e.theme!==n.theme&&e.theme||t||n.theme},kX=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,EX=/(^-|-$)/g;function _X(e){return e.replace(kX,"-").replace(EX,"")}var TX=function(e){return KH(QH(e)>>>0)};function AX(e){return"string"==typeof e&&!0}var SX=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},CX=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function IX(e,t,n){var r=e[n];SX(t)&&SX(r)?PX(r,t):e[n]=t}function PX(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(SX(a))for(var s in a)CX(s)&&IX(e,a[s],s)}return e}var OX=r.createContext();OX.Consumer;var RX={};function MX(e,t,n){var i=EH(e),o=!AX(e),a=t.attrs,s=void 0===a?xH:a,u=t.componentId,l=void 0===u?function(e,t){var n="string"!=typeof e?"sc":_X(e);RX[n]=(RX[n]||0)+1;var r=n+"-"+TX("5.3.5"+n+RX[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,c=t.displayName,h=void 0===c?function(e){return AX(e)?"styled."+e:"Styled("+kH(e)+")"}(e):c,f=t.displayName&&t.componentId?_X(t.displayName)+"-"+t.componentId:t.componentId||l,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,g=new eX(n,f,i?e.componentStyle:void 0),m=g.isStatic&&0===s.length,y=function(e,t){return function(e,t,n,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,l=e.shouldForwardProp,c=e.styledComponentId,h=e.target,f=function(e,t,n){void 0===e&&(e=bH);var r=gH({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in wH(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(wX(t,(0,r.useContext)(OX),s)||bH,t,o),d=f[0],p=f[1],v=function(e,t,n,r){var i=uX(),o=lX();return t?e.generateAndInjectStyles(bH,i,o):e.generateAndInjectStyles(n,i,o)}(a,i,d),g=n,m=p.$as||t.$as||p.as||t.as||h,y=AX(m),x=p!==t?gH({},t,{},p):t,b={};for(var w in x)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=x[w]:(l?l(w,dH,m):!y||dH(w))&&(b[w]=x[w]));return t.style&&p.style!==t.style&&(b.style=gH({},t.style,{},p.style)),b.className=Array.prototype.concat(u,c,v!==c?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=g,(0,r.createElement)(m,b)}(v,e,t,m)};return y.displayName=h,(v=r.forwardRef(y)).attrs=d,v.componentStyle=g,v.displayName=h,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):xH,v.styledComponentId=f,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(AX(e)?e:_X(kH(e)));return MX(e,gH({},i,{attrs:d,componentId:o}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?PX({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},o&&vH()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var DX=function(e){return function e(t,n,r){if(void 0===r&&(r=bH),!(0,sH.isValidElementType)(n))return SH(1,String(n));var i=function(){return t(n,r,bX.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,gH({},r,{},i))},i.attrs=function(i){return e(t,n,gH({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(MX,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){DX[e]=DX(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=JH(e),HH.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(yX(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&HH.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=UH();return"<style "+[n&&'nonce="'+n+'"',_H+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?SH(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return SH(2);var n=((t={})[_H]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=UH();return i&&(n.nonce=i),[r.createElement("style",gH({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new HH({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?SH(2):r.createElement(cX,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return SH(3)}}();var LX=DX;function NX(e){var t=c(r.useState(e),2),n=t[0],i=t[1];return r.useEffect((function(){var t=setTimeout((function(){i(e)}),e.length?0:10);return function(){clearTimeout(t)}}),[e]),n}var FX=[];function BX(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function UX(e){var t=e.help,n=e.helpStatus,i=e.errors,o=void 0===i?FX:i,a=e.warnings,s=void 0===a?FX:a,u=e.className,l=r.useContext(Us).prefixCls,c=r.useContext(In).getPrefixCls,f="".concat(l,"-item-explain"),d=c(),p=NX(o),v=NX(s),g=r.useMemo((function(){return void 0!==t&&null!==t?[BX(t,n,"help")]:[].concat(Z(p.map((function(e,t){return BX(e,"error","error",t)}))),Z(v.map((function(e,t){return BX(e,"warning","warning",t)}))))}),[t,n,p,v]);return r.createElement(Fr,h({},Eo,{motionName:"".concat(d,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!g.length,onLeaveStart:function(e){return e.style.height="auto",{height:e.offsetHeight}}}),(function(e){var t=e.className,n=e.style;return r.createElement("div",{className:de()(f,t,u),style:n},r.createElement(Nr,h({keys:g},Eo,{motionName:"".concat(d,"-show-help-item"),component:!1}),(function(e){var t=e.key,n=e.error,i=e.errorStatus,o=e.className,a=e.style;return r.createElement("div",{key:t,role:"alert",className:de()(o,ae({},"".concat(f,"-").concat(i),i)),style:a},n)})))}))}function zX(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function VX(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function jX(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return VX(n.overflowY,t)||VX(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function YX(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}function WX(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!zX(e))throw new TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,c=[],h=e;zX(h)&&u(h);){if((h=h.parentElement)===l){c.push(h);break}null!=h&&h===document.body&&jX(h)&&!jX(document.documentElement)||null!=h&&jX(h,s)&&c.push(h)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,d=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),m=g.height,y=g.width,x=g.top,b=g.right,w=g.bottom,k=g.left,E="start"===i||"nearest"===i?x:"end"===i?w:x+m/2,_="center"===o?k+y/2:"end"===o?b:k,T=[],A=0;A<c.length;A++){var S=c[A],C=S.getBoundingClientRect(),I=C.height,P=C.width,O=C.top,R=C.right,M=C.bottom,D=C.left;if("if-needed"===r&&x>=0&&k>=0&&w<=d&&b<=f&&x>=O&&w<=M&&k>=D&&b<=R)return T;var L=getComputedStyle(S),N=parseInt(L.borderLeftWidth,10),F=parseInt(L.borderTopWidth,10),B=parseInt(L.borderRightWidth,10),U=parseInt(L.borderBottomWidth,10),z=0,V=0,j="offsetWidth"in S?S.offsetWidth-S.clientWidth-N-B:0,Y="offsetHeight"in S?S.offsetHeight-S.clientHeight-F-U:0;if(l===S)z="start"===i?E:"end"===i?E-d:"nearest"===i?YX(v,v+d,d,F,U,v+E,v+E+m,m):E-d/2,V="start"===o?_:"center"===o?_-f/2:"end"===o?_-f:YX(p,p+f,f,N,B,p+_,p+_+y,y),z=Math.max(0,z+v),V=Math.max(0,V+p);else{z="start"===i?E-O-F:"end"===i?E-M+U+Y:"nearest"===i?YX(O,M,I,F,U+Y,E,E+m,m):E-(O+I/2)+Y/2,V="start"===o?_-D-N:"center"===o?_-(D+P/2)+j/2:"end"===o?_-R+B+j:YX(D,R,P,N,B+j,_,_+y,y);var W=S.scrollLeft,G=S.scrollTop;E+=G-(z=Math.max(0,Math.min(G+z,S.scrollHeight-I+Y))),_+=W-(V=Math.max(0,Math.min(W+V,S.scrollWidth-P+j)))}T.push({el:S,top:z,left:V})}return T}function GX(e){return e===Object(e)&&0!==Object.keys(e).length}var HX=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(GX(t)&&"function"===typeof t.behavior)return t.behavior(n?WX(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:GX(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,o=e.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:t}):(r.scrollTop=i,r.scrollLeft=o)}))}(WX(e,r),r.behavior)}},XX=["parentNode"];function qX(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function KX(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):XX.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function $X(e){return qX(e).join("_")}function QX(e){var t=c(Ss(),1)[0],n=r.useRef({}),i=r.useMemo((function(){return null!==e&&void 0!==e?e:h(h({},t),{__INTERNAL__:{itemRef:function(e){return function(t){var r=$X(e);t?n.current[r]=t:delete n.current[r]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=qX(e),r=KX(n,i.__INTERNAL__.name),o=r?document.getElementById(r):null;o&&HX(o,h({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=$X(e);return n.current[t]}})}),[e,t]);return[i]}var JX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ZX=function(e,t){var n,i=r.useContext(ca),o=r.useContext(sa),a=r.useContext(In),s=a.getPrefixCls,u=a.direction,l=a.form,f=e.prefixCls,d=e.className,p=void 0===d?"":d,v=e.size,g=void 0===v?i:v,m=e.disabled,y=void 0===m?o:m,x=e.form,b=e.colon,w=e.labelAlign,k=e.labelWrap,E=e.labelCol,_=e.wrapperCol,T=e.hideRequiredMark,A=e.layout,S=void 0===A?"horizontal":A,C=e.scrollToFirstError,I=e.requiredMark,P=e.onFinishFailed,O=e.name,R=JX(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),M=(0,r.useMemo)((function(){return void 0!==I?I:l&&void 0!==l.requiredMark?l.requiredMark:!T}),[T,I,l]),D=null!==b&&void 0!==b?b:null===l||void 0===l?void 0:l.colon,L=s("form",f),N=de()(L,(ae(n={},"".concat(L,"-").concat(S),!0),ae(n,"".concat(L,"-hide-required-mark"),!1===M),ae(n,"".concat(L,"-rtl"),"rtl"===u),ae(n,"".concat(L,"-").concat(g),g),n),p),F=c(QX(x),1)[0],B=F.__INTERNAL__;B.name=O;var U=(0,r.useMemo)((function(){return{name:O,labelAlign:w,labelCol:E,labelWrap:k,wrapperCol:_,vertical:"vertical"===S,colon:D,requiredMark:M,itemRef:B.itemRef,form:F}}),[O,w,E,_,S,D,M,F]);r.useImperativeHandle(t,(function(){return F}));return r.createElement(aa,{disabled:y},r.createElement(la,{size:g},r.createElement(Fs.Provider,{value:U},r.createElement(Ns,h({id:O},R,{name:O,onFinishFailed:function(e){null===P||void 0===P||P(e);var t={block:"nearest"};C&&e.errorFields.length&&("object"===ne(C)&&(t=C),F.scrollToField(e.errorFields[0].name,t))},form:F,className:N})))))},eq=r.forwardRef(ZX),tq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},nq=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:tq}))};nq.displayName="CheckCircleFilled";var rq=r.forwardRef(nq),iq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},oq=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:iq}))};oq.displayName="ExclamationCircleFilled";var aq=r.forwardRef(oq),sq=function(e){var t=e.prefixCls,n=e.status,i=e.wrapperCol,o=e.children,a=e.errors,s=e.warnings,u=e._internalItemRender,l=e.extra,c=e.help,f="".concat(t,"-item"),d=r.useContext(Fs),p=i||d.wrapperCol||{},v=de()("".concat(f,"-control"),p.className),g=r.useMemo((function(){return h({},d)}),[d]);delete g.labelCol,delete g.wrapperCol;var m=r.createElement("div",{className:"".concat(f,"-control-input")},r.createElement("div",{className:"".concat(f,"-control-input-content")},o)),y=r.useMemo((function(){return{prefixCls:t,status:n}}),[t,n]),x=r.createElement(Us.Provider,{value:y},r.createElement(UX,{errors:a,warnings:s,help:c,helpStatus:n,className:"".concat(f,"-explain-connected")})),b=l?r.createElement("div",{className:"".concat(f,"-extra")},l):null,w=u&&"pro_table_render"===u.mark&&u.render?u.render(e,{input:m,errorList:x,extra:b}):r.createElement(r.Fragment,null,m,x,b);return r.createElement(Fs.Provider,{value:g},r.createElement(ol,h({},p,{className:v}),w))},uq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},lq=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:uq}))};lq.displayName="QuestionCircleOutlined";var cq=r.forwardRef(lq),hq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var fq=function(e){var t=e.prefixCls,n=e.label,i=e.htmlFor,o=e.labelCol,a=e.labelAlign,s=e.colon,u=e.required,l=e.requiredMark,f=e.tooltip,d=c(Bn("Form"),1)[0];return n?r.createElement(Fs.Consumer,{key:"label"},(function(e){var c,p,v=e.vertical,g=e.labelAlign,m=e.labelCol,y=e.labelWrap,x=e.colon,b=o||m||{},w=a||g,k="".concat(t,"-item-label"),E=de()(k,"left"===w&&"".concat(k,"-left"),b.className,ae({},"".concat(k,"-wrap"),!!y)),_=n,T=!0===s||!1!==x&&!1!==s;T&&!v&&"string"===typeof n&&""!==n.trim()&&(_=n.replace(/[:|\uff1a]\s*$/,""));var A=function(e){return e?"object"!==ne(e)||r.isValidElement(e)?{title:e}:e:null}(f);if(A){var S=A.icon,C=void 0===S?r.createElement(cq,null):S,I=hq(A,["icon"]),P=r.createElement(Lo,h({},I),r.cloneElement(C,{className:"".concat(t,"-item-tooltip"),title:""}));_=r.createElement(r.Fragment,null,_,P)}"optional"!==l||u||(_=r.createElement(r.Fragment,null,_,r.createElement("span",{className:"".concat(t,"-item-optional"),title:""},(null===d||void 0===d?void 0:d.optional)||(null===(p=Ln.Form)||void 0===p?void 0:p.optional))));var O=de()((ae(c={},"".concat(t,"-item-required"),u),ae(c,"".concat(t,"-item-required-mark-optional"),"optional"===l),ae(c,"".concat(t,"-item-no-colon"),!T),c));return r.createElement(ol,h({},b,{className:E}),r.createElement("label",{htmlFor:i,className:O,title:"string"===typeof n?n:""},_))})):null};var dq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},pq=(vo("success","warning","error","validating",""),r.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));var vq={success:rq,warning:aq,error:Hs,validating:xl};var gq=function(e){var t=e.name,n=e.noStyle,i=e.dependencies,o=e.prefixCls,a=e.style,s=e.className,u=e.shouldUpdate,l=e.hasFeedback,f=e.help,d=e.rules,p=e.validateStatus,v=e.children,g=e.required,m=e.label,y=e.messageVariables,x=e.trigger,b=void 0===x?"onChange":x,w=e.validateTrigger,k=e.hidden,E=dq(e,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),_=(0,r.useContext)(In).getPrefixCls,T=(0,r.useContext)(Fs),A=T.name,S=T.requiredMark,C="function"===typeof v,I=(0,r.useContext)(Bs),P=(0,r.useContext)(da).validateTrigger,O=void 0!==w?w:P,R=function(e){return!(void 0===e||null===e)}(t),M=_("form",o),D=r.useContext(xs),L=r.useRef(),N=function(e){var t=c(r.useState(e),2),n=t[0],i=t[1],o=(0,r.useRef)(null),a=(0,r.useRef)([]),s=(0,r.useRef)(!1);return r.useEffect((function(){return s.current=!1,function(){s.current=!0,Wn.cancel(o.current),o.current=null}}),[]),[n,function(e){s.current||(null===o.current&&(a.current=[],o.current=Wn((function(){o.current=null,i((function(e){var t=e;return a.current.forEach((function(e){t=e(t)})),t}))}))),a.current.push(e))}]}({}),F=c(N,2),B=F[0],U=F[1],z=c(Tn((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),2),V=z[0],j=z[1],Y=function(e,t){U((function(n){var r=h({},n),i=[].concat(Z(e.name.slice(0,-1)),Z(t)).join("__SPLIT__");return e.destroy?delete r[i]:r[i]=e,r}))},W=c(r.useMemo((function(){var e=Z(V.errors),t=Z(V.warnings);return Object.values(B).forEach((function(n){e.push.apply(e,Z(n.errors||[])),t.push.apply(t,Z(n.warnings||[]))})),[e,t]}),[B,V.errors,V.warnings]),2),G=W[0],H=W[1],X=NX(G),q=NX(H),K=function(){var e=r.useContext(Fs).itemRef,t=r.useRef({});return function(n,r){var i=r&&"object"===ne(r)&&r.ref,o=n.join("_");return t.current.name===o&&t.current.originRef===i||(t.current.name=o,t.current.originRef=i,t.current.ref=Ot(e(n),i)),t.current.ref}}(),$="";void 0!==p?$=p:(null===V||void 0===V?void 0:V.validating)?$="validating":X.length?$="error":q.length?$="warning":(null===V||void 0===V?void 0:V.touched)&&($="success");var Q=(0,r.useMemo)((function(){var e;if(l){var t=$&&vq[$];e=t?r.createElement("span",{className:de()("".concat(M,"-item-feedback-icon"),"".concat(M,"-item-feedback-icon-").concat($))},r.createElement(t,null)):null}return{status:$,hasFeedback:l,feedbackIcon:e,isFormItemInput:!0}}),[$,l]);function J(t,i,o){var u;if(n&&!k)return t;var c=(ae(u={},"".concat(M,"-item"),!0),ae(u,"".concat(M,"-item-with-help"),void 0!==f&&null!==f||X.length||q.length),ae(u,"".concat(s),!!s),ae(u,"".concat(M,"-item-has-feedback"),$&&l),ae(u,"".concat(M,"-item-has-success"),"success"===$),ae(u,"".concat(M,"-item-has-warning"),"warning"===$),ae(u,"".concat(M,"-item-has-error"),"error"===$),ae(u,"".concat(M,"-item-is-validating"),"validating"===$),ae(u,"".concat(M,"-item-hidden"),k),u);return r.createElement(Zu,h({className:de()(c),style:a,key:"row"},Cn(E,["colon","extra","fieldKey","requiredMark","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),r.createElement(fq,h({htmlFor:i,required:o,requiredMark:S},e,{prefixCls:M})),r.createElement(sq,h({},e,V,{errors:X,warnings:q,prefixCls:M,status:$,help:f}),r.createElement(Bs.Provider,{value:Y},r.createElement(zs.Provider,{value:Q},t))))}if(!R&&!C&&!i)return J(v);var ee={};return"string"===typeof m?ee.label=m:t&&(ee.label=String(t)),y&&(ee=h(h({},ee),y)),r.createElement(ys,h({},e,{messageVariables:ee,trigger:b,validateTrigger:O,onMetaChange:function(e){var t=null===D||void 0===D?void 0:D.getKey(e.name);if(j(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),n&&I){var r=e.name;if(e.destroy)r=L.current||r;else if(void 0!==t){var i=c(t,2),o=i[0],a=i[1];r=[o].concat(Z(a)),L.current=r}I(e,r)}}}),(function(n,o,a){var s=qX(t).length&&o?o.name:[],l=KX(s,A),c=void 0!==g?g:!(!d||!d.some((function(e){if(e&&"object"===ne(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(a);return t&&t.required&&!t.warningOnly}return!1}))),f=h({},n),p=null;if(Array.isArray(v)&&R)p=v;else if(C&&(!u&&!i||R));else if(!i||C||R)if(Co(v)){var m=h(h({},v.props),f);m.id||(m.id=l),Rt(v)&&(m.ref=K(s,v)),new Set([].concat(Z(qX(b)),Z(qX(O)))).forEach((function(e){m[e]=function(){for(var t,n,r,i,o,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];null===(r=f[e])||void 0===r||(t=r).call.apply(t,[f].concat(s)),null===(o=(i=v.props)[e])||void 0===o||(n=o).call.apply(n,[i].concat(s))}})),p=r.createElement(pq,{value:f[e.valuePropName||"value"],update:v},Po(v,m))}else p=C&&(u||i)&&!R?v(a):v;else;return J(p,l,c)}))},mq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},yq=function(e){var t=e.prefixCls,n=e.children,i=mq(e,["prefixCls","children"]),o=(0,r.useContext(In).getPrefixCls)("form",t),a=r.useMemo((function(){return{prefixCls:o,status:"error"}}),[o]);return r.createElement(bs,h({},i),(function(e,t,i){return r.createElement(Us.Provider,{value:a},n(e.map((function(e){return h(h({},e),{fieldKey:e.key})})),t,{errors:i.errors,warnings:i.warnings}))}))};var xq=eq;xq.Item=gq,xq.List=yq,xq.ErrorList=UX,xq.useForm=QX,xq.useFormInstance=function(){return(0,r.useContext)(Fs).form},xq.useWatch=Ds,xq.Provider=function(e){var t=Cn(e,["prefixCls"]);return r.createElement(Is,h({},t))},xq.create=function(){};var bq=xq;function wq(){var e=r.useReducer((function(e){return e+1}),0);return c(e,2)[1]}var kq=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,r.useRef)({}),n=wq();return(0,r.useEffect)((function(){var r=Ku.subscribe((function(r){t.current=r,e&&n()}));return function(){return Ku.unsubscribe(r)}}),[]),t.current},Eq=r.createContext("default"),_q=function(e){var t=e.children,n=e.size;return r.createElement(Eq.Consumer,null,(function(e){return r.createElement(Eq.Provider,{value:n||e},t)}))},Tq=Eq,Aq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Sq=function(e,t){var n,i,o=r.useContext(Tq),a=c(r.useState(1),2),s=a[0],u=a[1],l=c(r.useState(!1),2),f=l[0],d=l[1],p=c(r.useState(!0),2),v=p[0],g=p[1],m=r.useRef(),y=r.useRef(),x=Ot(t,m),b=r.useContext(In).getPrefixCls,w=function(){if(y.current&&m.current){var t=y.current.offsetWidth,n=m.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,i=void 0===r?4:r;2*i<n&&u(n-2*i<t?(n-2*i)/t:1)}}};r.useEffect((function(){d(!0)}),[]),r.useEffect((function(){g(!0),u(1)}),[e.src]),r.useEffect((function(){w()}),[e.gap]);var k,E=e.prefixCls,_=e.shape,T=e.size,A=e.src,S=e.srcSet,C=e.icon,I=e.className,P=e.alt,O=e.draggable,R=e.children,M=e.crossOrigin,D=Aq(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),L="default"===T?o:T,N=Object.keys("object"===ne(L)&&L||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),F=kq(N),B=r.useMemo((function(){if("object"!==ne(L))return{};var e=Wu.find((function(e){return F[e]})),t=L[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:C?t/2:18}:{}}),[F,L]),U=b("avatar",E),z=de()((ae(n={},"".concat(U,"-lg"),"large"===L),ae(n,"".concat(U,"-sm"),"small"===L),n)),V=r.isValidElement(A),j=de()(U,z,(ae(i={},"".concat(U,"-").concat(_),!!_),ae(i,"".concat(U,"-image"),V||A&&v),ae(i,"".concat(U,"-icon"),!!C),i),I),Y="number"===typeof L?{width:L,height:L,lineHeight:"".concat(L,"px"),fontSize:C?L/2:18}:{};if("string"===typeof A&&v)k=r.createElement("img",{src:A,draggable:O,srcSet:S,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&g(!1)},alt:P,crossOrigin:M});else if(V)k=A;else if(C)k=C;else if(f||1!==s){var W="scale(".concat(s,") translateX(-50%)"),G={msTransform:W,WebkitTransform:W,transform:W},H="number"===typeof L?{lineHeight:"".concat(L,"px")}:{};k=r.createElement(kn,{onResize:w},r.createElement("span",{className:"".concat(U,"-string"),ref:function(e){y.current=e},style:h(h({},H),G)},R))}else k=r.createElement("span",{className:"".concat(U,"-string"),style:{opacity:0},ref:function(e){y.current=e}},R);return delete D.onError,delete D.gap,r.createElement("span",h({},D,{style:h(h(h({},Y),B),D.style),className:j,ref:x}),k)},Cq=r.forwardRef(Sq);Cq.defaultProps={shape:"circle",size:"default"};var Iq=Cq,Pq=function(e){return e?"function"===typeof e?e():e:null},Oq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Rq=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.title,o=e.content,a=e._overlay,s=Oq(e,["prefixCls","title","content","_overlay"]),u=r.useContext(In).getPrefixCls,l=u("popover",n),c=u();return r.createElement(Lo,h({},s,{prefixCls:l,ref:t,overlay:a||function(e){if(i||o)return r.createElement(r.Fragment,null,i&&r.createElement("div",{className:"".concat(e,"-title")},Pq(i)),r.createElement("div",{className:"".concat(e,"-inner-content")},Pq(o)))}(l),transitionName:ko(c,"zoom-big",s.transitionName)}))}));Rq.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var Mq=Rq,Dq=function(e){var t=r.useContext(In),n=t.getPrefixCls,i=t.direction,o=e.prefixCls,a=e.className,s=void 0===a?"":a,u=e.maxCount,l=e.maxStyle,c=e.size,h=n("avatar-group",o),f=de()(h,ae({},"".concat(h,"-rtl"),"rtl"===i),s),d=e.children,p=e.maxPopoverPlacement,v=void 0===p?"top":p,g=e.maxPopoverTrigger,m=void 0===g?"hover":g,y=Ct(d).map((function(e,t){return Po(e,{key:"avatar-key-".concat(t)})})),x=y.length;if(u&&u<x){var b=y.slice(0,u),w=y.slice(u,x);return b.push(r.createElement(Mq,{key:"avatar-popover-key",content:w,trigger:m,placement:v,overlayClassName:"".concat(h,"-popover")},r.createElement(Iq,{style:l},"+".concat(x-u)))),r.createElement(_q,{size:c},r.createElement("div",{className:f,style:e.style},b))}return r.createElement(_q,{size:c},r.createElement("div",{className:f,style:e.style},y))},Lq=Iq;Lq.Group=Dq;var Nq=Lq,Fq=function(e){var t,n=(0,r.useContext)(In),i=n.getPrefixCls,o=n.direction,a=e.prefixCls,s=e.className,u=void 0===s?"":s,l=i("input-group",a),c=de()(l,(ae(t={},"".concat(l,"-lg"),"large"===e.size),ae(t,"".concat(l,"-sm"),"small"===e.size),ae(t,"".concat(l,"-compact"),e.compact),ae(t,"".concat(l,"-rtl"),"rtl"===o),t),u),f=(0,r.useContext)(zs),d=(0,r.useMemo)((function(){return h(h({},f),{isFormItemInput:!1})}),[f]);return r.createElement("span",{className:c,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(zs.Provider,{value:d},e.children))},Bq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Uq=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:Bq}))};Uq.displayName="EyeInvisibleOutlined";var zq=r.forwardRef(Uq),Vq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},jq=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:Vq}))};jq.displayName="EyeOutlined";var Yq=r.forwardRef(jq),Wq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gq={click:"onClick",hover:"onMouseOver"},Hq=r.forwardRef((function(e,t){var n=c((0,r.useState)(!1),2),i=n[0],o=n[1],a=function(){e.disabled||o(!i)},s=function(n){var o=n.getPrefixCls,s=e.className,u=e.prefixCls,l=e.inputPrefixCls,c=e.size,f=e.visibilityToggle,d=Wq(e,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),p=o("input",l),v=o("input-password",u),g=f&&function(t){var n,o=e.action,s=e.iconRender,u=Gq[o]||"",l=(void 0===s?function(){return null}:s)(i),c=(ae(n={},u,a),ae(n,"className","".concat(t,"-icon")),ae(n,"key","passwordIcon"),ae(n,"onMouseDown",(function(e){e.preventDefault()})),ae(n,"onMouseUp",(function(e){e.preventDefault()})),n);return r.cloneElement(r.isValidElement(l)?l:r.createElement("span",null,l),c)}(v),m=de()(v,s,ae({},"".concat(v,"-").concat(c),!!c)),y=h(h({},Cn(d,["suffix","iconRender"])),{type:i?"text":"password",className:m,prefixCls:p,suffix:g});return c&&(y.size=c),r.createElement(su,h({ref:t},y))};return r.createElement(Pn,null,s)}));Hq.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(e){return e?r.createElement(Yq,null):r.createElement(zq,null)}};var Xq=Hq,qq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Kq=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:qq}))};Kq.displayName="SearchOutlined";var $q=r.forwardRef(Kq),Qq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Jq=r.forwardRef((function(e,t){var n,i,o=e.prefixCls,a=e.inputPrefixCls,s=e.className,u=e.size,l=e.suffix,c=e.enterButton,f=void 0!==c&&c,d=e.addonAfter,p=e.loading,v=e.disabled,g=e.onSearch,m=e.onChange,y=e.onCompositionStart,x=e.onCompositionEnd,b=Qq(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),w=r.useContext(In),k=w.getPrefixCls,E=w.direction,_=r.useContext(ca),T=r.useRef(!1),A=u||_,S=r.useRef(null),C=function(e){var t;document.activeElement===(null===(t=S.current)||void 0===t?void 0:t.input)&&e.preventDefault()},I=function(e){var t,n;g&&g(null===(n=null===(t=S.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},P=k("input-search",o),O=k("input",a),R="boolean"===typeof f?r.createElement($q,null):null,M="".concat(P,"-button"),D=f||{},L=D.type&&!0===D.type.__ANT_BUTTON;i=L||"button"===D.type?Po(D,h({onMouseDown:C,onClick:function(e){var t,n;null===(n=null===(t=null===D||void 0===D?void 0:D.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),I(e)},key:"enterButton"},L?{className:M,size:A}:{})):r.createElement(Ol,{className:M,type:f?"primary":void 0,size:A,disabled:v,key:"enterButton",onMouseDown:C,onClick:I,loading:p,icon:R},f),d&&(i=[i,Po(d,{key:"addonAfter"})]);var N=de()(P,(ae(n={},"".concat(P,"-rtl"),"rtl"===E),ae(n,"".concat(P,"-").concat(A),!!A),ae(n,"".concat(P,"-with-button"),!!f),n),s);return r.createElement(su,h({ref:Ot(S,t),onPressEnter:function(e){T.current||I(e)}},b,{size:A,onCompositionStart:function(e){T.current=!0,null===y||void 0===y||y(e)},onCompositionEnd:function(e){T.current=!1,null===x||void 0===x||x(e)},prefixCls:O,addonAfter:i,suffix:l,onChange:function(e){e&&e.target&&"click"===e.type&&g&&g(e.target.value,e),m&&m(e)},className:N,disabled:v}))}));var Zq=Jq,eK=su;eK.Group=Fq,eK.Search=Zq,eK.TextArea=fu,eK.Password=Xq;var tK=eK,nK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},rK=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:nK}))};rK.displayName="CheckCircleOutlined";var iK=r.forwardRef(rK),oK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},aK=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:oK}))};aK.displayName="CloseCircleOutlined";var sK=r.forwardRef(aK),uK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},lK=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:uK}))};lK.displayName="CloseOutlined";var cK=r.forwardRef(lK),hK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},fK=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:hK}))};fK.displayName="ExclamationCircleOutlined";var dK=r.forwardRef(fK),pK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},vK=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:pK}))};vK.displayName="InfoCircleFilled";var gK=r.forwardRef(vK),mK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},yK=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:mK}))};yK.displayName="InfoCircleOutlined";var xK=r.forwardRef(yK);var bK=function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return ln(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,i=e.children,o=this.state,a=o.error,s=o.info,u=s&&s.componentStack?s.componentStack:null,l="undefined"===typeof t?(a||"").toString():t,c="undefined"===typeof n?u:n;return a?r.createElement(SK,{type:"error",message:l,description:r.createElement("pre",null,c)}):i}}]),n}(r.Component),wK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},kK={success:rq,info:gK,error:Hs,warning:aq},EK={success:iK,info:xK,error:sK,warning:dK},_K=function(e){var t=e.description,n=e.icon,i=e.prefixCls,o=e.type,a=(t?EK:kK)[o]||null;return n?Io(n,r.createElement("span",{className:"".concat(i,"-icon")},n),(function(){return{className:de()("".concat(i,"-icon"),ae({},n.props.className,n.props.className))}})):r.createElement(a,{className:"".concat(i,"-icon")})},TK=function(e){var t=e.isClosable,n=e.closeText,i=e.prefixCls,o=e.closeIcon,a=e.handleClose;return t?r.createElement("button",{type:"button",onClick:a,className:"".concat(i,"-close-icon"),tabIndex:0},n?r.createElement("span",{className:"".concat(i,"-close-text")},n):o):null},AK=function(e){var t,n=e.description,i=e.prefixCls,o=e.message,a=e.banner,s=e.className,u=void 0===s?"":s,l=e.style,f=e.onMouseEnter,d=e.onMouseLeave,p=e.onClick,v=e.afterClose,g=e.showIcon,m=e.closable,y=e.closeText,x=e.closeIcon,b=void 0===x?r.createElement(cK,null):x,w=e.action,k=wK(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),E=c(r.useState(!1),2),_=E[0],T=E[1],A=r.useRef(),S=r.useContext(In),C=S.getPrefixCls,I=S.direction,P=C("alert",i),O=function(e){var t;T(!0),null===(t=k.onClose)||void 0===t||t.call(k,e)},R=!!y||m,M=function(){var e=k.type;return void 0!==e?e:a?"warning":"info"}(),D=!(!a||void 0!==g)||g,L=de()(P,"".concat(P,"-").concat(M),(ae(t={},"".concat(P,"-with-description"),!!n),ae(t,"".concat(P,"-no-icon"),!D),ae(t,"".concat(P,"-banner"),!!a),ae(t,"".concat(P,"-rtl"),"rtl"===I),t),u),N=function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(k);return r.createElement(Fr,{visible:!_,motionName:"".concat(P,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:v},(function(e){var t=e.className,i=e.style;return r.createElement("div",h({ref:A,"data-show":!_,className:de()(L,t),style:h(h({},l),i),onMouseEnter:f,onMouseLeave:d,onClick:p,role:"alert"},N),D?r.createElement(_K,{description:n,icon:k.icon,prefixCls:P,type:M}):null,r.createElement("div",{className:"".concat(P,"-content")},o?r.createElement("div",{className:"".concat(P,"-message")},o):null,n?r.createElement("div",{className:"".concat(P,"-description")},n):null),w?r.createElement("div",{className:"".concat(P,"-action")},w):null,r.createElement(TK,{isClosable:!!R,closeText:y,prefixCls:P,closeIcon:b,handleClose:O}))}))};AK.ErrorBoundary=bK;var SK=AK;function CK(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function IK(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function PK(e){IK(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function OK(e){IK(1,arguments);var t=PK(e);return t.setHours(0,0,0,0),t}var RK=864e5;function MK(e,t){IK(2,arguments);var n=OK(e),r=OK(t),i=n.getTime()-CK(n),o=r.getTime()-CK(r);return Math.round((i-o)/RK)}function DK(e){return IK(1,arguments),e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function LK(e){if(IK(1,arguments),!DK(e)&&"number"!==typeof e)return!1;var t=PK(e);return!isNaN(Number(t))}var NK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FK=function(e,t,n){var r,i=NK[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function BK(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var UK={date:BK({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:BK({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:BK({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},zK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},VK=function(e,t,n,r){return zK[e]};function jK(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var YK={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:jK({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:jK({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:jK({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:jK({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:jK({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},WK=YK;function GK(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?XK(u,(function(e){return e.test(s)})):HK(u,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(l):l,a=n.valueCallback?n.valueCallback(a):a;var c=t.slice(s.length);return{value:a,rest:c}}}function HK(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function XK(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var qK,KK={ordinalNumber:(qK={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(qK.matchPattern);if(!n)return null;var r=n[0],i=e.match(qK.parsePattern);if(!i)return null;var o=qK.valueCallback?qK.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}),era:GK({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:GK({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:GK({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:GK({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:GK({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},$K={code:"en-US",formatDistance:FK,formatLong:UK,formatRelative:VK,localize:WK,match:KK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QK(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function JK(e,t){IK(2,arguments);var n=PK(e).getTime(),r=QK(t);return new Date(n+r)}function ZK(e,t){IK(2,arguments);var n=QK(t);return JK(e,-n)}var e$=864e5;function t$(e){IK(1,arguments);var t=1,n=PK(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function n$(e){IK(1,arguments);var t=PK(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=t$(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=t$(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function r$(e){IK(1,arguments);var t=n$(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=t$(n);return r}var i$=6048e5;function o$(e,t){IK(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:QK(i),a=null==n.weekStartsOn?o:QK(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=PK(e),u=s.getUTCDay(),l=(u<a?7:0)+u-a;return s.setUTCDate(s.getUTCDate()-l),s.setUTCHours(0,0,0,0),s}function a$(e,t){IK(1,arguments);var n=PK(e),r=n.getUTCFullYear(),i=t||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,s=null==a?1:QK(a),u=null==i.firstWeekContainsDate?s:QK(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(r+1,0,u),l.setUTCHours(0,0,0,0);var c=o$(l,t),h=new Date(0);h.setUTCFullYear(r,0,u),h.setUTCHours(0,0,0,0);var f=o$(h,t);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function s$(e,t){IK(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,o=null==i?1:QK(i),a=null==n.firstWeekContainsDate?o:QK(n.firstWeekContainsDate),s=a$(e,t),u=new Date(0);u.setUTCFullYear(s,0,a),u.setUTCHours(0,0,0,0);var l=o$(u,t);return l}var u$=6048e5;function l$(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var c$={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return l$("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):l$(n+1,2)},d:function(e,t){return l$(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return l$(e.getUTCHours()%12||12,t.length)},H:function(e,t){return l$(e.getUTCHours(),t.length)},m:function(e,t){return l$(e.getUTCMinutes(),t.length)},s:function(e,t){return l$(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return l$(Math.floor(r*Math.pow(10,n-3)),t.length)}},h$=c$,f$="midnight",d$="noon",p$="morning",v$="afternoon",g$="evening",m$="night",y$={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return h$.y(e,t)},Y:function(e,t,n,r){var i=a$(e,r),o=i>0?i:1-i;return"YY"===t?l$(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):l$(o,t.length)},R:function(e,t){return l$(n$(e),t.length)},u:function(e,t){return l$(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return l$(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return l$(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return h$.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return l$(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=function(e,t){IK(1,arguments);var n=PK(e),r=o$(n,t).getTime()-s$(n,t).getTime();return Math.round(r/u$)+1}(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):l$(i,t.length)},I:function(e,t,n){var r=function(e){IK(1,arguments);var t=PK(e),n=t$(t).getTime()-r$(t).getTime();return Math.round(n/i$)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):l$(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):h$.d(e,t)},D:function(e,t,n){var r=function(e){IK(1,arguments);var t=PK(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/e$)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):l$(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return l$(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return l$(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return l$(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?d$:0===i?f$:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?g$:i>=12?v$:i>=4?p$:m$,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return h$.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):h$.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):l$(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):l$(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):h$.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):h$.s(e,t)},S:function(e,t){return h$.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return b$(i);case"XXXX":case"XX":return w$(i);default:return w$(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return b$(i);case"xxxx":case"xx":return w$(i);default:return w$(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+x$(i,":");default:return"GMT"+w$(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+x$(i,":");default:return"GMT"+w$(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return l$(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return l$((r._originalDate||e).getTime(),t.length)}};function x$(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+l$(o,2)}function b$(e,t){return e%60===0?(e>0?"-":"+")+l$(Math.abs(e)/60,2):w$(e,t)}function w$(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+l$(Math.floor(i/60),2)+n+l$(i%60,2)}var k$=y$;function E$(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function _$(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var T$={p:_$,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return E$(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",E$(i,t)).replace("{{time}}",_$(o,t))}},A$=T$,S$=["D","DD"],C$=["YY","YYYY"];function I$(e){return-1!==S$.indexOf(e)}function P$(e){return-1!==C$.indexOf(e)}function O$(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var R$,M$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L$=/^'([^]*?)'?$/,N$=/''/g,F$=/[a-zA-Z]/;function B$(e,t,n){IK(2,arguments);var r=String(t),i=n||{},o=i.locale||$K,a=o.options&&o.options.firstWeekContainsDate,s=null==a?1:QK(a),u=null==i.firstWeekContainsDate?s:QK(i.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,c=null==l?0:QK(l),h=null==i.weekStartsOn?c:QK(i.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=PK(e);if(!LK(f))throw new RangeError("Invalid time value");var d=CK(f),p=ZK(f,d),v={firstWeekContainsDate:u,weekStartsOn:h,locale:o,_originalDate:f},g=r.match(D$).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,A$[t])(e,o.formatLong,v):e})).join("").match(M$).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return U$(n);var a=k$[r];if(a)return!i.useAdditionalWeekYearTokens&&P$(n)&&O$(n,t,e),!i.useAdditionalDayOfYearTokens&&I$(n)&&O$(n,t,e),a(p,n,o.localize,v);if(r.match(F$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return g}function U$(e){return e.match(L$)[1].replace(N$,"'")}var z$=LX.div(R$||(R$=rH(["\n  margin-bottom: 10px;\n\n  .author {\n    margin-left: 5px;\n    font-weight: bold;\n  }\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    margin-left: 30px;\n  }\n"])));function V$(e){var t="";return e&&(t=function(e,t,n){IK(2,arguments);var r=PK(e),i=PK(t),o=n||{},a=o.locale,s=void 0===a?$K:a,u=o.weekStartsOn,l=void 0===u?0:u;if(!s.localize)throw new RangeError("locale must contain localize property");if(!s.formatLong)throw new RangeError("locale must contain formatLong property");if(!s.formatRelative)throw new RangeError("locale must contain formatRelative property");var c,h=MK(r,i);if(isNaN(h))throw new RangeError("Invalid time value");c=h<-6?"other":h<-1?"lastWeek":h<0?"yesterday":h<1?"today":h<2?"tomorrow":h<7?"nextWeek":"other";var f=ZK(r,CK(r)),d=ZK(i,CK(i)),p=s.formatRelative(c,f,d,{locale:s,weekStartsOn:l});return B$(r,p,{locale:s,weekStartsOn:l})}(new Date(1e3*e),new Date),t=t.charAt(0).toUpperCase()+t.slice(1)),t}var j$=function(e){var t,n=e.text,r=e.displayName,i=e.createdAt,o=e.photoURL;return(0,ee.jsxs)(z$,{children:[(0,ee.jsxs)("div",{children:[(0,ee.jsx)(Nq,{size:"small",src:o,children:o?"":null===r||void 0===r||null===(t=r.charAt(0))||void 0===t?void 0:t.toUpperCase()}),(0,ee.jsx)(Vu.Text,{className:"author",children:r}),(0,ee.jsx)(Vu.Text,{className:"date",children:V$(null===i||void 0===i?void 0:i.seconds)})]}),(0,ee.jsx)("div",{children:(0,ee.jsx)(Vu.Text,{className:"content",children:n})})]})},Y$=n(8573),W$=n.n(Y$),G$=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},H$=(vo("small","default","large"),null);var X$=function(e){hn(n,e);var t=gn(n);function n(e){var i;sn(this,n),(i=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||i.props).delay;t&&(i.cancelExistingSpin(),i.updateSpinning=W$()(i.originalUpdateSpinning,t))},i.updateSpinning=function(){var e=i.props.spinning;i.state.spinning!==e&&i.setState({spinning:e})},i.renderSpin=function(e){var t,n=e.direction,o=i.props,a=o.spinPrefixCls,s=o.className,u=o.size,l=o.tip,c=o.wrapperClassName,f=o.style,d=G$(o,["spinPrefixCls","className","size","tip","wrapperClassName","style"]),p=i.state.spinning,v=de()(a,(ae(t={},"".concat(a,"-sm"),"small"===u),ae(t,"".concat(a,"-lg"),"large"===u),ae(t,"".concat(a,"-spinning"),p),ae(t,"".concat(a,"-show-text"),!!l),ae(t,"".concat(a,"-rtl"),"rtl"===n),t),s),g=Cn(d,["spinning","delay","indicator","prefixCls"]),m=r.createElement("div",h({},g,{style:f,className:v,"aria-live":"polite","aria-busy":p}),function(e,t){var n=t.indicator,i="".concat(e,"-dot");return null===n?null:Co(n)?Po(n,{className:de()(n.props.className,i)}):Co(H$)?Po(H$,{className:de()(H$.props.className,i)}):r.createElement("span",{className:de()(i,"".concat(e,"-dot-spin"))},r.createElement("i",{className:"".concat(e,"-dot-item")}),r.createElement("i",{className:"".concat(e,"-dot-item")}),r.createElement("i",{className:"".concat(e,"-dot-item")}),r.createElement("i",{className:"".concat(e,"-dot-item")}))}(a,i.props),l?r.createElement("div",{className:"".concat(a,"-text")},l):null);if(i.isNestedPattern()){var y=de()("".concat(a,"-container"),ae({},"".concat(a,"-blur"),p));return r.createElement("div",h({},g,{className:de()("".concat(a,"-nested-loading"),c)}),p&&r.createElement("div",{key:"loading"},m),r.createElement("div",{className:y,key:"container"},i.props.children))}return m};var o=e.spinning,a=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(o,e.delay);return i.state={spinning:o&&!a},i.originalUpdateSpinning=i.updateSpinning,i.debouncifyUpdateSpinning(e),i}return ln(n,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return r.createElement(Pn,null,this.renderSpin)}}]),n}(r.Component);X$.defaultProps={spinning:!0,size:"default",wrapperClassName:""};var q$=function(e){var t=e.prefixCls,n=(0,r.useContext(In).getPrefixCls)("spin",t),i=h(h({},e),{spinPrefixCls:n});return r.createElement(X$,h({},i))};q$.setDefaultIndicator=function(e){H$=e};var K$,$$,Q$,J$,Z$,eQ,tQ,nQ=q$,rQ=(0,r.createContext)(),iQ=function(e){var t=e.children,n=z(),i=c((0,r.useState)({}),2),o=i[0],a=i[1],s=c((0,r.useState)(!0),2),u=s[0],l=s[1];return(0,r.useEffect)((function(){var e=qG.onAuthStateChanged((function(e){if(e){var t=e.displayName,r=e.email,i=e.uid,o=e.photoURL;a({displayName:t,email:r,uid:i,photoURL:o}),l(!1);var s=window.location.href.slice(window.location.origin.length);n("/"===s?"/":"/game"===s?"/game":"/admin"===s?"/admin":"/admin1"===s?"/admin1":"/chat")}else{a({}),l(!1);var u=window.location.href.slice(window.location.origin.length);console.log(u),n("/"===u?"/":"/game"===u?"/game":"/admin"===u?"/admin":"/admin1"===u?"/admin1":"/chat/login")}}));return function(){e()}}),[n]),(0,ee.jsx)(rQ.Provider,{value:o,children:u?(0,ee.jsx)(nQ,{}):t})},oQ=function(e,t){var n=c((0,r.useState)([]),2),i=n[0],o=n[1];return(0,r.useEffect)((function(){var n=KG.collection(e).orderBy("createdAt");if(t){if(!t.compareValue||!t.compareValue.length)return void o([]);n=n.where(t.fieldName,t.operator,t.compareValue)}var r=n.onSnapshot((function(e){var t=e.docs.map((function(e){return ue(ue({},e.data()),{},{id:e.id})}));o(t)}));return r}),[e,t]),i},aQ=(0,r.createContext)(),sQ=function(e){var t=e.children,n=c((0,r.useState)(!1),2),i=n[0],o=n[1],a=c((0,r.useState)(!1),2),s=a[0],u=a[1],l=c((0,r.useState)(""),2),h=l[0],f=l[1],d=(0,r.useContext)(rQ).uid,p=c((0,r.useState)(""),2),v=p[0],g=p[1],m=r.useMemo((function(){return{fieldName:"members",operator:"array-contains",compareValue:d}}),[d]),y=oQ("rooms",m),x=r.useMemo((function(){return y.find((function(e){return e.id===h}))||{}}),[y,h]),b=r.useMemo((function(){return{fieldName:"uid",operator:"in",compareValue:x.members}}),[x.members]),w=oQ("users",b);return(0,ee.jsx)(aQ.Provider,{value:{rooms:y,members:w,isAddRoomVisible:i,setIsAddRoomVisible:o,selectedRoomId:h,setSelectedRoomId:f,selectedRoom:x,isInviteMemberVisible:s,setIsInviteMemberVisible:u,clearState:function(){f(""),o(!1),u(!1)},isAddRoom:v,setIsAddRoom:g},children:t})},uQ=LX.div(K$||(K$=rH(["\n  display: flex;\n  justify-content: space-between;\n  height: 56px;\n  padding: 0 16px;\n  align-items: center;\n  border-bottom: 1px solid rgb(230, 230, 230);\n\n  .header {\n    &__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    &__title {\n      margin: 0;\n      font-weight: bold;\n    }\n\n    &__description {\n      font-size: 12px;\n    }\n  }\n"]))),lQ=LX.div($$||($$=rH(["\n  display: flex;\n  align-items: center;\n"]))),cQ=LX.div(Q$||(Q$=rH(["\n  height: 85vh;\n"]))),hQ=LX.div(J$||(J$=rH(["\n  height: calc(100% - 56px);\n  display: flex;\n  flex-direction: column;\n  padding: 11px;\n  justify-content: flex-end;\n"]))),fQ=LX(bq)(Z$||(Z$=rH(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 2px 2px 0;\n  border: 1px solid rgb(230, 230, 230);\n  border-radius: 2px;\n\n  .ant-form-item {\n    flex: 1;\n    margin-bottom: 0;\n  }\n"]))),dQ=LX.div(eQ||(eQ=rH(["\n  max-height: 100%;\n  overflow-y: auto;\n"]))),pQ=function(){var e=(0,r.useContext)(aQ),t=e.selectedRoom,n=e.members,i=e.setIsInviteMemberVisible,o=(0,r.useContext)(rQ),a=o.uid,s=o.photoURL,u=o.displayName,l=c((0,r.useState)(""),2),h=l[0],f=l[1],d=c(bq.useForm(),1)[0],p=(0,r.useRef)(null),v=(0,r.useRef)(null),g=function(){JG("messages",{text:h,uid:a,photoURL:s,roomId:t.id,displayName:u}),d.resetFields(["message"]),null!==p&&void 0!==p&&p.current&&setTimeout((function(){p.current.focus()}))},m=r.useMemo((function(){return{fieldName:"roomId",operator:"==",compareValue:t.id}}),[t.id]),y=oQ("messages",m);return(0,r.useEffect)((function(){null!==v&&void 0!==v&&v.current&&(v.current.scrollTop=v.current.scrollHeight+50)}),[y]),(0,ee.jsx)("div",{children:(0,ee.jsx)(cQ,{children:t.id?(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsxs)(uQ,{children:[(0,ee.jsxs)("div",{className:"header__info",children:[(0,ee.jsx)("p",{className:"header__title",children:t.name}),(0,ee.jsx)("span",{className:"header__description",children:t.description})]}),(0,ee.jsxs)(lQ,{children:[(0,ee.jsx)("button",{icon:(0,ee.jsx)(aH,{}),type:"text",onClick:function(){return i(!0)},children:"M\u1eddi"}),(0,ee.jsx)(Nq.Group,{size:"small",maxCount:3,children:n.map((function(e){var t,n;return(0,ee.jsx)(Lo,{title:e.displayName,children:(0,ee.jsx)(Nq,{src:e.photoURL,children:e.photoURL?"":null===(t=e.displayName)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()})},e.id)}))})]})]}),(0,ee.jsxs)(hQ,{children:[(0,ee.jsx)(dQ,{ref:v,children:y.map((function(e){return(0,ee.jsx)(j$,{text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:e.createdAt},e.id)}))}),(0,ee.jsxs)(fQ,{form:d,children:[(0,ee.jsx)(bq.Item,{name:"message",children:(0,ee.jsx)(tK,{onChange:function(e){f(e.target.value)},onPressEnter:g,placeholder:"Nh\u1eadp tin nh\u1eafn...",bordered:!1,autoComplete:"off"})}),(0,ee.jsx)(Ol,{type:"primary",onClick:g,children:"G\u1eedi"})]})]})]}):(0,ee.jsx)(SK,{message:"H\xe3y ch\u1ecdn ph\xf2ng",type:"info",showIcon:!0,style:{margin:5},closable:!0})})})},vQ=LX.div(tQ||(tQ=rH(["\n  display: flex;\n  justify-content: space-between;\n  padding: 12px 16px;\n  border-bottom: 1px solid rgba(182, 38, 83);\n\n  .username {\n    color: green;\n    margin-left: 5px;\n  }\n"]))),gQ=function(){var e,t=(0,r.useContext)(rQ),n=t.displayName,i=t.photoURL;(0,r.useContext)(rQ).clearState;return(0,ee.jsxs)(vQ,{children:[(0,ee.jsxs)("div",{children:[(0,ee.jsx)(Nq,{src:i,children:i?"":null===n||void 0===n||null===(e=n.charAt(0))||void 0===e?void 0:e.toUpperCase()}),(0,ee.jsx)(Vu.Text,{className:"username",children:n})]}),(0,ee.jsx)(Ol,{ghost:!0,onClick:function(){qG.signOut()},children:"\u0110\u0103ng xu\u1ea5t"})]})},mQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},yQ=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:mQ}))};yQ.displayName="RightOutlined";var xQ=r.forwardRef(yQ),bQ=r.forwardRef((function(e,t){var n,i=e.prefixCls,o=e.forceRender,a=e.className,s=e.style,u=e.children,l=e.isActive,h=e.role,f=c(r.useState(l||o),2),d=f[0],p=f[1];return r.useEffect((function(){(o||l)&&p(!0)}),[o,l]),d?r.createElement("div",{ref:t,className:de()("".concat(i,"-content"),(n={},ae(n,"".concat(i,"-content-active"),l),ae(n,"".concat(i,"-content-inactive"),!l),n),a),style:s,role:h},r.createElement("div",{className:"".concat(i,"-content-box")},u)):null}));bQ.displayName="PanelContent";var wQ=bQ,kQ=function(e){hn(n,e);var t=gn(n);function n(){var e;sn(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.onItemClick()},e.renderIcon=function(){var t=e.props,n=t.showArrow,i=t.expandIcon,o=t.prefixCls,a=t.collapsible;if(!n)return null;var s="function"===typeof i?i(e.props):r.createElement("i",{className:"arrow"});return s&&r.createElement("div",{className:"".concat(o,"-expand-icon"),onClick:"header"===a?e.onItemClick:null},s)},e.renderTitle=function(){var t=e.props,n=t.header,i=t.prefixCls,o=t.collapsible;return r.createElement("span",{className:"".concat(i,"-header-text"),onClick:"header"===o?e.onItemClick:null},n)},e}return ln(n,[{key:"shouldComponentUpdate",value:function(e){return!ea()(this.props,e)}},{key:"render",value:function(){var e,t,n=this.props,i=n.className,o=n.id,a=n.style,s=n.prefixCls,u=n.headerClass,l=n.children,c=n.isActive,f=n.destroyInactivePanel,d=n.accordion,p=n.forceRender,v=n.openMotion,g=n.extra,m=n.collapsible,y="disabled"===m,x="header"===m,b=de()((ae(e={},"".concat(s,"-item"),!0),ae(e,"".concat(s,"-item-active"),c),ae(e,"".concat(s,"-item-disabled"),y),e),i),w={className:de()("".concat(s,"-header"),(ae(t={},u,u),ae(t,"".concat(s,"-header-collapsible-only"),x),t)),"aria-expanded":c,"aria-disabled":y,onKeyPress:this.handleKeyPress};x||(w.onClick=this.onItemClick,w.role=d?"tab":"button",w.tabIndex=y?-1:0);var k=null!==g&&void 0!==g&&"boolean"!==typeof g;return r.createElement("div",{className:b,style:a,id:o},r.createElement("div",w,this.renderIcon(),this.renderTitle(),k&&r.createElement("div",{className:"".concat(s,"-extra")},g)),r.createElement(Fr,h({visible:c,leavedClassName:"".concat(s,"-content-hidden")},v,{forceRender:p,removeOnLeave:f}),(function(e,t){var n=e.className,i=e.style;return r.createElement(wQ,{ref:t,prefixCls:s,className:n,style:i,isActive:c,forceRender:p,role:d?"tabpanel":null},l)})))}}]),n}(r.Component);kQ.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var EQ=kQ;function _Q(e){var t=e;if(!Array.isArray(t)){var n=ne(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var TQ=function(e){hn(n,e);var t=gn(n);function n(e){var i;sn(this,n),(i=t.call(this,e)).onClickItem=function(e){var t=i.state.activeKey;if(i.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=Z(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}i.setActiveKey(t)},i.getNewChild=function(e,t){if(!e)return null;var n=i.state.activeKey,o=i.props,a=o.prefixCls,s=o.openMotion,u=o.accordion,l=o.destroyInactivePanel,c=o.expandIcon,h=o.collapsible,f=e.key||String(t),d=e.props,p=d.header,v=d.headerClass,g=d.destroyInactivePanel,m=d.collapsible,y=null!==m&&void 0!==m?m:h,x={key:f,panelKey:f,header:p,headerClass:v,isActive:u?n[0]===f:n.indexOf(f)>-1,prefixCls:a,destroyInactivePanel:null!==g&&void 0!==g?g:l,openMotion:s,accordion:u,children:e.props.children,onItemClick:"disabled"===y?null:i.onClickItem,expandIcon:c,collapsible:y};return"string"===typeof e.type?e:(Object.keys(x).forEach((function(e){"undefined"===typeof x[e]&&delete x[e]})),r.cloneElement(e,x))},i.getItems=function(){return Ct(i.props.children).map(i.getNewChild)},i.setActiveKey=function(e){"activeKey"in i.props||i.setState({activeKey:e}),i.props.onChange(i.props.accordion?e[0]:e)};var o=e.activeKey,a=e.defaultActiveKey;return"activeKey"in e&&(a=o),i.state={activeKey:_Q(a)},i}return ln(n,[{key:"shouldComponentUpdate",value:function(e,t){return!ea()(this.props,e)||!ea()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.className,o=t.style,a=t.accordion,s=de()((ae(e={},n,!0),ae(e,i,!!i),e));return r.createElement("div",{className:s,style:o,role:a?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=_Q(e.activeKey)),t}}]),n}(r.Component);TQ.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},TQ.Panel=EQ;var AQ=TQ,SQ=(TQ.Panel,function(e){var t=r.useContext(In).getPrefixCls,n=e.prefixCls,i=e.className,o=void 0===i?"":i,a=e.showArrow,s=void 0===a||a,u=t("collapse",n),l=de()(ae({},"".concat(u,"-no-arrow"),!s),o);return r.createElement(AQ.Panel,h({},e,{prefixCls:u,className:l}))}),CQ=function(e){var t,n=r.useContext(In),i=n.getPrefixCls,o=n.direction,a=e.prefixCls,s=e.className,u=void 0===s?"":s,l=e.bordered,c=void 0===l||l,f=e.ghost,d=e.expandIconPosition,p=void 0===d?"start":d,v=i("collapse",a),g=r.useMemo((function(){return"left"===p?"start":"right"===p?"end":p}),[p]),m=de()("".concat(v,"-icon-position-").concat(g),(ae(t={},"".concat(v,"-borderless"),!c),ae(t,"".concat(v,"-rtl"),"rtl"===o),ae(t,"".concat(v,"-ghost"),!!f),t),u),y=h(h({},Eo),{motionAppear:!1,leavedClassName:"".concat(v,"-content-hidden")});return r.createElement(AQ,h({openMotion:y},e,{expandIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,i=n?n(t):r.createElement(xQ,{rotate:t.isActive?90:void 0});return Po(i,(function(){return{className:de()(i.props.className,"".concat(v,"-arrow"))}}))},prefixCls:v,className:m}),Ct(e.children).map((function(e,t){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var r=e.key||String(t),i=e.props,o=i.disabled,a=i.collapsible;return Po(e,h(h({},Cn(e.props,["disabled"])),{key:r,collapsible:null!==a&&void 0!==a?a:o?"disabled":void 0}))}return e})))};CQ.Panel=SQ;var IQ=CQ,PQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},OQ=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:PQ}))};OQ.displayName="PlusSquareOutlined";var RQ,MQ,DQ,LQ=r.forwardRef(OQ),NQ=LX(IQ.Panel)(RQ||(RQ=rH(["\n  &&& {\n    .ant-collapse-header,\n    p {\n      color: white;\n    }\n\n    .ant-collapse-content-box {\n      padding: 0 40px;\n    }\n\n    .add-room {\n      color: white;\n      padding: 0;\n    }\n  }\n"]))),FQ=LX(Vu.Link)(MQ||(MQ=rH(["\n  display: block;\n  margin-bottom: 5px;\n  color: white;\n"]))),BQ=function(){var e=(0,r.useContext)(aQ),t=e.rooms,n=e.setIsAddRoomVisible,i=e.setSelectedRoomId,o=e.setIsAddRoom;return(0,ee.jsx)("div",{children:(0,ee.jsx)(IQ,{ghost:!0,defaultActiveKey:["1"],children:(0,ee.jsxs)(NQ,{header:"Danh s\xe1ch c\xe1c ph\xf2ng",children:[t.map((function(e){return(0,ee.jsx)(FQ,{onClick:function(){i(e.id),o(e.id)},children:e.name},e.id)})),(0,ee.jsx)(Ol,{type:"text",icon:(0,ee.jsx)(LQ,{}),className:"add-room",onClick:function(){n(!0)},children:"Th\xeam ph\xf2ng"})]},"1")})})},UQ=LX.div(DQ||(DQ=rH(["\n  background: #3f0e40;\n  color: blue;\n  height: 85vh;\n"]))),zQ=function(){return(0,ee.jsx)("div",{children:(0,ee.jsx)(UQ,{children:(0,ee.jsxs)(el,{children:[(0,ee.jsx)(al,{span:24,children:(0,ee.jsx)(gQ,{})}),(0,ee.jsx)(al,{span:24,children:(0,ee.jsx)(BQ,{})})]})})})},VQ=n(2007),jQ=n.n(VQ),YQ=["color","size","title"];function WQ(){return WQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WQ.apply(this,arguments)}function GQ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HQ=(0,r.forwardRef)((function(e,t){var n=e.color,i=e.size,o=e.title,a=GQ(e,YQ);return r.createElement("svg",WQ({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:n},a),o?r.createElement("title",null,o):null,r.createElement("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"}))}));HQ.propTypes={color:jQ().string,size:jQ().oneOfType([jQ().string,jQ().number]),title:jQ().string},HQ.defaultProps={color:"currentColor",size:"1em",title:null};var XQ=HQ,qQ=function(){var e=(0,r.useContext)(aQ),t=e.isAddRoom,n=e.setIsAddRoom,i=c((0,r.useState)({display:"block",border:"5px solid pink"}),2),o=i[0],a=i[1],s=c((0,r.useState)({display:"none"}),2),u=s[0],l=s[1];return(0,r.useEffect)((function(){""!==t?(a({display:"none",border:"5px solid pink"}),l({display:"block"})):(a({display:"block",border:"5px solid pink"}),l({display:"none",border:"5px solid pink"}))}),[t]),(0,ee.jsx)("div",{children:(0,ee.jsxs)(el,{children:[(0,ee.jsx)(al,{style:o,span:24,children:(0,ee.jsx)(zQ,{})}),(0,ee.jsxs)(al,{style:u,span:24,children:[(0,ee.jsxs)("button",{onClick:function(){return n("")},children:[" \xa0\xa0",(0,ee.jsx)(XQ,{}),"\xa0\xa0 "]}),(0,ee.jsx)(pQ,{})]})]})})},KQ=["color","size","title"];function $Q(){return $Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$Q.apply(this,arguments)}function QQ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var JQ=(0,r.forwardRef)((function(e,t){var n=e.color,i=e.size,o=e.title,a=QQ(e,KQ);return r.createElement("svg",$Q({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:n},a),o?r.createElement("title",null,o):null,r.createElement("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"}))}));JQ.propTypes={color:jQ().string,size:jQ().oneOfType([jQ().string,jQ().number]),title:jQ().string},JQ.defaultProps={color:"currentColor",size:"1em",title:null};var ZQ=JQ,eJ=["color","size","title"];function tJ(){return tJ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tJ.apply(this,arguments)}function nJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rJ=(0,r.forwardRef)((function(e,t){var n=e.color,i=e.size,o=e.title,a=nJ(e,eJ);return r.createElement("svg",tJ({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:n},a),o?r.createElement("title",null,o):null,r.createElement("path",{fillRule:"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"}))}));rJ.propTypes={color:jQ().string,size:jQ().oneOfType([jQ().string,jQ().number]),title:jQ().string},rJ.defaultProps={color:"currentColor",size:"1em",title:null};var iJ=rJ,oJ=["color","size","title"];function aJ(){return aJ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aJ.apply(this,arguments)}function sJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var uJ=(0,r.forwardRef)((function(e,t){var n=e.color,i=e.size,o=e.title,a=sJ(e,oJ);return r.createElement("svg",aJ({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:n},a),o?r.createElement("title",null,o):null,r.createElement("path",{fillRule:"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"}))}));uJ.propTypes={color:jQ().string,size:jQ().oneOfType([jQ().string,jQ().number]),title:jQ().string},uJ.defaultProps={color:"currentColor",size:"1em",title:null};var lJ=uJ,cJ=["as","disabled"];function hJ(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,o=e.rel,a=e.role,s=e.onClick,u=e.tabIndex,l=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=o?"a":"button");var h={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},h];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},h]}var fJ=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cJ),o=c(hJ(Object.assign({tagName:n,disabled:r},i)),2),a=o[0],s=o[1].tagName;return(0,ee.jsx)(s,Object.assign({},i,a,{ref:t}))}));fJ.displayName="Button";var dJ=fJ,pJ=["xxl","xl","lg","md","sm","xs"],vJ=r.createContext({prefixes:{},breakpoints:pJ,minBreakpoint:"xs"});vJ.Consumer,vJ.Provider;function gJ(e,t){var n=(0,r.useContext)(vJ).prefixes;return e||n[t]||t}var mJ=["as","bsPrefix","variant","size","active","className"],yJ=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,o=e.size,a=e.active,s=e.className,u=he(e,mJ),l=gJ(r,"btn"),h=c(hJ(ue({tagName:n},u)),2),f=h[0],d=h[1].tagName;return(0,ee.jsx)(d,ue(ue(ue({},f),u),{},{ref:t,className:de()(s,l,a&&"active",i&&"".concat(l,"-").concat(i),o&&"".concat(l,"-").concat(o),u.href&&u.disabled&&"disabled")}))}));yJ.displayName="Button",yJ.defaultProps={variant:"primary",active:!1,disabled:!1};var xJ=yJ,bJ=[],wJ=0,kJ=0,EJ=0,_J=0,TJ=0,AJ="",SJ=[],CJ=[],IJ=[],PJ=function(){var e=["\n  level 0\n\n #########\n##   #   #\n#  $ . $ #\n# $$...$$##\n#. @$.$  .#\n####.$.####\n   #####\n; Level 1\n\n  ######\n ## .$.###\n##  $.$  #\n# .$ # $.##\n# $.###.$ #\n# .$ @ $. #\n##   #   ##\n #########\n; Level 2\n\n    #####\n ####   #\n #  # # ###\n##$.#.$   #\n# $.@.$   #\n# $.#.$####\n# # #  #\n#   ####\n#####\n; Level 3\n\n  ####\n###  ###\n#      #\n# $***.#\n###    #\n  #@ ###\n  ####\n; Level 4\n\n#######\n#  .  #\n# #.# #\n# $.$ ##\n# #.#  #\n# $ $  #\n## @ ###\n #####\n; Level 5\n\n ########\n##      #\n#  $$ # #\n# #$ ## #\n# # .+..#\n# ###$# #\n#       #\n#########\n; Level 6\n\n ##########\n##        #\n#  $$ # # #\n# #$ ## # ###\n# #  .....$@#\n# ###$# #####\n#       #\n#########\n; Level 7\n\n#####\n#@  #####\n# #   $ #\n# $ ### #\n# # ... #\n# #$ ####\n#    #\n###  #\n  ####\n; Level 8\n\n ########\n##      #\n#  $$ # #\n# #$ ## #\n# #  ...#\n# ##### #\n#      @#\n#########\n; Level 9\n\n #######\n #  .  #\n##*.@.*##\n# $$#$$ #\n#   .   #\n##  #  ##\n #  #  #\n #######\n; Level 10\n\n######\n#    ###\n#@ $$  #\n##$$.#$#\n #  .$ #\n ###.#.#\n   ###.#\n     #.#\n     ###\n; Level 11\n\n ######\n #  @ ##\n##.$ $.#\n# .#$#.#\n# .$ $.#\n##  $  #\n ##   ##\n  #####\n; Level 12\n\n######\n#  @ ##\n#.$ $.#\n#.#$#.#\n#.$ $.#\n#  $  #\n##   ##\n #####\n; Level 13\n\n #####\n##   ##\n#.$ $.#\n#+# #.#\n#.$ $.#\n#  $ $#\n###   #\n  #####\n; Level 14\n\n  ######\n  # .  #\n###.@.*##\n# $$#$$ #\n#   .   #\n##  #####\n #  #\n ####\n; Level 15\n\n ########\n##      #\n#  $$##@#\n# #$ ## ##\n# #  ....#\n# #$### ##\n#       #\n#########\n; Level 16\n\n ########\n##      #\n#  $$##@#\n# #$ ## #\n# # ....#\n# #$### #\n#       #\n#########\n; Level 17\n\n ############\n##          #\n#  $$##@ $$ #\n# #$ ## #  ##\n# # .....  #\n# #$###. ###\n#        #\n##########\n; Level 18\n\n #######\n##     ##\n# $ $   #\n# #$ ## #\n# # ..*.#\n# ##### #\n#      @#\n#########\n; Level 19\n\n ##########\n##        ###\n# $ $   $ $ #\n# #$ ### $# #\n# # ......# #\n# ######### #\n#      @    #\n#############\n; Level 20\n\n  ##########\n###        ##\n# $ $ $ $ $ #\n# #$ ### $# #\n# #.......# #\n# ######### #\n#      @    #\n#############\n; Level 21\n\n  #####\n###.$.###\n#  $.$  #\n#. $ $ .#\n#.#$@$#.#\n#. $ $ .#\n#  $.$  #\n###.$.###\n  #####\n; Level 22\n\n  #####\n###.$.###\n#  $.$  #\n#. $ $ .#\n#.#$ $#.#\n#. $ $ .#\n#  $.$  #\n###+$.###\n  #####\n; Level 23\n\n  #####\n ##.$.##\n## $.$ #\n#   @  #\n#  $.$ #\n###.$.##\n  #####\n; Level 24\n\n  #####\n###.$.###\n#  $.$  #\n# # @## #\n#       #\n#  $.$ ##\n###.$.##\n  #####\n; Level 25\n\n ######\n##    ##\n#  .   #\n# $.$  #\n###@####\n# $.$ #\n#  .  #\n##    #\n ######\n; Level 26\n\n ############\n##          #\n#  $$##$$$$ #\n# #$ ## #  ##\n# #....... #\n# #$###.@###\n#        #\n##########\n; Level 27\n\n################\n#              #\n# #$$ $$##$$$$ #\n# #  #$ ## #  ##\n# #.......... #\n# ##$#$###.@###\n#           #\n#############\n; Level 28\n\n #############\n##           #\n# .$.$.$.$.$ #\n#@#.#.#.#.#.##\n# $ $ $ $ $ #\n#   #   #   #\n#############\n; Level 29\n\n #######\n##     ##\n#  $.$  #\n#  #.#  #\n# $.$.$ #\n##.#.#.##\n # $ $ #\n #  @  #\n #######\n; Level 30\n\n  #####\n  #   #\n### $ ###\n#   .   #\n# $.$.$ #\n##.#.#.##\n # $ $ #\n #  @  #\n #######\n; Level 31\n\n #######\n #     #\n## $ $ ##\n#  #.#  #\n# $.@.$ #\n##.#.#.##\n # $ $ #\n #     #\n #######\n; Level 32\n\n###########\n#         #\n#         #\n# $##$##$ #\n#   .@.   #\n# $.#.#.$ #\n#   # #   #\n#         #\n###########\n; Level 33\n\n   #####\n ###   ###\n##       ##\n# $##.##$ #\n#    .    #\n## $#.#$ ##\n #  #.#  #\n ##  @  ##\n  #######\n; Level 34\n\n#########\n#       #\n#       #\n# .$.$. #\n## # # ##\n#.$.$.$.#\n#  $@$  #\n#       #\n#       #\n#########\n; Level 35\n\n#########\n#       #\n# $   $ #\n# .$.$. #\n##$#$#$##\n#  . .  #\n# . @ . #\n#       #\n#########\n; Level 36\n\n#########\n#       #\n#  $$$  #\n# $$ $$ #\n##.# #.##\n#  ...  #\n# . @ . #\n##  #  ##\n #######\n; Level 37\n\n#########\n#       #\n# . . . #\n#  . .  #\n##.#@#.##\n#  $ $  #\n# $ $ $ #\n#  $ $  #\n#   #   #\n#########\n; Level 38\n\n #######\n##  #  ##\n# . # . #\n#  . .  #\n##.#@#.##\n#  $ $  #\n# $ # $ #\n#  $ $  #\n##  #  ##\n #######\n; Level 39\n\n #####\n #.@.#\n # # #\n #.#.#\n##$#$##\n#  $  #\n#  $  #\n##   ##\n #   #\n #####\n; Level 40\n\n#####\n#.@.#\n# $ #\n#.#.#\n# $ #\n# # #\n# $ #\n# $ #\n#   #\n#####\n; Level 41\n\n#####\n#.@.#\n#$$$#\n#.$.#\n# # #\n#   #\n# # #\n#   #\n#####\n; Level 42\n\n#####\n#.@.#\n#$$$#\n# $ #\n# # ###\n#    .#\n# # # #\n#    .#\n#######\n; Level 43\n\n#####\n#.@.#\n#$$$###\n# $  .#\n# # # #\n#    .#\n#######\n; Level 44\n\n#########\n#. .+. .#\n# #$#$# #\n#   $   #\n# #$#$# #\n#       #\n#########\n; Level 45\n\n  #####\n ##   ##\n##     ##\n#. ... .#\n###$#$###\n#   $   #\n# #$#$# #\n#   @   #\n#########\n; Level 46\n\n#########\n#       #\n# $$$$$$##\n# # # #  #\n#...... @#\n##########\n; Level 47\n\n   ####\n####  ###\n#  $@$  #\n# # $$# #\n#  $# # #\n# $...  #\n###... ##\n  ######\n; Level 48\n\n#######\n#. @  #\n#$#$# #\n# $  .#\n# # # #\n# .   #\n#######\n; Level 49\n\n#######\n#  @. #\n#.# # #\n# $$$ #\n# # # #\n# .   #\n#######\n; Level 50\n\n #######\n #   . #\n #.# # #\n #$$@$$#\n## # #.#\n#  .   #\n#    ###\n######\n; Level 51\n\n#######\n#     #\n# .$. #\n# $.$ #\n## # ##\n# $.$ #\n# .$. #\n#  @  #\n#######\n; Level 52\n\n ######\n##    ####\n# .$.    #\n# $.$ .$ #\n## ###$.@#\n# $.$ .$ #\n# .$.    #\n##   #####\n #####\n; Level 53\n\n ######\n #    ###\n #.$.   ##\n #$.$ .$ #\n## ###$.@#\n# $.$ .$ #\n# .$.   ##\n##   ####\n #####\n; Level 54\n\n   #####\n ###   #\n##  .$.#\n# $.$.$##\n#  #.$ @#\n# $.$.$##\n##  .$.#\n ###   #\n   #####\n; Level 55\n\n #########\n##  .@.  ##\n# $.$ $.$ #\n#  # # #  #\n# $.$ $.$ #\n##  . .  ##\n #########\n; Level 56\n\n  #######\n  #@    ##\n### # $$ #\n#     .  #\n# $$# .###\n### .. #\n  ##   #\n   #####\n; Level 57\n\n  #######\n  #@    ##\n### # $$ #\n#    ..  #\n# $$#  ###\n### .. #\n  ##  ##\n   ####\n; Level 58\n\n########\n#.    .#\n# #  ###\n# #@ ###\n# $$$$ #\n###  # #\n#.    .#\n########\n; Level 59\n\n  ####\n  #..#\n###@ ###\n# $$$$ #\n# #..# #\n# #  # #\n#      #\n########\n; Level 60\n\n  #####\n  #.@.#\n###...###\n#  $$$  #\n# # . # #\n#  $ $  #\n## #$# ##\n #     #\n #######\n; Level 61\n\n  #####\n  #...#\n### @ ###\n#  $*$  #\n# # . # #\n# #$*$# #\n#       #\n###   ###\n  #   #\n  #####\n; Level 62\n\n########\n#      ##\n# $ # $ #\n# #$ $# #\n#  ...  #\n#  .@.  #\n#  ...  #\n# #$ $# #\n# $ # $ #\n##      #\n ########\n; Level 63\n\n#########\n#       #\n# $ # $ #\n# #$ $# #\n#  .*.  #\n# ..@.. #\n#  .*.  #\n# #$ $# #\n# $   $ #\n#       #\n#########\n; Level 64\n\n#########\n#       #\n# $ # $ #\n# #$ $# #\n#  .*.  #\n# ..@.. #\n#  .*.  #\n# #$ $# #\n# $ # $ #\n#       #\n#########\n; Level 65\n\n#########\n#       #\n# $ # $ #\n# #$ $# #\n#  ...  #\n# #.@.# #\n#  ...  #\n# #$ $# #\n# $ # $ #\n#       #\n#########\n; Level 66\n\n#####\n#...###\n#. .  #\n#. .# #\n#   # #\n### # #\n# $ $ #\n# $@$ #\n# $$$ #\n#     #\n#######\n; Level 67\n\n####\n#..##\n#...##\n#... ##\n#     ##\n# # #  #\n# #$$$ #\n#  $@$ #\n# #$$$ #\n#      #\n########\n; Level 68\n\n#########\n#   #   #\n# # # # #\n#   @   #\n###$#$###\n #  *  #\n #  .  #\n ## . ##\n  #####\n; Level 69\n\n#########\n#   #   #\n# # . # #\n#   .   #\n####@####\n#   .   #\n# $$.$$ #\n# # # # #\n#   #   #\n#########\n; Level 70\n\n#########\n#   #   #\n# #$.$# #\n#   .   #\n####+####\n#   . $ #\n# $$. $ #\n# # . # #\n#   #   #\n#########\n; Level 71\n\n#########\n#   #   #\n# # .$# #\n# $ .   #\n####+#####\n#   . $  #\n# $$.  $ #\n# # . ## #\n#   #    #\n##########\n; Level 72\n\n#########\n#   #   #\n# # . # #\n#   .   #\n####@####\n#   .   #\n# $$*$$ #\n# # . # #\n#   #   #\n#########\n; Level 73\n\n#########\n#   #   #\n# # .$# #\n# $ .   #\n####@#####\n#   . $  #\n#  $.  # #\n# # # ## #\n#   #    #\n##########\n; Level 74\n\n#########\n#   #   #\n# #$.$# #\n#   .   #\n####@#####\n#   .    #\n#  $.$ # #\n# # # ## #\n#   #    #\n##########\n; Level 75\n\n #######\n #  #  #\n # $.$ #\n #  .  #\n####.####\n#  $.$  #\n# #$.$# #\n#   .   #\n### @ ###\n  #####\n; Level 76\n\n#########\n#   #   #\n# # . # #\n#  $.$  #\n####@####\n#  $.$  #\n#   .   #\n# # # # #\n#   #   #\n#########\n; Level 77\n\n#########\n#   .   #\n#  $.$  #\n####.####\n# $ . $ #\n# #$.$# #\n#   .   #\n### @ ###\n  #####\n; Level 78\n\n  #####\n### . #\n#   . ###\n# $$@$$ #\n### .   #\n  # . ###\n  #####\n; Level 79\n\n   ####\n   #  ###\n  ##    #\n  # . # ##\n###$.$#$ #\n#   .    #\n#  @#  ###\n########\n; Level 80\n\n###########\n#         #\n# #$.$#$# #\n#   .     #\n####.######\n#   .     #\n# #$.$#$# #\n#   .     #\n##  @  ####\n #######\n; Level 81\n\n##### #####\n#  .###.  #\n# $  @  $ #\n###*###*###\n #       #\n #  ###  #\n #  # #  #\n #### ####\n; Level 82\n\n ####\n##  #\n# $ #\n# $ #\n# $ ####\n#@$    #\n## #   #\n## #####\n#  ....#\n#  #####\n#  #\n####\n; Level 83\n\n    ######\n#####   .#\n#   #   .#\n#   #   .#\n#  $#$ ###\n## $@$ #\n#  $#$ ###\n#   #   .#\n#   #   .#\n#####   .#\n    ######\n; Level 84\n\n    #####\n#####   #\n#   #   ###\n#   #  ...#\n#  $#$ ####\n## $@$ #\n#  $#$ ####\n#   #  ...#\n#   #   ###\n#####   #\n    #####\n; Level 85\n\n    ####\n ####  #\n##  #  ###\n#   #  ..#\n#. $#$ ###\n## $@$ #\n#. $#$ ###\n#   #  ..#\n##  #  ###\n ####  #\n    ####\n; Level 86\n\n  #######\n###  #  #\n#   $#  ##\n#  $..$  #\n####..$  #\n#  $..####\n#   #$#\n#####@#\n    ###\n; Level 87\n\n########\n# .... #\n# #  # #\n# #  # #\n# $$$$ #\n##    ##\n ##@ ##\n  ####\n; Level 88\n\n    ####\n    #  #\n#####$ #\n#   #  ###\n#   #$ ..#\n##   @ ###\n#   #$ ..#\n#   #  ###\n#####$ #\n    #  #\n    ####\n; Level 89\n\n #######\n##     #\n#  $.$ #\n# ##@####\n#  .$.  #\n#   #   #\n#########\n; Level 90\n\n #######\n##     #\n#  $.$ #\n# ##@####\n#  .$.  #\n#  $#.  #\n##  .$ ##\n # $#. #\n #     #\n #######\n; Level 91\n\n####  ####\n#  ####  #\n# $#..#$ #\n# $ .. $ #\n# $#..#$ #\n#        #\n### @ ####\n  #####\n; Level 92\n\n####### ###\n#     ### #\n# ###   $ #\n# $  @### #\n##  # ... #\n ## #     #\n  # #$ ####\n  #    #\n  ##   #\n   #####\n; Level 93\n\n#####\n#   #######\n# #$..$   #\n# @$..$ # #\n# #$..$   #\n#   #######\n#####\n; Level 94\n\n ####\n##  ###\n# .$. #\n# $.$ #\n# $.$ #\n# .$. #\n###  @#\n  #####\n; Level 95\n\n  #######\n###.    ##\n#  *  $  #\n# #*##*# #\n#  $@ *  #\n##    .###\n #######\n; Level 96\n\n#########\n#@ .  . #\n#  $  $ #\n###*##* #\n#  $  $ #\n#  .  . #\n#########\n; Level 97\n\n  ####\n  #  #\n###  ###\n#  $$@ #\n# #$.# #\n#  ..  #\n###..###\n#  .$  #\n# #$$# #\n#      #\n########\n; Level 98\n\n  ###\n  #@#\n###.###\n# $*$ #\n#  .# #\n# #   #\n#  .# #\n# $*$ #\n###.  #\n  # # #\n  #   #\n  #####\n; Level 99\n\n######\n#    #\n# # $####\n# #$*. @#\n# # . . ###\n#    .*$  #\n##### $   #\n    # ### #\n    #     #\n    #######\n; Level 100\n\n###########\n#   *     #\n# #.#$# # #\n# # *     #\n# @ #######\n# # *     #\n# #.#$# # #\n#   *     #\n###########\n; Level 101\n\n ########\n #      #\n # #### #\n##      #\n#  $**$ #\n#  *..* #\n####@####\n   ###\n; Level 102\n\n#####  #####\n#   ####   #\n# #  ##  # #\n#  $$##$$  #\n#  $@.. $  #\n### .... ###\n  ##    ##\n   ######\n; Level 103\n\n######\n#   @#\n# #.$######\n# #.$ ... #\n#  .$#$$$ #\n# ## #  # #\n#         #\n###########\n; Level 104\n\n#####\n#   #####\n# #$..$ #\n# @.$$. #\n# #$..$ #\n#      ##\n########\n; Level 105\n\n  ###\n###.#####\n#  *    ##\n# #*###  #\n#  $  #  #\n##  @$**.#\n ###  # ##\n   ##   #\n    #####\n; Level 106\n\n###########\n#  . # .  #\n#  $   $  #\n# #*#@#*# #\n#  $   $  #\n## . # . ##\n #########\n; Level 107\n\n  ######\n###    #\n# @$$# #\n# #$.# #\n# #..  #\n#  ..# #\n# #.$# #\n# #$$  #\n#    ###\n######\n; Level 108\n\n ###########\n##         #\n#  #$# #$# #\n#  .*.@.*. #\n## #$# #$# #\n #         #\n ###########\n; Level 109\n\n#####\n#   ##\n#  $ #\n# $*.#\n# .@.###\n###.*$ #\n  # $  #\n  #   ##\n  #####\n; Level 110\n\n#####\n#   ####\n#  @*  #####\n###.#$  *  ###\n  # *  .#$   #\n  ####  *    #\n     ######  #\n          ####\n; Level 111\n\n    #####\n    #   #\n    # # ###\n#####     ####\n#   ##$**$   #\n#     *..*   #\n#######@######\n      ###\n; Level 112\n\n  ########\n###@ #   ##\n#  $$#$$  #\n# #$ ..$# #\n#   ....  #\n###  ######\n  ####\n; Level 113\n\n########\n# ...  #\n# $$$  #\n# # #$.#\n#  @ $.#\n### #$.#\n  # #  #\n  #   ##\n  #####\n; Level 114\n\n######\n#   @#####\n# #      #\n# #$..$# #\n# #.$$.# #\n# #$..$# #\n#      # #\n#####    #\n    ######\n; Level 115\n\n #########\n## . @#  #\n#  *  #  #\n# #*#**$.#\n#  $  #  #\n##       #\n #########\n; Level 116\n\n ########\n##.   . #\n# $#  $ #\n#@*   * #\n# $## $ #\n##.   . #\n ########\n; Level 117\n\n#####\n#   #\n#$$ ##\n#.$..#\n#..$.#\n#  $$#\n### @#\n  ####\n; Level 118\n\n#####\n#  @#\n# #$######\n# .*..   #\n# #$$*$# #\n# # #. # #\n#        #\n##########\n; Level 119\n\n#######\n#     #\n#  $@ #\n##$*.$#\n # .$.#\n ##$..#\n  #   #\n  #####\n; Level 120\n\n  ######\n  #    #\n ## ## ###\n## *  *  #\n#@. $$ . #\n###* #*# #\n  # #    #\n  #   ####\n  #####\n; Level 121\n\n     ####\n######  ###\n#    #    #\n# #  #  # #\n# #$*#*$# #\n#@ *. .*  #\n###     ###\n  #######\n; Level 122\n\n######\n#..  ##\n#.@$  ##\n##$$$$ #\n #  $ .#\n ##  ..#\n  ######\n; Level 123\n\n  ####\n  #  #\n  #  #\n  #.$###\n###.$  #\n# @.$# #\n# ##   #\n#    ###\n######\n; Level 124\n\n######\n#    #\n# #  #\n#  $$##\n#  $@.#\n### ..#\n  #####\n; Level 125\n\n #####\n # @ #\n #.$.#\n##$.$##\n#  #  #\n#  #  #\n#  #  #\n#######\n; Level 126\n\n  ####\n###. ####\n#  *    #\n#@#*# # #\n#  $    #\n###  ####\n  ####\n; Level 127\n\n#######\n#  .  #\n#  $  #\n###*#@#\n#  $  #\n#  . ##\n######\n; Level 128\n\n  ####\n  #  #\n###  ###\n#  $$@ #\n# #$.# #\n#  ..  #\n########\n; Level 129\n\n  ###\n  #@#\n###.###\n# $*$ #\n# #.# #\n# #   #\n#    ##\n###  #\n  ####\n; Level 130\n\n######\n#    #\n# # $####\n# #$*. @#\n# # .#  #\n#      #\n#####  #\n     ##\n; Level 131\n\n###########\n#   *     #\n#@#.#$# # #\n#   *     #\n#   #######\n####\n; Level 132\n\n########\n#      ###\n# # ##   #\n# #  # # #\n# #$*    #\n#  *.#####\n####@#\n   ###\n; Level 133\n\n  ####\n###@ #\n#  $$##\n# #$ .#\n#   ..#\n###  ##\n  ####\n; Level 134\n\n #####\n##.. ###\n# .@$  #\n# #$$# #\n# #  # #\n# #  # #\n# #  # #\n# #### #\n#      #\n########\n; Level 135\n\n######\n#   @#\n# #.$###\n# #.$  #\n#  .$# #\n# ## # #\n#      #\n########\n; Level 136\n\n#########\n#  ...  #\n#  $$$  #\n# ##@####\n#    #\n######\n; Level 137\n\n#####\n#   ###\n# #$.  #\n#  .$#@#\n# #$.  #\n#   # #\n ##   #\n   ###\n; Level 138\n\n######\n#   @#\n# #  #\n# #$.#\n# #.$#\n# #$.#\n#    #\n###  #\n  ####\n; Level 139\n\n  ###\n###.###\n#  *  #\n# #*# #\n#  $  #\n## @ ##\n #####\n; Level 140\n\n########\n#@ .   #\n#  * # #\n###*## #\n#  $   #\n#      #\n########\n; Level 141\n\n######\n#@ . ##\n#  $  #\n# #*# #\n#  $  #\n## . ##\n #####\n; Level 142\n\n ########\n##.     #\n# $#  # #\n#@*   # #\n# $## # #\n##.     #\n ########\n; Level 143\n\n  ######\n###    #\n# @$$# #\n# #$.# #\n# #..  #\n#    ###\n######\n; Level 144\n\n#######\n#     #\n#   # #\n#   $$#\n####$.##\n   #..@#\n   #####\n; Level 145\n\n #######\n##     #\n#  #$# #\n#@ .*. #\n## #$# #\n #     #\n #######\n; Level 146\n\n#######\n#@    #\n#  $  #\n##$*.##\n # .##\n #  #\n ####\n; Level 147\n\n######\n# @  #\n# ## ##\n#     #\n## $  #\n #$*.##\n # . #\n #   #\n #####\n; Level 148\n\n#####\n#   ####\n#  @*  ###\n###.#$   #\n  # *    #\n  ########\n; Level 149\n\n  ######\n  #    #\n ## ## #\n## *   #\n#@. $# #\n###* # #\n  # ## #\n  #    #\n  ######\n; Level 150\n\n    #####\n    #   #\n    # # ##\n#####    #\n#   ##$* #\n#     *. #\n#######@##\n      ###\n; Level 151\n\n  ####\n###  #\n#    #\n# #  #\n# #$*#\n#  *.#\n###@ #\n  ####\n; Level 152\n\n###########\n#  .....  #\n#  # # #  #\n## #$#$# ##\n #$$ $   #\n # # @ # #\n #   $ $$#\n## #$#$# ##\n#  # # #  #\n#  .....  #\n###########\n; Level 153\n\n#############\n#.   .#.   .#\n# # $ # $ # #\n# $ # # # $ #\n# # $ . $ # #\n# #$# # #$# #\n#.   .#.   .#\n### ##### ###\n#.   .#.   .#\n# #$# # #$# #\n# # $ $ $ # #\n# $ # # # $ #\n# # $ # $ # #\n#.   .#.   +#\n#############\n; Level 154\n\n########\n#@  .  #\n#  .#. #\n## $$$$#\n # .#. #\n # $*$ #\n # .#. #\n # $$$ ##\n # .#.  #\n #      #\n ########\n; Level 155\n\n###############\n#             #\n# # # # # # # #\n# $$ $   $ $$ #\n# # # #.# # # #\n#  $ $ + $ $  #\n# # # #.# # # #\n#   .......   #\n###############\n; Level 156\n\n###############\n#             #\n# # #$# #$# # #\n# $$ $   $ $$ #\n# # # #.# # # #\n#  $ $.+.$ $  #\n# # # #.# # # #\n#   .......   #\n###############\n; Level 157\n\n###########\n#. . + . .#\n# $#$#$#$ #\n#  $ $ $  #\n#    #    #\n###. * .###\n  #######\n; Level 158\n\n###########\n#. . + . .#\n# $# # #$ #\n#  $ # $  #\n#   $#$   #\n##   $   ##\n ##. $ .##\n  ## . ##\n   #####\n; Level 159\n\n###########\n#. . + . .#\n# $# # #$ #\n#  $ # $  #\n#   $#$   #\n##   $   ##\n ##. * .##\n  #######\n; Level 160\n\n###########\n# ...     #\n# ##$$#$# #\n# $  +  $ #\n# #$# $## #\n#     ... #\n###########\n; Level 161\n\n####### #######\n#@....# #.... #\n#  #### ####  #\n## #  ###  # ##\n # #   *   # #\n # #   #   # #\n # #$$$#$$$# #\n # $   #    $#\n #     #     #\n #############\n; Level 162\n\n ##########\n #.....   #\n #@#####  #\n # $ $ # ##\n # # # # #\n # $ $ # #\n##$# # # ###\n#          #\n#   ####   #\n#####  #####\n; Level 163\n\n ##########\n #......  #\n #@#####  #\n # $ $ # ##\n # # # # #\n # $ $ # #\n##$# # # ###\n# $        #\n#   ####   #\n#####  #####\n; Level 164\n\n     #####\n     #.#@#\n  ####.#$#\n  #  #.# #\n###  #.# #\n#  $ #.$ ####\n#  $  .$    #\n#  $  # #   #\n#####   #####\n    #####\n; Level 165\n\n    ###\n    #.# ####\n ####.# #  #\n #  #.###  #\n##  #..    #\n#  $# # # ##\n# $ $     #\n#  $ #$#  #\n####  @####\n   #####\n; Level 166\n\n  "],t=c((0,r.useState)([]),2),i=(t[0],t[1]),o=c((0,r.useState)(""),2),a=o[0],s=o[1],u=c((0,r.useState)(!0),2),l=u[0],h=u[1];(0,r.useEffect)((function(){for(var t=e[0].split(";"),n=0;n<t.length;n++){var r=0,i=0,o=0,a=0,s=0,u=0,l=t[n].split("\n");l.filter((function(e){return""!==e})),l.shift();for(var c=0;c<l.length;c++)r<l[c].length&&(r=l[c].length),-1!==l[c].indexOf("@")?(o=c,i=l[c].indexOf("@")):l[c].indexOf("+")>-1&&(o=c,i=l[c].indexOf("+")),a+=l[c].split("$").length-1,s+=l[c].split("*").length-1,u+=l[c].split(".").length-1,-1!==l[c].indexOf("+")&&(u+=1);var h={author:"Roger Delaporte",level:t[n].split("\n").filter((function(e){return""!==e}))[0],raw:l.length,columm:r,data:l,personColumn:i,personRaw:o,boxes:a,boxOnTargets:s,target:u};bJ.push(h)}}),[]);(0,r.useEffect)((function(){window.addEventListener("keydown",(function(e){"ArrowLeft"===e.key?f():"ArrowRight"===e.key?d():"ArrowUp"===e.key?p():"ArrowDown"===e.key&&v()}))}),[]);var f=function(){TJ=0,_J=-1,g(),m(),i(SJ.length-2)},d=function(){TJ=0,_J=1,g(),m(),i(SJ.length-2)},p=function(){_J=0,TJ=-1,g(),m(),i(SJ.length-2)},v=function(){_J=0,TJ=1,g(),m(),i(SJ.length-2)},g=function(){kJ=Number(IJ.personColumn),EJ=Number(IJ.personRaw)," "===IJ.data[EJ+TJ][kJ+_J]||"."===IJ.data[EJ+TJ][kJ+_J]?(IJ.data[EJ]=IJ.data[EJ].substr(0,kJ)+("+"===IJ.data[EJ][kJ]?".":" ")+IJ.data[EJ].substr(kJ+1),IJ.data[EJ+TJ]=IJ.data[EJ+TJ].substr(0,kJ+_J)+("."===IJ.data[EJ+TJ][kJ+_J]?"+":"@")+IJ.data[EJ+TJ].substr(kJ+_J+1),IJ.personColumn=kJ+_J,IJ.personRaw=EJ+TJ):"$"!==IJ.data[EJ+TJ][kJ+_J]&&"*"!==IJ.data[EJ+TJ][kJ+_J]||(" "!==IJ.data[EJ+2*TJ][kJ+2*_J]&&"."!==IJ.data[EJ+2*TJ][kJ+2*_J]||("."===IJ.data[EJ+2*TJ][kJ+2*_J]&&IJ.boxOnTargets++,"*"===IJ.data[EJ+TJ][kJ+_J]&&IJ.boxOnTargets--,IJ.data[EJ]=IJ.data[EJ].substr(0,kJ)+("+"===IJ.data[EJ][kJ]?".":" ")+IJ.data[EJ].substr(kJ+1),IJ.data[EJ+TJ]=IJ.data[EJ+TJ].substr(0,kJ+_J)+("*"===IJ.data[EJ+TJ][kJ+_J]?"+":"@")+IJ.data[EJ+TJ].substr(kJ+_J+1),IJ.data[EJ+2*TJ]=IJ.data[EJ+2*TJ].substr(0,kJ+2*_J)+("."===IJ.data[EJ+2*TJ][kJ+2*_J]?"*":"$")+IJ.data[EJ+2*TJ].substr(kJ+2*_J+1),IJ.personColumn=kJ+_J,IJ.personRaw=EJ+TJ),IJ.boxOnTargets===IJ.target&&alert("Win"))},m=function(){AJ="<table >";for(var e=0;e<IJ.raw;e++){var t=!1;AJ+="<tr>";for(var r=0;r<IJ.columm;r++)"#"===IJ.data[e][r]?(t=!0,AJ+="<td><img src=".concat(n(3254)," /></td>")):""===IJ.data[e][r]?AJ+="<td><img src=".concat(n(3818)," /></td>"):"@"===IJ.data[e][r]||"+"===IJ.data[e][r]?AJ+="<td><img src=".concat(n(9041)," /></td>"):"$"===IJ.data[e][r]?AJ+="<td><img src=".concat(n(349)," /></td>"):" "===IJ.data[e][r]?AJ+="<td><img src=".concat(n(t?6353:5154)," /></td>"):"."===IJ.data[e][r]?AJ+="<td><img src=".concat(n(5716)," /></td>"):"*"===IJ.data[e][r]&&(AJ+="<td><img src=".concat(n(1400)," /></td>"));AJ+="</tr>"}AJ+="</table>",SJ.push(AJ),CJ.push([IJ.personColumn,IJ.personRaw]),SJ.length>5&&(SJ.shift(),CJ.shift()),s(AJ),console.log(SJ)};return(0,ee.jsxs)("div",{className:"boxman",children:[!0===l&&(0,ee.jsxs)("div",{className:"select",children:[(0,ee.jsx)("input",{onChange:function(e){wJ=e.target.value,console.log(wJ)},type:"number",placeholder:"Please choice level"}),(0,ee.jsx)("br",{}),(0,ee.jsx)("br",{}),(0,ee.jsx)(xJ,{onClick:function(){h(!1),wJ>165?alert("Vui l\xf2ng ch\u1ecdn level nh\u1ecf h\u01a1n 165"):(IJ=bJ[wJ],g(),m())},children:"OK"})]}),!1===l&&(0,ee.jsxs)("div",{children:[(0,ee.jsx)(xJ,{onClick:function(){h(!0)},children:"Select Level "}),(0,ee.jsx)("h1",{style:{color:"chocolate"},children:IJ.level}),(0,ee.jsx)("div",{className:"games-table",children:(0,ee.jsx)("div",{dangerouslySetInnerHTML:{__html:a}})}),(0,ee.jsxs)("div",{className:"control",children:[(0,ee.jsxs)(xJ,{onClick:f,className:"left",variant:"warning",children:[" ",(0,ee.jsx)(XQ,{})," "]}),(0,ee.jsxs)(xJ,{onClick:d,className:"right",variant:"warning",children:[" ",(0,ee.jsx)(ZQ,{})," "]}),(0,ee.jsxs)(xJ,{onClick:p,className:"up",variant:"warning",children:["  ",(0,ee.jsx)(iJ,{}),"  "]}),(0,ee.jsxs)(xJ,{onClick:v,className:"down",variant:"warning",children:[" ",(0,ee.jsx)(lJ,{})]})]})]})]})},OJ=n(7744),RJ=n.n(OJ),MJ=n.p+"static/media/logo.18a7191678e558c5519c.png",DJ=n.p+"static/media/platform.69db09bf9618dbe6c387.png",LJ=(n.p,function(e){hn(n,e);var t=gn(n);function n(){var e;return sn(this,n),(e=t.call(this)).score=0,e}return ln(n,[{key:"preload",value:function(){var e=this;this.load.image("logo",MJ),this.textures.addBase64("sky","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAMAAACtqHJCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAwBQTFRFAAAAFprFH57IKKPLMqjOO63SRbHVTrbYWLvcYcDfasXidMnlfc7ph9PskNjvmt3zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdV5yoKSb8vLTH+19ZwAABLRJREFUeNrs0wcRwwAAA7HsNps/2xCwGUgQ/u6HEagGCcAgYBAwCBgEDAIGAYOAQcAggEHAIGAQMAgYBAwCBgGDgEHAIIBBwCBgEDAIGAQMAgYBg4BBAIOAQcAgYBAwCBgEDAIGAYOAQYA4yARUBgGDgEHAIGAQMAgYBAwCBgGDAAYBg4BBwCBgEDAIGAQMAgYBgwAGAYOAQcAgYBAwCBgEDAIGAQwCBgGDgEHAIGAQMAgYBAwCBgHyIDNQGQQMAgYBg4BBwCBgEDAIGAQMAhgEDAIGAYOAQcAgYBAwCBgEDAIYBAwCBgGDgEHAIGAQMAgYBDAIGAQMAgYBg4BBwCBgEDAIGATIgyxAZRAwCBgEDAIGAYOAQcAgYBAwCGAQMAgYBAwCBgGDgEHAIGAQMAhgEDAIGAQMAgYBg4BBwCBgEMAgYBAwCBgEDAIGAYOAQcAgYBAgD7IClUHAIGAQMAgYBAwCBgGDgEHAIIBBwCBgEDAIGAQMAgYBg4BBwCCAQcAgYBAwCBgEDAIGAYOAQQCDgEHAIGAQMAgYBAwCBgGDgEGAPMgGVAYBg4BBwCBgEDAIGAQMAgYBgwAGAYOAQcAgYBAwCBgEDAIGAYMABgGDgEHAIGAQMAgYBAwCBgEMAgYBg4BBwCBgEDAIGAQMAgYB8iA/oDIIGAQMAgYBg4BBwCBgEDAIGAQwCBgEDAIGAYOAQcAgYBAwCBgEMAgYBAwCBgGDgEHAIGAQMAhgEDAIGAQMAgYBg4BBwCBgEDAIkAf5A5VBwCBgEDAIGAQMAgYBg4BBwCCAQcAgYBAwCBgEDAIGAYOAQcAggEHAIGAQMAgYBAwCBgGDgEEAg4BBwCBgEDAIGAQMAgYBg4BBgDzIDlQGAYOAQcAgYBAwCBgEDAIGAYMABgGDgEHAIGAQMAgYBAwCBgGDAAYBg4BBwCBgEDAIGAQMAgYBDAIGAYOAQcAgYBAwCBgEDAIGAfIgB1AZBAwCBgGDgEHAIGAQMAgYBAwCGAQMAgYBg4BBwCBgEDAIGAQMAhgEDAIGAYOAQcAgYBAwCBgEMAgYBAwCBgGDgEHAIGAQMAgYBMiDnEBlEDAIGAQMAgYBg4BBwCBgEDAIYBAwCBgEDAIGAYOAQcAgYBAwCGAQMAgYBAwCBgGDgEHAIGAQwCBgEDAIGAQMAgYBg4BBwCBgECAPcgGVQcAgYBAwCBgEDAIGAYOAQcAggEHAIGAQMAgYBAwCBgGDgEHAIIBBwCBgEDAIGAQMAgYBg4BBAIOAQcAgYBAwCBgEDAIGAYOAQYA8yA1UBgGDgEHAIGAQMAgYBAwCBgGDAAYBg4BBwCBgEDAIGAQMAgYBgwAGAYOAQcAgYBAwCBgEDAIGAQwCBgGDgEHAIGAQMAgYBAwCBgHyIA9QGQQMAgYBg4BBwCBgEDAIGAQMAhgEDAIGAYOAQcAgYBAwCBgEDAIYBAwCBgGDgEHAIGAQMAgYBDAIGAQMAgYBg4BBwCBgEDAIGATIg7xAZRAwCBgEDAIGAYOAQcAgYBAwCGAQMAgYBAwCBgGDgEHAIGAQMAhgEDAIGAQMAgYBg4BBwCBgEMAgYBAwCBgEDAIGAYOAQcAgYBAg+gYASFubZ8cVw5YAAAAASUVORK5CYII="),this.textures.addBase64("bomb","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZFJREFUeNpsUr9LQmEUPa8eQostDTaJk7r0Q7AGISIytZCs6fkPBE3V3iAUGTQZVNAc2JZLBRlhgYMIapO+KRyihkCsIQji9Z3PvodaBy7ve/fec8797nuaZVnoRzKZtNq1N3kenhhBNpvV+ns0RVz0h3sU1k5S8nm6nrIFKHZVz0uRAUVio0jC6x6EZyGI98adDJ6Zc7VaMDZmbANdqRG5QhGTiZDtWqp/4iizJ89b0SjOMw92ryRyhPv9HXx5A5j2D8Hpm0NiNgSnEFJgzYsKzN+761yEKpBEkKSenCJ/cSlrJQSAZlkub4BuahEKuS4nQpLE2OGVJbkHcrSYb97iAhxmpce1H7wf+4inmzJ0Xvb4MI3NSEQqcjwugiIKFOVmTUG4btzCMIzOd9Q0zRLOcGzHsfrRRjVX/ENU7zQRHE1XRSrFdoGqUC6MdZrc4y40H18x2vyGxws8T7lAA/vP4Ud9iQdRO0jLAsfqhimIUljU1J9DWxlcEoMpxvJZRgbPzKs+FehPKBEl8B+J8SPAAA0f6tdWLZfVAAAAAElFTkSuQmCC"),this.textures.addBase64("star","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAWCAYAAADafVyIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAV1JREFUeNqsVTFOAzEQ9Fr3BRSkVEkDJVXuFRRESpuOX1yqu1/Q0SJBwSuSipI0oUJKxCMcz+YMPscb7EtGsmTLu7M7vt1bMsaoVDRlycbVcknJTgiQsurJxDi0+yQ/nZr54/3P7xl7p+Y/6FSlg2qj1HrKi/eJ0LnZ56rQWdk7ZKjQfbLPUUH40pIRCI6y93HzqnbNWD29X0WvUc7Elfr5wMZRSOReEMmPbt9Ugf3u5UMNZlPVC0IC4AQK+0RkYbb4mLM7dQmA/HrxhUajou3miwXxyVmB98s4O0hI3glwbpAYebQPYCCV3SnAJyQXG42bSyo/oVSlhqRwHqDpqudhr2/QzL+PZoXOyR7v7Oo7VUVHgZQ9SPHGi9WKz3bgHH4jkUIIVRTR1m+7848Y1bGhys/MVltt7zqBWHkpj0wct/WIF8bi4fr0SIQNbJ1f6BN1cE4589r5hXd7AQYABzp8SxrFuRsAAAAASUVORK5CYII="),this.textures.addBase64("ground",DJ);var t=new Image;t.onload=function(){e.textures.addSpriteSheet("dude",t,{frameWidth:32,frameHeight:48})},t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASAAAAAwCAYAAACxIqevAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADDxJREFUeNrsXV1oXMcVnhWiLyWBtJgiN4b++SXUjpCFTO1IUQyFxjLELQ1GFD8EP0RKSWICxSlu9KCk1G7AtIVY9oPpgx9MSGhrsJxAQFXkyhA3VhUVSsB1XHBqtYTG0Dy1mN7ud6/O1dnZ+zMzO7Ozu3cOXO9q9+495/vO78xeybUoikSQIEGC+JC+QEGQIEFCAQoSJEgoQEGCBAkSClCQIEFCAQoSJEiQUIBy5JnafKW/xqs6/sB9d+Pv63YCTkcTlQ2EquMP3Hc//j4bhvgk4h9Xq90FfeL3jT3EXg/gx42Ipse0uBRBNh5FOw/ofH8uitaXo/jRlw1Vxe8Te4i93sHf181d4Ms7Gx+r1gV94/c9AYTY6wH83dgFuG46fNpQNfydMH2F2OsN/H3d1gWw7j0yN9GkEz/j9Xaui6uM3/cEEGKvN/D3tWIIl3Y4II+AdgdClfH7wh647038Nd3fhi8y5O9rQpybnheno4mai91+TnyefhLYAXFhS1Xx+8AeuO9t/FoFqKwK2iaCwI9NfUlsf3hY+/M3PnhfLJ35p7VgqDL+dmMP3FcDv1IB8tEFoPP+sQHx5ORQy8FLZLRiS1Xx+54AfHFvmniyvHFhRfx7ab3rYq9d+AsLkK8uIBNQRriq6HYHn/iLRm1T0cHvewLwzb2uFPnKpAF0G/4yHvJiL7cA+erAcvHZNSXEi4+uiJNLu9Jzjo1dF0d/NqSdjLp2+MJPxecXP7aDW9cOmx3QNPl8TCCmevN8deLdIXH9TOs50On4y3igmM0qQpkFiBtiswuXdWA56VF8arWa+GjmvqZzvzb7mVhfjrRtUZkCfOKn4jOw1y5uXRtUx32dZYFOAbbZfXUKr67uMl8hv6gIqRSDbsOvygPFrBwHfWXJh4qGC9OBn03vPcB1y76mo+rJi89XRwebDrxuYgsKXJENvvEDNznSJm4V/IRd7mhl+FXOU8Eu6zfpvlk2wJdl+qn5megs8hViGD7lsd0r+HV4gD3EA5f+LCO2PzzUUNGeHudVbbz+ulkXBhFLYr7wnJdHRsTwdE1MT19KAWUJXj85u0scFXq3EQw+9D+xtFTsBF/458SBetV1g1sFP9kod7Qi/Krnqfie6zftvnk2CDEsVsdW6Le4a3nc6AqKyomXRnN99dHMKnTGvkVs37nWW/hNeDjNYrdfPhnLH3n6kAUXQ8Uz2Y+gDpxFAl6r1Q5E0Tuj4taVyQbdtW9fiR/xnkvxib8+rtde2b078oGbd0C5o2XhR8AjsPm0VsZTEXbTDqxqa7LVMCTOLc075VH2F2z60cykOD06Gr8X5SR/r+Av4mHryKyI3osa8DctwTB9oFKVduGScbKoA6tInm4u2ODS3RAtk07BbxO3Kn5uG/AV4aexWoenMuym3KjYCp/CtzZiRNcXKrHcrfhbjcl+eQLZunsk+sF3/EwftATLEnlz69aVVWWHqZLaCfht4m41qMo6WvRO8Tm+JG8K2fr2iPjJe+Ub4cSXynIIvoBPKF6yNmHLYrub8ZvwkFuAXE4frSYCtwlAX529IGaWh8Xieb1rrv6lT0uXb/y2cOvgb+Veo1avB45090ESXxwt5/Ht/5Ryw4t7mb9ufCDE+OFhMbv3QpzgtOnainQTfhs89LejC+sm3ivHi4m6cw1JOGFUfDCuYq+lnVOILfymuHXwUwIgqG9dGdfqaFk8UaHW4UC3A5t23+b9x1p0TFzX8i18AZ8g+bDHYUO6CX+rPCgVIJtduKwD37k2I+479ptkbXviXFLhXzwSP1+Yf028eeAr8W3pOrpVun6n4P/ssW9aw62LnzogEuDJyWHx6rReR8vi6cjcUJpQZXaYdGAXUwjZqZqI8Al8c25aiO9f+pvYN/HD1Hfkx9i3J7/Xk/h1eSgtQEUTSCtdWKUDoxI/UxMRFSESbKLdP/atNKBNiorq9OMTf91ZtbqjInKaDdwq+KkDXnjoj2nwI5hQhEw6O3jC53kSqeg36cC2phDYFtuwMbXpcZ3w9cbPV+rNYr7eRKXGUi8+RTcCdj/+Yh42ClH5r2Lg60Akf1EX1l1ScCCqRSDrtvBWElBHb6fhb7XwqOql4OMJAP24ezWvo6nypFJ8efCbdOAyW8uKQJ4dOgKb5ZhV/RWMXsAv81CGvz9vAlkYfS0GYbML6+y/UEdo3PA1m3qouqvq7Vz8win+tAOK66xwrCRjdb2bvSmaO7s8pQqRFB/82gH3lwr21jtwdvdFUVRNPm6HCfewGZyZxF4v4Oc8TJ6pleIv/GVUPNrqwiabv7wi03MVQvi9J6Y6q4w/qwPKHU2WIp50sbfagbNsNf3TFD5ir0r4C/8cR7s7sC4hRRXcpq4q4s/DLi8xipbHrWAPsVcN/Ep/kMxHFyiz54kvfD39ed/ObWJh7ba4+OlNZ/qqit839k7lnjgnqVrs2cKv9DU8v3A7u0CeEAHp5tveHfGxb/nP4uAXvxH97l9/rdGjDX2dih+YOQdi7rJ1Xb6xdwL3PKZ+OT7ewHsqa2583Ymx9/T0/s2Yw/RbzztT/P0mhPAOTIXAVQeG0+k5BQEvPs+deaD+78fx88cPPyC2n98RfwYk2SxCnYSfnP/44Y/Fr6bubnAgxNk54QQz2fHu3CPi0ek/CD598Q6I913pl7nnvLucQHgs4RGc83gD/xQHvFBxn3Uz/qxYTDgQLPZ2xHaY4O83rYI0glHwL+y5nRmYNpxPVZYDowQkWfr9J2LssS3xebxAuZxA2oU/7jAbP9Pkc7Y+7dxY3pbqB365Y1stfld3xjrk6VOeAHCeqwQk7jcbT8J7bM+aU5fHOuAHFB2KNbLjrfMPZvrIpi984+c+JfywAUVoYW1NUJzyAQEclOHvNzGEByAMgKKLn/7WegLmBYJcfCAgJCHjdhos1JVsJkK78VNg82mLniMAEAyrr/eLwUOiYV1uCzc1gIN7LjfwnyWnjt8Wp8R6+pmzDpaE1O3fOr+/iRubyU78USyl08YUkn9Lw7lJLO5omEhcSjvwZxWezRi8F8f94KF7CRdTIjNGuX1WJyDqwDzQXCQfH+dAepwQe/c3FR8SELKwthkEICNNIIvO8YkfexBwLDBS9wPupCN/EuN3UQCBFTiTjt98Hl6HPXxiczmBEv/cF7aSX568+XXBdZZQEXp+cVFcXLwpntj4jIvlqGv8RcJjDY3v1PHGgAN+PqlZXYJR9wfZ2G+Qg9PF0ocDgH7ovLHcHAggg+DQZ+TqbWv68YkfDqZlUMLBvXQSk93ZavDzPTeOD/ix7GhMvqTg03lIBhfJR9eWCx1swJLUVqPhUw+PJ8TZ6ut3c+LvbuwbV3tg7cSf1QQJZ4I/ycHBQwPxa7QHqou/36QCQl746UA8cvMRFe+53IQEwBfqgGn93bgES9amfALg5NmyyTd+bPSW4bepHzr3iW1N3Z+KEJ9GaQLlE5vtBgDeoYMXCLwm67eVdDKXmxNANv/PL950VXvahj+vCUJ/Fn5gf05gO2Ag/pJCR7Rv7UW1o51/CjLad0m6gDvysfzIcn5jF2omz2ZC+sYPHXzDWd4Hs63z8vFn0z0fwo4DNnz+wT/Fj/Qa4cf5+JztCZRs4Htd5AOu31bSZcVNkQ7wDx+5wN1u/EUYs4T2InXxa/3XzPgKkDrwwT1r6R4I7YPE34DUX3exEYYqL4PniZhsxN7b2Axdd7L+9omfvoXiQcYnEuIG59jCzzfcsfTLm764P9ABEYTy8sUmD3nck35Xt0LQpMFjLSspyQeu4sAnfh5nWUWZJiTVPNAqmXQfAgKRr5OzCoJt0rmg2tNmFwnZFCfehpNsi0/8/Nop9sVG/HB8fFzdYgU/Aki++Y1/BZ2HnexzcV8K6cni3kXy8Zgi3UgyeamBoktfjac+cLAc94lf1iULNR68T7djlOLHBKR74GN1ZXiSHvUEwA1Skcn1VPRFH3431pGYnH0O3qfDlS2+8OP6pLPoHPCEw7YtnN+XR0biA6/Rc3ovzz5bB3CRHjqKeLGpswwj94Ere3zhp7gqww9bdOJAawmWtRwhcVl9SV9ZV5W7tWt7qoQf18YfVR976nMNeDkPS7/+r3jp2jXnd+T64l6FVxU/BfyGSzCfovr3bESPim/8abF56pHcc9pRfDqV+16OQZf4W5qAqlQAAv7sTtjOqTPEXu/h/78AAwDNmjbla526EgAAAABJRU5ErkJggg=="}},{key:"create",value:function(){this.add.image(400,300,"sky"),this.logo=this.add.image(400,250,"sky"),this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,568,"ground").setScale(2).refreshBody(),this.platforms.create(600,400,"ground"),this.platforms.create(70,250,"ground"),this.platforms.create(750,220,"ground"),this.player=this.physics.add.sprite(40,50,"dude"),this.player.setBounce(.2),this.player.setCollideWorldBounds(!0),this.physics.add.collider(this.player,this.platforms),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.player.anims.play("left",!0),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.stars=this.physics.add.group({key:"star",repeat:11,setXY:{x:12,y:0,stepX:70}}),this.physics.add.collider(this.stars,this.platforms),this.physics.add.overlap(this.player,this.stars,(function(e,t){if(t.disableBody(!0,!0),this.score+=10,this.scoreText.setText("Score: "+this.score),0===this.stars.countActive(!0)){this.stars.children.iterate((function(e){e.enableBody(!0,e.x,0,!0,!0)}));var n=e.x<400?RJ().Math.Between(400,800):RJ().Math.Between(0,400),r=this.bombs.create(n,16,"bomb");r.setBounce(1),r.setCollideWorldBounds(!0),r.setVelocity(RJ().Math.Between(-200,200),20)}}),null,this),this.stars.children.iterate((function(e){e.setBounceY(RJ().Math.FloatBetween(.4,.8))})),this.scoreText=this.add.text(16,16,"score: 0",{fontSize:"32px"}),this.bombs=this.physics.add.group(),this.bombs.create(600,400,"bomb"),this.physics.add.collider(this.bombs,this.platforms),this.physics.add.collider(this.player,this.bombs,(function(e,t){this.physics.pause(),e.setTint(16711680),e.anims.play("turn")}),null,this)}},{key:"update",value:function(e){this.cursors=this.input.keyboard.createCursorKeys(),this.cursors.left.isDown?(this.player.setVelocityX(-160),this.player.anims.play("left",!0)):this.cursors.right.isDown?(this.player.setVelocityX(160),this.player.anims.play("right",!0)):(this.player.setVelocityX(0),this.player.anims.play("turn")),this.cursors.up.isDown&&this.player.body.touching.down&&this.player.setVelocityY(-330)}}]),n}(RJ().Scene)),NJ=LJ,FJ={type:RJ().AUTO,parent:"phaser",width:800,height:600,scene:NJ,physics:{default:"arcade",arcade:{gravity:{y:350},debug:!1}}};var BJ=function(){!function(e){var t=r.useRef(null);r.useEffect((function(){if(!t.current)return t.current=new OJ.Game(e),function(){t.current.destroy(!0),t.current=null}}),[]),t.current}(FJ)},UJ=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1];return(0,ee.jsxs)("div",{children:[""===t&&(0,ee.jsxs)("div",{className:"select-game",children:[(0,ee.jsx)(xJ,{variant:"warning",onClick:function(){n("Boxman")},children:"Boxman Sokoban"}),(0,ee.jsx)("br",{}),(0,ee.jsx)("br",{}),(0,ee.jsx)(xJ,{variant:"outline-primary",onClick:function(){n("Dude")},children:"\xa0\xa0\xa0Dude in space\xa0\xa0\xa0"})]}),("Boxman"===t||"Dude"===t)&&(0,ee.jsx)(xJ,{variant:"success",onClick:function(){n("")},children:"Menu"}),"Boxman"===t&&(0,ee.jsx)(PJ,{}),"Dude"===t&&(0,ee.jsx)("div",{className:"Dude",children:(0,ee.jsx)(BJ,{})})]})};function zJ(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function VJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:zJ(t[n])&&zJ(e[n])&&Object.keys(t[n]).length>0&&VJ(e[n],t[n])}))}var jJ={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function YJ(){var e="undefined"!==typeof document?document:{};return VJ(e,jJ),e}var WJ={document:jJ,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function GJ(){var e="undefined"!==typeof window?window:{};return VJ(e,WJ),e}var HJ=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),"number"===typeof e?r=t.call(this,e):function(e){var t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}(pn(r=t.call.apply(t,[this].concat(Z(e||[]))))),vn(r)}return ln(n)}(Dl(Array));function XJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,Z(XJ(e))):t.push(e)})),t}function qJ(e,t){return Array.prototype.filter.call(e,t)}function KJ(e,t){var n=GJ(),r=YJ(),i=[];if(!t&&e instanceof HJ)return e;if(!e)return new HJ(i);if("string"===typeof e){var o=e.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var a="div";0===o.indexOf("<li")&&(a="ul"),0===o.indexOf("<tr")&&(a="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(a="tr"),0===o.indexOf("<tbody")&&(a="table"),0===o.indexOf("<option")&&(a="select");var s=r.createElement(a);s.innerHTML=o;for(var u=0;u<s.childNodes.length;u+=1)i.push(s.childNodes[u])}else i=function(e,t){if("string"!==typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof HJ)return e;i=e}return new HJ(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}KJ.fn=HJ.prototype;var $J="resize scroll".split(" ");function QJ(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(var i=0;i<this.length;i+=1)$J.indexOf(e)<0&&(e in this[i]?this[i][e]():KJ(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}QJ("click"),QJ("blur"),QJ("focus"),QJ("focusin"),QJ("focusout"),QJ("keyup"),QJ("keydown"),QJ("keypress"),QJ("submit"),QJ("change"),QJ("mousedown"),QJ("mousemove"),QJ("mouseup"),QJ("mouseenter"),QJ("mouseleave"),QJ("mouseout"),QJ("mouseover"),QJ("touchstart"),QJ("touchend"),QJ("touchmove"),QJ("resize"),QJ("scroll");var JJ={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XJ(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,Z(r))})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XJ(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,Z(r))})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XJ(t.map((function(e){return e.split(" ")})));return qJ(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=XJ(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?"".concat(e,"ms"):e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),KJ(t).is(i))o.apply(t,n);else for(var r=KJ(t).parents(),a=0;a<r.length;a+=1)KJ(r[a]).is(i)&&o.apply(r[a],n)}}function u(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),o.apply(this,t)}"function"===typeof t[1]&&(r=t[0],o=t[1],a=t[2],i=void 0),a||(a=!1);for(var l,c=r.split(" "),h=0;h<this.length;h+=1){var f=this[h];if(i)for(l=0;l<c.length;l+=1){var d=c[l];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[d]||(f.dom7LiveListeners[d]=[]),f.dom7LiveListeners[d].push({listener:o,proxyListener:s}),f.addEventListener(d,s,a)}else for(l=0;l<c.length;l+=1){var p=c[l];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[p]||(f.dom7Listeners[p]=[]),f.dom7Listeners[p].push({listener:o,proxyListener:u}),f.addEventListener(p,u,a)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];"function"===typeof t[1]&&(r=t[0],o=t[1],a=t[2],i=void 0),a||(a=!1);for(var s=r.split(" "),u=0;u<s.length;u+=1)for(var l=s[u],c=0;c<this.length;c+=1){var h=this[c],f=void 0;if(!i&&h.dom7Listeners?f=h.dom7Listeners[l]:i&&h.dom7LiveListeners&&(f=h.dom7LiveListeners[l]),f&&f.length)for(var d=f.length-1;d>=0;d-=1){var p=f[d];o&&p.listener===o||o&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===o?(h.removeEventListener(l,p.proxyListener,a),f.splice(d,1)):o||(h.removeEventListener(l,p.proxyListener,a),f.splice(d,1))}}return this},trigger:function(){for(var e=GJ(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),o=n[1],a=0;a<i.length;a+=1)for(var s=i[a],u=0;u<this.length;u+=1){var l=this[u];if(e.CustomEvent){var c=new e.CustomEvent(s,{detail:o,bubbles:!0,cancelable:!0});l.dom7EventData=n.filter((function(e,t){return t>0})),l.dispatchEvent(c),l.dom7EventData=[],delete l.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=GJ();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=GJ(),t=YJ(),n=this[0],r=n.getBoundingClientRect(),i=t.body,o=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,s=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+s-o,left:r.left+u-a}}return null},css:function(e,t){var n,r=GJ();if(1===arguments.length){if("string"!==typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=GJ(),i=YJ(),o=this[0];if(!o||"undefined"===typeof e)return!1;if("string"===typeof e){if(o.matches)return o.matches(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);for(t=KJ(e),n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}if(e===i)return o===i;if(e===r)return o===r;if(e.nodeType||e instanceof HJ){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;var t=this.length;if(e>t-1)return KJ([]);if(e<0){var n=t+e;return KJ(n<0?[]:[this[n]])}return KJ([this[e]])},append:function(){for(var e,t=YJ(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"===typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof HJ)for(var o=0;o<e.length;o+=1)this[r].appendChild(e[o]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=YJ();for(t=0;t<this.length;t+=1)if("string"===typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof HJ)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&KJ(this[0].nextElementSibling).is(e)?KJ([this[0].nextElementSibling]):KJ([]):this[0].nextElementSibling?KJ([this[0].nextElementSibling]):KJ([]):KJ([])},nextAll:function(e){var t=[],n=this[0];if(!n)return KJ([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?KJ(r).is(e)&&t.push(r):t.push(r),n=r}return KJ(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&KJ(t.previousElementSibling).is(e)?KJ([t.previousElementSibling]):KJ([]):t.previousElementSibling?KJ([t.previousElementSibling]):KJ([])}return KJ([])},prevAll:function(e){var t=[],n=this[0];if(!n)return KJ([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?KJ(r).is(e)&&t.push(r):t.push(r),n=r}return KJ(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?KJ(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return KJ(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?KJ(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return KJ(t)},closest:function(e){var t=this;return"undefined"===typeof e?KJ([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return KJ(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!KJ(r[i]).is(e)||t.push(r[i]);return KJ(t)},filter:function(e){return KJ(qJ(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(JJ).forEach((function(e){Object.defineProperty(KJ.fn,e,{value:JJ[e],writable:!0})}));var ZJ,eZ,tZ,nZ=KJ;function rZ(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function iZ(){return Date.now()}function oZ(e,t){void 0===t&&(t="x");var n,r,i,o=GJ(),a=function(e){var t,n=GJ();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return o.WebKitCSSMatrix?((r=a.transform||a.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new o.WebKitCSSMatrix("none"===r?"":r)):n=(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=o.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=o.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function aZ(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function sZ(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function uZ(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!sZ(r))for(var i=Object.keys(Object(r)).filter((function(e){return t.indexOf(e)<0})),o=0,a=i.length;o<a;o+=1){var s=i[o],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(aZ(e[s])&&aZ(r[s])?r[s].__swiper__?e[s]=r[s]:uZ(e[s],r[s]):!aZ(e[s])&&aZ(r[s])?(e[s]={},r[s].__swiper__?e[s]=r[s]:uZ(e[s],r[s])):e[s]=r[s])}}return e}function lZ(e,t,n){e.style.setProperty(t,n)}function cZ(e){var t,n=e.swiper,r=e.targetPosition,i=e.side,o=GJ(),a=-n.translate,s=null,u=n.params.speed;n.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(n.cssModeFrameID);var l=r>a?"next":"prev",c=function(e,t){return"next"===l&&e>=t||"prev"===l&&e<=t};!function e(){t=(new Date).getTime(),null===s&&(s=t);var l=Math.max(Math.min((t-s)/u,1),0),h=.5-Math.cos(l*Math.PI)/2,f=a+h*(r-a);if(c(f,r)&&(f=r),n.wrapperEl.scrollTo(ae({},i,f)),c(f,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo(ae({},i,f))})),void o.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=o.requestAnimationFrame(e)}()}function hZ(){return ZJ||(ZJ=function(){var e=GJ(),t=YJ();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(VX){}return t}(),gestures:"ongesturestart"in e}}()),ZJ}function fZ(e){return void 0===e&&(e={}),eZ||(eZ=function(e){var t=(void 0===e?{}:e).userAgent,n=hZ(),r=GJ(),i=r.navigator.platform,o=t||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,u=r.screen.height,l=o.match(/(Android);?[\s\/]+([\d.]+)?/),c=o.match(/(iPad).*OS\s([\d_]+)/),h=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!c&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===i,p="MacIntel"===i;return!c&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(s,"x").concat(u))>=0&&((c=o.match(/(Version)\/([\d.]+)/))||(c=[0,1,"13_0_0"]),p=!1),l&&!d&&(a.os="android",a.android=!0),(c||f||h)&&(a.os="ios",a.ios=!0),a}(e)),eZ}function dZ(){return tZ||(tZ=function(){var e=GJ();return{isSafari:function(){var t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),tZ}var pZ={on:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];t.apply(r,o)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((function(e){"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];"string"===typeof o[0]||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),n=r):(e=o[0].events,t=o[0].data,n=o[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(Z(t)))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}};var vZ={updateSize:function(){var e,t,n=this,r=n.$el;e="undefined"!==typeof n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t="undefined"!==typeof n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,o=e.size,a=e.rtlTranslate,s=e.wrongRTL,u=e.virtual&&r.virtual.enabled,l=u?e.virtual.slides.length:e.slides.length,c=i.children(".".concat(e.params.slideClass)),h=u?e.virtual.slides.length:c.length,f=[],d=[],p=[],v=r.slidesOffsetBefore;"function"===typeof v&&(v=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"===typeof g&&(g=r.slidesOffsetAfter.call(e));var m=e.snapGrid.length,y=e.slidesGrid.length,x=r.spaceBetween,b=-v,w=0,k=0;if("undefined"!==typeof o){"string"===typeof x&&x.indexOf("%")>=0&&(x=parseFloat(x.replace("%",""))/100*o),e.virtualSize=-x,a?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(lZ(e.wrapperEl,"--swiper-centered-offset-before",""),lZ(e.wrapperEl,"--swiper-centered-offset-after",""));var E,_=r.grid&&r.grid.rows>1&&e.grid;_&&e.grid.initSlides(h);for(var T="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(e){return"undefined"!==typeof r.breakpoints[e].slidesPerView})).length>0,A=0;A<h;A+=1){E=0;var S=c.eq(A);if(_&&e.grid.updateSlide(A,S,h,t),"none"!==S.css("display")){if("auto"===r.slidesPerView){T&&(c[A].style[t("width")]="");var C=getComputedStyle(S[0]),I=S[0].style.transform,P=S[0].style.webkitTransform;if(I&&(S[0].style.transform="none"),P&&(S[0].style.webkitTransform="none"),r.roundLengths)E=e.isHorizontal()?S.outerWidth(!0):S.outerHeight(!0);else{var O=n(C,"width"),R=n(C,"padding-left"),M=n(C,"padding-right"),D=n(C,"margin-left"),L=n(C,"margin-right"),N=C.getPropertyValue("box-sizing");if(N&&"border-box"===N)E=O+D+L;else{var F=S[0],B=F.clientWidth;E=O+R+M+D+L+(F.offsetWidth-B)}}I&&(S[0].style.transform=I),P&&(S[0].style.webkitTransform=P),r.roundLengths&&(E=Math.floor(E))}else E=(o-(r.slidesPerView-1)*x)/r.slidesPerView,r.roundLengths&&(E=Math.floor(E)),c[A]&&(c[A].style[t("width")]="".concat(E,"px"));c[A]&&(c[A].swiperSlideSize=E),p.push(E),r.centeredSlides?(b=b+E/2+w/2+x,0===w&&0!==A&&(b=b-o/2-x),0===A&&(b=b-o/2-x),Math.abs(b)<.001&&(b=0),r.roundLengths&&(b=Math.floor(b)),k%r.slidesPerGroup===0&&f.push(b),d.push(b)):(r.roundLengths&&(b=Math.floor(b)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup===0&&f.push(b),d.push(b),b=b+E+x),e.virtualSize+=E+x,w=E,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+g,a&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(e.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css(ae({},t("width"),"".concat(e.virtualSize+r.spaceBetween,"px"))),_&&e.grid.updateWrapperSize(E,f,t),!r.centeredSlides){for(var U=[],z=0;z<f.length;z+=1){var V=f[z];r.roundLengths&&(V=Math.floor(V)),f[z]<=e.virtualSize-o&&U.push(V)}f=U,Math.floor(e.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(e.virtualSize-o)}if(0===f.length&&(f=[0]),0!==r.spaceBetween){var j=e.isHorizontal()&&a?"marginLeft":t("marginRight");c.filter((function(e,t){return!r.cssMode||t!==c.length-1})).css(ae({},j,"".concat(x,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var Y=0;p.forEach((function(e){Y+=e+(r.spaceBetween?r.spaceBetween:0)}));var W=(Y-=r.spaceBetween)-o;f=f.map((function(e){return e<0?-v:e>W?W+g:e}))}if(r.centerInsufficientSlides){var G=0;if(p.forEach((function(e){G+=e+(r.spaceBetween?r.spaceBetween:0)})),(G-=r.spaceBetween)<o){var H=(o-G)/2;f.forEach((function(e,t){f[t]=e-H})),d.forEach((function(e,t){d[t]=e+H}))}}if(Object.assign(e,{slides:c,snapGrid:f,slidesGrid:d,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){lZ(e.wrapperEl,"--swiper-centered-offset-before","".concat(-f[0],"px")),lZ(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-p[p.length-1]/2,"px"));var X=-e.snapGrid[0],q=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((function(e){return e+X})),e.slidesGrid=e.slidesGrid.map((function(e){return e+q}))}if(h!==l&&e.emit("slidesLengthChange"),f.length!==m&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),d.length!==y&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!u&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){var K="".concat(r.containerModifierClass,"backface-hidden"),$=e.$el.hasClass(K);h<=r.maxBackfaceHiddenSlides?$||e.$el.addClass(K):$&&e.$el.removeClass(K)}}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,o=0;"number"===typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var a=function(e){return i?n.slides.filter((function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e}))[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||nZ([])).each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var s=n.activeIndex+t;if(s>n.slides.length&&!i)break;r.push(a(s))}else r.push(a(n.activeIndex));for(t=0;t<r.length;t+=1)if("undefined"!==typeof r[t]){var u=r[t].offsetHeight;o=u>o?u:o}(o||0===o)&&n.$wrapperEl.css("height","".concat(o,"px"))},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate,o=t.snapGrid;if(0!==r.length){"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();var a=-e;i&&(a=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var s=0;s<r.length;s+=1){var u=r[s],l=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=r[0].swiperSlideOffset);var c=(a+(n.centeredSlides?t.minTranslate():0)-l)/(u.swiperSlideSize+n.spaceBetween),h=(a-o[0]+(n.centeredSlides?t.minTranslate():0)-l)/(u.swiperSlideSize+n.spaceBetween),f=-(a-l),d=f+t.slidesSizesGrid[s];(f>=0&&f<t.size-1||d>1&&d<=t.size||f<=0&&d>=t.size)&&(t.visibleSlides.push(u),t.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),u.progress=i?-c:c,u.originalProgress=i?-h:h}t.visibleSlides=nZ(t.visibleSlides)}},updateProgress:function(e){var t=this;if("undefined"===typeof e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),o=t.progress,a=t.isBeginning,s=t.isEnd,u=a,l=s;0===i?(o=0,a=!0,s=!0):(a=(o=(e-t.minTranslate())/i)<=0,s=o>=1),Object.assign(t,{progress:o,isBeginning:a,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),a&&!u&&t.emit("reachBeginning toEdge"),s&&!l&&t.emit("reachEnd toEdge"),(u&&!a||l&&!s)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,o=t.activeIndex,a=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass("".concat(r.slideActiveClass," ").concat(r.slideNextClass," ").concat(r.slidePrevClass," ").concat(r.slideDuplicateActiveClass," ").concat(r.slideDuplicateNextClass," ").concat(r.slideDuplicatePrevClass)),(e=s?t.$wrapperEl.find(".".concat(r.slideClass,'[data-swiper-slide-index="').concat(o,'"]')):n.eq(o)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(a,'"]')).addClass(r.slideDuplicateActiveClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(a,'"]')).addClass(r.slideDuplicateActiveClass));var u=e.nextAll(".".concat(r.slideClass)).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var l=e.prevAll(".".concat(r.slideClass)).eq(0).addClass(r.slidePrevClass);r.loop&&0===l.length&&(l=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(u.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicateNextClass),l.hasClass(r.slideDuplicateClass)?i.children(".".concat(r.slideClass,":not(.").concat(r.slideDuplicateClass,')[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass):i.children(".".concat(r.slideClass,".").concat(r.slideDuplicateClass,'[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,o=n.snapGrid,a=n.params,s=n.activeIndex,u=n.realIndex,l=n.snapIndex,c=e;if("undefined"===typeof c){for(var h=0;h<i.length;h+=1)"undefined"!==typeof i[h+1]?r>=i[h]&&r<i[h+1]-(i[h+1]-i[h])/2?c=h:r>=i[h]&&r<i[h+1]&&(c=h+1):r>=i[h]&&(c=h);a.normalizeSlideIndex&&(c<0||"undefined"===typeof c)&&(c=0)}if(o.indexOf(r)>=0)t=o.indexOf(r);else{var f=Math.min(a.slidesPerGroupSkip,c);t=f+Math.floor((c-f)/a.slidesPerGroup)}if(t>=o.length&&(t=o.length-1),c!==s){var d=parseInt(n.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(n,{snapIndex:t,realIndex:d,previousIndex:s,activeIndex:c}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==d&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==l&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=nZ(e).closest(".".concat(r.slideClass))[0],o=!1;if(i)for(var a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){o=!0,t=a;break}if(!i||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(nZ(i).attr("data-swiper-slide-index"),10):n.clickedIndex=t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var gZ={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate,o=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var a=oZ(o[0],e);return r&&(a=-a),a||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,o=n.$wrapperEl,a=n.wrapperEl,s=n.progress,u=0,l=0;n.isHorizontal()?u=r?-e:e:l=e,i.roundLengths&&(u=Math.floor(u),l=Math.floor(l)),i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-l:i.virtualTranslate||o.transform("translate3d(".concat(u,"px, ").concat(l,"px, ").concat(0,"px)")),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:l;var c=n.maxTranslate()-n.minTranslate();(0===c?0:(e-n.minTranslate())/c)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var o=this,a=o.params,s=o.wrapperEl;if(o.animating&&a.preventInteractionOnTransition)return!1;var u,l=o.minTranslate(),c=o.maxTranslate();if(u=r&&e>l?l:r&&e<c?c:e,o.updateProgress(u),a.cssMode){var h=o.isHorizontal();if(0===t)s[h?"scrollLeft":"scrollTop"]=-u;else{var f;if(!o.support.smoothScroll)return cZ({swiper:o,targetPosition:-u,side:h?"left":"top"}),!0;s.scrollTo((ae(f={},h?"left":"top",-u),ae(f,"behavior","smooth"),f))}return!0}return 0===t?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",t,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};function mZ(e){var t=e.swiper,n=e.runCallbacks,r=e.direction,i=e.step,o=t.activeIndex,a=t.previousIndex,s=r;if(s||(s=o>a?"next":o<a?"prev":"reset"),t.emit("transition".concat(i)),n&&o!==a){if("reset"===s)return void t.emit("slideResetTransition".concat(i));t.emit("slideChangeTransition".concat(i)),"next"===s?t.emit("slideNextTransition".concat(i)):t.emit("slidePrevTransition".concat(i))}}var yZ={slideTo:function(e,t,n,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!==typeof e&&"string"!==typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(typeof e,"] given."));if("string"===typeof e){var o=parseInt(e,10);if(!isFinite(o))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=o}var a=this,s=e;s<0&&(s=0);var u=a.params,l=a.snapGrid,c=a.slidesGrid,h=a.previousIndex,f=a.activeIndex,d=a.rtlTranslate,p=a.wrapperEl,v=a.enabled;if(a.animating&&u.preventInteractionOnTransition||!v&&!r&&!i)return!1;var g=Math.min(a.params.slidesPerGroupSkip,s),m=g+Math.floor((s-g)/a.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(f||u.initialSlide||0)===(h||0)&&n&&a.emit("beforeSlideChangeStart");var y,x=-l[m];if(a.updateProgress(x),u.normalizeSlideIndex)for(var b=0;b<c.length;b+=1){var w=-Math.floor(100*x),k=Math.floor(100*c[b]),E=Math.floor(100*c[b+1]);"undefined"!==typeof c[b+1]?w>=k&&w<E-(E-k)/2?s=b:w>=k&&w<E&&(s=b+1):w>=k&&(s=b)}if(a.initialized&&s!==f){if(!a.allowSlideNext&&x<a.translate&&x<a.minTranslate())return!1;if(!a.allowSlidePrev&&x>a.translate&&x>a.maxTranslate()&&(f||0)!==s)return!1}if(y=s>f?"next":s<f?"prev":"reset",d&&-x===a.translate||!d&&x===a.translate)return a.updateActiveIndex(s),u.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==u.effect&&a.setTranslate(x),"reset"!==y&&(a.transitionStart(n,y),a.transitionEnd(n,y)),!1;if(u.cssMode){var _=a.isHorizontal(),T=d?x:-x;if(0===t){var A=a.virtual&&a.params.virtual.enabled;A&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),p[_?"scrollLeft":"scrollTop"]=T,A&&requestAnimationFrame((function(){a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1}))}else{var S;if(!a.support.smoothScroll)return cZ({swiper:a,targetPosition:T,side:_?"left":"top"}),!0;p.scrollTo((ae(S={},_?"left":"top",T),ae(S,"behavior","smooth"),S))}return!0}return a.setTransition(t),a.setTranslate(x),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,r),a.transitionStart(n,y),0===t?a.transitionEnd(n,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,y))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e){var i=parseInt(e,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=i}var o=this,a=e;return o.params.loop&&(a+=o.loopedSlides),o.slideTo(a,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.animating,o=r.enabled,a=r.params;if(!o)return r;var s=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var u=r.activeIndex<a.slidesPerGroupSkip?1:s;if(a.loop){if(i&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return a.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+u,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,o=r.animating,a=r.snapGrid,s=r.slidesGrid,u=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(o&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function l(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var c,h=l(u?r.translate:-r.translate),f=a.map((function(e){return l(e)})),d=a[f.indexOf(h)-1];"undefined"===typeof d&&i.cssMode&&(a.forEach((function(e,t){h>=e&&(c=t)})),"undefined"!==typeof c&&(d=a[c>0?c-1:c]));var p=0;if("undefined"!==typeof d&&((p=s.indexOf(d))<0&&(p=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(p=p-r.slidesPerViewDynamic("previous",!0)+1,p=Math.max(p,0))),i.rewind&&r.isBeginning){var v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,e,t,n)}return r.slideTo(p,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,o=i.activeIndex,a=Math.min(i.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[s]){var l=i.snapGrid[s];u-l>(i.snapGrid[s+1]-l)*r&&(o+=i.params.slidesPerGroup)}else{var c=i.snapGrid[s-1];u-c<=(i.snapGrid[s]-c)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,o=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(nZ(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<t.loopedSlides-i/2||o>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),o=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),rZ((function(){t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-i?(t.loopFix(),o=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(e,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),rZ((function(){t.slideTo(o)}))):t.slideTo(o)}else t.slideTo(o)}};var xZ={loopCreate:function(){var e=this,t=YJ(),n=e.params,r=e.$wrapperEl,i=r.children().length>0?nZ(r.children()[0].parentNode):r;i.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass)).remove();var o=i.children(".".concat(n.slideClass));if(n.loopFillGroupWithBlank){var a=n.slidesPerGroup-o.length%n.slidesPerGroup;if(a!==n.slidesPerGroup){for(var s=0;s<a;s+=1){var u=nZ(t.createElement("div")).addClass("".concat(n.slideClass," ").concat(n.slideBlankClass));i.append(u)}o=i.children(".".concat(n.slideClass))}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=o.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>o.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=o.length);var l=[],c=[];o.each((function(e,t){nZ(e).attr("data-swiper-slide-index",t)}));for(var h=0;h<e.loopedSlides;h+=1){var f=h-Math.floor(h/o.length)*o.length;c.push(o.eq(f)[0]),l.unshift(o.eq(o.length-f-1)[0])}for(var d=0;d<c.length;d+=1)i.append(nZ(c[d].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var p=l.length-1;p>=0;p-=1)i.prepend(nZ(l[p].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,o=e.allowSlidePrev,a=e.allowSlideNext,s=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var l=-s[n]-e.getTranslate();if(n<i)t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==l&&e.setTranslate((u?-e.translate:e.translate)-l);else if(n>=r.length-i){t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==l&&e.setTranslate((u?-e.translate:e.translate)-l)}e.allowSlidePrev=o,e.allowSlideNext=a,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,",.").concat(n.slideClass,".").concat(n.slideBlankClass)).remove(),r.removeAttr("data-swiper-slide-index")}};var bZ={setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function wZ(e){var t=this,n=YJ(),r=GJ(),i=t.touchEventsData,o=t.params,a=t.touches;if(t.enabled&&(!t.animating||!o.preventInteractionOnTransition)){!t.animating&&o.cssMode&&o.loop&&t.loopFix();var s=e;s.originalEvent&&(s=s.originalEvent);var u=nZ(s.target);if(("wrapper"!==o.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===s.type,(i.isTouchEvent||!("which"in s)||3!==s.which)&&!(!i.isTouchEvent&&"button"in s&&s.button>0)&&(!i.isTouched||!i.isMoved))){!!o.noSwipingClass&&""!==o.noSwipingClass&&s.target&&s.target.shadowRoot&&e.path&&e.path[0]&&(u=nZ(e.path[0]));var l=o.noSwipingSelector?o.noSwipingSelector:".".concat(o.noSwipingClass),c=!(!s.target||!s.target.shadowRoot);if(o.noSwiping&&(c?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===YJ()||n===GJ())return null;n.assignedSlot&&(n=n.assignedSlot);var r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(l,u[0]):u.closest(l)[0]))t.allowClick=!0;else if(!o.swipeHandler||u.closest(o.swipeHandler)[0]){a.currentX="touchstart"===s.type?s.targetTouches[0].pageX:s.pageX,a.currentY="touchstart"===s.type?s.targetTouches[0].pageY:s.pageY;var h=a.currentX,f=a.currentY,d=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,p=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(d&&(h<=p||h>=r.innerWidth-p)){if("prevent"!==d)return;e.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=h,a.startY=f,i.touchStartTime=iZ(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==s.type){var v=!0;u.is(i.focusableElements)&&(v=!1,"SELECT"===u[0].nodeName&&(i.isTouched=!1)),n.activeElement&&nZ(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();var g=v&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!g||u[0].isContentEditable||s.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",s)}}}}function kZ(e){var t=YJ(),n=this,r=n.touchEventsData,i=n.params,o=n.touches,a=n.rtlTranslate;if(n.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===s.type){var u="touchmove"===s.type&&s.targetTouches&&(s.targetTouches[0]||s.changedTouches[0]),l="touchmove"===s.type?u.pageX:s.pageX,c="touchmove"===s.type?u.pageY:s.pageY;if(s.preventedByNestedSwiper)return o.startX=l,void(o.startY=c);if(!n.allowTouchMove)return nZ(s.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(o,{startX:l,startY:c,currentX:l,currentY:c}),r.touchStartTime=iZ()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(c<o.startY&&n.translate<=n.maxTranslate()||c>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(l<o.startX&&n.translate<=n.maxTranslate()||l>o.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&s.target===t.activeElement&&nZ(s.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){o.currentX=l,o.currentY=c;var h=o.currentX-o.startX,f=o.currentY-o.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(h,2)+Math.pow(f,2))<n.params.threshold)){var d;if("undefined"===typeof r.isScrolling)n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:h*h+f*f>=25&&(d=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?d>i.touchAngle:90-d>i.touchAngle);if(r.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&s.cancelable&&s.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&s.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),r.isMoved=!0;var p=n.isHorizontal()?h:f;o.diff=p,p*=i.touchRatio,a&&(p=-p),n.swipeDirection=p>0?"prev":"next",r.currentTranslate=p+r.startTranslate;var v=!0,g=i.resistanceRatio;if(i.touchReleaseOnEdges&&(g=0),p>0&&r.currentTranslate>n.minTranslate()?(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+p,g))):p<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-p,g))),v&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(p)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",s)}}function EZ(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,o=t.rtlTranslate,a=t.slidesGrid;if(t.enabled){var s=e;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,l=iZ(),c=l-n.touchStartTime;if(t.allowClick){var h=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(h&&h[0]||s.target),t.emit("tap click",s),c<300&&l-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=iZ(),rZ((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?o?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(t.params.freeMode&&r.freeMode.enabled)t.freeMode.onTouchEnd({currentPos:u});else{for(var f=0,d=t.slidesSizesGrid[0],p=0;p<a.length;p+=p<r.slidesPerGroupSkip?1:r.slidesPerGroup){var v=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof a[p+v]?u>=a[p]&&u<a[p+v]&&(f=p,d=a[p+v]-a[p]):u>=a[p]&&(f=p,d=a[a.length-1]-a[a.length-2])}var g=null,m=null;r.rewind&&(t.isBeginning?m=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));var y=(u-a[f])/d,x=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(c>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?g:f+x):t.slideTo(f)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(f+x):null!==m&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(m):t.slideTo(f))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(f+x):t.slideTo(f):("next"===t.swipeDirection&&t.slideTo(null!==g?g:f+x),"prev"===t.swipeDirection&&t.slideTo(null!==m?m:f))}}}}function _Z(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,o=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}}function TZ(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function AZ(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var SZ=!1;function CZ(){}var IZ=function(e,t){var n=YJ(),r=e.params,i=e.touchEvents,o=e.el,a=e.wrapperEl,s=e.device,u=e.support,l=!!r.nested,c="on"===t?"addEventListener":"removeEventListener",h=t;if(u.touch){var f=!("touchstart"!==i.start||!u.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};o[c](i.start,e.onTouchStart,f),o[c](i.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:l}:l),o[c](i.end,e.onTouchEnd,f),i.cancel&&o[c](i.cancel,e.onTouchEnd,f)}else o[c](i.start,e.onTouchStart,!1),n[c](i.move,e.onTouchMove,l),n[c](i.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&o[c]("click",e.onClick,!0),r.cssMode&&a[c]("scroll",e.onScroll),r.updateOnWindowResize?e[h](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",_Z,!0):e[h]("observerUpdate",_Z,!0)};var PZ={attachEvents:function(){var e=this,t=YJ(),n=e.params,r=e.support;e.onTouchStart=wZ.bind(e),e.onTouchMove=kZ.bind(e),e.onTouchEnd=EZ.bind(e),n.cssMode&&(e.onScroll=AZ.bind(e)),e.onClick=TZ.bind(e),r.touch&&!SZ&&(t.addEventListener("touchstart",CZ),SZ=!0),IZ(e,"on")},detachEvents:function(){IZ(this,"off")}},OZ=function(e,t){return e.grid&&t.grid&&t.grid.rows>1};var RZ={setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,o=e.params,a=e.$el,s=o.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(u&&e.currentBreakpoint!==u){var l=(u in s?s[u]:void 0)||e.originalParams,c=OZ(e,o),h=OZ(e,l),f=o.enabled;c&&!h?(a.removeClass("".concat(o.containerModifierClass,"grid ").concat(o.containerModifierClass,"grid-column")),e.emitContainerClasses()):!c&&h&&(a.addClass("".concat(o.containerModifierClass,"grid")),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===o.grid.fill)&&a.addClass("".concat(o.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(t){var n=o[t]&&o[t].enabled,r=l[t]&&l[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));var d=l.direction&&l.direction!==o.direction,p=o.loop&&(l.slidesPerView!==o.slidesPerView||d);d&&n&&e.changeDirection(),uZ(e.params,l);var v=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!v?e.disable():!f&&v&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",l),p&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",l)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=GJ(),o="window"===t?i.innerHeight:n.clientHeight,a=Object.keys(e).map((function(e){if("string"===typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));a.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var s=0;s<a.length;s+=1){var u=a[s],l=u.point,c=u.value;"window"===t?i.matchMedia("(min-width: ".concat(c,"px)")).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}}};var MZ={addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,o=e.device,a=e.support,s=function(e,t){var n=[];return e.forEach((function(e){"object"===typeof e?Object.keys(e).forEach((function(r){e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!a.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push.apply(t,Z(s)),i.addClass(Z(t).join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}};var DZ={loadImage:function(e,t,n,r,i,o){var a,s=GJ();function u(){o&&o()}nZ(e).parent("picture")[0]||e.complete&&i?u():t?((a=new s.Image).onload=u,a.onerror=u,r&&(a.sizes=r),n&&(a.srcset=n),t&&(a.src=t)):u()},preloadImages:function(){var e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}};var LZ={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function NZ(e,t){return function(n){void 0===n&&(n={});var r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in i?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),uZ(t,n)):uZ(t,n)):uZ(t,n)}}var FZ={eventsEmitter:pZ,update:vZ,translate:gZ,transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),mZ({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),mZ({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:yZ,loop:xZ,grabCursor:bZ,events:PZ,breakpoints:RZ,checkOverflow:{checkOverflow:function(){var e=this,t=e.isLocked,n=e.params,r=n.slidesOffsetBefore;if(r){var i=e.slides.length-1,o=e.slidesGrid[i]+e.slidesSizesGrid[i]+2*r;e.isLocked=e.size>o}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:MZ,images:DZ},BZ={},UZ=function(){function e(){var t,n;sn(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=uZ({},n),t&&!n.el&&(n.el=t),n.el&&nZ(n.el).length>1){var a=[];return nZ(n.el).each((function(t){var r=uZ({},n,{el:t});a.push(new e(r))})),a}var s,u=this;(u.__swiper__=!0,u.support=hZ(),u.device=fZ({userAgent:n.userAgent}),u.browser=dZ(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=Z(u.__modules__),n.modules&&Array.isArray(n.modules))&&(s=u.modules).push.apply(s,Z(n.modules));var l={};u.modules.forEach((function(e){e({swiper:u,extendParams:NZ(n,l),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})}));var c=uZ({},LZ,l);return u.params=uZ({},c,BZ,n),u.originalParams=uZ({},u.params),u.passedParams=uZ({},n),u.params&&u.params.on&&Object.keys(u.params.on).forEach((function(e){u.on(e,u.params.on[e])})),u.params&&u.params.onAny&&u.onAny(u.params.onAny),u.$=nZ,Object.assign(u,{enabled:u.params.enabled,el:t,classNames:[],slides:nZ(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===u.params.direction},isVertical:function(){return"vertical"===u.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEvents:function(){var e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return u.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},u.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},u.support.touch||!u.params.simulateTouch?u.touchEventsTouch:u.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:iZ(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}return ln(e,[{key:"enable",value:function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}},{key:"disable",value:function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}},{key:"setProgress",value:function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=(n.maxTranslate()-r)*e+r;n.translateTo(i,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}}},{key:"getSlideClasses",value:function(e){var t=this;return t.destroyed?"":e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}}},{key:"slidesPerViewDynamic",value:function(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);var n=this,r=n.params,i=n.slides,o=n.slidesGrid,a=n.slidesSizesGrid,s=n.size,u=n.activeIndex,l=1;if(r.centeredSlides){for(var c,h=i[u].swiperSlideSize,f=u+1;f<i.length;f+=1)i[f]&&!c&&(l+=1,(h+=i[f].swiperSlideSize)>s&&(c=!0));for(var d=u-1;d>=0;d-=1)i[d]&&!c&&(l+=1,(h+=i[d].swiperSlideSize)>s&&(c=!0))}else if("current"===e)for(var p=u+1;p<i.length;p+=1){(t?o[p]+a[p]-o[u]<s:o[p]-o[u]<s)&&(l+=1)}else for(var v=u-1;v>=0;v-=1){o[u]-o[v]<s&&(l+=1)}return l}},{key:"update",value:function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}}},{key:"changeDirection",value:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}},{key:"changeLanguageDirection",value:function(e){var t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.$el.removeClass("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}},{key:"mount",value:function(e){var t=this;if(t.mounted)return!0;var n=nZ(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return".".concat((t.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=nZ(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children?n.children(r()):nZ(n).children(r())}();if(0===i.length&&t.params.createElements){var o=YJ().createElement("div");i=nZ(o),o.className=t.params.wrapperClass,n.append(o),n.children(".".concat(t.params.slideClass)).each((function(e){i.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}},{key:"destroy",value:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n=this,r=n.params,i=n.$el,o=n.$wrapperEl,a=n.slides;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(e){n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){var t=e;Object.keys(t).forEach((function(e){try{t[e]=null}catch(VX){}try{delete t[e]}catch(VX){}}))}(n)),n.destroyed=!0),null}}],[{key:"extendDefaults",value:function(e){uZ(BZ,e)}},{key:"extendedDefaults",get:function(){return BZ}},{key:"defaults",get:function(){return LZ}},{key:"installModule",value:function(t){e.prototype.__modules__||(e.prototype.__modules__=[]);var n=e.prototype.__modules__;"function"===typeof t&&n.indexOf(t)<0&&n.push(t)}},{key:"use",value:function(t){return Array.isArray(t)?(t.forEach((function(t){return e.installModule(t)})),e):(e.installModule(t),e)}}]),e}();Object.keys(FZ).forEach((function(e){Object.keys(FZ[e]).forEach((function(t){UZ.prototype[t]=FZ[e][t]}))})),UZ.use([function(e){var t=e.swiper,n=e.on,r=e.emit,i=GJ(),o=null,a=null,s=function(){t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},u=function(){t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(function(){t.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(o=new ResizeObserver((function(e){a=i.requestAnimationFrame((function(){var n=t.width,r=t.height,i=n,o=r;e.forEach((function(e){var n=e.contentBoxSize,r=e.contentRect,a=e.target;a&&a!==t.el||(i=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),i===n&&o===r||s()}))})),o.observe(t.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",u))})),n("destroy",(function(){a&&i.cancelAnimationFrame(a),o&&o.unobserve&&t.el&&(o.unobserve(t.el),o=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",u)}))},function(e){var t=e.swiper,n=e.extendParams,r=e.on,i=e.emit,o=[],a=GJ(),s=function(e,t){void 0===t&&(t={});var n=new(a.MutationObserver||a.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){i("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(t):a.setTimeout(t,0)}else i("observerUpdate",e[0])}));n.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),o.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)s(e[n]);s(t.$el[0],{childList:t.params.observeSlideChildren}),s(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){o.forEach((function(e){e.disconnect()})),o.splice(0,o.length)}))}]);var zZ=UZ;function VZ(e){var t,n=e.swiper,r=e.extendParams,i=e.on,o=e.emit;function a(){if(!n.size)return n.autoplay.running=!1,void(n.autoplay.paused=!1);var e=n.slides.eq(n.activeIndex),r=n.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(r=e.attr("data-swiper-autoplay")||n.params.autoplay.delay),clearTimeout(t),t=rZ((function(){var e;n.params.autoplay.reverseDirection?n.params.loop?(n.loopFix(),e=n.slidePrev(n.params.speed,!0,!0),o("autoplay")):n.isBeginning?n.params.autoplay.stopOnLastSlide?u():(e=n.slideTo(n.slides.length-1,n.params.speed,!0,!0),o("autoplay")):(e=n.slidePrev(n.params.speed,!0,!0),o("autoplay")):n.params.loop?(n.loopFix(),e=n.slideNext(n.params.speed,!0,!0),o("autoplay")):n.isEnd?n.params.autoplay.stopOnLastSlide?u():(e=n.slideTo(0,n.params.speed,!0,!0),o("autoplay")):(e=n.slideNext(n.params.speed,!0,!0),o("autoplay")),(n.params.cssMode&&n.autoplay.running||!1===e)&&a()}),r)}function s(){return"undefined"===typeof t&&(!n.autoplay.running&&(n.autoplay.running=!0,o("autoplayStart"),a(),!0))}function u(){return!!n.autoplay.running&&("undefined"!==typeof t&&(t&&(clearTimeout(t),t=void 0),n.autoplay.running=!1,o("autoplayStop"),!0))}function l(e){n.autoplay.running&&(n.autoplay.paused||(t&&clearTimeout(t),n.autoplay.paused=!0,0!==e&&n.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].addEventListener(e,h)})):(n.autoplay.paused=!1,a())))}function c(){var e=YJ();"hidden"===e.visibilityState&&n.autoplay.running&&l(),"visible"===e.visibilityState&&n.autoplay.paused&&(a(),n.autoplay.paused=!1)}function h(e){n&&!n.destroyed&&n.$wrapperEl&&e.target===n.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].removeEventListener(e,h)})),n.autoplay.paused=!1,n.autoplay.running?a():u())}function f(){n.params.autoplay.disableOnInteraction?u():(o("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach((function(e){n.$wrapperEl[0].removeEventListener(e,h)}))}function d(){n.params.autoplay.disableOnInteraction||(n.autoplay.paused=!1,o("autoplayResume"),a())}n.autoplay={running:!1,paused:!1},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),i("init",(function(){n.params.autoplay.enabled&&(s(),YJ().addEventListener("visibilitychange",c),n.params.autoplay.pauseOnMouseEnter&&(n.$el.on("mouseenter",f),n.$el.on("mouseleave",d)))})),i("beforeTransitionStart",(function(e,t,r){n.autoplay.running&&(r||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(t):u())})),i("sliderFirstMove",(function(){n.autoplay.running&&(n.params.autoplay.disableOnInteraction?u():l())})),i("touchEnd",(function(){n.params.cssMode&&n.autoplay.paused&&!n.params.autoplay.disableOnInteraction&&a()})),i("destroy",(function(){n.$el.off("mouseenter",f),n.$el.off("mouseleave",d),n.autoplay.running&&u(),YJ().removeEventListener("visibilitychange",c)})),Object.assign(n.autoplay,{pause:l,run:a,start:s,stop:u})}function jZ(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function YZ(e,t){var n=["__proto__","constructor","prototype"];Object.keys(t).filter((function(e){return n.indexOf(e)<0})).forEach((function(n){"undefined"===typeof e[n]?e[n]=t[n]:jZ(t[n])&&jZ(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:YZ(e[n],t[n]):e[n]=t[n]}))}function WZ(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function GZ(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function HZ(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function XZ(e){void 0===e&&(e="");var t=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return!!e})),n=[];return t.forEach((function(e){n.indexOf(e)<0&&n.push(e)})),n.join(" ")}var qZ=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function KZ(e,t){var n=t.slidesPerView;if(t.breakpoints){var r=zZ.prototype.getBreakpoint(t.breakpoints),i=r in t.breakpoints?t.breakpoints[r]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}var o=Math.ceil(parseFloat(t.loopedSlides||n,10));return(o+=t.loopAdditionalSlides)>e.length&&t.loopedSlidesLimit&&(o=e.length),o}function $Z(e){var t=[];return r.Children.toArray(e).forEach((function(e){e.type&&"SwiperSlide"===e.type.displayName?t.push(e):e.props&&e.props.children&&$Z(e.props.children).forEach((function(e){return t.push(e)}))})),t}function QZ(e){var t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return r.Children.toArray(e).forEach((function(e){if(e.type&&"SwiperSlide"===e.type.displayName)t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){var r=$Z(e.props.children);r.length>0?r.forEach((function(e){return t.push(e)})):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function JZ(e){var t,n,r,i,o,a=e.swiper,s=e.slides,u=e.passedParams,l=e.changedParams,c=e.nextEl,h=e.prevEl,f=e.scrollbarEl,d=e.paginationEl,p=l.filter((function(e){return"children"!==e&&"direction"!==e})),v=a.params,g=a.pagination,m=a.navigation,y=a.scrollbar,x=a.virtual,b=a.thumbs;l.includes("thumbs")&&u.thumbs&&u.thumbs.swiper&&v.thumbs&&!v.thumbs.swiper&&(t=!0),l.includes("controller")&&u.controller&&u.controller.control&&v.controller&&!v.controller.control&&(n=!0),l.includes("pagination")&&u.pagination&&(u.pagination.el||d)&&(v.pagination||!1===v.pagination)&&g&&!g.el&&(r=!0),l.includes("scrollbar")&&u.scrollbar&&(u.scrollbar.el||f)&&(v.scrollbar||!1===v.scrollbar)&&y&&!y.el&&(i=!0),l.includes("navigation")&&u.navigation&&(u.navigation.prevEl||h)&&(u.navigation.nextEl||c)&&(v.navigation||!1===v.navigation)&&m&&!m.prevEl&&!m.nextEl&&(o=!0);(p.forEach((function(e){if(jZ(v[e])&&jZ(u[e]))YZ(v[e],u[e]);else{var t=u[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?v[e]=u[e]:!1===t&&a[n=e]&&(a[n].destroy(),"navigation"===n?(v[n].prevEl=void 0,v[n].nextEl=void 0,a[n].prevEl=void 0,a[n].nextEl=void 0):(v[n].el=void 0,a[n].el=void 0))}var n})),p.includes("controller")&&!n&&a.controller&&a.controller.control&&v.controller&&v.controller.control&&(a.controller.control=v.controller.control),l.includes("children")&&s&&x&&v.virtual.enabled?(x.slides=s,x.update(!0)):l.includes("children")&&a.lazy&&a.params.lazy.enabled&&a.lazy.load(),t)&&(b.init()&&b.update(!0));n&&(a.controller.control=v.controller.control),r&&(d&&(v.pagination.el=d),g.init(),g.render(),g.update()),i&&(f&&(v.scrollbar.el=f),y.init(),y.updateSize(),y.setTranslate()),o&&(c&&(v.navigation.nextEl=c),h&&(v.navigation.prevEl=h),m.init(),m.update()),l.includes("allowSlideNext")&&(a.allowSlideNext=u.allowSlideNext),l.includes("allowSlidePrev")&&(a.allowSlidePrev=u.allowSlidePrev),l.includes("direction")&&a.changeDirection(u.direction,!1),a.update()}function ZZ(e,t){return"undefined"===typeof window?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}var e0=(0,r.createContext)(null),t0=(0,r.createContext)(null),n0=["className","tag","wrapperTag","children","onSwiper"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(this,arguments)}var i0=(0,r.forwardRef)((function(e,t){var n=void 0===e?{}:e,i=n.className,o=n.tag,a=void 0===o?"div":o,s=n.wrapperTag,u=void 0===s?"div":s,l=n.children,h=n.onSwiper,f=he(n,n0),d=!1,p=c((0,r.useState)("swiper"),2),v=p[0],g=p[1],m=c((0,r.useState)(null),2),y=m[0],x=m[1],b=c((0,r.useState)(!1),2),w=b[0],k=b[1],E=(0,r.useRef)(!1),_=(0,r.useRef)(null),T=(0,r.useRef)(null),A=(0,r.useRef)(null),S=(0,r.useRef)(null),C=(0,r.useRef)(null),I=(0,r.useRef)(null),P=(0,r.useRef)(null),O=(0,r.useRef)(null),R=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);var n={on:{}},r={},i={};YZ(n,zZ.defaults),YZ(n,zZ.extendedDefaults),n._emitClasses=!0,n.init=!1;var o={},a=qZ.map((function(e){return e.replace(/_/,"")})),s=Object.assign({},e);return Object.keys(s).forEach((function(s){"undefined"!==typeof e[s]&&(a.indexOf(s)>=0?jZ(e[s])?(n[s]={},i[s]={},YZ(n[s],e[s]),YZ(i[s],e[s])):(n[s]=e[s],i[s]=e[s]):0===s.search(/on[A-Z]/)&&"function"===typeof e[s]?t?r["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:n.on["".concat(s[2].toLowerCase()).concat(s.substr(3))]=e[s]:o[s]=e[s])})),["navigation","pagination","scrollbar"].forEach((function(e){!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:i,rest:o,events:r}}(f),M=R.params,D=R.passedParams,L=R.rest,N=R.events,F=QZ(l),B=F.slides,U=F.slots,z=function(){k(!w)};Object.assign(M.on,{_containerClasses:function(e,t){g(t)}});var V=function(){if(Object.assign(M.on,N),d=!0,T.current=new zZ(M),T.current.loopCreate=function(){},T.current.loopDestroy=function(){},M.loop&&(T.current.loopedSlides=KZ(B,M)),T.current.virtual&&T.current.params.virtual.enabled){T.current.virtual.slides=B;var e={cache:!1,slides:B,renderExternal:x,renderExternalUpdate:!1};YZ(T.current.params.virtual,e),YZ(T.current.originalParams.virtual,e)}};_.current||V(),T.current&&T.current.on("_beforeBreakpoint",z);return(0,r.useEffect)((function(){return function(){T.current&&T.current.off("_beforeBreakpoint",z)}})),(0,r.useEffect)((function(){!E.current&&T.current&&(T.current.emitSlidesClasses(),E.current=!0)})),ZZ((function(){if(t&&(t.current=_.current),_.current)return T.current.destroyed&&V(),function(e,t){var n=e.el,r=e.nextEl,i=e.prevEl,o=e.paginationEl,a=e.scrollbarEl,s=e.swiper;WZ(t)&&r&&i&&(s.params.navigation.nextEl=r,s.originalParams.navigation.nextEl=r,s.params.navigation.prevEl=i,s.originalParams.navigation.prevEl=i),GZ(t)&&o&&(s.params.pagination.el=o,s.originalParams.pagination.el=o),HZ(t)&&a&&(s.params.scrollbar.el=a,s.originalParams.scrollbar.el=a),s.init(n)}({el:_.current,nextEl:C.current,prevEl:I.current,paginationEl:P.current,scrollbarEl:O.current,swiper:T.current},M),h&&h(T.current),function(){T.current&&!T.current.destroyed&&T.current.destroy(!0,!1)}}),[]),ZZ((function(){!d&&N&&T.current&&Object.keys(N).forEach((function(e){T.current.on(e,N[e])}));var e=function(e,t,n,r,i){var o=[];if(!t)return o;var a=function(e){o.indexOf(e)<0&&o.push(e)};if(n&&r){var s=r.map(i),u=n.map(i);s.join("")!==u.join("")&&a("children"),r.length!==n.length&&a("children")}var l=qZ.filter((function(e){return"_"===e[0]})).map((function(e){return e.replace(/_/,"")}));return l.forEach((function(n){if(n in e&&n in t)if(jZ(e[n])&&jZ(t[n])){var r=Object.keys(e[n]),i=Object.keys(t[n]);r.length!==i.length?a(n):(r.forEach((function(r){e[n][r]!==t[n][r]&&a(n)})),i.forEach((function(r){e[n][r]!==t[n][r]&&a(n)})))}else e[n]!==t[n]&&a(n)})),o}(D,A.current,B,S.current,(function(e){return e.key}));return A.current=D,S.current=B,e.length&&T.current&&!T.current.destroyed&&JZ({swiper:T.current,slides:B,passedParams:D,changedParams:e,nextEl:C.current,prevEl:I.current,scrollbarEl:O.current,paginationEl:P.current}),function(){N&&T.current&&Object.keys(N).forEach((function(e){T.current.off(e,N[e])}))}})),ZZ((function(){var e;!(e=T.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[y]),r.createElement(a,r0({ref:_,className:XZ("".concat(v).concat(i?" ".concat(i):""))},L),r.createElement(t0.Provider,{value:T.current},U["container-start"],r.createElement(u,{className:"swiper-wrapper"},U["wrapper-start"],M.virtual?function(e,t,n){if(!n)return null;var i=e.isHorizontal()?ae({},e.rtlTranslate?"right":"left","".concat(n.offset,"px")):{top:"".concat(n.offset,"px")};return t.filter((function(e,t){return t>=n.from&&t<=n.to})).map((function(t){return r.cloneElement(t,{swiper:e,style:i})}))}(T.current,B,y):!M.loop||T.current&&T.current.destroyed?B.map((function(e){return r.cloneElement(e,{swiper:T.current})})):function(e,t,n){var i=t.map((function(t,n){return r.cloneElement(t,{swiper:e,"data-swiper-slide-index":n})}));function o(e,t,i){return r.cloneElement(e,{key:"".concat(e.key,"-duplicate-").concat(t,"-").concat(i),className:"".concat(e.props.className||""," ").concat(n.slideDuplicateClass)})}if(n.loopFillGroupWithBlank){var a=n.slidesPerGroup-i.length%n.slidesPerGroup;if(a!==n.slidesPerGroup)for(var s=0;s<a;s+=1){var u=r.createElement("div",{className:"".concat(n.slideClass," ").concat(n.slideBlankClass)});i.push(u)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length);for(var l=KZ(i,n),c=[],h=[],f=0;f<l;f+=1){var d=f-Math.floor(f/i.length)*i.length;h.push(o(i[d],f,"append")),c.unshift(o(i[i.length-d-1],f,"prepend"))}return e&&(e.loopedSlides=l),[].concat(c,Z(i),h)}(T.current,B,M),U["wrapper-end"]),WZ(M)&&r.createElement(r.Fragment,null,r.createElement("div",{ref:I,className:"swiper-button-prev"}),r.createElement("div",{ref:C,className:"swiper-button-next"})),HZ(M)&&r.createElement("div",{ref:O,className:"swiper-scrollbar"}),GZ(M)&&r.createElement("div",{ref:P,className:"swiper-pagination"}),U["container-end"]))}));i0.displayName="Swiper";var o0=["tag","children","className","swiper","zoom","virtualIndex"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(this,arguments)}var s0=(0,r.forwardRef)((function(e,t){var n=void 0===e?{}:e,i=n.tag,o=void 0===i?"div":i,a=n.children,s=n.className,u=void 0===s?"":s,l=n.swiper,h=n.zoom,f=n.virtualIndex,d=he(n,o0),p=(0,r.useRef)(null),v=c((0,r.useState)("swiper-slide"),2),g=v[0],m=v[1];function y(e,t,n){t===p.current&&m(n)}ZZ((function(){if(t&&(t.current=p.current),p.current&&l){if(!l.destroyed)return l.on("_slideClass",y),function(){l&&l.off("_slideClass",y)};"swiper-slide"!==g&&m("swiper-slide")}})),ZZ((function(){l&&p.current&&!l.destroyed&&m(l.getSlideClasses(p.current))}),[l]);var x={isActive:g.indexOf("swiper-slide-active")>=0||g.indexOf("swiper-slide-duplicate-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isDuplicate:g.indexOf("swiper-slide-duplicate")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0||g.indexOf("swiper-slide-duplicate-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0||g.indexOf("swiper-slide-duplicate-next")>=0},b=function(){return"function"===typeof a?a(x):a};return r.createElement(o,a0({ref:p,className:XZ("".concat(g).concat(u?" ".concat(u):"")),"data-swiper-slide-index":f},d),r.createElement(e0.Provider,{value:x},h?r.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof h?h:void 0},b()):b()))}));s0.displayName="SwiperSlide";var u0=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),o=i[0],a=i[1],s=c((0,r.useState)([]),2),u=s[0],l=s[1];return $G.ref("shop").orderByChild("tenhang3").equalTo("\u0110\u1ea7m n\u1eef").once("value").then((function(e){n(Object.values(e.val()))})),$G.ref("shop").orderByChild("tenhang3").equalTo("\u0110\u1ed3 b\u1ed9 b\xe9 g\xe1i 5-14t").once("value").then((function(e){a(Object.values(e.val()))})),$G.ref("shop").orderByChild("tenhang3").equalTo("\xc1o s\u01a1 mi n\u1eef").once("value").then((function(e){l(Object.values(e.val()))})),zZ.use([VZ]),(0,ee.jsxs)("div",{className:"shop",children:[(0,ee.jsx)("h3",{children:"S\u1ea2N PH\u1ea8M HOT"}),(0,ee.jsx)("div",{className:"swiper-card",children:(0,ee.jsx)(i0,{spaceBetween:8,slidesPerView:5,onSwiper:function(e){return console.log(e)},breakpoints:{340:{slidesPerView:1},500:{slidesPerView:2},668:{slidesPerView:3},868:{slidesPerView:4},1024:{slidesPerView:5}},autoplay:{delay:2e3,disableOnInteraction:!1},children:t.map((function(e,t){return(0,ee.jsx)(s0,{children:(0,ee.jsxs)("div",{className:"product-card ",children:[(0,ee.jsx)("img",{className:"hinh",src:e.imageUrl,alt:""}),(0,ee.jsx)("p",{children:e.gia})]})},t)}))})}),(0,ee.jsx)("h3",{children:"SHOP TH\u1edcI TRANG V\xc0 L\xc0M \u0110\u1eb8P"}),(0,ee.jsx)(i0,{spaceBetween:8,slidesPerView:5,onSlideChange:function(){return console.log("slide change")},onSwiper:function(e){return console.log(e)},navigation:!0,breakpoints:{340:{slidesPerView:1},500:{slidesPerView:2},668:{slidesPerView:3},868:{slidesPerView:4},1024:{slidesPerView:5}},children:o.map((function(e,t){return(0,ee.jsx)(s0,{children:(0,ee.jsxs)("div",{className:"product-card ",children:[(0,ee.jsx)("img",{className:"hinh",src:e.imageUrl,alt:""}),(0,ee.jsx)("p",{children:e.gia})]})},t)}))}),(0,ee.jsx)("h3",{children:"SHOP M\u1eb8 V\xc0 B\xc9"}),(0,ee.jsx)(i0,{spaceBetween:8,slidesPerView:5,onSlideChange:function(){return console.log("slide change")},onSwiper:function(e){return console.log(e)},navigation:!0,breakpoints:{340:{slidesPerView:1},500:{slidesPerView:2},668:{slidesPerView:3},868:{slidesPerView:4},1024:{slidesPerView:5}},children:u.map((function(e,t){return(0,ee.jsx)(s0,{children:(0,ee.jsxs)("div",{className:"product-card ",children:[(0,ee.jsx)("img",{className:"hinh",src:e.imageUrl,alt:""}),(0,ee.jsx)("p",{children:e.gia})]})},t)}))})]})},l0=["bsPrefix","fluid","as","className"],c0=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,o=void 0===i?"div":i,a=e.className,s=he(e,l0),u=gJ(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,ee.jsx)(o,ue(ue({ref:t},s),{},{className:de()(a,r?"".concat(u).concat(l):u)}))}));c0.displayName="Container",c0.defaultProps={fluid:!1};var h0=c0;n(3573),n(2176);function f0(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function d0(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function p0(e,t){return Object.keys(t).reduce((function(n,i){var o,a=n,s=a[f0(i)],u=a[i],l=ce(a,[f0(i),i].map(d0)),c=t[i],f=function(e,t,n){var i=(0,r.useRef)(void 0!==e),o=(0,r.useState)(t),a=o[0],s=o[1],u=void 0!==e,l=i.current;return i.current=u,!u&&l&&a!==t&&s(t),[u?e:a,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(u,s,e[c]),d=f[0],p=f[1];return h({},l,((o={})[i]=d,o[c]=p,o))}),e)}function v0(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function g0(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function m0(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}v0.__suppressDeprecationWarning=!0,g0.__suppressDeprecationWarning=!0,m0.__suppressDeprecationWarning=!0;var y0=Function.prototype.bind.call(Function.prototype.call,[].slice);function x0(e,t){return y0(e.querySelectorAll(t))}var b0=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var w0=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=b0(e),r=b0(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},k0=r.createContext(null);k0.displayName="NavContext";var E0=k0,_0=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},T0=r.createContext(null),A0=r.createContext(null);function S0(e){return"".concat("data-rr-ui-").concat(e)}var C0=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function I0(e){var t=C0(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var P0=["as","active","eventKey"];function O0(e){var t=e.key,n=e.onClick,i=e.active,o=e.id,a=e.role,s=e.disabled,u=(0,r.useContext)(T0),l=(0,r.useContext)(E0),c=(0,r.useContext)(A0),h=i,f={role:a};if(l){a||"tablist"!==l.role||(f.role="tab");var d=l.getControllerId(null!=t?t:null),p=l.getControlledId(null!=t?t:null);f[S0("event-key")]=t,f.id=d||o,!(h=null==i&&null!=t?l.activeKey===t:i)&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(f["aria-controls"]=p)}return"tab"===f.role&&(f["aria-selected"]=h,h||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=I0((function(e){s||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[f,{isActive:h}]}var R0=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?dJ:n,i=e.active,o=e.eventKey,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,P0),s=c(O0(Object.assign({key:_0(o,a.href),active:i},a)),2),u=s[0],l=s[1];return u[S0("active")]=l.isActive,(0,ee.jsx)(r,Object.assign({},a,u,{ref:t}))}));R0.displayName="NavItem";var M0=R0,D0=["as","onSelect","activeKey","role","onKeyDown"];var L0=function(){},N0=S0("event-key"),F0=r.forwardRef((function(e,t){var n,i,o=e.as,a=void 0===o?"div":o,s=e.onSelect,u=e.activeKey,l=e.role,c=e.onKeyDown,h=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,D0),f=(0,r.useReducer)((function(e){return!e}),!1)[1],d=(0,r.useRef)(!1),p=(0,r.useContext)(T0),v=(0,r.useContext)(A0);v&&(l=l||"tablist",u=v.activeKey,n=v.getControlledId,i=v.getControllerId);var g=(0,r.useRef)(null),m=function(e){var t=g.current;if(!t)return null;var n=x0(t,"[".concat(N0,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var o=i+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},y=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(g.current&&d.current){var e=g.current.querySelector("[".concat(N0,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var x=w0(t,g);return(0,ee.jsx)(T0.Provider,{value:y,children:(0,ee.jsx)(E0.Provider,{value:{role:l,activeKey:_0(u),getControlledId:n||L0,getControllerId:i||L0},children:(0,ee.jsx)(a,Object.assign({},h,{onKeyDown:function(e){if(null==c||c(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,f()}},ref:x,role:l}))})})}));F0.displayName="Nav";var B0=Object.assign(F0,{Item:M0}),U0=r.createContext(null);U0.displayName="NavbarContext";var z0=U0,V0=r.createContext(null);V0.displayName="CardHeaderContext";var j0=V0,Y0=/-(.)/g;var W0=["className","bsPrefix","as"],G0=function(e){return e[0].toUpperCase()+function(e){return e.replace(Y0,(function(e,t){return t.toUpperCase()}))}(e).slice(1)};function H0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?G0(e):n,o=t.Component,a=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,a=t.as,s=void 0===a?o||"div":a,u=he(t,W0),l=gJ(i,e);return(0,ee.jsx)(s,ue({ref:n,className:de()(r,l)},u))}));return s.defaultProps=a,s.displayName=i,s}var X0=H0("nav-item");var q0="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,K0="undefined"!==typeof document||q0?r.useLayoutEffect:r.useEffect;new WeakMap;var $0=["onKeyDown"];var Q0=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,$0),o=c(hJ(Object.assign({tagName:"a"},i)),1)[0],a=I0((function(e){o.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,ee.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,ee.jsx)("a",Object.assign({ref:t},i,o,{onKeyDown:a}))}));Q0.displayName="Anchor";var J0=Q0,Z0=["bsPrefix","className","as","active","eventKey"],e1=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?J0:i,a=e.active,s=e.eventKey,u=he(e,Z0);n=gJ(n,"nav-link");var l=c(O0(ue({key:_0(s,u.href),active:a},u)),2),h=l[0],f=l[1];return(0,ee.jsx)(o,ue(ue(ue({},u),h),{},{ref:t,className:de()(r,n,u.disabled&&"disabled",f.isActive&&"active")}))}));e1.displayName="NavLink",e1.defaultProps={disabled:!1};var t1=e1,n1=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],r1=r.forwardRef((function(e,t){var n,i,o,a=p0(e,{activeKey:"onSelect"}),s=a.as,u=void 0===s?"div":s,l=a.bsPrefix,c=a.variant,h=a.fill,f=a.justify,d=a.navbar,p=a.navbarScroll,v=a.className,g=a.activeKey,m=he(a,n1),y=gJ(l,"nav"),x=!1,b=(0,r.useContext)(z0),w=(0,r.useContext)(j0);return b?(i=b.bsPrefix,x=null==d||d):w&&(o=w.cardHeaderBsPrefix),(0,ee.jsx)(B0,ue({as:u,ref:t,activeKey:g,className:de()(v,(n={},ae(n,y,!x),ae(n,"".concat(i,"-nav"),x),ae(n,"".concat(i,"-nav-scroll"),x&&p),ae(n,"".concat(o,"-").concat(c),!!o),ae(n,"".concat(y,"-").concat(c),!!c),ae(n,"".concat(y,"-fill"),h),ae(n,"".concat(y,"-justified"),f),n))},m))}));r1.displayName="Nav",r1.defaultProps={justify:!1,fill:!1};var i1=Object.assign(r1,{Item:X0,Link:t1}),o1=["bsPrefix","className","as"],a1=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=he(e,o1);n=gJ(n,"navbar-brand");var a=i||(o.href?"a":"span");return(0,ee.jsx)(a,ue(ue({},o),{},{ref:t,className:de()(r,n)}))}));a1.displayName="NavbarBrand";var s1=a1;function u1(e){return e&&e.ownerDocument||document}function l1(e,t){return function(e){var t=u1(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var c1=/([A-Z])/g;var h1=/^ms-/;function f1(e){return function(e){return e.replace(c1,"-$1").toLowerCase()}(e).replace(h1,"-ms-")}var d1=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var p1=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(f1(t))||l1(e).getPropertyValue(f1(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!d1.test(e))}(i)?n+=f1(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(f1(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var v1=!1,g1=r.createContext(null),m1="unmounted",y1="exited",x1="entering",b1="entered",w1="exiting",k1=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=y1,r.appearStatus=x1):i=b1:i=t.unmountOnExit||t.mountOnEnter?m1:y1,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,cn(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===m1?{status:y1}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==x1&&n!==b1&&(t=x1):n!==x1&&n!==b1||(t=w1)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===x1){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Mt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===y1&&this.setState({status:m1})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Mt.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||v1?this.safeSetState({status:b1},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:x1},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:b1},(function(){t.props.onEntered(o,a)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Mt.findDOMNode(this);t&&!v1?(this.props.onExit(r),this.safeSetState({status:w1},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:y1},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:y1},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Mt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===m1)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ce(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(g1.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function E1(){}k1.contextType=g1,k1.propTypes={},k1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:E1,onEntering:E1,onEntered:E1,onExit:E1,onExiting:E1,onExited:E1},k1.UNMOUNTED=m1,k1.EXITED=y1,k1.ENTERING=x1,k1.ENTERED=b1,k1.EXITING=w1;var _1=k1,T1=!("undefined"===typeof window||!window.document||!window.document.createElement),A1=!1,S1=!1;try{var C1={get passive(){return A1=!0},get once(){return S1=A1=!0}};T1&&(window.addEventListener("test",C1,C1),window.removeEventListener("test",C1,!0))}catch(VX){}var I1=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!S1){var i=r.once,o=r.capture,a=n;!S1&&i&&(a=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=a),e.addEventListener(t,a,A1?r:o)}e.addEventListener(t,n,r)};var P1=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var O1=function(e,t,n,r){return I1(e,t,n,r),function(){P1(e,t,n,r)}};function R1(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=O1(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function M1(e,t,n,r){null==n&&(n=function(e){var t=p1(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=R1(e,n,r),o=O1(e,"transitionend",t);return function(){i(),o()}}function D1(e,t){var n=p1(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function L1(e,t){var n=D1(e,"transitionDuration"),r=D1(e,"transitionDelay"),i=M1(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var N1=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function F1(e){e.offsetHeight}var B1,U1=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],z1=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,o=e.onEntered,a=e.onExit,s=e.onExiting,u=e.onExited,l=e.addEndListener,c=e.children,h=e.childRef,f=he(e,U1),d=(0,r.useRef)(null),p=w0(d,h),v=function(e){var t;p((t=e)&&"setState"in t?Mt.findDOMNode(t):null!=t?t:null)},g=function(e){return function(t){e&&d.current&&e(d.current,t)}},m=(0,r.useCallback)(g(n),[n]),y=(0,r.useCallback)(g(i),[i]),x=(0,r.useCallback)(g(o),[o]),b=(0,r.useCallback)(g(a),[a]),w=(0,r.useCallback)(g(s),[s]),k=(0,r.useCallback)(g(u),[u]),E=(0,r.useCallback)(g(l),[l]);return(0,ee.jsx)(_1,ue(ue({ref:t},f),{},{onEnter:m,onEntered:x,onEntering:y,onExit:b,onExited:k,onExiting:w,addEndListener:E,nodeRef:d,children:"function"===typeof c?function(e,t){return c(e,ue(ue({},t),{},{ref:v}))}:r.cloneElement(c,{ref:v})}))})),V1=z1,j1=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],Y1={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function W1(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Y1[e];return n+parseInt(p1(t,r[0]),10)+parseInt(p1(t,r[1]),10)}var G1=(ae(B1={},y1,"collapse"),ae(B1,w1,"collapsing"),ae(B1,x1,"collapsing"),ae(B1,b1,"collapse show"),B1),H1={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:W1},X1=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,o=e.onEntered,a=e.onExit,s=e.onExiting,u=e.className,l=e.children,c=e.dimension,h=void 0===c?"height":c,f=e.getDimensionValue,d=void 0===f?W1:f,p=he(e,j1),v="function"===typeof h?h():h,g=(0,r.useMemo)((function(){return N1((function(e){e.style[v]="0"}),n)}),[v,n]),m=(0,r.useMemo)((function(){return N1((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),y=(0,r.useMemo)((function(){return N1((function(e){e.style[v]=null}),o)}),[v,o]),x=(0,r.useMemo)((function(){return N1((function(e){e.style[v]="".concat(d(v,e),"px"),F1(e)}),a)}),[a,d,v]),b=(0,r.useMemo)((function(){return N1((function(e){e.style[v]=null}),s)}),[v,s]);return(0,ee.jsx)(V1,ue(ue({ref:t,addEndListener:L1},p),{},{"aria-expanded":p.role?p.in:null,onEnter:g,onEntering:m,onEntered:y,onExit:x,onExiting:b,childRef:l.ref,children:function(e,t){return r.cloneElement(l,ue(ue({},t),{},{className:de()(u,l.props.className,G1[e],"width"===v&&"collapse-horizontal")}))}}))}));X1.defaultProps=H1;var q1=X1,K1=["children","bsPrefix"],$1=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,o=he(e,K1);i=gJ(i,"navbar-collapse");var a=(0,r.useContext)(z0);return(0,ee.jsx)(q1,ue(ue({in:!(!a||!a.expanded)},o),{},{children:(0,ee.jsx)("div",{ref:t,className:i,children:n})}))}));$1.displayName="NavbarCollapse";var Q1=$1,J1=["bsPrefix","className","children","label","as","onClick"],Z1=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,o=e.children,a=e.label,s=e.as,u=void 0===s?"button":s,l=e.onClick,c=he(e,J1);n=gJ(n,"navbar-toggler");var h=(0,r.useContext)(z0)||{},f=h.onToggle,d=h.expanded,p=I0((function(e){l&&l(e),f&&f()}));return"button"===u&&(c.type="button"),(0,ee.jsx)(u,ue(ue({},c),{},{ref:t,onClick:p,"aria-label":a,className:de()(i,n,!d&&"collapsed"),children:o||(0,ee.jsx)("span",{className:"".concat(n,"-icon")})}))}));Z1.displayName="NavbarToggle",Z1.defaultProps={label:"Toggle navigation"};var e2=Z1,t2=new WeakMap,n2=function(e,t){if(e&&t){var n=t2.get(t)||new Map;t2.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function r2(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=n2(e,t),i=(0,r.useState)((function(){return!!n&&n.matches})),o=i[0],a=i[1];return K0((function(){var n=n2(e,t);if(!n)return a(!1);var r=t2.get(t),i=function(){a(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),o}var i2=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function i(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,o,a){var s,u;"object"===typeof t?(s=t,a=o,o=!0):((u={})[t]=o=o||!0,s=u);var l=(0,r.useMemo)((function(){return Object.entries(s).reduce((function(t,r){var o=r[0],a=r[1];return"up"!==a&&!0!==a||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(o))),"down"!==a&&!0!==a||(t=n(t,i(o))),t}),"")}),[JSON.stringify(s)]);return r2(l,a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),o2=i2;function a2(e){void 0===e&&(e=u1());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(VX){return e.body}}function s2(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function u2(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var l2=S0("modal-open"),c2=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,o=t.isRTL,a=void 0!==o&&o;sn(this,e),this.handleContainerOverflow=i,this.isRTL=a,this.modals=[],this.ownerDocument=n}return ln(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=ae({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(p1(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(l2,""),p1(r,t)}},{key:"reset",value:function(){var e=this;Z(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(l2),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),h2=c2,f2=(0,r.createContext)(T1?window:void 0);f2.Provider;function d2(){return(0,r.useContext)(f2)}var p2=function(e,t){return T1?null==e?(t||u1()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var v2,g2=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function m2(e){var t=d2(),n=e||function(e){return v2||(v2=new h2({ownerDocument:null==e?void 0:e.document})),v2}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var y2=(0,r.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,o=e.role,a=void 0===o?"dialog":o,s=e.className,u=e.style,l=e.children,h=e.backdrop,f=void 0===h||h,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,g=e.onEscapeKeyDown,m=e.transition,y=e.backdropTransition,x=e.autoFocus,b=void 0===x||x,w=e.enforceFocus,k=void 0===w||w,E=e.restoreFocus,_=void 0===E||E,T=e.restoreFocusOptions,A=e.renderDialog,S=e.renderBackdrop,C=void 0===S?function(e){return(0,ee.jsx)("div",Object.assign({},e))}:S,I=e.manager,P=e.container,O=e.onShow,R=e.onHide,M=void 0===R?function(){}:R,D=e.onExit,L=e.onExited,N=e.onExiting,F=e.onEnter,B=e.onEntering,U=e.onEntered,z=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,g2),V=function(e,t){var n=d2(),i=c((0,r.useState)((function(){return p2(e,null==n?void 0:n.document)})),2),o=i[0],a=i[1];if(!o){var s=p2(e);s&&a(s)}return(0,r.useEffect)((function(){t&&o&&t(o)}),[t,o]),(0,r.useEffect)((function(){var t=p2(e);t!==o&&a(t)}),[e,o]),o}(P),j=m2(I),Y=function(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),W=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}(i),G=c((0,r.useState)(!i),2),H=G[0],X=G[1],q=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return j}),[j]),T1&&!W&&i&&(q.current=a2()),m||i||H?i&&H&&X(!1):X(!0);var K=I0((function(){if(j.add(),ne.current=O1(document,"keydown",Z),te.current=O1(document,"focus",(function(){return setTimeout(Q)}),!0),O&&O(),b){var e=a2(document);j.dialog&&e&&!s2(j.dialog,e)&&(q.current=e,j.dialog.focus())}})),$=I0((function(){var e;(j.remove(),null==ne.current||ne.current(),null==te.current||te.current(),_)&&(null==(e=q.current)||null==e.focus||e.focus(T),q.current=null)}));(0,r.useEffect)((function(){i&&V&&K()}),[i,V,K]),(0,r.useEffect)((function(){H&&$()}),[H,$]),u2((function(){$()}));var Q=I0((function(){if(k&&Y()&&j.isTopModal()){var e=a2();j.dialog&&e&&!s2(j.dialog,e)&&j.dialog.focus()}})),J=I0((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===f&&M())})),Z=I0((function(e){p&&27===e.keyCode&&j.isTopModal()&&(null==g||g(e),e.defaultPrevented||M())})),te=(0,r.useRef)(),ne=(0,r.useRef)(),re=m;if(!V||!(i||re&&!H))return null;var ie=Object.assign({role:a,ref:j.setDialogRef,"aria-modal":"dialog"===a||void 0},z,{style:u,className:s,tabIndex:-1}),oe=A?A(ie):(0,ee.jsx)("div",Object.assign({},ie,{children:r.cloneElement(l,{role:"document"})}));re&&(oe=(0,ee.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!i,onExit:D,onExiting:N,onExited:function(){X(!0),null==L||L.apply(void 0,arguments)},onEnter:F,onEntering:B,onEntered:U,children:oe}));var ae=null;if(f){var se=y;ae=C({ref:j.setBackdropRef,onClick:J}),se&&(ae=(0,ee.jsx)(se,{appear:!0,in:!!i,children:ae}))}return(0,ee.jsx)(ee.Fragment,{children:Mt.createPortal((0,ee.jsxs)(ee.Fragment,{children:[ae,oe]}),V)})}));y2.displayName="Modal";var x2,b2=Object.assign(y2,{Manager:h2}),w2=["className","children","transitionClasses"],k2=(ae(x2={},x1,"show"),ae(x2,b1,"show"),x2),E2=r.forwardRef((function(e,t){var n=e.className,i=e.children,o=e.transitionClasses,a=void 0===o?{}:o,s=he(e,w2),u=(0,r.useCallback)((function(e,t){F1(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,ee.jsx)(V1,ue(ue({ref:t,addEndListener:L1},s),{},{onEnter:u,childRef:i.ref,children:function(e,t){return r.cloneElement(i,ue(ue({},t),{},{className:de()("fade",n,i.props.className,k2[e],a[e])}))}}))}));E2.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},E2.displayName="Fade";var _2,T2=E2,A2=H0("offcanvas-body"),S2=["bsPrefix","className","children"],C2=(ae(_2={},x1,"show"),ae(_2,b1,"show"),_2),I2=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,o=e.children,a=he(e,S2);return n=gJ(n,"offcanvas"),(0,ee.jsx)(V1,ue(ue({ref:t,addEndListener:L1},a),{},{childRef:o.ref,children:function(e,t){return r.cloneElement(o,ue(ue({},t),{},{className:de()(i,o.props.className,(e===x1||e===w1)&&"".concat(n,"-toggling"),C2[e])}))}}))}));I2.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},I2.displayName="OffcanvasToggling";var P2=I2,O2=r.createContext({onHide:function(){}}),R2=["className","variant"],M2={"aria-label":jQ().string,onClick:jQ().func,variant:jQ().oneOf(["white"])},D2=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=he(e,R2);return(0,ee.jsx)("button",ue({ref:t,type:"button",className:de()("btn-close",r&&"btn-close-".concat(r),n)},i))}));D2.displayName="CloseButton",D2.propTypes=M2,D2.defaultProps={"aria-label":"Close"};var L2=D2,N2=["closeLabel","closeVariant","closeButton","onHide","children"],F2=r.forwardRef((function(e,t){var n=e.closeLabel,i=e.closeVariant,o=e.closeButton,a=e.onHide,s=e.children,u=he(e,N2),l=(0,r.useContext)(O2),c=I0((function(){null==l||l.onHide(),null==a||a()}));return(0,ee.jsxs)("div",ue(ue({ref:t},u),{},{children:[s,o&&(0,ee.jsx)(L2,{"aria-label":n,variant:i,onClick:c})]}))}));F2.defaultProps={closeLabel:"Close",closeButton:!1};var B2=F2,U2=["bsPrefix","className"],z2=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=he(e,U2);return n=gJ(n,"offcanvas-header"),(0,ee.jsx)(B2,ue(ue({ref:t},i),{},{className:de()(r,n)}))}));z2.displayName="OffcanvasHeader",z2.defaultProps={closeLabel:"Close",closeButton:!1};var V2,j2=z2,Y2=(V2="h5",r.forwardRef((function(e,t){return(0,ee.jsx)("div",ue(ue({},e),{},{ref:t,className:de()(e.className,V2)}))}))),W2=H0("offcanvas-title",{Component:Y2});function G2(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var H2,X2=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",q2=".sticky-top",K2=".navbar-toggler",$2=function(e){hn(n,e);var t=gn(n);function n(){return sn(this,n),t.apply(this,arguments)}return ln(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,p1(t,ae({},e,"".concat(parseFloat(p1(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],p1(t,ae({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Hp(fn(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";x0(r,X2).forEach((function(n){return t.adjustAndStore(i,n,e.scrollBarWidth)})),x0(r,q2).forEach((function(n){return t.adjustAndStore(o,n,-e.scrollBarWidth)})),x0(r,K2).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Hp(fn(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=G2(e.className,t):e.setAttribute("class",G2(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";x0(r,X2).forEach((function(e){return t.restore(i,e)})),x0(r,q2).forEach((function(e){return t.restore(o,e)})),x0(r,K2).forEach((function(e){return t.restore(o,e)}))}}]),n}(h2);var Q2=$2,J2=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function Z2(e){return(0,ee.jsx)(P2,ue({},e))}function e3(e){return(0,ee.jsx)(T2,ue({},e))}var t3=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,o=e.children,a=e["aria-labelledby"],s=e.placement,u=e.responsive,l=e.show,h=e.backdrop,f=e.keyboard,d=e.scroll,p=e.onEscapeKeyDown,v=e.onShow,g=e.onHide,m=e.container,y=e.autoFocus,x=e.enforceFocus,b=e.restoreFocus,w=e.restoreFocusOptions,k=e.onEntered,E=e.onExit,_=e.onExiting,T=e.onEnter,A=e.onEntering,S=e.onExited,C=e.backdropClassName,I=e.manager,P=e.renderStaticNode,O=he(e,J2),R=(0,r.useRef)();n=gJ(n,"offcanvas");var M=((0,r.useContext)(z0)||{}).onToggle,D=c((0,r.useState)(!1),2),L=D[0],N=D[1],F=o2(u||"xs","up");(0,r.useEffect)((function(){N(u?l&&!F:l)}),[l,u,F]);var B=I0((function(){null==M||M(),null==g||g()})),U=(0,r.useMemo)((function(){return{onHide:B}}),[B]);var z=(0,r.useCallback)((function(e){return(0,ee.jsx)("div",ue(ue({},e),{},{className:de()("".concat(n,"-backdrop"),C)}))}),[C,n]),V=function(e){return(0,ee.jsx)("div",ue(ue(ue({},e),O),{},{className:de()(i,u?"".concat(n,"-").concat(u):n,"".concat(n,"-").concat(s)),"aria-labelledby":a,children:o}))};return(0,ee.jsxs)(ee.Fragment,{children:[!L&&(u||P)&&V({}),(0,ee.jsx)(O2.Provider,{value:U,children:(0,ee.jsx)(b2,{show:L,ref:t,backdrop:h,container:m,keyboard:f,autoFocus:y,enforceFocus:x&&!d,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:p,onShow:v,onHide:B,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T.apply(void 0,[e].concat(n))},onEntering:A,onEntered:k,onExit:E,onExiting:_,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S.apply(void 0,n)},manager:I||(d?(R.current||(R.current=new Q2({handleContainerOverflow:!1})),R.current):function(e){return H2||(H2=new $2(e)),H2}()),transition:Z2,backdropTransition:e3,renderBackdrop:z,renderDialog:V})})]})}));t3.displayName="Offcanvas",t3.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var n3=Object.assign(t3,{Body:A2,Header:j2,Title:W2}),r3=r.forwardRef((function(e,t){var n=(0,r.useContext)(z0);return(0,ee.jsx)(n3,ue(ue({ref:t,show:!(null==n||!n.expanded)},e),{},{renderStaticNode:!0}))}));r3.displayName="NavbarOffcanvas";var i3=r3,o3=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],a3=H0("navbar-text",{Component:"span"}),s3=r.forwardRef((function(e,t){var n=p0(e,{expanded:"onToggle"}),i=n.bsPrefix,o=n.expand,a=n.variant,s=n.bg,u=n.fixed,l=n.sticky,c=n.className,h=n.as,f=void 0===h?"nav":h,d=n.expanded,p=n.onToggle,v=n.onSelect,g=n.collapseOnSelect,m=he(n,o3),y=gJ(i,"navbar"),x=(0,r.useCallback)((function(){null==v||v.apply(void 0,arguments),g&&d&&(null==p||p(!1))}),[v,g,d,p]);void 0===m.role&&"nav"!==f&&(m.role="navigation");var b="".concat(y,"-expand");"string"===typeof o&&(b="".concat(b,"-").concat(o));var w=(0,r.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:y,expanded:!!d,expand:o}}),[y,d,o,p]);return(0,ee.jsx)(z0.Provider,{value:w,children:(0,ee.jsx)(T0.Provider,{value:x,children:(0,ee.jsx)(f,ue(ue({ref:t},m),{},{className:de()(c,y,o&&b,a&&"".concat(y,"-").concat(a),s&&"bg-".concat(s),l&&"sticky-".concat(l),u&&"fixed-".concat(u))}))})})}));s3.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},s3.displayName="Navbar";var u3=Object.assign(s3,{Brand:s1,Collapse:Q1,Offcanvas:i3,Text:a3,Toggle:e2}),l3=function(){return(0,ee.jsxs)("div",{children:[(0,ee.jsx)(u3,{collapseOnSelect:!0,bg:"light",expand:"lg",sticky:"top",children:(0,ee.jsxs)(h0,{children:[(0,ee.jsx)(u3.Brand,{href:"/",children:"Vinhnt"}),(0,ee.jsx)(u3.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,ee.jsx)(u3.Collapse,{id:"responsive-navbar-nav",children:(0,ee.jsxs)(i1,{className:"me-auto",children:[(0,ee.jsx)(i1.Link,{href:"/",children:(0,ee.jsx)("li",{children:(0,ee.jsx)(Q,{to:"/",children:"Shop"})})}),(0,ee.jsx)(i1.Link,{href:"/chat",children:(0,ee.jsx)("li",{children:(0,ee.jsx)(Q,{to:"/chat",children:"Chat"})})}),(0,ee.jsx)(i1.Link,{href:"/game",children:(0,ee.jsx)("li",{children:(0,ee.jsx)(Q,{to:"/game",children:"Game"})})})]})})]})}),(0,ee.jsx)("div",{className:"content",children:(0,ee.jsxs)(G,{children:[(0,ee.jsx)(Y,{path:"/",element:(0,ee.jsx)(u0,{})}),(0,ee.jsx)(Y,{path:"/admin",element:(0,ee.jsx)(te,{})}),(0,ee.jsx)(Y,{path:"/chat",element:(0,ee.jsx)(qQ,{})}),(0,ee.jsx)(Y,{path:"/chat/login",element:(0,ee.jsx)(nH,{})}),(0,ee.jsx)(Y,{path:"/game",element:(0,ee.jsx)(UJ,{})})]})})]})};var c3,h3=function(){return(0,ee.jsx)(l3,{})},f3=ue({},Dt),d3=f3.version,p3=f3.render,v3=f3.unmountComponentAtNode;try{Number((d3||"").split(".")[0])>=18&&(c3=f3.createRoot)}catch(VX){}function g3(e){var t=f3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===ne(t)&&(t.usingClientEntryPoint=e)}var m3="__rc_react_root__";function y3(e,t){c3?function(e,t){g3(!0);var n=t[m3]||c3(t);g3(!1),n.render(e),t[m3]=n}(e,t):function(e,t){p3(e,t)}(e,t)}function x3(e){return b3.apply(this,arguments)}function b3(){return(b3=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[m3])||void 0===e||e.unmount(),delete t[m3]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w3(e){v3(e)}function k3(e){return E3.apply(this,arguments)}function E3(){return(E3=oe(re().mark((function e(t){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===c3){e.next=2;break}return e.abrupt("return",x3(t));case 2:w3(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _3=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function T3(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||_3(r)&&_3(i)))return!1;var r,i;return!0}var A3=h({},Ln.Modal);function S3(e){A3=e?h(h({},A3),e):h({},Ln.Modal)}function C3(){return A3}var I3=function(e){hn(n,e);var t=gn(n);function n(e){var r;return sn(this,n),(r=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=T3);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}((function(e){return h(h({},e),{exist:!0})})),S3(e.locale&&e.locale.Modal),r}return ln(n,[{key:"componentDidMount",value:function(){S3(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&S3(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){S3()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,i=this.getMemoizedContextValue(t);return r.createElement(On.Provider,{value:i},n)}}]),n}(r.Component);I3.defaultProps={locale:{}};var P3=function(e){hn(n,e);var t=gn(n);function n(){var e;sn(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return ln(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,i=t.className,o=t.closable,a=t.closeIcon,s=t.style,u=t.onClick,l=t.children,c=t.holder,f="".concat(n,"-notice"),d=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),p=r.createElement("div",h({className:de()(f,i,ae({},"".concat(f,"-closable"),o)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},d),r.createElement("div",{className:"".concat(f,"-content")},l),o?r.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(f,"-close")},a||r.createElement("span",{className:"".concat(f,"-close-x")})):null);return c?Mt.createPortal(p,c):p}}]),n}(r.Component);function O3(e){var t=r.useRef({}),n=c(r.useState([]),2),i=n[0],o=n[1];return[function(n){var i=!0;e.add(n,(function(e,n){var a=n.key;if(e&&(!t.current[a]||i)){var s=r.createElement(P3,h({},n,{holder:e}));t.current[a]=s,o((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Z(e),[s]);var r=Z(e);return r[t]=s,r}))}i=!1}))},r.createElement(r.Fragment,null,i)]}P3.defaultProps={onClose:function(){},duration:1.5};var R3=["getContainer"],M3=0,D3=Date.now();function L3(){var e=M3;return M3+=1,"rcNotification_".concat(D3,"_").concat(e)}var N3=function(e){hn(n,e);var t=gn(n);function n(){var e;sn(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||L3(),i=ue(ue({},t),{},{key:r}),o=e.props.maxCount;e.setState((function(e){var t=e.notices,a=t.map((function(e){return e.notice.key})).indexOf(r),s=t.concat();return-1!==a?s.splice(a,1,{notice:i,holderCallback:n}):(o&&t.length>=o&&(i.key=s[0].notice.key,i.updateMark=L3(),i.userPassKey=r,s.shift()),s.push({notice:i,holderCallback:n})),{notices:s}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return ln(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,i=n.prefixCls,o=n.className,a=n.closeIcon,s=n.style,u=[];return t.forEach((function(n,r){var o=n.notice,s=n.holderCallback,l=r===t.length-1?o.updateMark:void 0,c=o.key,h=o.userPassKey,f=ue(ue(ue({prefixCls:i,closeIcon:a},o),o.props),{},{key:c,noticeKey:h||c,updateMark:l,onClose:function(t){var n;e.remove(t),null===(n=o.onClose)||void 0===n||n.call(o)},onClick:o.onClick,children:o.content});u.push(c),e.noticePropsMap[c]={props:f,holderCallback:s}})),r.createElement("div",{className:de()(i,o),style:s},r.createElement(Nr,{keys:u,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,o=t.className,a=t.style,s=t.visible,u=e.noticePropsMap[n],l=u.props,c=u.holderCallback;return c?r.createElement("div",{key:n,className:de()(o,"".concat(i,"-hook-holder")),style:ue({},a),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),c(t,l)):e.hookRefs.delete(n))}}):r.createElement(P3,h({},l,{className:de()(o,null===l||void 0===l?void 0:l.className),style:ue(ue({},a),null===l||void 0===l?void 0:l.style),visible:s}))})))}}]),n}(r.Component);N3.newInstance=void 0,N3.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},N3.newInstance=function(e,t){var n=e||{},i=n.getContainer,o=he(n,R3),a=document.createElement("div");i?i().appendChild(a):document.body.appendChild(a);var s=!1;y3(r.createElement(N3,h({},o,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){k3(a),a.parentNode&&a.parentNode.removeChild(a)},useNotification:function(){return O3(e)}}))}})),a)};var F3,B3=N3;var U3,z3,V3,j3=3,Y3=1,W3="",G3="move-up",H3=!1,X3=!1;function q3(){return Y3++}function K3(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=A4(),o=i.getPrefixCls,a=i.getRootPrefixCls,s=i.getIconPrefixCls,u=o("message",n||W3),l=a(e.rootPrefixCls,u),c=s();if(F3)t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:F3});else{var h={prefixCls:u,transitionName:H3?G3:"".concat(l,"-").concat(G3),style:{top:U3},getContainer:z3||r,maxCount:V3};B3.newInstance(h,(function(e){F3?t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:F3}):(F3=e,t({prefixCls:u,rootPrefixCls:l,iconPrefixCls:c,instance:e}))}))}}var $3={info:gK,success:rq,error:Hs,warning:aq,loading:xl},Q3=Object.keys($3);function J3(e,t,n){var i,o=void 0!==e.duration?e.duration:j3,a=$3[e.type],s=de()("".concat(t,"-custom-content"),(ae(i={},"".concat(t,"-").concat(e.type),e.type),ae(i,"".concat(t,"-rtl"),!0===X3),i));return{key:e.key,duration:o,style:e.style||{},className:e.className,content:r.createElement(I4,{iconPrefixCls:n},r.createElement("div",{className:s},e.icon||a&&r.createElement(a,null),r.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var Z3={open:function(e){var t=e.key||q3(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};K3(e,(function(n){var i=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(J3(h(h({},e),{key:t,onClose:r}),i,o))}))})),r=function(){F3&&F3.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(U3=e.top,F3=null),void 0!==e.duration&&(j3=e.duration),void 0!==e.prefixCls&&(W3=e.prefixCls),void 0!==e.getContainer&&(z3=e.getContainer,F3=null),void 0!==e.transitionName&&(G3=e.transitionName,F3=null,H3=!0),void 0!==e.maxCount&&(V3=e.maxCount,F3=null),void 0!==e.rtl&&(X3=e.rtl)},destroy:function(e){if(F3)if(e){(0,F3.removeNotice)(e)}else{var t=F3.destroy;t(),F3=null}}};function e4(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(h(h({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}Q3.forEach((function(e){return e4(Z3,e)})),Z3.warn=Z3.warning,Z3.useMessage=function(e,t){return function(){var n,i,o=null,a=c(O3({add:function(e,t){null===o||void 0===o||o.component.add(e,t)}}),2),s=a[0],u=a[1];var l=r.useRef({});return l.current.open=function(r){var a=r.prefixCls,u=n("message",a),l=n(),c=r.key||q3(),f=new Promise((function(n){var a=function(){return"function"===typeof r.onClose&&r.onClose(),n(!0)};e(h(h({},r),{prefixCls:u,rootPrefixCls:l,getPopupContainer:i}),(function(e){var n=e.prefixCls,i=e.instance;o=i,s(t(h(h({},r),{key:c,onClose:a}),n))}))})),d=function(){o&&o.removeNotice(c)};return d.then=function(e,t){return f.then(e,t)},d.promise=f,d},Q3.forEach((function(e){return e4(l.current,e)})),[l.current,r.createElement(Pn,{key:"holder"},(function(e){return n=e.getPrefixCls,i=e.getPopupContainer,u}))]}}(K3,J3);var t4=Z3;var n4,r4,i4,o4={},a4=4.5,s4=24,u4=24,l4="",c4="topRight",h4=!1;function f4(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u4;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function d4(e,t){var n=e.placement,r=void 0===n?c4:n,i=e.top,o=e.bottom,a=e.getContainer,s=void 0===a?n4:a,u=e.prefixCls,l=A4(),c=l.getPrefixCls,h=l.getIconPrefixCls,f=c("notification",u||l4),d=h(),p="".concat(f,"-").concat(r),v=o4[p];if(v)Promise.resolve(v).then((function(e){t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:d,instance:e})}));else{var g=de()("".concat(f,"-").concat(r),ae({},"".concat(f,"-rtl"),!0===h4));o4[p]=new Promise((function(e){B3.newInstance({prefixCls:f,className:g,style:f4(r,i,o),getContainer:s,maxCount:i4},(function(n){e(n),t({prefixCls:"".concat(f,"-notice"),iconPrefixCls:d,instance:n})}))}))}}var p4={success:iK,info:xK,error:sK,warning:dK};function v4(e,t,n){var i=e.duration,o=e.icon,a=e.type,s=e.description,u=e.message,l=e.btn,c=e.onClose,h=e.onClick,f=e.key,d=e.style,p=e.className,v=e.closeIcon,g=void 0===v?r4:v,m=void 0===i?a4:i,y=null;o?y=r.createElement("span",{className:"".concat(t,"-icon")},e.icon):a&&(y=r.createElement(p4[a]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(a)}));var x=r.createElement("span",{className:"".concat(t,"-close-x")},g||r.createElement(cK,{className:"".concat(t,"-close-icon")})),b=!s&&y?r.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:r.createElement(I4,{iconPrefixCls:n},r.createElement("div",{className:y?"".concat(t,"-with-icon"):"",role:"alert"},y,r.createElement("div",{className:"".concat(t,"-message")},b,u),r.createElement("div",{className:"".concat(t,"-description")},s),l?r.createElement("span",{className:"".concat(t,"-btn")},l):null)),duration:m,closable:!0,closeIcon:x,onClose:c,onClick:h,key:f,style:d||{},className:de()(p,ae({},"".concat(t,"-").concat(a),!!a))}}var g4={open:function(e){d4(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(v4(e,n,r))}))},close:function(e){Object.keys(o4).forEach((function(t){return Promise.resolve(o4[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,o=e.getContainer,a=e.closeIcon,s=e.prefixCls;void 0!==s&&(l4=s),void 0!==t&&(a4=t),void 0!==n?c4=n:e.rtl&&(c4="topLeft"),void 0!==r&&(u4=r),void 0!==i&&(s4=i),void 0!==o&&(n4=o),void 0!==a&&(r4=a),void 0!==e.rtl&&(h4=e.rtl),void 0!==e.maxCount&&(i4=e.maxCount)},destroy:function(){Object.keys(o4).forEach((function(e){Promise.resolve(o4[e]).then((function(e){e.destroy()})),delete o4[e]}))}};["success","info","warning","error"].forEach((function(e){g4[e]=function(t){return g4.open(h(h({},t),{type:e}))}})),g4.warn=g4.warning,g4.useNotification=function(e,t){return function(){var n,i=null,o=c(O3({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),2),a=o[0],s=o[1];var u=r.useRef({});return u.current.open=function(r){var o=r.prefixCls,s=n("notification",o);e(h(h({},r),{prefixCls:s}),(function(e){var n=e.prefixCls,o=e.instance;i=o,a(t(r,n))}))},["success","info","warning","error"].forEach((function(e){u.current[e]=function(t){return u.current.open(h(h({},t),{type:e}))}})),[u.current,r.createElement(Pn,{key:"holder"},(function(e){return n=e.getPrefixCls,s}))]}}(d4,v4);var m4=g4,y4=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=Ce(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=me(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=ke(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=ke(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=be(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=be(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Ee(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[xe(Math.round(e).toString(16)),xe(Math.round(t).toString(16)),xe(Math.round(n).toString(16)),xe(_e(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*ve(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*ve(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Ee(this.r,this.g,this.b,!1),t=0,n=Object.entries(Se);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=ge(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=ge(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=ge(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=ge(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:i,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,a=1;a<t;a++)i.push(new e({h:(r+a*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var x4="-ant-".concat(Date.now(),"-").concat(Math.random());function b4(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new y4(e),o=Ve(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=o[1],n["".concat(t,"-color-hover")]=o[4],n["".concat(t,"-color-active")]=o[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=o[1],n["".concat(t,"-color-deprecated-border")]=o[3]};if(t.primaryColor){i(t.primaryColor,"primary");var o=new y4(t.primaryColor),a=Ve(o.toRgbString());a.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(o,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(o,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(o,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(o,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(o,(function(e){return e.setAlpha(.12*e.getAlpha())}));var s=new y4(a[0]);n["primary-color-active-deprecated-f-30"]=r(s,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(s,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var u=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(u.join("\n"),"\n  }\n  ").trim()}(e,t);Ke()&&nt(n,"".concat(x4,"-dynamic-theme"))}var w4,k4,E4=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];function _4(){return w4||"ant"}function T4(){return k4||"anticon"}var A4=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(_4(),"-").concat(e):_4())},getIconPrefixCls:T4,getRootPrefixCls:function(e,t){return e||(w4||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):_4()))}}},S4=function(e){var t,n,i=e.children,o=e.csp,a=e.autoInsertSpaceInButton,s=e.form,u=e.locale,l=e.componentSize,c=e.direction,f=e.space,d=e.virtual,p=e.dropdownMatchSelectWidth,v=e.legacyLocale,g=e.parentContext,m=e.iconPrefixCls,y=e.componentDisabled,x=r.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||g.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[g.getPrefixCls,e.prefixCls]),b=h(h({},g),{csp:o,autoInsertSpaceInButton:a,locale:u||v,direction:c,space:f,virtual:d,dropdownMatchSelectWidth:p,getPrefixCls:x});E4.forEach((function(t){var n=e[t];n&&(b[t]=n)}));var w=It((function(){return b}),b,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),k=r.useMemo((function(){return{prefixCls:m,csp:o}}),[m,o]),E=i,_={};return u&&(_=(null===(t=u.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=Ln.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),s&&s.validateMessages&&(_=h(h({},_),s.validateMessages)),Object.keys(_).length>0&&(E=r.createElement(Is,{validateMessages:_},i)),u&&(E=r.createElement(I3,{locale:u,_ANT_MARK__:"internalMark"},E)),(m||o)&&(E=r.createElement(pe.Provider,{value:k},E)),l&&(E=r.createElement(la,{size:l},E)),void 0!==y&&(E=r.createElement(aa,{disabled:y},E)),r.createElement(In.Provider,{value:w},E)},C4=function(e){return r.useEffect((function(){e.direction&&(t4.config({rtl:"rtl"===e.direction}),m4.config({rtl:"rtl"===e.direction}))}),[e.direction]),r.createElement(Fn,null,(function(t,n,i){return r.createElement(Pn,null,(function(t){return r.createElement(S4,h({parentContext:t,legacyLocale:i},e))}))}))};C4.ConfigContext=In,C4.SizeContext=ca,C4.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(w4=t),void 0!==n&&(k4=n),r&&b4(_4(),r)};var I4=C4;function P4(e){return!(!e||!e.then)}var O4,R4=function(e){var t=r.useRef(!1),n=r.useRef(),i=c(Tn(!1),2),o=i[0],a=i[1];r.useEffect((function(){var t;if(e.autoFocus){var r=n.current;t=setTimeout((function(){return r.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var s=e.type,u=e.children,l=e.prefixCls,f=e.buttonProps;return r.createElement(Ol,h({},Cl(s),{onClick:function(n){var r=e.actionFn,i=e.close;if(!t.current)if(t.current=!0,r){var o;if(e.emitEvent){if(o=r(n),e.quitOnNullishReturnValue&&!P4(o))return t.current=!1,void i(n)}else if(r.length)o=r(i),t.current=!1;else if(!(o=r()))return void i();!function(n){var r=e.close;P4(n)&&(a(!0),n.then((function(){a(!1,!0),r.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),a(!1,!0),t.current=!1})))}(o)}else i()},loading:o,prefixCls:l},f,{ref:n}),u)};function M4(e){if("undefined"===typeof document)return 0;if(e||void 0===O4){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),O4=i-o}return O4}var D4=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,r=void 0===n?document.body:n,i={},o=Object.keys(e);return o.forEach((function(e){i[e]=r.style[e]})),o.forEach((function(t){r.style[t]=e[t]})),i};var L4={},N4=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),r=document.body.className;if(e){if(!n.test(r))return;return D4(L4),L4={},void(document.body.className=r.replace(n,"").trim())}var i=M4();if(i&&(L4=D4({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var o="".concat(r," ").concat(t);document.body.className=o.trim()}}},F4=[],B4="ant-scrolling-effect",U4=new RegExp("".concat(B4),"g"),z4=0,V4=new Map,j4=ln((function e(t){var n=this;sn(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=F4.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!F4.some((function(e){return e.target===n.lockTarget})))if(F4.some((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))F4=[].concat(Z(F4),[{target:n.lockTarget,options:n.options}]);else{var t=0,r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||r.scrollHeight>r.clientHeight)&&(t=M4());var i=r.className;if(0===F4.filter((function(e){var t,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&V4.set(r,D4({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:r})),!U4.test(i)){var o="".concat(i," ").concat(B4);r.className=o.trim()}F4=[].concat(Z(F4),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=F4.find((function(e){return e.target===n.lockTarget}));if(F4=F4.filter((function(e){return e.target!==n.lockTarget})),t&&!F4.some((function(e){var n,r=e.options;return(null===r||void 0===r?void 0:r.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var r=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,i=r.className;U4.test(i)&&(D4(V4.get(r),{element:r}),V4.delete(r),r.className=r.className.replace(U4,"").trim())}},this.lockTarget=z4++,this.options=t})),Y4=0,W4=Ke();var G4={},H4=function(e){if(!W4)return null;if(e){if("string"===typeof e)return document.querySelectorAll(e)[0];if("function"===typeof e)return e();if("object"===ne(e)&&e instanceof window.HTMLElement)return e}return document.body},X4=function(e){hn(n,e);var t=gn(n);function n(e){var i;return sn(this,n),(i=t.call(this,e)).container=void 0,i.componentRef=r.createRef(),i.rafId=void 0,i.scrollLocker=void 0,i.renderComponent=void 0,i.updateScrollLocker=function(e){var t=(e||{}).visible,n=i.props,r=n.getContainer,o=n.visible;o&&o!==t&&W4&&H4(r)!==i.scrollLocker.getContainer()&&i.scrollLocker.reLock({container:H4(r)})},i.updateOpenCount=function(e){var t=e||{},n=t.visible,r=t.getContainer,o=i.props,a=o.visible,s=o.getContainer;a!==n&&W4&&H4(s)===document.body&&(a&&!n?Y4+=1:e&&(Y4-=1)),("function"===typeof s&&"function"===typeof r?s.toString()!==r.toString():s!==r)&&i.removeCurrentContainer()},i.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.container&&!i.container.parentNode){var t=H4(i.props.getContainer);return!!t&&(t.appendChild(i.container),!0)}return!0},i.getContainer=function(){return W4?(i.container||(i.container=document.createElement("div"),i.attachToParent(!0)),i.setWrapperClassName(),i.container):null},i.setWrapperClassName=function(){var e=i.props.wrapperClassName;i.container&&e&&e!==i.container.className&&(i.container.className=e)},i.removeCurrentContainer=function(){var e,t;null===(e=i.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(i.container)},i.switchScrollingEffect=function(){1!==Y4||Object.keys(G4).length?Y4||(D4(G4),G4={},N4(!0)):(N4(),G4=D4({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},i.scrollLocker=new j4({container:H4(e.getContainer)}),i}return ln(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Wn((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;W4&&H4(n)===document.body&&(Y4=t&&Y4?Y4-1:Y4),this.removeCurrentContainer(),Wn.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,i=e.visible,o=null,a={getOpenCount:function(){return Y4},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||i||this.componentRef.current)&&(o=r.createElement(qn,{getContainer:this.getContainer,ref:this.componentRef},t(a))),o}}]),n}(r.Component),q4=X4;var K4=0;function $4(e){var t=c(r.useState("ssr-id"),2),n=t[0],o=t[1],a=ue({},i).useId,s=null===a||void 0===a?void 0:a();return r.useEffect((function(){if(!a){var e=K4;K4+=1,o("rc_unique_".concat(e))}}),[]),e||(s||n)}var Q4="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),J4="aria-",Z4="data-";function e5(e,t){return 0===e.indexOf(t)}function t5(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:ue({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||e5(n,J4))||t.data&&e5(n,Z4)||t.attr&&Q4.includes(n))&&(r[n]=e[n])})),r}function n5(e){var t=e.prefixCls,n=e.style,i=e.visible,o=e.maskProps,a=e.motionName;return r.createElement(Fr,{key:"mask",visible:i,motionName:a,leavedClassName:"".concat(t,"-mask-hidden")},(function(e){var i=e.className,a=e.style;return r.createElement("div",h({style:ue(ue({},a),n),className:de()("".concat(t,"-mask"),i)},o))}))}function r5(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function i5(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}var o5=r.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),a5={width:0,height:0,overflow:"hidden",outline:"none"},s5=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.className,o=e.style,a=e.title,s=e.ariaId,u=e.footer,l=e.closable,c=e.closeIcon,f=e.onClose,d=e.children,p=e.bodyStyle,v=e.bodyProps,g=e.modalRender,m=e.onMouseDown,y=e.onMouseUp,x=e.holderRef,b=e.visible,w=e.forceRender,k=e.width,E=e.height,_=(0,r.useRef)(),T=(0,r.useRef)();r.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=_.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===T.current?_.current.focus():e||t!==_.current||T.current.focus()}}}));var A,S,C,I={};void 0!==k&&(I.width=k),void 0!==E&&(I.height=E),u&&(A=r.createElement("div",{className:"".concat(n,"-footer")},u)),a&&(S=r.createElement("div",{className:"".concat(n,"-header")},r.createElement("div",{className:"".concat(n,"-title"),id:s},a))),l&&(C=r.createElement("button",{type:"button",onClick:f,"aria-label":"Close",className:"".concat(n,"-close")},c||r.createElement("span",{className:"".concat(n,"-close-x")})));var P=r.createElement("div",{className:"".concat(n,"-content")},C,S,r.createElement("div",h({className:"".concat(n,"-body"),style:p},v),d),A);return r.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":a?s:null,"aria-modal":"true",ref:x,style:ue(ue({},o),I),className:de()(n,i),onMouseDown:m,onMouseUp:y},r.createElement("div",{tabIndex:0,ref:_,style:a5,"aria-hidden":"true"}),r.createElement(o5,{shouldUpdate:b||w},g?g(P):P),r.createElement("div",{tabIndex:0,ref:T,style:a5,"aria-hidden":"true"}))}));var u5=s5,l5=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.title,o=e.style,a=e.className,s=e.visible,u=e.forceRender,l=e.destroyOnClose,f=e.motionName,d=e.ariaId,p=e.onVisibleChanged,v=e.mousePosition,g=(0,r.useRef)(),m=c(r.useState(),2),y=m[0],x=m[1],b={};function w(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=i5(i),n.top+=i5(i,!0),n}(g.current);x(v?"".concat(v.x-e.left,"px ").concat(v.y-e.top,"px"):"")}return y&&(b.transformOrigin=y),r.createElement(Fr,{visible:s,onVisibleChanged:p,onAppearPrepare:w,onEnterPrepare:w,forceRender:u,motionName:f,removeOnLeave:l,ref:g},(function(s,u){var l=s.className,c=s.style;return r.createElement(u5,h({},e,{ref:t,title:i,ariaId:d,prefixCls:n,holderRef:u,style:ue(ue(ue({},c),o),b),className:de()(a,l)}))}))}));l5.displayName="Content";var c5=l5;function h5(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,i=e.zIndex,o=e.visible,a=void 0!==o&&o,s=e.keyboard,u=void 0===s||s,l=e.focusTriggerAfterClose,f=void 0===l||l,d=e.scrollLocker,p=e.wrapStyle,v=e.wrapClassName,g=e.wrapProps,m=e.onClose,y=e.afterClose,x=e.transitionName,b=e.animation,w=e.closable,k=void 0===w||w,E=e.mask,_=void 0===E||E,T=e.maskTransitionName,A=e.maskAnimation,S=e.maskClosable,C=void 0===S||S,I=e.maskStyle,P=e.maskProps,O=e.rootClassName,R=(0,r.useRef)(),M=(0,r.useRef)(),D=(0,r.useRef)(),L=c(r.useState(a),2),N=L[0],F=L[1],B=$4();function U(e){null===m||void 0===m||m(e)}var z=(0,r.useRef)(!1),V=(0,r.useRef)(),j=null;return C&&(j=function(e){z.current?z.current=!1:M.current===e.target&&U(e)}),(0,r.useEffect)((function(){return a&&F(!0),function(){}}),[a]),(0,r.useEffect)((function(){return function(){clearTimeout(V.current)}}),[]),(0,r.useEffect)((function(){return N?(null===d||void 0===d||d.lock(),null===d||void 0===d?void 0:d.unLock):function(){}}),[N,d]),r.createElement("div",h({className:de()("".concat(n,"-root"),O)},t5(e,{data:!0})),r.createElement(n5,{prefixCls:n,visible:_&&a,motionName:r5(n,T,A),style:ue({zIndex:i},I),maskProps:P}),r.createElement("div",h({tabIndex:-1,onKeyDown:function(e){if(u&&e.keyCode===Uo.ESC)return e.stopPropagation(),void U(e);a&&e.keyCode===Uo.TAB&&D.current.changeActive(!e.shiftKey)},className:de()("".concat(n,"-wrap"),v),ref:M,onClick:j,style:ue(ue({zIndex:i},p),{},{display:N?null:"none"})},g),r.createElement(c5,h({},e,{onMouseDown:function(){clearTimeout(V.current),z.current=!0},onMouseUp:function(){V.current=setTimeout((function(){z.current=!1}))},ref:D,closable:k,ariaId:B,prefixCls:n,visible:a,onClose:U,onVisibleChanged:function(e){if(e){var t;if(!Gn(M.current,document.activeElement))R.current=document.activeElement,null===(t=D.current)||void 0===t||t.focus()}else{if(F(!1),_&&R.current&&f){try{R.current.focus({preventScroll:!0})}catch(VX){}R.current=null}N&&(null===y||void 0===y||y())}},motionName:r5(n,x,b)}))))}var f5=function(e){var t=e.visible,n=e.getContainer,i=e.forceRender,o=e.destroyOnClose,a=void 0!==o&&o,s=e.afterClose,u=c(r.useState(t),2),l=u[0],f=u[1];return r.useEffect((function(){t&&f(!0)}),[t]),!1===n?r.createElement(h5,h({},e,{getOpenCount:function(){return 2}})):i||!a||l?r.createElement(q4,{visible:t,forceRender:i,getContainer:n},(function(t){return r.createElement(h5,h({},e,{destroyOnClose:a,afterClose:function(){null===s||void 0===s||s(),f(!1)}},t))})):null};f5.displayName="Dialog";var d5,p5=f5,v5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};ju()&&document.documentElement.addEventListener("click",(function(e){d5={x:e.pageX,y:e.pageY},setTimeout((function(){d5=null}),100)}),!0);var g5=function(e){var t,n=r.useContext(In),i=n.getPopupContainer,o=n.getPrefixCls,a=n.direction,s=function(t){var n=e.onCancel;null===n||void 0===n||n(t)},u=function(t){var n=e.onOk;null===n||void 0===n||n(t)},l=function(t){var n=e.okText,i=e.okType,o=e.cancelText,a=e.confirmLoading;return r.createElement(r.Fragment,null,r.createElement(Ol,h({onClick:s},e.cancelButtonProps),o||t.cancelText),r.createElement(Ol,h({},Cl(i),{loading:a,onClick:u},e.okButtonProps),n||t.okText))},c=e.prefixCls,f=e.footer,d=e.visible,p=e.wrapClassName,v=e.centered,g=e.getContainer,m=e.closeIcon,y=e.focusTriggerAfterClose,x=void 0===y||y,b=v5(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),w=o("modal",c),k=o(),E=r.createElement(Fn,{componentName:"Modal",defaultLocale:C3()},l),_=r.createElement("span",{className:"".concat(w,"-close-x")},m||r.createElement(cK,{className:"".concat(w,"-close-icon")})),T=de()(p,(ae(t={},"".concat(w,"-centered"),!!v),ae(t,"".concat(w,"-wrap-rtl"),"rtl"===a),t));return r.createElement(Vs,{status:!0,override:!0},r.createElement(p5,h({},b,{getContainer:void 0===g?i:g,prefixCls:w,wrapClassName:T,footer:void 0===f?E:f,visible:d,mousePosition:d5,onClose:s,closeIcon:_,focusTriggerAfterClose:x,transitionName:ko(k,"zoom",e.transitionName),maskTransitionName:ko(k,"fade",e.maskTransitionName)})))};g5.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var m5=g5,y5=function(e){var t=e.icon,n=e.onCancel,i=e.onOk,o=e.close,a=e.zIndex,s=e.afterClose,u=e.visible,l=e.keyboard,c=e.centered,h=e.getContainer,f=e.maskStyle,d=e.okText,p=e.okButtonProps,v=e.cancelText,g=e.cancelButtonProps,m=e.direction,y=e.prefixCls,x=e.wrapClassName,b=e.rootPrefixCls,w=e.iconPrefixCls,k=e.bodyStyle,E=e.closable,_=void 0!==E&&E,T=e.closeIcon,A=e.modalRender,S=e.focusTriggerAfterClose,C=e.okType||"primary",I="".concat(y,"-confirm"),P=!("okCancel"in e)||e.okCancel,O=e.width||416,R=e.style||{},M=void 0===e.mask||e.mask,D=void 0!==e.maskClosable&&e.maskClosable,L=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),N=de()(I,"".concat(I,"-").concat(e.type),ae({},"".concat(I,"-rtl"),"rtl"===m),e.className),F=P&&r.createElement(R4,{actionFn:n,close:o,autoFocus:"cancel"===L,buttonProps:g,prefixCls:"".concat(b,"-btn")},v);return r.createElement(I4,{prefixCls:b,iconPrefixCls:w,direction:m},r.createElement(m5,{prefixCls:y,className:N,wrapClassName:de()(ae({},"".concat(I,"-centered"),!!e.centered),x),onCancel:function(){return o({triggerCancel:!0})},visible:u,title:"",footer:"",transitionName:ko(b,"zoom",e.transitionName),maskTransitionName:ko(b,"fade",e.maskTransitionName),mask:M,maskClosable:D,maskStyle:f,style:R,bodyStyle:k,width:O,zIndex:a,afterClose:s,keyboard:l,centered:c,getContainer:h,closable:_,closeIcon:T,modalRender:A,focusTriggerAfterClose:S},r.createElement("div",{className:"".concat(I,"-body-wrapper")},r.createElement("div",{className:"".concat(I,"-body")},t,void 0===e.title?null:r.createElement("span",{className:"".concat(I,"-title")},e.title),r.createElement("div",{className:"".concat(I,"-content")},e.content)),r.createElement("div",{className:"".concat(I,"-btns")},F,r.createElement(R4,{type:C,actionFn:i,close:o,autoFocus:"ok"===L,buttonProps:p,prefixCls:"".concat(b,"-btn")},d)))))},x5=[],b5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},w5="";function k5(e){var t=document.createDocumentFragment(),n=h(h({},e),{close:a,visible:!0});function i(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.some((function(e){return e&&e.triggerCancel}));e.onCancel&&o&&e.onCancel.apply(e,r);for(var s=0;s<x5.length;s++){var u=x5[s];if(u===a){x5.splice(s,1);break}}k3(t)}function o(e){var n=e.okText,i=e.cancelText,o=e.prefixCls,a=b5(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=C3(),s=A4(),u=s.getPrefixCls,l=s.getIconPrefixCls,c=u(void 0,w5),f=o||"".concat(c,"-modal"),d=l();y3(r.createElement(y5,h({},a,{prefixCls:f,rootPrefixCls:c,iconPrefixCls:d,okText:n||(a.okCancel?e.okText:e.justOkText),cancelText:i||e.cancelText})),t)}))}function a(){for(var t=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];o(n=h(h({},n),{visible:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),i.apply(t,a)}}))}return o(n),x5.push(a),{destroy:a,update:function(e){o(n="function"===typeof e?e(n):h(h({},n),e))}}}function E5(e){return h(h({icon:r.createElement(dK,null),okCancel:!1},e),{type:"warning"})}function _5(e){return h(h({icon:r.createElement(xK,null),okCancel:!1},e),{type:"info"})}function T5(e){return h(h({icon:r.createElement(iK,null),okCancel:!1},e),{type:"success"})}function A5(e){return h(h({icon:r.createElement(sK,null),okCancel:!1},e),{type:"error"})}function S5(e){return h(h({icon:r.createElement(dK,null),okCancel:!0},e),{type:"confirm"})}var C5=function(e,t){var n=e.afterClose,i=e.config,o=c(r.useState(!0),2),a=o[0],s=o[1],u=c(r.useState(i),2),l=u[0],f=u[1],d=r.useContext(In),p=d.direction,v=d.getPrefixCls,g=v("modal"),m=v(),y=function(){s(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.some((function(e){return e&&e.triggerCancel}));l.onCancel&&r&&l.onCancel()};return r.useImperativeHandle(t,(function(){return{destroy:y,update:function(e){f((function(t){return h(h({},t),e)}))}}})),r.createElement(Fn,{componentName:"Modal",defaultLocale:Ln.Modal},(function(e){return r.createElement(y5,h({prefixCls:g,rootPrefixCls:m},l,{close:y,visible:a,afterClose:n,okText:l.okText||(l.okCancel?e.okText:e.justOkText),direction:p,cancelText:l.cancelText||e.cancelText}))}))},I5=r.forwardRef(C5),P5=0,O5=r.memo(r.forwardRef((function(e,t){var n=function(){var e=c(r.useState([]),2),t=e[0],n=e[1];return[t,r.useCallback((function(e){return n((function(t){return[].concat(Z(t),[e])})),function(){n((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),i=c(n,2),o=i[0],a=i[1];return r.useImperativeHandle(t,(function(){return{patchElement:a}}),[]),r.createElement(r.Fragment,null,o)})));function R5(e){return k5(E5(e))}var M5=m5;M5.useModal=function(){var e=r.useRef(null),t=c(r.useState([]),2),n=t[0],i=t[1];r.useEffect((function(){n.length&&(Z(n).forEach((function(e){e()})),i([]))}),[n]);var o=r.useCallback((function(t){return function(n){var o;P5+=1;var a,s=r.createRef(),u=r.createElement(I5,{key:"modal-".concat(P5),config:t(n),ref:s,afterClose:function(){a()}});return a=null===(o=e.current)||void 0===o?void 0:o.patchElement(u),{destroy:function(){function e(){var e;null===(e=s.current)||void 0===e||e.destroy()}s.current?e():i((function(t){return[].concat(Z(t),[e])}))},update:function(e){function t(){var t;null===(t=s.current)||void 0===t||t.update(e)}s.current?t():i((function(e){return[].concat(Z(e),[t])}))}}}}),[]);return[r.useMemo((function(){return{info:o(_5),success:o(T5),error:o(A5),warning:o(E5),confirm:o(S5)}}),[]),r.createElement(O5,{ref:e})]},M5.info=function(e){return k5(_5(e))},M5.success=function(e){return k5(T5(e))},M5.error=function(e){return k5(A5(e))},M5.warning=R5,M5.warn=R5,M5.confirm=function(e){return k5(S5(e))},M5.destroyAll=function(){for(;x5.length;){var e=x5.pop();e&&e()}},M5.config=function(e){var t=e.rootPrefixCls;w5=t};var D5=M5;function L5(){var e=(0,r.useContext)(aQ),t=e.isAddRoomVisible,n=e.setIsAddRoomVisible,i=(0,r.useContext)(rQ).uid,o=c(bq.useForm(),1)[0];return(0,ee.jsx)("div",{children:(0,ee.jsx)(D5,{title:"T\u1ea1o ph\xf2ng",visible:t,onOk:function(){JG("rooms",ue(ue({},o.getFieldsValue()),{},{members:[i]})),o.resetFields(),n(!1)},onCancel:function(){o.resetFields(),n(!1)},children:(0,ee.jsxs)(bq,{form:o,layout:"vertical",children:[(0,ee.jsx)(bq.Item,{label:"T\xean ph\xf2ng",name:"name",children:(0,ee.jsx)(tK,{placeholder:"Nh\u1eadp t\xean ph\xf2ng"})}),(0,ee.jsx)(bq.Item,{label:"M\xf4 t\u1ea3",name:"description",children:(0,ee.jsx)(tK.TextArea,{placeholder:"Nh\u1eadp m\xf4 t\u1ea3"})})]})})})}function N5(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function F5(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function B5(e){var t=ue({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return qe(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var U5=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],z5=function(e,t){var n=e.prefixCls,i=(e.disabled,e.visible),o=e.children,a=e.popupElement,s=e.containerWidth,u=e.animation,l=e.transitionName,c=e.dropdownStyle,f=e.dropdownClassName,d=e.direction,p=void 0===d?"ltr":d,v=e.placement,g=e.dropdownMatchSelectWidth,m=e.dropdownRender,y=e.dropdownAlign,x=e.getPopupContainer,b=e.empty,w=e.getTriggerDOMNode,k=e.onPopupVisibleChange,E=e.onPopupMouseEnter,_=he(e,U5),T="".concat(n,"-dropdown"),A=a;m&&(A=m(a));var S=r.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(g)}),[g]),C=u?"".concat(T,"-").concat(u):l,I=r.useRef(null);r.useImperativeHandle(t,(function(){return{getPopupElement:function(){return I.current}}}));var P=ue({minWidth:s},c);return"number"===typeof g?P.width=g:g&&(P.width=s),r.createElement(so,h({},_,{showAction:k?["click"]:[],hideAction:k?["click"]:[],popupPlacement:v||("rtl"===p?"bottomRight":"bottomLeft"),builtinPlacements:S,prefixCls:T,popupTransitionName:C,popup:r.createElement("div",{ref:I,onMouseEnter:E},A),popupAlign:y,popupVisible:i,getPopupContainer:x,popupClassName:de()(f,ae({},"".concat(T,"-empty"),b)),popupStyle:P,getTriggerDOMNode:w,onPopupVisibleChange:k}),o)},V5=r.forwardRef(z5);V5.displayName="SelectTrigger";var j5=V5,Y5=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],W5=void 0;function G5(e,t){var n=e.prefixCls,i=e.invalidate,o=e.item,a=e.renderItem,s=e.responsive,u=e.responsiveDisabled,l=e.registerSize,c=e.itemKey,f=e.className,d=e.style,p=e.children,v=e.display,g=e.order,m=e.component,y=void 0===m?"div":m,x=he(e,Y5),b=s&&!v;function w(e){l(c,e)}r.useEffect((function(){return function(){w(null)}}),[]);var k,E=a&&o!==W5?a(o):p;i||(k={opacity:b?0:1,height:b?0:W5,overflowY:b?"hidden":W5,order:s?g:W5,pointerEvents:b?"none":W5,position:b?"absolute":W5});var _={};b&&(_["aria-hidden"]=!0);var T=r.createElement(y,h({className:de()(!i&&n,f),style:ue(ue({},k),d)},_,x,{ref:t}),E);return s&&(T=r.createElement(kn,{onResize:function(e){w(e.offsetWidth)},disabled:u},T)),T}var H5=r.forwardRef(G5);H5.displayName="Item";var X5=H5;var q5=["component"],K5=["className"],$5=["className"],Q5=function(e,t){var n=r.useContext(t6);if(!n){var i=e.component,o=void 0===i?"div":i,a=he(e,q5);return r.createElement(o,h({},a,{ref:t}))}var s=n.className,u=he(n,K5),l=e.className,c=he(e,$5);return r.createElement(t6.Provider,{value:null},r.createElement(X5,h({ref:t,className:de()(s,l)},u,c)))},J5=r.forwardRef(Q5);J5.displayName="RawItem";var Z5=J5,e6=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],t6=r.createContext(null),n6="responsive",r6="invalidate";function i6(e){return"+ ".concat(e.length," ...")}function o6(e,t){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,o=e.data,a=void 0===o?[]:o,s=e.renderItem,u=e.renderRawItem,l=e.itemKey,f=e.itemWidth,d=void 0===f?10:f,p=e.ssr,v=e.style,g=e.className,m=e.maxCount,y=e.renderRest,x=e.renderRawRest,b=e.suffix,w=e.component,k=void 0===w?"div":w,E=e.itemComponent,_=e.onVisibleChange,T=he(e,e6),A=function(){var e=c(Tn({}),2)[1],t=(0,r.useRef)([]),n=0,i=0;return function(r){var o=n;return n+=1,t.current.length<o+1&&(t.current[o]=r),[t.current[o],function(n){t.current[o]="function"===typeof n?n(t.current[o]):n,Wn.cancel(i),i=Wn((function(){e({},!0)}))}]}}(),S="full"===p,C=c(A(null),2),I=C[0],P=C[1],O=I||0,R=c(A(new Map),2),M=R[0],D=R[1],L=c(A(0),2),N=L[0],F=L[1],B=c(A(0),2),U=B[0],z=B[1],V=c(A(0),2),j=V[0],Y=V[1],W=c((0,r.useState)(null),2),G=W[0],H=W[1],X=c((0,r.useState)(null),2),q=X[0],K=X[1],$=r.useMemo((function(){return null===q&&S?Number.MAX_SAFE_INTEGER:q||0}),[q,I]),Q=c((0,r.useState)(!1),2),J=Q[0],Z=Q[1],ee="".concat(i,"-item"),te=Math.max(N,U),ne=m===n6,re=a.length&&ne,ie=m===r6,oe=re||"number"===typeof m&&a.length>m,ae=(0,r.useMemo)((function(){var e=a;return re?e=null===I&&S?a:a.slice(0,Math.min(a.length,O/d)):"number"===typeof m&&(e=a.slice(0,m)),e}),[a,d,I,m,re]),se=(0,r.useMemo)((function(){return re?a.slice($+1):a.slice(ae.length)}),[a,ae,re,$]),le=(0,r.useCallback)((function(e,t){var n;return"function"===typeof l?l(e):null!==(n=l&&(null===e||void 0===e?void 0:e[l]))&&void 0!==n?n:t}),[l]),ce=(0,r.useCallback)(s||function(e){return e},[s]);function fe(e,t){K(e),t||(Z(e<a.length-1),null===_||void 0===_||_(e))}function pe(e,t){D((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function ve(e){return M.get(le(ae[e],e))}En((function(){if(O&&te&&ae){var e=j,t=ae.length,n=t-1;if(!t)return fe(0),void H(null);for(var r=0;r<t;r+=1){var i=ve(r);if(S&&(i=i||0),void 0===i){fe(r-1,!0);break}if(e+=i,0===n&&e<=O||r===n-1&&e+ve(n)<=O){fe(n),H(null);break}if(e+te>O){fe(r-1),H(e-i-j+U);break}}b&&ve(0)+j>O&&H(null)}}),[O,M,U,j,le,ae]);var ge=J&&!!se.length,me={};null!==G&&re&&(me={position:"absolute",left:G,top:0});var ye,xe={prefixCls:ee,responsive:re,component:E,invalidate:ie},be=u?function(e,t){var n=le(e,t);return r.createElement(t6.Provider,{key:n,value:ue(ue({},xe),{},{order:t,item:e,itemKey:n,registerSize:pe,display:t<=$})},u(e,t))}:function(e,t){var n=le(e,t);return r.createElement(X5,h({},xe,{order:t,key:n,item:e,renderItem:ce,itemKey:n,registerSize:pe,display:t<=$}))},we={order:ge?$:Number.MAX_SAFE_INTEGER,className:"".concat(ee,"-rest"),registerSize:function(e,t){z(t),F(U)},display:ge};if(x)x&&(ye=r.createElement(t6.Provider,{value:ue(ue({},xe),we)},x(se)));else{var ke=y||i6;ye=r.createElement(X5,h({},xe,we),"function"===typeof ke?ke(se):ke)}var Ee=r.createElement(k,h({className:de()(!ie&&i,g),style:v,ref:t},T),ae.map(be),oe?ye:null,b&&r.createElement(X5,h({},xe,{responsive:ne,responsiveDisabled:!re,order:$,className:"".concat(ee,"-suffix"),registerSize:function(e,t){Y(t)},display:!0,style:me}),b));return ne&&(Ee=r.createElement(kn,{onResize:function(e,t){P(t.clientWidth)},disabled:!re},Ee)),Ee}var a6=r.forwardRef(o6);a6.displayName="Overflow",a6.Item=Z5,a6.RESPONSIVE=n6,a6.INVALIDATE=r6;var s6=a6,u6=function(e){var t,n=e.className,i=e.customizeIcon,o=e.customizeIconProps,a=e.onMouseDown,s=e.onClick,u=e.children;return t="function"===typeof i?i(o):i,r.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==t?t:r.createElement("span",{className:de()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},u))},l6=function(e,t){var n,i,o=e.prefixCls,a=e.id,s=e.inputElement,u=e.disabled,l=e.tabIndex,c=e.autoFocus,h=e.autoComplete,f=e.editable,d=e.activeDescendantId,p=e.value,v=e.maxLength,g=e.onKeyDown,m=e.onMouseDown,y=e.onChange,x=e.onPaste,b=e.onCompositionStart,w=e.onCompositionEnd,k=e.open,E=e.attrs,_=s||r.createElement("input",null),T=_,A=T.ref,S=T.props,C=S.onKeyDown,I=S.onChange,P=S.onMouseDown,O=S.onCompositionStart,R=S.onCompositionEnd,M=S.style;return He(_.props),_=r.cloneElement(_,ue(ue(ue({type:"search"},S),{},{id:a,ref:Ot(t,A),disabled:u,tabIndex:l,autoComplete:h||"off",autoFocus:c,className:de()("".concat(o,"-selection-search-input"),null===(n=_)||void 0===n||null===(i=n.props)||void 0===i?void 0:i.className),role:"combobox","aria-expanded":k,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":d},E),{},{value:f?p:"",maxLength:v,readOnly:!f,unselectable:f?null:"on",style:ue(ue({},M),{},{opacity:f?null:0}),onKeyDown:function(e){g(e),C&&C(e)},onMouseDown:function(e){m(e),P&&P(e)},onChange:function(e){y(e),I&&I(e)},onCompositionStart:function(e){b(e),O&&O(e)},onCompositionEnd:function(e){w(e),R&&R(e)},onPaste:x}))},c6=r.forwardRef(l6);c6.displayName="Input";var h6=c6;function f6(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var d6="undefined"!==typeof window&&window.document&&window.document.documentElement;function p6(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var v6=function(e){e.preventDefault(),e.stopPropagation()},g6=function(e){var t,n,i=e.id,o=e.prefixCls,a=e.values,s=e.open,u=e.searchValue,l=e.inputRef,h=e.placeholder,f=e.disabled,d=e.mode,p=e.showSearch,v=e.autoFocus,g=e.autoComplete,m=e.activeDescendantId,y=e.tabIndex,x=e.removeIcon,b=e.maxTagCount,w=e.maxTagTextLength,k=e.maxTagPlaceholder,E=void 0===k?function(e){return"+ ".concat(e.length," ...")}:k,_=e.tagRender,T=e.onToggleOpen,A=e.onRemove,S=e.onInputChange,C=e.onInputPaste,I=e.onInputKeyDown,P=e.onInputMouseDown,O=e.onInputCompositionStart,R=e.onInputCompositionEnd,M=r.useRef(null),D=c((0,r.useState)(0),2),L=D[0],N=D[1],F=c((0,r.useState)(!1),2),B=F[0],U=F[1],z="".concat(o,"-selection"),V=s||"tags"===d?u:"",j="tags"===d||p&&(s||B);function Y(e,t,n,i,o){return r.createElement("span",{className:de()("".concat(z,"-item"),ae({},"".concat(z,"-item-disabled"),n)),title:"string"===typeof e||"number"===typeof e?e.toString():void 0},r.createElement("span",{className:"".concat(z,"-item-content")},t),i&&r.createElement(u6,{className:"".concat(z,"-item-remove"),onMouseDown:v6,onClick:o,customizeIcon:x},"\xd7"))}t=function(){N(M.current.scrollWidth)},n=[V],d6?r.useLayoutEffect(t,n):r.useEffect(t,n);var W=r.createElement("div",{className:"".concat(z,"-search"),style:{width:L},onFocus:function(){U(!0)},onBlur:function(){U(!1)}},r.createElement(h6,{ref:l,open:s,prefixCls:o,id:i,inputElement:null,disabled:f,autoFocus:v,autoComplete:g,editable:j,activeDescendantId:m,value:V,onKeyDown:I,onMouseDown:P,onChange:S,onPaste:C,onCompositionStart:O,onCompositionEnd:R,tabIndex:y,attrs:t5(e,!0)}),r.createElement("span",{ref:M,className:"".concat(z,"-search-mirror"),"aria-hidden":!0},V,"\xa0")),G=r.createElement(s6,{prefixCls:"".concat(z,"-overflow"),data:a,renderItem:function(e){var t=e.disabled,n=e.label,i=e.value,o=!f&&!t,a=n;if("number"===typeof w&&("string"===typeof n||"number"===typeof n)){var u=String(a);u.length>w&&(a="".concat(u.slice(0,w),"..."))}var l=function(t){t&&t.stopPropagation(),A(e)};return"function"===typeof _?function(e,t,n,i,o){return r.createElement("span",{onMouseDown:function(e){v6(e),T(!s)}},_({label:t,value:e,disabled:n,closable:i,onClose:o}))}(i,a,t,o,l):Y(n,a,t,o,l)},renderRest:function(e){var t="function"===typeof E?E(e):E;return Y(t,t,!1)},suffix:W,itemKey:p6,maxCount:b});return r.createElement(r.Fragment,null,G,!a.length&&!V&&r.createElement("span",{className:"".concat(z,"-placeholder")},h))},m6=function(e){var t=e.inputElement,n=e.prefixCls,i=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,u=e.autoComplete,l=e.activeDescendantId,h=e.mode,f=e.open,d=e.values,p=e.placeholder,v=e.tabIndex,g=e.showSearch,m=e.searchValue,y=e.activeValue,x=e.maxLength,b=e.onInputKeyDown,w=e.onInputMouseDown,k=e.onInputChange,E=e.onInputPaste,_=e.onInputCompositionStart,T=e.onInputCompositionEnd,A=c(r.useState(!1),2),S=A[0],C=A[1],I="combobox"===h,P=I||g,O=d[0],R=m||"";I&&y&&!S&&(R=y),r.useEffect((function(){I&&C(!1)}),[I,y]);var M=!("combobox"!==h&&!f&&!g)&&!!R,D=!O||"string"!==typeof O.label&&"number"!==typeof O.label?void 0:O.label.toString();return r.createElement(r.Fragment,null,r.createElement("span",{className:"".concat(n,"-selection-search")},r.createElement(h6,{ref:o,prefixCls:n,id:i,open:f,inputElement:t,disabled:a,autoFocus:s,autoComplete:u,editable:P,activeDescendantId:l,value:R,onKeyDown:b,onMouseDown:w,onChange:function(e){C(!0),k(e)},onPaste:E,onCompositionStart:_,onCompositionEnd:T,tabIndex:v,attrs:t5(e,!0),maxLength:I?x:void 0})),!I&&O&&!M&&r.createElement("span",{className:"".concat(n,"-selection-item"),title:D},O.label),function(){if(O)return null;var e=M?{visibility:"hidden"}:void 0;return r.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},p)}())};function y6(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=r.useRef(null),n=r.useRef(null);function i(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return r.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},i]}var x6=function(e,t){var n=(0,r.useRef)(null),i=(0,r.useRef)(!1),o=e.prefixCls,a=e.open,s=e.mode,u=e.showSearch,l=e.tokenWithEnter,f=e.onSearch,d=e.onSearchSubmit,p=e.onToggleOpen,v=e.onInputKeyDown,g=e.domRef;r.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var m=c(y6(0),2),y=m[0],x=m[1],b=(0,r.useRef)(null),w=function(e){!1!==f(e,!0,i.current)&&p(!0)},k={inputRef:n,onInputKeyDown:function(e){var t,n=e.which;n!==Uo.UP&&n!==Uo.DOWN||e.preventDefault(),v&&v(e),n!==Uo.ENTER||"tags"!==s||i.current||a||null===d||void 0===d||d(e.target.value),t=n,[Uo.ESC,Uo.SHIFT,Uo.BACKSPACE,Uo.TAB,Uo.WIN_KEY,Uo.ALT,Uo.META,Uo.WIN_KEY_RIGHT,Uo.CTRL,Uo.SEMICOLON,Uo.EQUALS,Uo.CAPS_LOCK,Uo.CONTEXT_MENU,Uo.F1,Uo.F2,Uo.F3,Uo.F4,Uo.F5,Uo.F6,Uo.F7,Uo.F8,Uo.F9,Uo.F10,Uo.F11,Uo.F12].includes(t)||p(!0)},onInputMouseDown:function(){x(!0)},onInputChange:function(e){var t=e.target.value;if(l&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){i.current=!0},onInputCompositionEnd:function(e){i.current=!1,"combobox"!==s&&w(e.target.value)}},E="multiple"===s||"tags"===s?r.createElement(g6,h({},e,k)):r.createElement(m6,h({},e,k));return r.createElement("div",{ref:g,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=y();e.target===n.current||t||e.preventDefault(),("combobox"===s||u&&t)&&a||(a&&f("",!0,!1),p())}},E)},b6=r.forwardRef(x6);b6.displayName="Selector";var w6=b6;var k6=r.createContext(null);var E6=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],_6=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function T6(e){return"tags"===e||"multiple"===e}var A6=r.forwardRef((function(e,t){var n,i,o=e.id,a=e.prefixCls,s=e.className,u=e.showSearch,l=e.tagRender,f=e.direction,d=e.omitDomProps,p=e.displayValues,v=e.onDisplayValuesChange,g=e.emptyOptions,m=e.notFoundContent,y=void 0===m?"Not Found":m,x=e.onClear,b=e.mode,w=e.disabled,k=e.loading,E=e.getInputElement,_=e.getRawInputElement,T=e.open,A=e.defaultOpen,S=e.onDropdownVisibleChange,C=e.activeValue,I=e.onActiveValueChange,P=e.activeDescendantId,O=e.searchValue,R=e.onSearch,M=e.onSearchSplit,D=e.tokenSeparators,L=e.allowClear,N=e.showArrow,F=e.inputIcon,B=e.clearIcon,U=e.OptionList,z=e.animation,V=e.transitionName,j=e.dropdownStyle,Y=e.dropdownClassName,W=e.dropdownMatchSelectWidth,G=e.dropdownRender,H=e.dropdownAlign,X=e.placement,q=e.getPopupContainer,K=e.showAction,$=void 0===K?[]:K,Q=e.onFocus,J=e.onBlur,ee=e.onKeyUp,te=e.onKeyDown,re=e.onMouseDown,ie=he(e,E6),oe=T6(b),se=(void 0!==u?u:oe)||"combobox"===b,le=ue({},ie);_6.forEach((function(e){delete le[e]})),null===d||void 0===d||d.forEach((function(e){delete le[e]}));var ce=c(r.useState(!1),2),fe=ce[0],pe=ce[1];r.useEffect((function(){pe($n())}),[]);var ve=r.useRef(null),ge=r.useRef(null),me=r.useRef(null),ye=r.useRef(null),xe=r.useRef(null),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=c(r.useState(!1),2),n=t[0],i=t[1],o=r.useRef(null),a=function(){window.clearTimeout(o.current)};r.useEffect((function(){return a}),[]);var s=function(t,n){a(),o.current=window.setTimeout((function(){i(t),n&&n()}),e)};return[n,s,a]}(),we=c(be,3),ke=we[0],Ee=we[1],_e=we[2];r.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=ye.current)||void 0===e?void 0:e.focus,blur:null===(t=ye.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=xe.current)||void 0===t?void 0:t.scrollTo(e)}}}));var Te=r.useMemo((function(){var e;if("combobox"!==b)return O;var t=null===(e=p[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[O,b,p]),Ae="combobox"===b&&"function"===typeof E&&E()||null,Se="function"===typeof _&&_(),Ce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return It((function(){return Ot.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(ge,null===Se||void 0===Se||null===(n=Se.props)||void 0===n?void 0:n.ref),Ie=c(Sn(void 0,{defaultValue:A,value:T}),2),Pe=Ie[0],Oe=Ie[1],Re=Pe,Me=!y&&g;(w||Me&&Re&&"combobox"===b)&&(Re=!1);var De=!Me&&Re,Le=r.useCallback((function(e){var t=void 0!==e?e:!Re;Re===t||w||(Oe(t),null===S||void 0===S||S(t))}),[w,Re,Oe,S]),Ne=r.useMemo((function(){return(D||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[D]),Fe=function(e,t,n){var r=!0,i=e;null===I||void 0===I||I(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=Wa(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat(Z(t),Z(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,D);return"combobox"!==b&&o&&(i="",null===M||void 0===M||M(o),Le(!1),r=!1),R&&Te!==i&&R(i,{source:t?"typing":"effect"}),r};r.useEffect((function(){Re||oe||"combobox"===b||Fe("",!1,!1)}),[Re]),r.useEffect((function(){Pe&&w&&Oe(!1),w&&Ee(!1)}),[w]);var Be=c(y6(),2),Ue=Be[0],ze=Be[1],Ve=r.useRef(!1),je=[];r.useEffect((function(){return function(){je.forEach((function(e){return clearTimeout(e)})),je.splice(0,je.length)}}),[]);var Ye,We=c(r.useState(null),2),Ge=We[0],He=We[1],Xe=c(r.useState({}),2)[1];En((function(){if(De){var e,t=Math.ceil(null===(e=ve.current)||void 0===e?void 0:e.offsetWidth);Ge===t||Number.isNaN(t)||He(t)}}),[De]),Se&&(Ye=function(e){Le(e)}),function(e,t,n,i){var o=r.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:i},r.useEffect((function(){function t(t){var n;if(!(null===(n=o.current)||void 0===n?void 0:n.customizedTrigger)){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}}),[])}((function(){var e;return[ve.current,null===(e=me.current)||void 0===e?void 0:e.getPopupElement()]}),De,Le,!!Se);var qe,Ke,$e=r.useMemo((function(){return ue(ue({},e),{},{notFoundContent:y,open:Re,triggerOpen:De,id:o,showSearch:se,multiple:oe,toggleOpen:Le})}),[e,y,De,Re,o,se,oe,Le]),Qe=void 0!==N?N:k||!oe&&"combobox"!==b;Qe&&(qe=r.createElement(u6,{className:de()("".concat(a,"-arrow"),ae({},"".concat(a,"-arrow-loading"),k)),customizeIcon:F,customizeIconProps:{loading:k,searchValue:Te,open:Re,focused:ke,showSearch:se}}));!w&&L&&(p.length||Te)&&(Ke=r.createElement(u6,{className:"".concat(a,"-clear"),onMouseDown:function(){null===x||void 0===x||x(),v([],{type:"clear",values:p}),Fe("",!1,!1)},customizeIcon:B},"\xd7"));var Je,Ze=r.createElement(U,{ref:xe}),et=de()(a,s,(ae(i={},"".concat(a,"-focused"),ke),ae(i,"".concat(a,"-multiple"),oe),ae(i,"".concat(a,"-single"),!oe),ae(i,"".concat(a,"-allow-clear"),L),ae(i,"".concat(a,"-show-arrow"),Qe),ae(i,"".concat(a,"-disabled"),w),ae(i,"".concat(a,"-loading"),k),ae(i,"".concat(a,"-open"),Re),ae(i,"".concat(a,"-customize-input"),Ae),ae(i,"".concat(a,"-show-search"),se),i)),tt=r.createElement(j5,{ref:me,disabled:w,prefixCls:a,visible:De,popupElement:Ze,containerWidth:Ge,animation:z,transitionName:V,dropdownStyle:j,dropdownClassName:Y,direction:f,dropdownMatchSelectWidth:W,dropdownRender:G,dropdownAlign:H,placement:X,getPopupContainer:q,empty:g,getTriggerDOMNode:function(){return ge.current},onPopupVisibleChange:Ye,onPopupMouseEnter:function(){Xe({})}},Se?r.cloneElement(Se,{ref:Ce}):r.createElement(w6,h({},e,{domRef:ge,prefixCls:a,inputElement:Ae,ref:ye,id:o,showSearch:se,mode:b,activeDescendantId:P,tagRender:l,values:p,open:Re,onToggleOpen:Le,activeValue:C,searchValue:Te,onSearch:Fe,onSearchSubmit:function(e){e&&e.trim()&&R(e,{source:"submit"})},onRemove:function(e){var t=p.filter((function(t){return t!==e}));v(t,{type:"remove",values:[e]})},tokenWithEnter:Ne})));return Je=Se?tt:r.createElement("div",h({className:et},le,{ref:ve,onMouseDown:function(e){var t,n=e.target,r=null===(t=me.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=je.indexOf(i);-1!==t&&je.splice(t,1),_e(),fe||r.contains(document.activeElement)||null===(e=ye.current)||void 0===e||e.focus()}));je.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===re||void 0===re||re.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Ue(),r=e.which;if(r===Uo.ENTER&&("combobox"!==b&&e.preventDefault(),Re||Le(!0)),ze(!!Te),r===Uo.BACKSPACE&&!n&&oe&&!Te&&p.length){for(var i=Z(p),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&v(i,{type:"remove",values:[o]})}for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];Re&&xe.current&&(t=xe.current).onKeyDown.apply(t,[e].concat(l)),null===te||void 0===te||te.apply(void 0,[e].concat(l))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Re&&xe.current&&(i=xe.current).onKeyUp.apply(i,[e].concat(n)),null===ee||void 0===ee||ee.apply(void 0,[e].concat(n))},onFocus:function(){Ee(!0),w||(Q&&!Ve.current&&Q.apply(void 0,arguments),$.includes("focus")&&Le(!0)),Ve.current=!0},onBlur:function(){Ee(!1,(function(){Ve.current=!1,Le(!1)})),w||(Te&&("tags"===b?R(Te,{source:"submit"}):"multiple"===b&&R("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),ke&&!Re&&r.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(p.map((function(e){var t=e.label,n=e.value;return["number","string"].includes(ne(t))?t:n})).join(", "))),tt,qe,Ke),r.createElement(k6.Provider,{value:$e},Je)}));var S6=A6;function C6(e,t){return f6(e).join("").toUpperCase().includes(t)}var I6=0,P6=Ke();function O6(e){var t=c(r.useState(),2),n=t[0],i=t[1];return r.useEffect((function(){i("rc_select_".concat(function(){var e;return P6?(e=I6,I6+=1):e="TEST_OR_SSR",e}()))}),[]),e||n}var R6=["children","value"],M6=["children"];function D6(e){var t=e.key,n=e.props,r=n.children,i=n.value;return ue({key:t,value:void 0!==i?i:t,children:r},he(n,R6))}function L6(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ct(e).map((function(e,n){if(!r.isValidElement(e)||!e.type)return null;var i=e.type.isSelectOptGroup,o=e.key,a=e.props,s=a.children,u=he(a,M6);return t||!i?D6(e):ue(ue({key:"__RC_SELECT_GRP__".concat(null===o?n:o,"__"),label:o},u),{},{options:L6(s)})})).filter((function(e){return e}))}function N6(e,t,n,i,o){return r.useMemo((function(){var r=e;!e&&(r=L6(t));var a=new Map,s=new Map,u=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=0;l<t.length;l+=1){var c=t[l];!c[n.options]||r?(a.set(c[n.value],c),u(s,c,n.label),u(s,c,i),u(s,c,o)):e(c[n.options],!0)}}(r),{options:r,valueOptions:a,labelOptions:s}}),[e,t,n,i,o])}function F6(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var B6=function(){return null};B6.isSelectOptGroup=!0;var U6=B6,z6=function(){return null};z6.isSelectOption=!0;var V6=z6;function j6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j6(Object(n),!0).forEach((function(t){W6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G6=r.forwardRef((function(e,t){var n=e.height,i=e.offset,o=e.children,a=e.prefixCls,s=e.onInnerResize,u={},l={display:"flex",flexDirection:"column"};return void 0!==i&&(u={height:n,position:"relative",overflow:"hidden"},l=Y6(Y6({},l),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),r.createElement("div",{style:u},r.createElement(kn,{onResize:function(e){e.offsetHeight&&s&&s()}},r.createElement("div",{style:l,className:de()(W6({},"".concat(a,"-holder-inner"),a)),ref:t},o)))}));G6.displayName="Filler";var H6=G6;function X6(e){return X6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X6(e)}function q6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q6(e,t){return Q6=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q6(e,t)}function J6(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(VX){return!1}}();return function(){var n,r=e8(e);if(t){var i=e8(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z6(this,n)}}function Z6(e,t){if(t&&("object"===X6(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function e8(e){return e8=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e8(e)}function t8(e){return"touches"in e?e.touches[0].pageY:e.pageY}var n8=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q6(e,t)}(a,e);var t,n,i,o=J6(a);function a(){var e;K6(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=o.call.apply(o,[this].concat(n))).moveRaf=null,e.scrollbarRef=r.createRef(),e.thumbRef=r.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),Wn.cancel(e.moveRaf)},e.onMouseDown=function(t){var n=e.props.onStartMove;e.setState({dragging:!0,pageY:t8(t),startTop:e.getTop()}),n(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var n=e.state,r=n.dragging,i=n.pageY,o=n.startTop,a=e.props.onScroll;if(Wn.cancel(e.moveRaf),r){var s=o+(t8(t)-i),u=e.getEnableScrollRange(),l=e.getEnableHeightRange(),c=l?s/l:0,h=Math.ceil(c*u);e.moveRaf=Wn((function(){a(h)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,n=t.height,r=n/t.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,n=e.getEnableScrollRange(),r=e.getEnableHeightRange();return 0===t||0===n?0:t/n*r},e.showScroll=function(){var t=e.props,n=t.height;return t.scrollHeight>n},e}return t=a,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,i=this.props.prefixCls,o=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),u=s&&n;return r.createElement("div",{ref:this.scrollbarRef,className:de()("".concat(i,"-scrollbar"),q6({},"".concat(i,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:u?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},r.createElement("div",{ref:this.thumbRef,className:de()("".concat(i,"-scrollbar-thumb"),q6({},"".concat(i,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:o,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&$6(t.prototype,n),i&&$6(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);function r8(e){var t=e.children,n=e.setRef,i=r.useCallback((function(e){n(e)}),[]);return r.cloneElement(t,{ref:i})}function i8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o8=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&i8(t.prototype,n),r&&i8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),a8=o8;function s8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u8(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l8(e){return l8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l8(e)}function c8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h8(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f8(e,t,n){var i=c8(r.useState(e),2),o=i[0],a=i[1],s=c8(r.useState(null),2),u=s[0],l=s[1];return r.useEffect((function(){var r=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var l=null,c=1!==Math.abs(o-a),h=0;h<i.length;h+=1){var f=u(r[h]);if(f!==u(i[h])){l=h,c=c||f!==u(i[h+1]);break}}return null===l?null:{index:l,multiple:c}}(o||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),l(e[r.index])),a(e)}),[e]),[u]}function d8(e){return d8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d8(e)}var p8="object"===("undefined"===typeof navigator?"undefined":d8(navigator))&&/Firefox/i.test(navigator.userAgent),v8=function(e,t){var n=(0,r.useRef)(!1),i=(0,r.useRef)(null);function o(){clearTimeout(i.current),n.current=!0,i.current=setTimeout((function(){n.current=!1}),50)}var a=(0,r.useRef)({top:e,bottom:t});return a.current.top=e,a.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e<0&&a.current.top||e>0&&a.current.bottom;return t&&r?(clearTimeout(i.current),n.current=!1):r&&!n.current||o(),!n.current&&r}};var g8=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function m8(){return m8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m8.apply(this,arguments)}function y8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y8(Object(n),!0).forEach((function(t){b8(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k8(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E8(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _8=[],T8={overflowY:"auto",overflowAnchor:"none"};function A8(e,t){var n=e.prefixCls,i=void 0===n?"rc-virtual-list":n,o=e.className,a=e.height,s=e.itemHeight,u=e.fullHeight,l=void 0===u||u,c=e.style,h=e.data,f=e.children,d=e.itemKey,p=e.virtual,v=e.component,g=void 0===v?"div":v,m=e.onScroll,y=e.onVisibleChange,x=E8(e,g8),b=!(!1===p||!a||!s),w=b&&h&&s*h.length>a,k=w8((0,r.useState)(0),2),E=k[0],_=k[1],T=w8((0,r.useState)(!1),2),A=T[0],S=T[1],C=de()(i,o),I=h||_8,P=(0,r.useRef)(),O=(0,r.useRef)(),R=(0,r.useRef)(),M=r.useCallback((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),D={getKey:M};function L(e){_((function(t){var n=function(e){var t=e;Number.isNaN(Q.current)||(t=Math.min(t,Q.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return P.current.scrollTop=n,n}))}var N=(0,r.useRef)({start:0,end:I.length}),F=(0,r.useRef)(),B=w8(f8(I,M),1)[0];F.current=B;var U=function(e,t,n){var i=s8(r.useState(0),2),o=i[0],a=i[1],s=(0,r.useRef)(new Map),u=(0,r.useRef)(new a8),l=(0,r.useRef)();function c(){Wn.cancel(l.current)}function h(){c(),l.current=Wn((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=Lt(e),r=n.offsetHeight;u.current.get(t)!==r&&u.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,r.useEffect)((function(){return c}),[]),[function(r,i){var o=e(r),a=s.current.get(o);i?(s.current.set(o,i),h()):s.current.delete(o),!a!==!i&&(i?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},h,u.current,o]}(M,null,null),z=w8(U,4),V=z[0],j=z[1],Y=z[2],W=z[3],G=r.useMemo((function(){if(!b)return{scrollHeight:void 0,start:0,end:I.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=O.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:I.length-1,offset:void 0};for(var t,n,r,i=0,o=I.length,u=0;u<o;u+=1){var l=I[u],c=M(l),h=Y.get(c),f=i+(void 0===h?s:h);f>=E&&void 0===t&&(t=u,n=i),f>E+a&&void 0===r&&(r=u),i=f}return void 0===t&&(t=0,n=0),void 0===r&&(r=I.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,I.length),offset:n}}),[w,b,E,I,W,a]),H=G.scrollHeight,X=G.start,q=G.end,K=G.offset;N.current.start=X,N.current.end=q;var $=H-a,Q=(0,r.useRef)($);Q.current=$;var J=E<=0,Z=E>=$,ee=v8(J,Z);var te=function(e,t,n,i){var o=(0,r.useRef)(0),a=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(!1),l=v8(t,n);return[function(t){if(e){Wn.cancel(a.current);var n=t.deltaY;o.current+=n,s.current=n,l(n)||(p8||t.preventDefault(),a.current=Wn((function(){var e=u.current?10:1;i(o.current*e),o.current=0})))}},function(t){e&&(u.current=t.detail===s.current)}]}(b,J,Z,(function(e){L((function(t){return t+e}))})),ne=w8(te,2),re=ne[0],ie=ne[1];!function(e,t,n){var i,o=(0,r.useRef)(!1),a=(0,r.useRef)(0),s=(0,r.useRef)(null),u=(0,r.useRef)(null),l=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),r=a.current-t;a.current=t,n(r)&&e.preventDefault(),clearInterval(u.current),u.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(u.current)}),16)}},c=function(){o.current=!1,i()},h=function(e){i(),1!==e.touches.length||o.current||(o.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",l),s.current.addEventListener("touchend",c))};i=function(){s.current&&(s.current.removeEventListener("touchmove",l),s.current.removeEventListener("touchend",c))},En((function(){return e&&t.current.addEventListener("touchstart",h),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",h),i(),clearInterval(u.current)}}),[e])}(b,P,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),En((function(){function e(e){b&&e.preventDefault()}return P.current.addEventListener("wheel",re),P.current.addEventListener("DOMMouseScroll",ie),P.current.addEventListener("MozMousePixelScroll",e),function(){P.current&&(P.current.removeEventListener("wheel",re),P.current.removeEventListener("DOMMouseScroll",ie),P.current.removeEventListener("MozMousePixelScroll",e))}}),[b]);var oe=function(e,t,n,i,o,a,s,u){var l=r.useRef();return function(r){if(null!==r&&void 0!==r){if(Wn.cancel(l.current),"number"===typeof r)s(r);else if(r&&"object"===l8(r)){var c,h=r.align;c="index"in r?r.index:t.findIndex((function(e){return o(e)===r.key}));var f=r.offset,d=void 0===f?0:f;!function r(u,f){if(!(u<0)&&e.current){var p=e.current.clientHeight,v=!1,g=f;if(p){for(var m=f||h,y=0,x=0,b=0,w=Math.min(t.length,c),k=0;k<=w;k+=1){var E=o(t[k]);x=y;var _=n.get(E);y=b=x+(void 0===_?i:_),k===c&&void 0===_&&(v=!0)}var T=null;switch(m){case"top":T=x-d;break;case"bottom":T=b-p+d;break;default:var A=e.current.scrollTop;x<A?g="top":b>A+p&&(g="bottom")}null!==T&&T!==e.current.scrollTop&&s(T)}l.current=Wn((function(){v&&a(),r(u-1,g)}))}}(3)}}else u()}}(P,I,Y,s,M,j,L,(function(){var e;null===(e=R.current)||void 0===e||e.delayHidden()}));r.useImperativeHandle(t,(function(){return{scrollTo:oe}})),En((function(){if(y){var e=I.slice(X,q+1);y(e,I)}}),[X,q,I]);var ae=function(e,t,n,i,o,a){var s=a.getKey;return e.slice(t,n+1).map((function(e,n){var a=o(e,t+n,{}),u=s(e);return r.createElement(r8,{key:u,setRef:function(t){return i(e,t)}},a)}))}(I,X,q,V,f,D),se=null;return a&&(se=x8(b8({},l?"height":"maxHeight",a),T8),b&&(se.overflowY="hidden",A&&(se.pointerEvents="none"))),r.createElement("div",m8({style:x8(x8({},c),{},{position:"relative"}),className:C},x),r.createElement(g,{className:"".concat(i,"-holder"),style:se,ref:P,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==E&&L(t),null===m||void 0===m||m(e)}},r.createElement(H6,{prefixCls:i,height:H,offset:K,onInnerResize:j,ref:O},ae)),b&&r.createElement(n8,{ref:R,prefixCls:i,scrollTop:E,height:a,scrollHeight:H,count:I.length,onScroll:function(e){L(e)},onStartMove:function(){S(!0)},onStopMove:function(){S(!1)}}))}var S8=r.forwardRef(A8);S8.displayName="List";var C8=S8;var I8=r.createContext(null),P8=["disabled","title","children","style","className"];function O8(e){return"string"===typeof e||"number"===typeof e}var R8=function(e,t){var n=r.useContext(k6),i=n.prefixCls,o=n.id,a=n.open,s=n.multiple,u=n.mode,l=n.searchValue,f=n.toggleOpen,d=n.notFoundContent,p=n.onPopupScroll,v=r.useContext(I8),g=v.flattenOptions,m=v.onActiveValue,y=v.defaultActiveFirstOption,x=v.onSelect,b=v.menuItemSelectedIcon,w=v.rawValues,k=v.fieldNames,E=v.virtual,_=v.listHeight,T=v.listItemHeight,A="".concat(i,"-item"),S=It((function(){return g}),[a,g],(function(e,t){return t[0]&&e[1]!==t[1]})),C=r.useRef(null),I=function(e){e.preventDefault()},P=function(e){C.current&&C.current.scrollTo("number"===typeof e?{index:e}:e)},O=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=S.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=S[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},R=c(r.useState((function(){return O(0)})),2),M=R[0],D=R[1],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];D(e);var n={source:t?"keyboard":"mouse"},r=S[e];r?m(r.value,e,n):m(null,-1,n)};(0,r.useEffect)((function(){L(!1!==y?O(0):-1)}),[S.length,l]);var N=r.useCallback((function(e){return w.has(e)&&"combobox"!==u}),[u,Z(w).toString()]);(0,r.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&a&&1===w.size){var e=Array.from(w)[0],t=S.findIndex((function(t){return t.data.value===e}));-1!==t&&(L(t),P(t))}}));a&&(null===(e=C.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[a,l]);var F=function(e){void 0!==e&&x(e,{selected:!w.has(e)}),s||f(!1)};if(r.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Uo.N:case Uo.P:case Uo.UP:case Uo.DOWN:var r=0;if(t===Uo.UP?r=-1:t===Uo.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Uo.N?r=1:t===Uo.P&&(r=-1)),0!==r){var i=O(M+r,r);P(i),L(i,!0)}break;case Uo.ENTER:var o=S[M];o&&!o.data.disabled?F(o.value):F(void 0),a&&e.preventDefault();break;case Uo.ESC:f(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){P(e)}}})),0===S.length)return r.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(A,"-empty"),onMouseDown:I},d);var B=Object.keys(k).map((function(e){return k[e]})),U=function(e){return e.label},z=function(e){var t=S[e];if(!t)return null;var n=t.data||{},i=n.value,a=t.group,s=t5(n,!0),u=U(t);return t?r.createElement("div",h({"aria-label":"string"!==typeof u||a?null:u},s,{key:e,role:a?"presentation":"option",id:"".concat(o,"_list_").concat(e),"aria-selected":N(i)}),i):null};return r.createElement(r.Fragment,null,r.createElement("div",{role:"listbox",id:"".concat(o,"_list"),style:{height:0,width:0,overflow:"hidden"}},z(M-1),z(M),z(M+1)),r.createElement(C8,{itemKey:"key",ref:C,data:S,height:_,itemHeight:T,fullHeight:!1,onMouseDown:I,onScroll:p,virtual:E},(function(e,t){var n,i=e.group,o=e.groupOption,a=e.data,s=e.label,u=e.value,l=a.key;if(i){var c,f=null!==(c=a.title)&&void 0!==c?c:O8(s)?s.toString():void 0;return r.createElement("div",{className:de()(A,"".concat(A,"-group")),title:f},void 0!==s?s:l)}var d=a.disabled,p=a.title,v=(a.children,a.style),g=a.className,m=Cn(he(a,P8),B),y=N(u),x="".concat(A,"-option"),w=de()(A,x,g,(ae(n={},"".concat(x,"-grouped"),o),ae(n,"".concat(x,"-active"),M===t&&!d),ae(n,"".concat(x,"-disabled"),d),ae(n,"".concat(x,"-selected"),y),n)),k=U(e),E=!b||"function"===typeof b||y,_="number"===typeof k?k:k||u,T=O8(_)?_.toString():void 0;return void 0!==p&&(T=p),r.createElement("div",h({},t5(m),{"aria-selected":y,className:w,title:T,onMouseMove:function(){M===t||d||L(t)},onClick:function(){d||F(u)},style:v}),r.createElement("div",{className:"".concat(x,"-content")},_),r.isValidElement(b)||y,E&&r.createElement(u6,{className:"".concat(A,"-option-state"),customizeIcon:b,customizeIconProps:{isSelected:y}},y?"\u2713":null))})))},M8=r.forwardRef(R8);M8.displayName="OptionList";var D8=M8;var L8=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],N8=["inputValue"];var F8=r.forwardRef((function(e,t){var n=e.id,i=e.mode,o=e.prefixCls,a=void 0===o?"rc-select":o,s=e.backfill,u=e.fieldNames,l=e.inputValue,f=e.searchValue,d=e.onSearch,p=e.autoClearSearchValue,v=void 0===p||p,g=e.onSelect,m=e.onDeselect,y=e.dropdownMatchSelectWidth,x=void 0===y||y,b=e.filterOption,w=e.filterSort,k=e.optionFilterProp,E=e.optionLabelProp,_=e.options,T=e.children,A=e.defaultActiveFirstOption,S=e.menuItemSelectedIcon,C=e.virtual,I=e.listHeight,P=void 0===I?200:I,O=e.listItemHeight,R=void 0===O?20:O,M=e.value,D=e.defaultValue,L=e.labelInValue,N=e.onChange,F=he(e,L8),B=O6(n),U=T6(i),z=!(_||!T),V=r.useMemo((function(){return(void 0!==b||"combobox"!==i)&&b}),[b,i]),j=r.useMemo((function(){return F5(u,z)}),[JSON.stringify(u),z]),Y=c(Sn("",{value:void 0!==f?f:l,postState:function(e){return e||""}}),2),W=Y[0],G=Y[1],H=N6(_,T,j,k,E),X=H.valueOptions,q=H.labelOptions,K=H.options,$=r.useCallback((function(e){return f6(e).map((function(e){var t,n,r,i,o;(function(e){return!e||"object"!==ne(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:r);var a,s=X.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[E||j.label]),void 0===r&&(r=null!==(a=null===s||void 0===s?void 0:s.key)&&void 0!==a?a:t),i=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:i}}))}),[j,E,X]),Q=c(Sn(D,{value:M}),2),J=Q[0],ee=Q[1],te=function(e,t){var n=r.useRef({values:new Map,options:new Map}),i=r.useMemo((function(){var r=n.current,i=r.values,o=r.options,a=e.map((function(e){var t;return void 0===e.label?ue(ue({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,u=new Map;return a.forEach((function(e){s.set(e.value,e),u.set(e.value,t.get(e.value)||o.get(e.value))})),n.current.values=s,n.current.options=u,a}),[e,t]),o=r.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t]);return[i,o]}(r.useMemo((function(){var e,t=$(J);return"combobox"!==i||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[J,$,i]),X),re=c(te,2),ie=re[0],oe=re[1],se=r.useMemo((function(){if(!i&&1===ie.length){var e=ie[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ie.map((function(e){var t;return ue(ue({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[i,ie]),le=r.useMemo((function(){return new Set(ie.map((function(e){return e.value})))}),[ie]);r.useEffect((function(){if("combobox"===i){var e,t=null===(e=ie[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&G(String(t))}}),[ie]);var ce=F6((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return ae(n={},j.value,e),ae(n,j.label,r),n})),fe=r.useMemo((function(){if("tags"!==i)return K;var e=Z(K);return Z(ie).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return X.has(e)})(n)||e.push(ce(n,t.label))})),e}),[ce,K,X,ie,i]),de=function(e,t,n,i,o){return r.useMemo((function(){if(!n||!1===i)return e;var r=t.options,a=t.label,s=t.value,u=[],l="function"===typeof i,c=n.toUpperCase(),h=l?i:function(e,t){return o?C6(t[o],c):t[r]?C6(t["children"!==a?a:"label"],c):C6(t[s],c)},f=l?function(e){return B5(e)}:function(e){return e};return e.forEach((function(e){if(e[r])if(h(n,f(e)))u.push(e);else{var t=e[r].filter((function(e){return h(n,f(e))}));t.length&&u.push(ue(ue({},e),{},ae({},r,t)))}else h(n,f(e))&&u.push(e)})),u}),[e,i,o,n,t])}(fe,j,W,V,k),pe=r.useMemo((function(){return"tags"!==i||!W||de.some((function(e){return e[k||"value"]===W}))?de:[ce(W)].concat(Z(de))}),[ce,k,i,de,W]),ve=r.useMemo((function(){return w?Z(pe).sort((function(e,t){return w(e,t)})):pe}),[pe,w]),ge=r.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],o=F5(n,!1),a=o.label,s=o.value,u=o.options;function l(e,t){e.forEach((function(e){var n=e[a];if(t||!(u in e)){var o=e[s];i.push({key:N5(e,i.length),groupOption:t,data:e,label:n,value:o})}else{var c=n;void 0===c&&r&&(c=e.label),i.push({key:N5(e,i.length),group:!0,data:e,label:c}),l(e[u],!0)}}))}return l(e,!1),i}(ve,{fieldNames:j,childrenAsData:z})}),[ve,j,z]),me=function(e){var t=$(e);if(ee(t),N&&(t.length!==ie.length||t.some((function(e,t){var n;return(null===(n=ie[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=L?t:t.map((function(e){return e.value})),r=t.map((function(e){return B5(oe(e.value))}));N(U?n:n[0],U?r:r[0])}},ye=c(r.useState(null),2),xe=ye[0],be=ye[1],we=c(r.useState(0),2),ke=we[0],Ee=we[1],_e=void 0!==A?A:"combobox"!==i,Te=r.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,o=void 0===r?"keyboard":r;Ee(t),s&&"combobox"===i&&null!==e&&"keyboard"===o&&be(String(e))}),[s,i]),Ae=function(e,t){var n=function(){var t,n=oe(e);return[L?{label:null===n||void 0===n?void 0:n[j.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,B5(n)]};if(t&&g){var r=c(n(),2),i=r[0],o=r[1];g(i,o)}else if(!t&&m){var a=c(n(),2),s=a[0],u=a[1];m(s,u)}},Se=F6((function(e,t){var n,r=!U||t.selected;n=r?U?[].concat(Z(ie),[e]):[e]:ie.filter((function(t){return t.value!==e})),me(n),Ae(e,r),"combobox"===i?be(""):T6&&!v||(G(""),be(""))})),Ce=r.useMemo((function(){var e=!1!==C&&!1!==x;return ue(ue({},H),{},{flattenOptions:ge,onActiveValue:Te,defaultActiveFirstOption:_e,onSelect:Se,menuItemSelectedIcon:S,rawValues:le,fieldNames:j,virtual:e,listHeight:P,listItemHeight:R,childrenAsData:z})}),[H,ge,Te,_e,Se,S,le,j,C,x,P,R,z]);return r.createElement(I8.Provider,{value:Ce},r.createElement(S6,h({},F,{id:B,prefixCls:a,ref:t,omitDomProps:N8,mode:i,displayValues:se,onDisplayValuesChange:function(e,t){me(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Ae(e.value,!1)}))},searchValue:W,onSearch:function(e,t){if(G(e),be(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===i&&me(e),null===d||void 0===d||d(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat(Z(le),[n])));me(r),Ae(n,!0),G("")}}},onSearchSplit:function(e){var t=e;"tags"!==i&&(t=e.map((function(e){var t=q.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(Z(le),Z(t))));me(n),n.forEach((function(e){Ae(e,!0)}))},dropdownMatchSelectWidth:x,OptionList:D8,emptyOptions:!ge.length,activeValue:xe,activeDescendantId:"".concat(B,"_list_").concat(ke)})))}));var B8=F8;B8.Option=V6,B8.OptGroup=U6;var U8=B8,z8=function(){var e=(0,r.useContext(In).getPrefixCls)("empty-img-default");return r.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(24 31.67)"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),r.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),r.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),r.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),r.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),r.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),r.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},r.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),r.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},V8=function(){var e=(0,r.useContext(In).getPrefixCls)("empty-img-simple");return r.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),r.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},r.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),r.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},j8=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Y8=r.createElement(z8,null),W8=r.createElement(V8,null),G8=function(e){var t=e.className,n=e.prefixCls,i=e.image,o=void 0===i?Y8:i,a=e.description,s=e.children,u=e.imageStyle,l=j8(e,["className","prefixCls","image","description","children","imageStyle"]),c=r.useContext(In),f=c.getPrefixCls,d=c.direction;return r.createElement(Fn,{componentName:"Empty"},(function(e){var i,c=f("empty",n),p="undefined"!==typeof a?a:e.description,v="string"===typeof p?p:"empty",g=null;return g="string"===typeof o?r.createElement("img",{alt:v,src:o}):o,r.createElement("div",h({className:de()(c,(i={},ae(i,"".concat(c,"-normal"),o===W8),ae(i,"".concat(c,"-rtl"),"rtl"===d),i),t)},l),r.createElement("div",{className:"".concat(c,"-image"),style:u},g),p&&r.createElement("div",{className:"".concat(c,"-description")},p),s&&r.createElement("div",{className:"".concat(c,"-footer")},s))}))};G8.PRESENTED_IMAGE_DEFAULT=Y8,G8.PRESENTED_IMAGE_SIMPLE=W8;var H8=G8,X8=function(e){return r.createElement(Pn,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return r.createElement(H8,{image:H8.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return r.createElement(H8,{image:H8.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return r.createElement(H8,null)}}))},q8={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},K8=function(e,t){return r.createElement(gt,ue(ue({},e),{},{ref:t,icon:q8}))};K8.displayName="DownOutlined";var $8=r.forwardRef(K8);var Q8=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},J8="SECRET_COMBOBOX_MODE_DO_NOT_USE",Z8=function(e,t){var n,i,o=e.prefixCls,a=e.bordered,s=void 0===a||a,u=e.className,l=e.getPopupContainer,c=e.dropdownClassName,f=e.listHeight,d=void 0===f?256:f,p=e.placement,v=e.listItemHeight,g=void 0===v?24:v,m=e.size,y=e.disabled,x=e.notFoundContent,b=e.status,w=e.showArrow,k=Q8(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),E=r.useContext(In),_=E.getPopupContainer,T=E.getPrefixCls,A=E.renderEmpty,S=E.direction,C=E.virtual,I=E.dropdownMatchSelectWidth,P=r.useContext(ca),O=T("select",o),R=T(),M=r.useMemo((function(){var e=k.mode;if("combobox"!==e)return e===J8?"combobox":e}),[k.mode]),D="multiple"===M||"tags"===M,L=void 0!==w?w:k.loading||!(D||"combobox"===M),N=(0,r.useContext)(zs),F=N.status,B=N.hasFeedback,U=N.isFormItemInput,z=N.feedbackIcon,V=Ys(F,b);i=void 0!==x?x:"combobox"===M?null:(A||X8)("Select");var j=function(e){var t=e.suffixIcon,n=e.clearIcon,i=e.menuItemSelectedIcon,o=e.removeIcon,a=e.loading,s=e.multiple,u=e.hasFeedback,l=e.prefixCls,c=e.showArrow,h=e.feedbackIcon,f=n;n||(f=r.createElement(Hs,null));var d=function(e){return r.createElement(r.Fragment,null,!1!==c&&e,u&&h)},p=null;if(void 0!==t)p=d(t);else if(a)p=d(r.createElement(xl,{spin:!0}));else{var v="".concat(l,"-suffix");p=function(e){var t=e.open,n=e.showSearch;return d(t&&n?r.createElement($q,{className:v}):r.createElement($8,{className:v}))}}return{clearIcon:f,suffixIcon:p,itemIcon:void 0!==i?i:s?r.createElement(yt,null):null,removeIcon:void 0!==o?o:r.createElement(cK,null)}}(h(h({},k),{multiple:D,hasFeedback:B,feedbackIcon:z,showArrow:L,prefixCls:O})),Y=j.suffixIcon,W=j.itemIcon,G=j.removeIcon,H=j.clearIcon,X=Cn(k,["suffixIcon","itemIcon"]),q=de()(c,ae({},"".concat(O,"-dropdown-").concat(S),"rtl"===S)),K=m||P,$=r.useContext(sa),Q=y||$,J=de()((ae(n={},"".concat(O,"-lg"),"large"===K),ae(n,"".concat(O,"-sm"),"small"===K),ae(n,"".concat(O,"-rtl"),"rtl"===S),ae(n,"".concat(O,"-borderless"),!s),ae(n,"".concat(O,"-in-form-item"),U),n),js(O,V,B),u);return r.createElement(U8,h({ref:t,virtual:C,dropdownMatchSelectWidth:I},X,{transitionName:ko(R,wo(p),k.transitionName),listHeight:d,listItemHeight:g,mode:M,prefixCls:O,placement:void 0!==p?p:"rtl"===S?"bottomRight":"bottomLeft",direction:S,inputIcon:Y,menuItemSelectedIcon:W,removeIcon:G,clearIcon:H,notFoundContent:i,className:J,getPopupContainer:l||_,dropdownClassName:q,showArrow:B||w,disabled:Q}))},e9=r.forwardRef(Z8);e9.SECRET_COMBOBOX_MODE_DO_NOT_USE=J8,e9.Option=V6,e9.OptGroup=U6;var t9=e9,n9=n(763),r9=["fetchOptions","debounceTimeout","curMembers"];function i9(e){var t=e.fetchOptions,n=e.debounceTimeout,i=void 0===n?300:n,o=e.curMembers,a=he(e,r9),s=c((0,r.useState)(!1),2),u=s[0],l=s[1],h=c((0,r.useState)([]),2),f=h[0],d=h[1],p=r.useMemo((function(){return(0,n9.debounce)((function(e){d([]),l(!0),t(e,o).then((function(e){d(e),l(!1)}))}),i)}),[i,t,o]);return r.useEffect((function(){return function(){d([])}}),[]),(0,ee.jsx)(t9,ue(ue({labelInValue:!0,filterOption:!1,onSearch:p,notFoundContent:u?(0,ee.jsx)(nQ,{size:"small"}):null},a),{},{children:f.map((function(e){var t,n;return(0,ee.jsxs)(t9.Option,{value:e.value,title:e.label,children:[(0,ee.jsx)(Nq,{size:"small",src:e.photoURL,children:e.photoURL?"":null===(t=e.label)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()})," ".concat(e.label)]},e.value)}))}))}function o9(e,t){return a9.apply(this,arguments)}function a9(){return(a9=oe(re().mark((function e(t,n){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KG.collection("users").where("keywords","array-contains",null===t||void 0===t?void 0:t.toLowerCase()).orderBy("displayName").limit(20).get().then((function(e){return e.docs.map((function(e){return{label:e.data().displayName,value:e.data().uid,photoURL:e.data().photoURL}})).filter((function(e){return!n.includes(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s9(){var e=(0,r.useContext)(aQ),t=e.isInviteMemberVisible,n=e.setIsInviteMemberVisible,i=e.selectedRoomId,o=e.selectedRoom,a=c((0,r.useState)([]),2),s=a[0],u=a[1],l=c(bq.useForm(),1)[0];return(0,ee.jsx)("div",{children:(0,ee.jsx)(D5,{title:"M\u1eddi th\xeam th\xe0nh vi\xean",visible:t,onOk:function(){l.resetFields(),u([]),KG.collection("rooms").doc(i).update({members:[].concat(Z(o.members),Z(s.map((function(e){return e.value}))))}),n(!1)},onCancel:function(){l.resetFields(),u([]),n(!1)},destroyOnClose:!0,children:(0,ee.jsx)(bq,{form:l,layout:"vertical",children:(0,ee.jsx)(i9,{mode:"multiple",name:"search-user",label:"T\xean c\xe1c th\xe0nh vi\xean",value:s,placeholder:"Nh\u1eadp t\xean th\xe0nh vi\xean",fetchOptions:o9,onChange:function(e){return u(e)},style:{width:"100%"},curMembers:o.members})})})})}o.createRoot(document.getElementById("root")).render((0,ee.jsx)($,{children:(0,ee.jsx)(iQ,{children:(0,ee.jsxs)(sQ,{children:[(0,ee.jsx)(h3,{}),(0,ee.jsx)(L5,{}),(0,ee.jsx)(s9,{})]})})}))}()}();
//# sourceMappingURL=main.2259e008.js.map